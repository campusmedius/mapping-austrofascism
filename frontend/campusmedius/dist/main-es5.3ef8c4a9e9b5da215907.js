!function(){function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){return i(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(u){r=!0,o=u}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||s(t,e)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t){if(Array.isArray(t))return t}function r(t){return function(t){if(Array.isArray(t))return u(t)}(t)||o(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function a(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function l(t){var e="function"==typeof Map?new Map:void 0;return(l=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return c(t,arguments,v(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),f(i,t)})(t)}function c(t,e,n){return(c=y()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&f(r,n.prototype),r}).apply(null,arguments)}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=y();return function(){var n,i=v(t);if(e){var r=v(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?g(t):e}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function x(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+s0g":function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;t.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",w:"\xe9\xe9n week",ww:"%d weken",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n("wd/R"))},"//9w":function(t,e,n){!function(t){"use strict";t.defineLocale("se",{months:"o\u0111\u0111ajagem\xe1nnu_guovvam\xe1nnu_njuk\u010dam\xe1nnu_cuo\u014bom\xe1nnu_miessem\xe1nnu_geassem\xe1nnu_suoidnem\xe1nnu_borgem\xe1nnu_\u010dak\u010dam\xe1nnu_golggotm\xe1nnu_sk\xe1bmam\xe1nnu_juovlam\xe1nnu".split("_"),monthsShort:"o\u0111\u0111j_guov_njuk_cuo_mies_geas_suoi_borg_\u010dak\u010d_golg_sk\xe1b_juov".split("_"),weekdays:"sotnabeaivi_vuoss\xe1rga_ma\u014b\u014beb\xe1rga_gaskavahkku_duorastat_bearjadat_l\xe1vvardat".split("_"),weekdaysShort:"sotn_vuos_ma\u014b_gask_duor_bear_l\xe1v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017ees",past:"ma\u014bit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xe1nnu",MM:"%d m\xe1nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},"/X5v":function(t,e,n){!function(t){"use strict";t.defineLocale("x-pseudo",{months:"J~\xe1\xf1\xfa\xe1~r\xfd_F~\xe9br\xfa~\xe1r\xfd_~M\xe1rc~h_\xc1p~r\xedl_~M\xe1\xfd_~J\xfa\xf1\xe9~_J\xfal~\xfd_\xc1\xfa~g\xfast~_S\xe9p~t\xe9mb~\xe9r_\xd3~ct\xf3b~\xe9r_\xd1~\xf3v\xe9m~b\xe9r_~D\xe9c\xe9~mb\xe9r".split("_"),monthsShort:"J~\xe1\xf1_~F\xe9b_~M\xe1r_~\xc1pr_~M\xe1\xfd_~J\xfa\xf1_~J\xfal_~\xc1\xfag_~S\xe9p_~\xd3ct_~\xd1\xf3v_~D\xe9c".split("_"),monthsParseExact:!0,weekdays:"S~\xfa\xf1d\xe1~\xfd_M\xf3~\xf1d\xe1\xfd~_T\xfa\xe9~sd\xe1\xfd~_W\xe9d~\xf1\xe9sd~\xe1\xfd_T~h\xfars~d\xe1\xfd_~Fr\xedd~\xe1\xfd_S~\xe1t\xfar~d\xe1\xfd".split("_"),weekdaysShort:"S~\xfa\xf1_~M\xf3\xf1_~T\xfa\xe9_~W\xe9d_~Th\xfa_~Fr\xed_~S\xe1t".split("_"),weekdaysMin:"S~\xfa_M\xf3~_T\xfa_~W\xe9_T~h_Fr~_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~\xf3d\xe1~\xfd \xe1t] LT",nextDay:"[T~\xf3m\xf3~rr\xf3~w \xe1t] LT",nextWeek:"dddd [\xe1t] LT",lastDay:"[\xdd~\xe9st~\xe9rd\xe1~\xfd \xe1t] LT",lastWeek:"[L~\xe1st] dddd [\xe1t] LT",sameElse:"L"},relativeTime:{future:"\xed~\xf1 %s",past:"%s \xe1~g\xf3",s:"\xe1 ~f\xe9w ~s\xe9c\xf3~\xf1ds",ss:"%d s~\xe9c\xf3\xf1~ds",m:"\xe1 ~m\xed\xf1~\xfat\xe9",mm:"%d m~\xed\xf1\xfa~t\xe9s",h:"\xe1~\xf1 h\xf3~\xfar",hh:"%d h~\xf3\xfars",d:"\xe1 ~d\xe1\xfd",dd:"%d d~\xe1\xfds",M:"\xe1 ~m\xf3\xf1~th",MM:"%d m~\xf3\xf1t~hs",y:"\xe1 ~\xfd\xe9\xe1r",yy:"%d \xfd~\xe9\xe1rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n("wd/R"))},0:function(t,e,n){t.exports=n("zUnb")},"0mo+":function(t,e,n){!function(t){"use strict";var e={1:"\u0f21",2:"\u0f22",3:"\u0f23",4:"\u0f24",5:"\u0f25",6:"\u0f26",7:"\u0f27",8:"\u0f28",9:"\u0f29",0:"\u0f20"},n={"\u0f21":"1","\u0f22":"2","\u0f23":"3","\u0f24":"4","\u0f25":"5","\u0f26":"6","\u0f27":"7","\u0f28":"8","\u0f29":"9","\u0f20":"0"};t.defineLocale("bo",{months:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),monthsShort:"\u0f5f\u0fb3\u0f0b1_\u0f5f\u0fb3\u0f0b2_\u0f5f\u0fb3\u0f0b3_\u0f5f\u0fb3\u0f0b4_\u0f5f\u0fb3\u0f0b5_\u0f5f\u0fb3\u0f0b6_\u0f5f\u0fb3\u0f0b7_\u0f5f\u0fb3\u0f0b8_\u0f5f\u0fb3\u0f0b9_\u0f5f\u0fb3\u0f0b10_\u0f5f\u0fb3\u0f0b11_\u0f5f\u0fb3\u0f0b12".split("_"),monthsShortRegex:/^(\u0f5f\u0fb3\u0f0b\d{1,2})/,monthsParseExact:!0,weekdays:"\u0f42\u0f5f\u0f60\u0f0b\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f42\u0f5f\u0f60\u0f0b\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysShort:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysMin:"\u0f49\u0f72_\u0f5f\u0fb3_\u0f58\u0f72\u0f42_\u0f63\u0fb7\u0f42_\u0f55\u0f74\u0f62_\u0f66\u0f44\u0f66_\u0f66\u0fa4\u0f7a\u0f53".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0f51\u0f72\u0f0b\u0f62\u0f72\u0f44] LT",nextDay:"[\u0f66\u0f44\u0f0b\u0f49\u0f72\u0f53] LT",nextWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f62\u0f97\u0f7a\u0f66\u0f0b\u0f58], LT",lastDay:"[\u0f41\u0f0b\u0f66\u0f44] LT",lastWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f58\u0f50\u0f60\u0f0b\u0f58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0f63\u0f0b",past:"%s \u0f66\u0f94\u0f53\u0f0b\u0f63",s:"\u0f63\u0f58\u0f0b\u0f66\u0f44",ss:"%d \u0f66\u0f90\u0f62\u0f0b\u0f46\u0f0d",m:"\u0f66\u0f90\u0f62\u0f0b\u0f58\u0f0b\u0f42\u0f45\u0f72\u0f42",mm:"%d \u0f66\u0f90\u0f62\u0f0b\u0f58",h:"\u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51\u0f0b\u0f42\u0f45\u0f72\u0f42",hh:"%d \u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51",d:"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f45\u0f72\u0f42",dd:"%d \u0f49\u0f72\u0f53\u0f0b",M:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f45\u0f72\u0f42",MM:"%d \u0f5f\u0fb3\u0f0b\u0f56",y:"\u0f63\u0f7c\u0f0b\u0f42\u0f45\u0f72\u0f42",yy:"%d \u0f63\u0f7c"},preparse:function(t){return t.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"===e&&t>=4||"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44"===e&&t<5||"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42"===e?t+12:t},meridiem:function(t,e,n){return t<4?"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c":t<10?"\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66":t<17?"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44":t<20?"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42":"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"},week:{dow:0,doy:6}})}(n("wd/R"))},"0tRk":function(t,e,n){!function(t){"use strict";t.defineLocale("pt-br",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",invalidDate:"Data inv\xe1lida"})}(n("wd/R"))},1:function(t,e){},"1ppg":function(t,e,n){!function(t){"use strict";t.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}(n("wd/R"))},"1rYy":function(t,e,n){!function(t){"use strict";t.defineLocale("hy-am",{months:{format:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b_\u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b_\u0574\u0561\u0580\u057f\u056b_\u0561\u057a\u0580\u056b\u056c\u056b_\u0574\u0561\u0575\u056b\u057d\u056b_\u0570\u0578\u0582\u0576\u056b\u057d\u056b_\u0570\u0578\u0582\u056c\u056b\u057d\u056b_\u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split("_"),standalone:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580_\u0583\u0565\u057f\u0580\u057e\u0561\u0580_\u0574\u0561\u0580\u057f_\u0561\u057a\u0580\u056b\u056c_\u0574\u0561\u0575\u056b\u057d_\u0570\u0578\u0582\u0576\u056b\u057d_\u0570\u0578\u0582\u056c\u056b\u057d_\u0585\u0563\u0578\u057d\u057f\u0578\u057d_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split("_")},monthsShort:"\u0570\u0576\u057e_\u0583\u057f\u0580_\u0574\u0580\u057f_\u0561\u057a\u0580_\u0574\u0575\u057d_\u0570\u0576\u057d_\u0570\u056c\u057d_\u0585\u0563\u057d_\u057d\u057a\u057f_\u0570\u056f\u057f_\u0576\u0574\u0562_\u0564\u056f\u057f".split("_"),weekdays:"\u056f\u056b\u0580\u0561\u056f\u056b_\u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569".split("_"),weekdaysShort:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),weekdaysMin:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057d\u0585\u0580] LT",nextDay:"[\u057e\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056f] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056e] dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057f\u0578",past:"%s \u0561\u057c\u0561\u057b",s:"\u0574\u056b \u0584\u0561\u0576\u056b \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",ss:"%d \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",m:"\u0580\u0578\u057a\u0565",mm:"%d \u0580\u0578\u057a\u0565",h:"\u056a\u0561\u0574",hh:"%d \u056a\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056b\u057d",MM:"%d \u0561\u0574\u056b\u057d",y:"\u057f\u0561\u0580\u056b",yy:"%d \u057f\u0561\u0580\u056b"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(t){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(t)},meridiem:function(t){return t<4?"\u0563\u056b\u0577\u0565\u0580\u057e\u0561":t<12?"\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561":t<17?"\u0581\u0565\u0580\u0565\u056f\u057e\u0561":"\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(t,e){switch(e){case"DDD":case"w":case"W":case"DDDo":return 1===t?t+"-\u056b\u0576":t+"-\u0580\u0564";default:return t}},week:{dow:1,doy:7}})}(n("wd/R"))},"1xZ4":function(t,e,n){!function(t){"use strict";t.defineLocale("ca",{months:{standalone:"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar\xe7_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem\xe0 a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(t,e){var n=1===t?"r":2===t?"n":3===t?"r":4===t?"t":"\xe8";return"w"!==e&&"W"!==e||(n="a"),t+n},week:{dow:1,doy:4}})}(n("wd/R"))},2:function(t,e){},"2fjn":function(t,e,n){!function(t){"use strict";t.defineLocale("fr-ca",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}}})}(n("wd/R"))},"2ykv":function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;t.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n("wd/R"))},"3E1r":function(t,e,n){!function(t){"use strict";var e={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},n={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},i=[/^\u091c\u0928/i,/^\u092b\u093c\u0930|\u092b\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924\u0902|\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935|\u0928\u0935\u0902/i,/^\u0926\u093f\u0938\u0902|\u0926\u093f\u0938/i];t.defineLocale("hi",{months:{format:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),standalone:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u0902\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u0902\u092c\u0930_\u0926\u093f\u0938\u0902\u092c\u0930".split("_")},monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},monthsParse:i,longMonthsParse:i,shortMonthsParse:[/^\u091c\u0928/i,/^\u092b\u093c\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935/i,/^\u0926\u093f\u0938/i],monthsRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsShortRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsStrictRegex:/^(\u091c\u0928\u0935\u0930\u0940?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908?|\u0905\u0917\u0938\u094d\u0924?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924?\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930?)/i,monthsShortStrictRegex:/^(\u091c\u0928\.?|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\.?|\u0905\u0917\.?|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\.?|\u0926\u093f\u0938\.?)/i,calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092a\u093f\u091b\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0902\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"},preparse:function(t){return t.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0930\u093e\u0924"===e?t<4?t:t+12:"\u0938\u0941\u092c\u0939"===e?t:"\u0926\u094b\u092a\u0939\u0930"===e?t>=10?t:t+12:"\u0936\u093e\u092e"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0930\u093e\u0924":t<10?"\u0938\u0941\u092c\u0939":t<17?"\u0926\u094b\u092a\u0939\u0930":t<20?"\u0936\u093e\u092e":"\u0930\u093e\u0924"},week:{dow:0,doy:6}})}(n("wd/R"))},"4MV3":function(t,e,n){!function(t){"use strict";var e={1:"\u0ae7",2:"\u0ae8",3:"\u0ae9",4:"\u0aea",5:"\u0aeb",6:"\u0aec",7:"\u0aed",8:"\u0aee",9:"\u0aef",0:"\u0ae6"},n={"\u0ae7":"1","\u0ae8":"2","\u0ae9":"3","\u0aea":"4","\u0aeb":"5","\u0aec":"6","\u0aed":"7","\u0aee":"8","\u0aef":"9","\u0ae6":"0"};t.defineLocale("gu",{months:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1\u0a86\u0ab0\u0ac0_\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1\u0a86\u0ab0\u0ac0_\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2_\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe\u0a88_\u0a91\u0a97\u0ab8\u0acd\u0a9f_\u0ab8\u0aaa\u0acd\u0a9f\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0a91\u0a95\u0acd\u0a9f\u0acd\u0aac\u0ab0_\u0aa8\u0ab5\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0aa1\u0abf\u0ab8\u0ac7\u0aae\u0acd\u0aac\u0ab0".split("_"),monthsShort:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1._\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1._\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf._\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe._\u0a91\u0a97._\u0ab8\u0aaa\u0acd\u0a9f\u0ac7._\u0a91\u0a95\u0acd\u0a9f\u0acd._\u0aa8\u0ab5\u0ac7._\u0aa1\u0abf\u0ab8\u0ac7.".split("_"),monthsParseExact:!0,weekdays:"\u0ab0\u0ab5\u0abf\u0ab5\u0abe\u0ab0_\u0ab8\u0acb\u0aae\u0ab5\u0abe\u0ab0_\u0aae\u0a82\u0a97\u0ab3\u0ab5\u0abe\u0ab0_\u0aac\u0ac1\u0aa7\u0acd\u0ab5\u0abe\u0ab0_\u0a97\u0ac1\u0ab0\u0ac1\u0ab5\u0abe\u0ab0_\u0ab6\u0ac1\u0a95\u0acd\u0ab0\u0ab5\u0abe\u0ab0_\u0ab6\u0aa8\u0abf\u0ab5\u0abe\u0ab0".split("_"),weekdaysShort:"\u0ab0\u0ab5\u0abf_\u0ab8\u0acb\u0aae_\u0aae\u0a82\u0a97\u0ab3_\u0aac\u0ac1\u0aa7\u0acd_\u0a97\u0ac1\u0ab0\u0ac1_\u0ab6\u0ac1\u0a95\u0acd\u0ab0_\u0ab6\u0aa8\u0abf".split("_"),weekdaysMin:"\u0ab0_\u0ab8\u0acb_\u0aae\u0a82_\u0aac\u0ac1_\u0a97\u0ac1_\u0ab6\u0ac1_\u0ab6".split("_"),longDateFormat:{LT:"A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LTS:"A h:mm:ss \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LLLL:"dddd, D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7"},calendar:{sameDay:"[\u0a86\u0a9c] LT",nextDay:"[\u0a95\u0abe\u0ab2\u0ac7] LT",nextWeek:"dddd, LT",lastDay:"[\u0a97\u0a87\u0a95\u0abe\u0ab2\u0ac7] LT",lastWeek:"[\u0aaa\u0abe\u0a9b\u0ab2\u0abe] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0aae\u0abe",past:"%s \u0aaa\u0ab9\u0ac7\u0ab2\u0abe",s:"\u0a85\u0aae\u0ac1\u0a95 \u0aaa\u0ab3\u0acb",ss:"%d \u0ab8\u0ac7\u0a95\u0a82\u0aa1",m:"\u0a8f\u0a95 \u0aae\u0abf\u0aa8\u0abf\u0a9f",mm:"%d \u0aae\u0abf\u0aa8\u0abf\u0a9f",h:"\u0a8f\u0a95 \u0a95\u0ab2\u0abe\u0a95",hh:"%d \u0a95\u0ab2\u0abe\u0a95",d:"\u0a8f\u0a95 \u0aa6\u0abf\u0ab5\u0ab8",dd:"%d \u0aa6\u0abf\u0ab5\u0ab8",M:"\u0a8f\u0a95 \u0aae\u0ab9\u0abf\u0aa8\u0acb",MM:"%d \u0aae\u0ab9\u0abf\u0aa8\u0acb",y:"\u0a8f\u0a95 \u0ab5\u0ab0\u0acd\u0ab7",yy:"%d \u0ab5\u0ab0\u0acd\u0ab7"},preparse:function(t){return t.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0ab0\u0abe\u0aa4"===e?t<4?t:t+12:"\u0ab8\u0ab5\u0abe\u0ab0"===e?t:"\u0aac\u0aaa\u0acb\u0ab0"===e?t>=10?t:t+12:"\u0ab8\u0abe\u0a82\u0a9c"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0ab0\u0abe\u0aa4":t<10?"\u0ab8\u0ab5\u0abe\u0ab0":t<17?"\u0aac\u0aaa\u0acb\u0ab0":t<20?"\u0ab8\u0abe\u0a82\u0a9c":"\u0ab0\u0abe\u0aa4"},week:{dow:0,doy:6}})}(n("wd/R"))},"4ZJM":function(t,e,n){t.exports=function(){"use strict";var t,e,n;function i(i,r){if(t)if(e){var o="var sharedChunk = {}; ("+t+")(sharedChunk); ("+e+")(sharedChunk);",a={};t(a),n=r(a),"undefined"!=typeof window&&(n.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else e=r;else t=r}return i(0,function(t){function e(t,e){return t(e={exports:{}},e.exports),e.exports}var n=i;function i(t,e,n,i){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(i-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=i,this.p2x=n,this.p2y=i}i.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},i.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},i.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},i.prototype.solveCurveX=function(t,e){var n,i,r,o,a;for(void 0===e&&(e=1e-6),r=t,a=0;a<8;a++){if(o=this.sampleCurveX(r)-t,Math.abs(o)<e)return r;var s=this.sampleCurveDerivativeX(r);if(Math.abs(s)<1e-6)break;r-=o/s}if((r=t)<(n=0))return n;if(r>(i=1))return i;for(;n<i;){if(o=this.sampleCurveX(r),Math.abs(o-t)<e)return r;t>o?n=r:i=r,r=.5*(i-n)+n}return r},i.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var r=o;function o(t,e){this.x=t,this.y=e}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),i=n*this.x+e*this.y;return this.x=e*this.x-n*this.y,this.y=i,this},_rotateAround:function(t,e){var n=Math.cos(t),i=Math.sin(t),r=e.y+i*(this.x-e.x)+n*(this.y-e.y);return this.x=e.x+n*(this.x-e.x)-i*(this.y-e.y),this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(t){return t instanceof o?t:Array.isArray(t)?new o(t[0],t[1]):t};var a="undefined"!=typeof self?self:{},s=Math.pow(2,53)-1;function u(t,e,i,r){var o=new n(t,e,i,r);return function(t){return o.solve(t)}}var l=u(.25,.1,.25,1);function c(t,e,n){return Math.min(n,Math.max(e,t))}function h(t,e,n){var i=n-e,r=((t-e)%i+i)%i+e;return r===e?n:r}function d(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var i=0,r=e;i<r.length;i+=1){var o=r[i];for(var a in o)t[a]=o[a]}return t}var f=1;function p(){return f++}function m(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function g(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function y(t,e){t.forEach(function(t){e[t]&&(e[t]=e[t].bind(e))})}function v(t,e){return-1!==t.indexOf(e,t.length-e.length)}function _(t,e,n){var i={};for(var r in t)i[r]=e.call(n||this,t[r],r,t);return i}function b(t,e,n){var i={};for(var r in t)e.call(n||this,t[r],r,t)&&(i[r]=t[r]);return i}function x(t){return Array.isArray(t)?t.map(x):"object"==typeof t&&t?_(t,x):t}var w={};function k(t){w[t]||("undefined"!=typeof console&&console.warn(t),w[t]=!0)}function M(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)}function S(t){for(var e=0,n=0,i=t.length,r=i-1,o=void 0,a=void 0;n<i;r=n++)e+=((a=t[r]).x-(o=t[n]).x)*(o.y+a.y);return e}function E(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function L(t){var e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(t,n,i,r){var o=i||r;return e[n]=!o||o.toLowerCase(),""}),e["max-age"]){var n=parseInt(e["max-age"],10);isNaN(n)?delete e["max-age"]:e["max-age"]=n}return e}var T=null;function C(t){if(null==T){var e=t.navigator?t.navigator.userAgent:null;T=!!t.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return T}function I(t){try{var e=a[t];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch(t){return!1}}var P,D,O,A,R=a.performance&&a.performance.now?a.performance.now.bind(a.performance):Date.now.bind(Date),N=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame,F=a.cancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelAnimationFrame||a.msCancelAnimationFrame,Y={now:R,frame:function(t){var e=N(t);return{cancel:function(){return F(e)}}},getImageData:function(t,e){void 0===e&&(e=0);var n=a.document.createElement("canvas"),i=n.getContext("2d");if(!i)throw new Error("failed to create canvas 2d context");return n.width=t.width,n.height=t.height,i.drawImage(t,0,0,t.width,t.height),i.getImageData(-e,-e,t.width+2*e,t.height+2*e)},resolveURL:function(t){return P||(P=a.document.createElement("a")),P.href=t,P.href},hardwareConcurrency:a.navigator&&a.navigator.hardwareConcurrency||4,get devicePixelRatio(){return a.devicePixelRatio},get prefersReducedMotion(){return!!a.matchMedia&&(null==D&&(D=a.matchMedia("(prefers-reduced-motion: reduce)")),D.matches)}},z={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},j={supported:!1,testSupport:function(t){!B&&A&&(H?U(t):O=t)}},B=!1,H=!1;function U(t){var e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,A),t.isContextLost())return;j.supported=!0}catch(t){}t.deleteTexture(e),B=!0}a.document&&((A=a.document.createElement("img")).onload=function(){O&&U(O),O=null,H=!0},A.onerror=function(){B=!0,O=null},A.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var V="01",q=function(t,e){this._transformRequestFn=t,this._customAccessToken=e,this._createSkuToken()};function G(t){return 0===t.indexOf("mapbox:")}q.prototype._createSkuToken=function(){var t=function(){for(var t="",e=0;e<10;e++)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",V,t].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt},q.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},q.prototype.transformRequest=function(t,e){return this._transformRequestFn&&this._transformRequestFn(t,e)||{url:t}},q.prototype.normalizeStyleURL=function(t,e){if(!G(t))return t;var n=Z(t);return n.path="/styles/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||e)},q.prototype.normalizeGlyphsURL=function(t,e){if(!G(t))return t;var n=Z(t);return n.path="/fonts/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||e)},q.prototype.normalizeSourceURL=function(t,e){if(!G(t))return t;var n=Z(t);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),this._makeAPIURL(n,this._customAccessToken||e)},q.prototype.normalizeSpriteURL=function(t,e,n,i){var r=Z(t);return G(t)?(r.path="/styles/v1"+r.path+"/sprite"+e+n,this._makeAPIURL(r,this._customAccessToken||i)):(r.path+=""+e+n,Q(r))},q.prototype.normalizeTileURL=function(t,e){if(this._isSkuTokenExpired()&&this._createSkuToken(),t&&!G(t))return t;var n=Z(t);n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,(Y.devicePixelRatio>=2||512===e?"@2x":"")+(j.supported?".webp":"$1")),n.path=n.path.replace(/^.+\/v4\//,"/"),n.path="/v4"+n.path;var i=this._customAccessToken||function(t){for(var e=0,n=t;e<n.length;e+=1){var i=n[e].match(/^access_token=(.*)$/);if(i)return i[1]}return null}(n.params)||z.ACCESS_TOKEN;return z.REQUIRE_ACCESS_TOKEN&&i&&this._skuToken&&n.params.push("sku="+this._skuToken),this._makeAPIURL(n,i)},q.prototype.canonicalizeTileURL=function(t,e){var n=Z(t);if(!n.path.match(/(^\/v4\/)/)||!n.path.match(/\.[\w]+$/))return t;var i="mapbox://tiles/";i+=n.path.replace("/v4/","");var r=n.params;return e&&(r=r.filter(function(t){return!t.match(/^access_token=/)})),r.length&&(i+="?"+r.join("&")),i},q.prototype.canonicalizeTileset=function(t,e){for(var n=!!e&&G(e),i=[],r=0,o=t.tiles||[];r<o.length;r+=1){var a=o[r];X(a)?i.push(this.canonicalizeTileURL(a,n)):i.push(a)}return i},q.prototype._makeAPIURL=function(t,e){var n="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",i=Z(z.API_URL);if(t.protocol=i.protocol,t.authority=i.authority,"http"===t.protocol){var r=t.params.indexOf("secure");r>=0&&t.params.splice(r,1)}if("/"!==i.path&&(t.path=""+i.path+t.path),!z.REQUIRE_ACCESS_TOKEN)return Q(t);if(!(e=e||z.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+n);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+n);return t.params=t.params.filter(function(t){return-1===t.indexOf("access_token")}),t.params.push("access_token="+e),Q(t)};var W=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function X(t){return W.test(t)}var K=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Z(t){var e=t.match(K);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function Q(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}function J(t){if(!t)return null;var e=t.split(".");if(!e||3!==e.length)return null;try{return JSON.parse(decodeURIComponent(a.atob(e[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch(t){return null}}var $=function(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};$.prototype.getStorageKey=function(t){var e,n=J(z.ACCESS_TOKEN);return e=n&&n.u?a.btoa(encodeURIComponent(n.u).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode(Number("0x"+e))})):z.ACCESS_TOKEN||"",t?"mapbox.eventData."+t+":"+e:"mapbox.eventData:"+e},$.prototype.fetchEventData=function(){var t=I("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{var i=a.localStorage.getItem(e);i&&(this.eventData=JSON.parse(i));var r=a.localStorage.getItem(n);r&&(this.anonId=r)}catch(t){k("Unable to read from LocalStorage")}},$.prototype.saveEventData=function(){var t=I("localStorage"),e=this.getStorageKey(),n=this.getStorageKey("uuid");if(t)try{a.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&a.localStorage.setItem(e,JSON.stringify(this.eventData))}catch(t){k("Unable to write to LocalStorage")}},$.prototype.processRequests=function(t){},$.prototype.postEvent=function(t,e,n,i){var r=this;if(z.EVENTS_URL){var o=Z(z.EVENTS_URL);o.params.push("access_token="+(i||z.ACCESS_TOKEN||""));var a={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.0",skuId:V,userId:this.anonId},s=e?d(a,e):a,u={url:Q(o),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=xt(u,function(t){r.pendingRequest=null,n(t),r.saveEventData(),r.processRequests(i)})}},$.prototype.queueRequest=function(t,e){this.queue.push(t),this.processRequests(e)};var tt,et,nt=function(t){function e(){t.call(this,"map.load"),this.success={},this.skuToken=""}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.postMapLoadEvent=function(t,e,n,i){this.skuToken=n,(z.EVENTS_URL&&i||z.ACCESS_TOKEN&&Array.isArray(t)&&t.some(function(t){return G(t)||X(t)}))&&this.queueRequest({id:e,timestamp:Date.now()},i)},e.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){var n=this.queue.shift(),i=n.id,r=n.timestamp;i&&this.success[i]||(this.anonId||this.fetchEventData(),g(this.anonId)||(this.anonId=m()),this.postEvent(r,{skuToken:this.skuToken},function(t){t||i&&(e.success[i]=!0)},t))}},e}($),it=new(function(t){function e(e){t.call(this,"appUserTurnstile"),this._customAccessToken=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.postTurnstileEvent=function(t,e){z.EVENTS_URL&&z.ACCESS_TOKEN&&Array.isArray(t)&&t.some(function(t){return G(t)||X(t)})&&this.queueRequest(Date.now(),e)},e.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&&0!==this.queue.length){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var n=J(z.ACCESS_TOKEN),i=n?n.u:z.ACCESS_TOKEN,r=i!==this.eventData.tokenU;g(this.anonId)||(this.anonId=m(),r=!0);var o=this.queue.shift();if(this.eventData.lastSuccess){var a=new Date(this.eventData.lastSuccess),s=new Date(o),u=(o-this.eventData.lastSuccess)/864e5;r=r||u>=1||u<-1||a.getDate()!==s.getDate()}else r=!0;if(!r)return this.processRequests();this.postEvent(o,{"enabled.telemetry":!1},function(t){t||(e.eventData.lastSuccess=o,e.eventData.tokenU=i)},t)}},e}($)),rt=it.postTurnstileEvent.bind(it),ot=new nt,at=ot.postMapLoadEvent.bind(ot),st=500,ut=50;function lt(){a.caches&&!tt&&(tt=a.caches.open("mapbox-tiles"))}function ct(t){var e=t.indexOf("?");return e<0?t:t.slice(0,e)}var ht,dt=1/0;function ft(){return null==ht&&(ht=a.OffscreenCanvas&&new a.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof a.createImageBitmap),ht}var pt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(pt);var mt,gt,yt=function(t){function e(e,n,i){401===n&&X(i)&&(e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),t.call(this,e),this.status=n,this.url=i,this.name=this.constructor.name,this.message=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},e}(Error),vt=E()?function(){return self.worker&&self.worker.referrer}:function(){return("blob:"===a.location.protocol?a.parent:a).location.href},_t=function(t,e){if(!(/^file:/.test(n=t.url)||/^file:/.test(vt())&&!/^\w+:/.test(n))){if(a.fetch&&a.Request&&a.AbortController&&a.Request.prototype.hasOwnProperty("signal"))return function(t,e){var n,i=new a.AbortController,r=new a.Request(t.url,{method:t.method||"GET",body:t.body,credentials:t.credentials,headers:t.headers,referrer:vt(),signal:i.signal}),o=!1,s=!1,u=(n=r.url).indexOf("sku=")>0&&X(n);"json"===t.type&&r.headers.set("Accept","application/json");var l=function(n,i,o){if(!s){if(n&&"SecurityError"!==n.message&&k(n),i&&o)return c(i);var l=Date.now();a.fetch(r).then(function(n){if(n.ok){var i=u?n.clone():null;return c(n,i,l)}return e(new yt(n.statusText,n.status,t.url))}).catch(function(t){20!==t.code&&e(new Error(t.message))})}},c=function(n,i,u){("arrayBuffer"===t.type?n.arrayBuffer():"json"===t.type?n.json():n.text()).then(function(t){s||(i&&u&&function(t,e,n){if(lt(),tt){var i={status:e.status,statusText:e.statusText,headers:new a.Headers};e.headers.forEach(function(t,e){return i.headers.set(e,t)});var r=L(e.headers.get("Cache-Control")||"");r["no-store"]||(r["max-age"]&&i.headers.set("Expires",new Date(n+1e3*r["max-age"]).toUTCString()),new Date(i.headers.get("Expires")).getTime()-n<42e4||function(t,e){if(void 0===et)try{new Response(new ReadableStream),et=!0}catch(t){et=!1}et?e(t.body):t.blob().then(e)}(e,function(e){var n=new a.Response(e,i);lt(),tt&&tt.then(function(e){return e.put(ct(t.url),n)}).catch(function(t){return k(t.message)})}))}}(r,i,u),o=!0,e(null,t,n.headers.get("Cache-Control"),n.headers.get("Expires")))}).catch(function(t){s||e(new Error(t.message))})};return u?function(t,e){if(lt(),!tt)return e(null);var n=ct(t.url);tt.then(function(t){t.match(n).then(function(i){var r=function(t){if(!t)return!1;var e=new Date(t.headers.get("Expires")||0),n=L(t.headers.get("Cache-Control")||"");return e>Date.now()&&!n["no-cache"]}(i);t.delete(n),r&&t.put(n,i.clone()),e(null,i,r)}).catch(e)}).catch(e)}(r,l):l(null,null),{cancel:function(){s=!0,o||i.abort()}}}(t,e);if(E()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,e,void 0,!0)}var n;return function(t,e){var n=new a.XMLHttpRequest;for(var i in n.open(t.method||"GET",t.url,!0),"arrayBuffer"===t.type&&(n.responseType="arraybuffer"),t.headers)n.setRequestHeader(i,t.headers[i]);return"json"===t.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===t.credentials,n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){var i=n.response;if("json"===t.type)try{i=JSON.parse(n.response)}catch(t){return e(t)}e(null,i,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else e(new yt(n.statusText,n.status,t.url))},n.send(t.body),{cancel:function(){return n.abort()}}}(t,e)},bt=function(t,e){return _t(d(t,{type:"arrayBuffer"}),e)},xt=function(t,e){return _t(d(t,{method:"POST"}),e)},wt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";mt=[],gt=0;function kt(t,e,n){n[t]&&-1!==n[t].indexOf(e)||(n[t]=n[t]||[],n[t].push(e))}function Mt(t,e,n){if(n&&n[t]){var i=n[t].indexOf(e);-1!==i&&n[t].splice(i,1)}}var St=function(t,e){void 0===e&&(e={}),d(this,e),this.type=t},Et=function(t){function e(e,n){void 0===n&&(n={}),t.call(this,"error",d({error:e},n))}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(St),Lt=function(){};Lt.prototype.on=function(t,e){return this._listeners=this._listeners||{},kt(t,e,this._listeners),this},Lt.prototype.off=function(t,e){return Mt(t,e,this._listeners),Mt(t,e,this._oneTimeListeners),this},Lt.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},kt(t,e,this._oneTimeListeners),this},Lt.prototype.fire=function(t,e){"string"==typeof t&&(t=new St(t,e||{}));var n=t.type;if(this.listens(n)){t.target=this;for(var i=0,r=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];i<r.length;i+=1)r[i].call(this,t);for(var o=0,a=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];o<a.length;o+=1){var s=a[o];Mt(n,s,this._oneTimeListeners),s.call(this,t)}var u=this._eventedParent;u&&(d(t,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),u.fire(t))}else t instanceof Et&&console.error(t.error);return this},Lt.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},Lt.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this};var Tt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Ct=function(t,e,n,i){this.message=(t?t+": ":"")+n,i&&(this.identifier=i),null!=e&&e.__line__&&(this.line=e.__line__)};function It(t){var e=t.value;return e?[new Ct(t.key,e,"constants have been deprecated as of v8")]:[]}function Pt(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var i=0,r=e;i<r.length;i+=1){var o=r[i];for(var a in o)t[a]=o[a]}return t}function Dt(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function Ot(t){if(Array.isArray(t))return t.map(Ot);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){var e={};for(var n in t)e[n]=Ot(t[n]);return e}return Dt(t)}var At=function(t){function e(e,n){t.call(this,n),this.message=n,this.key=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),Rt=function(t,e){void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var n=0,i=e;n<i.length;n+=1){var r=i[n];this.bindings[r[0]]=r[1]}};Rt.prototype.concat=function(t){return new Rt(this,t)},Rt.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},Rt.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)};var Nt={kind:"null"},Ft={kind:"number"},Yt={kind:"string"},zt={kind:"boolean"},jt={kind:"color"},Bt={kind:"object"},Ht={kind:"value"},Ut={kind:"collator"},Vt={kind:"formatted"},qt={kind:"resolvedImage"};function Gt(t,e){return{kind:"array",itemType:t,N:e}}function Wt(t){if("array"===t.kind){var e=Wt(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}var Xt=[Nt,Ft,Yt,zt,jt,Vt,Bt,Gt(Ht),qt];function Kt(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!Kt(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var n=0,i=Xt;n<i.length;n+=1)if(!Kt(i[n],e))return null}return"Expected "+Wt(t)+" but found "+Wt(e)+" instead."}function Zt(t,e){return e.some(function(e){return e.kind===t.kind})}function Qt(t,e){return e.some(function(e){return"null"===e?null===t:"array"===e?Array.isArray(t):"object"===e?t&&!Array.isArray(t)&&"object"==typeof t:e===typeof t})}var Jt=e(function(t,e){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function i(t){return(t=Math.round(t))<0?0:t>255?255:t}function r(t){return i("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function o(t){return(e="%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))<0?0:e>1?1:e;var e}function a(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}try{e.parseCSSColor=function(t){var e,s=t.replace(/ /g,"").toLowerCase();if(s in n)return n[s].slice();if("#"===s[0])return 4===s.length?(e=parseInt(s.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===s.length&&(e=parseInt(s.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var u=s.indexOf("("),l=s.indexOf(")");if(-1!==u&&l+1===s.length){var c=s.substr(0,u),h=s.substr(u+1,l-(u+1)).split(","),d=1;switch(c){case"rgba":if(4!==h.length)return null;d=o(h.pop());case"rgb":return 3!==h.length?null:[r(h[0]),r(h[1]),r(h[2]),d];case"hsla":if(4!==h.length)return null;d=o(h.pop());case"hsl":if(3!==h.length)return null;var f=(parseFloat(h[0])%360+360)%360/360,p=o(h[1]),m=o(h[2]),g=m<=.5?m*(p+1):m+p-m*p,y=2*m-g;return[i(255*a(y,g,f+1/3)),i(255*a(y,g,f)),i(255*a(y,g,f-1/3)),d];default:return null}}return null}}catch(t){}}).parseCSSColor,$t=function(t,e,n,i){void 0===i&&(i=1),this.r=t,this.g=e,this.b=n,this.a=i};$t.parse=function(t){if(t){if(t instanceof $t)return t;if("string"==typeof t){var e=Jt(t);if(e)return new $t(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},$t.prototype.toString=function(){var t=this.toArray(),e=t[1],n=t[2],i=t[3];return"rgba("+Math.round(t[0])+","+Math.round(e)+","+Math.round(n)+","+i+")"},$t.prototype.toArray=function(){var t=this.a;return 0===t?[0,0,0,0]:[255*this.r/t,255*this.g/t,255*this.b/t,t]},$t.black=new $t(0,0,0,1),$t.white=new $t(1,1,1,1),$t.transparent=new $t(0,0,0,0),$t.red=new $t(1,0,0,1);var te=function(t,e,n){this.sensitivity=t?e?"variant":"case":e?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};te.prototype.compare=function(t,e){return this.collator.compare(t,e)},te.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var ee=function(t,e,n,i,r){this.text=t,this.image=e,this.scale=n,this.fontStack=i,this.textColor=r},ne=function(t){this.sections=t};ne.fromString=function(t){return new ne([new ee(t,null,null,null,null)])},ne.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some(function(t){return 0!==t.text.length||t.image&&0!==t.image.name.length})},ne.factory=function(t){return t instanceof ne?t:ne.fromString(t)},ne.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map(function(t){return t.text}).join("")},ne.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var i=n[e];if(i.image)t.push(["image",i.image.name]);else{t.push(i.text);var r={};i.fontStack&&(r["text-font"]=["literal",i.fontStack.split(",")]),i.scale&&(r["font-scale"]=i.scale),i.textColor&&(r["text-color"]=["rgba"].concat(i.textColor.toArray())),t.push(r)}}return t};var ie=function(t){this.name=t.name,this.available=t.available};function re(t,e,n,i){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===i||"number"==typeof i&&i>=0&&i<=1?null:"Invalid rgba value ["+[t,e,n,i].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof i?[t,e,n,i]:[t,e,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function oe(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof $t)return!0;if(t instanceof te)return!0;if(t instanceof ne)return!0;if(t instanceof ie)return!0;if(Array.isArray(t)){for(var e=0,n=t;e<n.length;e+=1)if(!oe(n[e]))return!1;return!0}if("object"==typeof t){for(var i in t)if(!oe(t[i]))return!1;return!0}return!1}function ae(t){if(null===t)return Nt;if("string"==typeof t)return Yt;if("boolean"==typeof t)return zt;if("number"==typeof t)return Ft;if(t instanceof $t)return jt;if(t instanceof te)return Ut;if(t instanceof ne)return Vt;if(t instanceof ie)return qt;if(Array.isArray(t)){for(var e,n=t.length,i=0,r=t;i<r.length;i+=1){var o=ae(r[i]);if(e){if(e===o)continue;e=Ht;break}e=o}return Gt(e||Ht,n)}return Bt}function se(t){var e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof $t||t instanceof ne||t instanceof ie?t.toString():JSON.stringify(t)}ie.prototype.toString=function(){return this.name},ie.fromString=function(t){return t?new ie({name:t,available:!1}):null},ie.prototype.serialize=function(){return["image",this.name]};var ue=function(t,e){this.type=t,this.value=e};ue.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!oe(t[1]))return e.error("invalid value");var n=t[1],i=ae(n),r=e.expectedType;return"array"!==i.kind||0!==i.N||!r||"array"!==r.kind||"number"==typeof r.N&&0!==r.N||(i=r),new ue(i,n)},ue.prototype.evaluate=function(){return this.value},ue.prototype.eachChild=function(){},ue.prototype.outputDefined=function(){return!0},ue.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof $t?["rgba"].concat(this.value.toArray()):this.value instanceof ne?this.value.serialize():this.value};var le=function(t){this.name="ExpressionEvaluationError",this.message=t};le.prototype.toJSON=function(){return this.message};var ce={string:Yt,number:Ft,boolean:zt,object:Bt},he=function(t,e){this.type=t,this.args=e};he.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n,i=1,r=t[0];if("array"===r){var o,a;if(t.length>2){var s=t[1];if("string"!=typeof s||!(s in ce)||"object"===s)return e.error('The item type argument of "array" must be one of string, number, boolean',1);o=ce[s],i++}else o=Ht;if(t.length>3){if(null!==t[2]&&("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2])))return e.error('The length argument to "array" must be a positive integer literal',2);a=t[2],i++}n=Gt(o,a)}else n=ce[r];for(var u=[];i<t.length;i++){var l=e.parse(t[i],i,Ht);if(!l)return null;u.push(l)}return new he(n,u)},he.prototype.evaluate=function(t){for(var e=0;e<this.args.length;e++){var n=this.args[e].evaluate(t);if(!Kt(this.type,ae(n)))return n;if(e===this.args.length-1)throw new le("Expected value to be of type "+Wt(this.type)+", but found "+Wt(ae(n))+" instead.")}return null},he.prototype.eachChild=function(t){this.args.forEach(t)},he.prototype.outputDefined=function(){return this.args.every(function(t){return t.outputDefined()})},he.prototype.serialize=function(){var t=this.type,e=[t.kind];if("array"===t.kind){var n=t.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){e.push(n.kind);var i=t.N;("number"==typeof i||this.args.length>1)&&e.push(i)}}return e.concat(this.args.map(function(t){return t.serialize()}))};var de=function(t){this.type=Vt,this.sections=t};de.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n=t[1];if(!Array.isArray(n)&&"object"==typeof n)return e.error("First argument must be an image or text section.");for(var i=[],r=!1,o=1;o<=t.length-1;++o){var a=t[o];if(r&&"object"==typeof a&&!Array.isArray(a)){r=!1;var s=null;if(a["font-scale"]&&!(s=e.parse(a["font-scale"],1,Ft)))return null;var u=null;if(a["text-font"]&&!(u=e.parse(a["text-font"],1,Gt(Yt))))return null;var l=null;if(a["text-color"]&&!(l=e.parse(a["text-color"],1,jt)))return null;var c=i[i.length-1];c.scale=s,c.font=u,c.textColor=l}else{var h=e.parse(t[o],1,Ht);if(!h)return null;var d=h.type.kind;if("string"!==d&&"value"!==d&&"null"!==d&&"resolvedImage"!==d)return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");r=!0,i.push({content:h,scale:null,font:null,textColor:null})}}return new de(i)},de.prototype.evaluate=function(t){return new ne(this.sections.map(function(e){var n=e.content.evaluate(t);return ae(n)===qt?new ee("",n,null,null,null):new ee(se(n),null,e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(","):null,e.textColor?e.textColor.evaluate(t):null)}))},de.prototype.eachChild=function(t){for(var e=0,n=this.sections;e<n.length;e+=1){var i=n[e];t(i.content),i.scale&&t(i.scale),i.font&&t(i.font),i.textColor&&t(i.textColor)}},de.prototype.outputDefined=function(){return!1},de.prototype.serialize=function(){for(var t=["format"],e=0,n=this.sections;e<n.length;e+=1){var i=n[e];t.push(i.content.serialize());var r={};i.scale&&(r["font-scale"]=i.scale.serialize()),i.font&&(r["text-font"]=i.font.serialize()),i.textColor&&(r["text-color"]=i.textColor.serialize()),t.push(r)}return t};var fe=function(t){this.type=qt,this.input=t};fe.parse=function(t,e){if(2!==t.length)return e.error("Expected two arguments.");var n=e.parse(t[1],1,Yt);return n?new fe(n):e.error("No image name provided.")},fe.prototype.evaluate=function(t){var e=this.input.evaluate(t),n=ie.fromString(e);return n&&t.availableImages&&(n.available=t.availableImages.indexOf(e)>-1),n},fe.prototype.eachChild=function(t){t(this.input)},fe.prototype.outputDefined=function(){return!1},fe.prototype.serialize=function(){return["image",this.input.serialize()]};var pe={"to-boolean":zt,"to-color":jt,"to-number":Ft,"to-string":Yt},me=function(t,e){this.type=t,this.args=e};me.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");var n=t[0];if(("to-boolean"===n||"to-string"===n)&&2!==t.length)return e.error("Expected one argument.");for(var i=pe[n],r=[],o=1;o<t.length;o++){var a=e.parse(t[o],o,Ht);if(!a)return null;r.push(a)}return new me(i,r)},me.prototype.evaluate=function(t){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(t));if("color"===this.type.kind){for(var e,n,i=0,r=this.args;i<r.length;i+=1){if(n=null,(e=r[i].evaluate(t))instanceof $t)return e;if("string"==typeof e){var o=t.parseColor(e);if(o)return o}else if(Array.isArray(e)&&!(n=e.length<3||e.length>4?"Invalid rbga value "+JSON.stringify(e)+": expected an array containing either three or four numeric values.":re(e[0],e[1],e[2],e[3])))return new $t(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new le(n||"Could not parse color from value '"+("string"==typeof e?e:String(JSON.stringify(e)))+"'")}if("number"===this.type.kind){for(var a=null,s=0,u=this.args;s<u.length;s+=1){if(null===(a=u[s].evaluate(t)))return 0;var l=Number(a);if(!isNaN(l))return l}throw new le("Could not convert "+JSON.stringify(a)+" to number.")}return"formatted"===this.type.kind?ne.fromString(se(this.args[0].evaluate(t))):"resolvedImage"===this.type.kind?ie.fromString(se(this.args[0].evaluate(t))):se(this.args[0].evaluate(t))},me.prototype.eachChild=function(t){this.args.forEach(t)},me.prototype.outputDefined=function(){return this.args.every(function(t){return t.outputDefined()})},me.prototype.serialize=function(){if("formatted"===this.type.kind)return new de([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new fe(this.args[0]).serialize();var t=["to-"+this.type.kind];return this.eachChild(function(e){t.push(e.serialize())}),t};var ge=["Unknown","Point","LineString","Polygon"],ye=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};ye.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},ye.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?ge[this.feature.type]:this.feature.type:null},ye.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},ye.prototype.canonicalID=function(){return this.canonical},ye.prototype.properties=function(){return this.feature&&this.feature.properties||{}},ye.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=$t.parse(t)),e};var ve=function(t,e,n,i){this.name=t,this.type=e,this._evaluate=n,this.args=i};ve.prototype.evaluate=function(t){return this._evaluate(t,this.args)},ve.prototype.eachChild=function(t){this.args.forEach(t)},ve.prototype.outputDefined=function(){return!1},ve.prototype.serialize=function(){return[this.name].concat(this.args.map(function(t){return t.serialize()}))},ve.parse=function(t,e){var n,i=t[0],r=ve.definitions[i];if(!r)return e.error('Unknown expression "'+i+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(r)?r[0]:r.type,a=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,s=a.filter(function(e){var n=e[0];return!Array.isArray(n)||n.length===t.length-1}),u=null,l=0,c=s;l<c.length;l+=1){var h=c[l],d=h[0],f=h[1];u=new je(e.registry,e.path,null,e.scope);for(var p=[],m=!1,g=1;g<t.length;g++){var y=t[g],v=Array.isArray(d)?d[g-1]:d.type,_=u.parse(y,1+p.length,v);if(!_){m=!0;break}p.push(_)}if(!m)if(Array.isArray(d)&&d.length!==p.length)u.error("Expected "+d.length+" arguments, but found "+p.length+" instead.");else{for(var b=0;b<p.length;b++){var x=Array.isArray(d)?d[b]:d.type,w=p[b];u.concat(b+1).checkSubtype(x,w.type)}if(0===u.errors.length)return new ve(i,o,f,p)}}if(1===s.length)(n=e.errors).push.apply(n,u.errors);else{for(var k=(s.length?s:a).map(function(t){var e;return e=t[0],Array.isArray(e)?"("+e.map(Wt).join(", ")+")":"("+Wt(e.type)+"...)"}).join(" | "),M=[],S=1;S<t.length;S++){var E=e.parse(t[S],1+M.length);if(!E)return null;M.push(Wt(E.type))}e.error("Expected arguments of type "+k+", but found ("+M.join(", ")+") instead.")}return null},ve.register=function(t,e){for(var n in ve.definitions=e,e)t[n]=ve};var _e=function(t,e,n){this.type=Ut,this.locale=n,this.caseSensitive=t,this.diacriticSensitive=e};function be(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1])}function xe(t,e){return!(t[0]<=e[0]||t[2]>=e[2]||t[1]<=e[1]||t[3]>=e[3])}function we(t,e){var n=(180+t[0])/360,i=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,r=Math.pow(2,e.z);return[Math.round(n*r*8192),Math.round(i*r*8192)]}function ke(t,e,n){return e[1]>t[1]!=n[1]>t[1]&&t[0]<(n[0]-e[0])*(t[1]-e[1])/(n[1]-e[1])+e[0]}function Me(t,e){for(var n,i,r,o,a,s,u,l=!1,c=0,h=e.length;c<h;c++)for(var d=e[c],f=0,p=d.length;f<p-1;f++){if((o=(n=t)[0]-(i=d[f])[0])*(u=n[1]-(r=d[f+1])[1])-(s=n[0]-r[0])*(a=n[1]-i[1])==0&&o*s<=0&&a*u<=0)return!1;ke(t,d[f],d[f+1])&&(l=!l)}return l}function Se(t,e){for(var n=0;n<e.length;n++)if(Me(t,e[n]))return!0;return!1}function Ee(t,e,n,i){var r=i[0]-n[0],o=i[1]-n[1],a=(t[0]-n[0])*o-r*(t[1]-n[1]),s=(e[0]-n[0])*o-r*(e[1]-n[1]);return a>0&&s<0||a<0&&s>0}function Le(t,e,n){for(var i=0,r=n;i<r.length;i+=1)for(var o=r[i],a=0;a<o.length-1;++a)if(0!=(h=[(c=o[a+1])[0]-(l=o[a])[0],c[1]-l[1]])[0]*(d=[(u=e)[0]-(s=t)[0],u[1]-s[1]])[1]-h[1]*d[0]&&Ee(s,u,l,c)&&Ee(l,c,s,u))return!0;var s,u,l,c,h,d;return!1}function Te(t,e){for(var n=0;n<t.length;++n)if(!Me(t[n],e))return!1;for(var i=0;i<t.length-1;++i)if(Le(t[i],t[i+1],e))return!1;return!0}function Ce(t,e){for(var n=0;n<e.length;n++)if(Te(t,e[n]))return!0;return!1}function Ie(t,e,n){for(var i=[],r=0;r<t.length;r++){for(var o=[],a=0;a<t[r].length;a++){var s=we(t[r][a],n);be(e,s),o.push(s)}i.push(o)}return i}function Pe(t,e,n){for(var i=[],r=0;r<t.length;r++){var o=Ie(t[r],e,n);i.push(o)}return i}function De(t,e,n,i){if(t[0]<n[0]||t[0]>n[2]){var r=.5*i,o=t[0]-n[0]>r?-i:n[0]-t[0]>r?i:0;0===o&&(o=t[0]-n[2]>r?-i:n[2]-t[0]>r?i:0),t[0]+=o}be(e,t)}function Oe(t,e,n,i){for(var r=8192*Math.pow(2,i.z),o=[8192*i.x,8192*i.y],a=[],s=0,u=t;s<u.length;s+=1)for(var l=0,c=u[s];l<c.length;l+=1){var h=c[l],d=[h.x+o[0],h.y+o[1]];De(d,e,n,r),a.push(d)}return a}function Ae(t,e,n,i){for(var r,o=8192*Math.pow(2,i.z),a=[8192*i.x,8192*i.y],s=[],u=0,l=t;u<l.length;u+=1){for(var c=[],h=0,d=l[u];h<d.length;h+=1){var f=d[h],p=[f.x+a[0],f.y+a[1]];be(e,p),c.push(p)}s.push(c)}if(e[2]-e[0]<=o/2){(r=e)[0]=r[1]=1/0,r[2]=r[3]=-1/0;for(var m=0,g=s;m<g.length;m+=1)for(var y=0,v=g[m];y<v.length;y+=1)De(v[y],e,n,o)}return s}_e.parse=function(t,e){if(2!==t.length)return e.error("Expected one argument.");var n=t[1];if("object"!=typeof n||Array.isArray(n))return e.error("Collator options argument must be an object.");var i=e.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,zt);if(!i)return null;var r=e.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,zt);if(!r)return null;var o=null;return n.locale&&!(o=e.parse(n.locale,1,Yt))?null:new _e(i,r,o)},_e.prototype.evaluate=function(t){return new te(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},_e.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)},_e.prototype.outputDefined=function(){return!1},_e.prototype.serialize=function(){var t={};return t["case-sensitive"]=this.caseSensitive.serialize(),t["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(t.locale=this.locale.serialize()),["collator",t]};var Re=function(t,e){this.type=zt,this.geojson=t,this.geometries=e};function Ne(t){if(t instanceof ve){if("get"===t.name&&1===t.args.length)return!1;if("feature-state"===t.name)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}if(t instanceof Re)return!1;var e=!0;return t.eachChild(function(t){e&&!Ne(t)&&(e=!1)}),e}function Fe(t){if(t instanceof ve&&"feature-state"===t.name)return!1;var e=!0;return t.eachChild(function(t){e&&!Fe(t)&&(e=!1)}),e}function Ye(t,e){if(t instanceof ve&&e.indexOf(t.name)>=0)return!1;var n=!0;return t.eachChild(function(t){n&&!Ye(t,e)&&(n=!1)}),n}Re.parse=function(t,e){if(2!==t.length)return e.error("'within' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(oe(t[1])){var n=t[1];if("FeatureCollection"===n.type)for(var i=0;i<n.features.length;++i){var r=n.features[i].geometry.type;if("Polygon"===r||"MultiPolygon"===r)return new Re(n,n.features[i].geometry)}else if("Feature"===n.type){var o=n.geometry.type;if("Polygon"===o||"MultiPolygon"===o)return new Re(n,n.geometry)}else if("Polygon"===n.type||"MultiPolygon"===n.type)return new Re(n,n)}return e.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Re.prototype.evaluate=function(t){if(null!=t.geometry()&&null!=t.canonicalID()){if("Point"===t.geometryType())return function(t,e){var n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=t.canonicalID();if("Polygon"===e.type){var o=Ie(e.coordinates,i,r),a=Oe(t.geometry(),n,i,r);if(!xe(n,i))return!1;for(var s=0,u=a;s<u.length;s+=1)if(!Me(u[s],o))return!1}if("MultiPolygon"===e.type){var l=Pe(e.coordinates,i,r),c=Oe(t.geometry(),n,i,r);if(!xe(n,i))return!1;for(var h=0,d=c;h<d.length;h+=1)if(!Se(d[h],l))return!1}return!0}(t,this.geometries);if("LineString"===t.geometryType())return function(t,e){var n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=t.canonicalID();if("Polygon"===e.type){var o=Ie(e.coordinates,i,r),a=Ae(t.geometry(),n,i,r);if(!xe(n,i))return!1;for(var s=0,u=a;s<u.length;s+=1)if(!Te(u[s],o))return!1}if("MultiPolygon"===e.type){var l=Pe(e.coordinates,i,r),c=Ae(t.geometry(),n,i,r);if(!xe(n,i))return!1;for(var h=0,d=c;h<d.length;h+=1)if(!Ce(d[h],l))return!1}return!0}(t,this.geometries)}return!1},Re.prototype.eachChild=function(){},Re.prototype.outputDefined=function(){return!0},Re.prototype.serialize=function(){return["within",this.geojson]};var ze=function(t,e){this.type=e.type,this.name=t,this.boundExpression=e};ze.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var n=t[1];return e.scope.has(n)?new ze(n,e.scope.get(n)):e.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},ze.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},ze.prototype.eachChild=function(){},ze.prototype.outputDefined=function(){return!1},ze.prototype.serialize=function(){return["var",this.name]};var je=function(t,e,n,i,r){void 0===e&&(e=[]),void 0===i&&(i=new Rt),void 0===r&&(r=[]),this.registry=t,this.path=e,this.key=e.map(function(t){return"["+t+"]"}).join(""),this.scope=i,this.errors=r,this.expectedType=n};function Be(t,e){for(var n,i=t.length-1,r=0,o=i,a=0;r<=o;)if((n=t[a=Math.floor((r+o)/2)])<=e){if(a===i||e<t[a+1])return a;r=a+1}else{if(!(n>e))throw new le("Input is not a number.");o=a-1}return 0}je.prototype.parse=function(t,e,n,i,r){return void 0===r&&(r={}),e?this.concat(e,n,i)._parse(t,r):this._parse(t,r)},je.prototype._parse=function(t,e){function n(t,e,n){return"assert"===n?new he(e,[t]):"coerce"===n?new me(e,[t]):t}if(null!==t&&"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t||(t=["literal",t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var i=t[0];if("string"!=typeof i)return this.error("Expression name must be a string, but found "+typeof i+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var r=this.registry[i];if(r){var o=r.parse(t,this);if(!o)return null;if(this.expectedType){var a=this.expectedType,s=o.type;if("string"!==a.kind&&"number"!==a.kind&&"boolean"!==a.kind&&"object"!==a.kind&&"array"!==a.kind||"value"!==s.kind)if("color"!==a.kind&&"formatted"!==a.kind&&"resolvedImage"!==a.kind||"value"!==s.kind&&"string"!==s.kind){if(this.checkSubtype(a,s))return null}else o=n(o,a,e.typeAnnotation||"coerce");else o=n(o,a,e.typeAnnotation||"assert")}if(!(o instanceof ue)&&"resolvedImage"!==o.type.kind&&function t(e){if(e instanceof ze)return t(e.boundExpression);if(e instanceof ve&&"error"===e.name)return!1;if(e instanceof _e)return!1;if(e instanceof Re)return!1;var n=e instanceof me||e instanceof he,i=!0;return e.eachChild(function(e){i=n?i&&t(e):i&&e instanceof ue}),!!i&&Ne(e)&&Ye(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(o)){var u=new ye;try{o=new ue(o.type,o.evaluate(u))}catch(t){return this.error(t.message),null}}return o}return this.error('Unknown expression "'+i+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(void 0===t?"'undefined' value invalid. Use null instead.":"object"==typeof t?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof t+" instead.")},je.prototype.concat=function(t,e,n){var i="number"==typeof t?this.path.concat(t):this.path,r=n?this.scope.concat(n):this.scope;return new je(this.registry,i,e||null,r,this.errors)},je.prototype.error=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var i=""+this.key+e.map(function(t){return"["+t+"]"}).join("");this.errors.push(new At(i,t))},je.prototype.checkSubtype=function(t,e){var n=Kt(t,e);return n&&this.error(n),n};var He=function(t,e,n){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var i=0,r=n;i<r.length;i+=1){var o=r[i],a=o[1];this.labels.push(o[0]),this.outputs.push(a)}};function Ue(t,e,n){return t*(1-n)+e*n}He.parse=function(t,e){if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");var n=e.parse(t[1],1,Ft);if(!n)return null;var i=[],r=null;e.expectedType&&"value"!==e.expectedType.kind&&(r=e.expectedType);for(var o=1;o<t.length;o+=2){var a=1===o?-1/0:t[o],s=t[o+1],u=o,l=o+1;if("number"!=typeof a)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',u);if(i.length&&i[i.length-1][0]>=a)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',u);var c=e.parse(s,l,r);if(!c)return null;r=r||c.type,i.push([a,c])}return new He(r,n,i)},He.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var i=this.input.evaluate(t);if(i<=e[0])return n[0].evaluate(t);var r=e.length;return i>=e[r-1]?n[r-1].evaluate(t):n[Be(e,i)].evaluate(t)},He.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},He.prototype.outputDefined=function(){return this.outputs.every(function(t){return t.outputDefined()})},He.prototype.serialize=function(){for(var t=["step",this.input.serialize()],e=0;e<this.labels.length;e++)e>0&&t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t};var Ve=Object.freeze({__proto__:null,number:Ue,color:function(t,e,n){return new $t(Ue(t.r,e.r,n),Ue(t.g,e.g,n),Ue(t.b,e.b,n),Ue(t.a,e.a,n))},array:function(t,e,n){return t.map(function(t,i){return Ue(t,e[i],n)})}}),qe=6/29*3*(6/29),Ge=Math.PI/180,We=180/Math.PI;function Xe(t){return t>.008856451679035631?Math.pow(t,1/3):t/qe+4/29}function Ke(t){return t>6/29?t*t*t:qe*(t-4/29)}function Ze(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Qe(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Je(t){var e=Qe(t.r),n=Qe(t.g),i=Qe(t.b),r=Xe((.4124564*e+.3575761*n+.1804375*i)/.95047),o=Xe((.2126729*e+.7151522*n+.072175*i)/1);return{l:116*o-16,a:500*(r-o),b:200*(o-Xe((.0193339*e+.119192*n+.9503041*i)/1.08883)),alpha:t.a}}function $e(t){var e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,i=isNaN(t.b)?e:e-t.b/200;return e=1*Ke(e),n=.95047*Ke(n),i=1.08883*Ke(i),new $t(Ze(3.2404542*n-1.5371385*e-.4985314*i),Ze(-.969266*n+1.8760108*e+.041556*i),Ze(.0556434*n-.2040259*e+1.0572252*i),t.alpha)}function tn(t,e,n){var i=e-t;return t+n*(i>180||i<-180?i-360*Math.round(i/360):i)}var en={forward:Je,reverse:$e,interpolate:function(t,e,n){return{l:Ue(t.l,e.l,n),a:Ue(t.a,e.a,n),b:Ue(t.b,e.b,n),alpha:Ue(t.alpha,e.alpha,n)}}},nn={forward:function(t){var e=Je(t),n=e.l,i=e.a,r=e.b,o=Math.atan2(r,i)*We;return{h:o<0?o+360:o,c:Math.sqrt(i*i+r*r),l:n,alpha:t.a}},reverse:function(t){var e=t.h*Ge,n=t.c;return $e({l:t.l,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})},interpolate:function(t,e,n){return{h:tn(t.h,e.h,n),c:Ue(t.c,e.c,n),l:Ue(t.l,e.l,n),alpha:Ue(t.alpha,e.alpha,n)}}},rn=Object.freeze({__proto__:null,lab:en,hcl:nn}),on=function(t,e,n,i,r){this.type=t,this.operator=e,this.interpolation=n,this.input=i,this.labels=[],this.outputs=[];for(var o=0,a=r;o<a.length;o+=1){var s=a[o],u=s[1];this.labels.push(s[0]),this.outputs.push(u)}};function an(t,e,n,i){var r=i-n,o=t-n;return 0===r?0:1===e?o/r:(Math.pow(e,o)-1)/(Math.pow(e,r)-1)}on.interpolationFactor=function(t,e,i,r){var o=0;if("exponential"===t.name)o=an(e,t.base,i,r);else if("linear"===t.name)o=an(e,1,i,r);else if("cubic-bezier"===t.name){var a=t.controlPoints;o=new n(a[0],a[1],a[2],a[3]).solve(an(e,1,i,r))}return o},on.parse=function(t,e){var n=t[0],i=t[1],r=t[2],o=t.slice(3);if(!Array.isArray(i)||0===i.length)return e.error("Expected an interpolation type expression.",1);if("linear"===i[0])i={name:"linear"};else if("exponential"===i[0]){var a=i[1];if("number"!=typeof a)return e.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:a}}else{if("cubic-bezier"!==i[0])return e.error("Unknown interpolation type "+String(i[0]),1,0);var s=i.slice(1);if(4!==s.length||s.some(function(t){return"number"!=typeof t||t<0||t>1}))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:s}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(r=e.parse(r,2,Ft)))return null;var u=[],l=null;"interpolate-hcl"===n||"interpolate-lab"===n?l=jt:e.expectedType&&"value"!==e.expectedType.kind&&(l=e.expectedType);for(var c=0;c<o.length;c+=2){var h=o[c],d=o[c+1],f=c+3,p=c+4;if("number"!=typeof h)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',f);if(u.length&&u[u.length-1][0]>=h)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',f);var m=e.parse(d,p,l);if(!m)return null;l=l||m.type,u.push([h,m])}return"number"===l.kind||"color"===l.kind||"array"===l.kind&&"number"===l.itemType.kind&&"number"==typeof l.N?new on(l,n,i,r,u):e.error("Type "+Wt(l)+" is not interpolatable.")},on.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var i=this.input.evaluate(t);if(i<=e[0])return n[0].evaluate(t);var r=e.length;if(i>=e[r-1])return n[r-1].evaluate(t);var o=Be(e,i),a=on.interpolationFactor(this.interpolation,i,e[o],e[o+1]),s=n[o].evaluate(t),u=n[o+1].evaluate(t);return"interpolate"===this.operator?Ve[this.type.kind.toLowerCase()](s,u,a):"interpolate-hcl"===this.operator?nn.reverse(nn.interpolate(nn.forward(s),nn.forward(u),a)):en.reverse(en.interpolate(en.forward(s),en.forward(u),a))},on.prototype.eachChild=function(t){t(this.input);for(var e=0,n=this.outputs;e<n.length;e+=1)t(n[e])},on.prototype.outputDefined=function(){return this.outputs.every(function(t){return t.outputDefined()})},on.prototype.serialize=function(){var t;t="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var e=[this.operator,t,this.input.serialize()],n=0;n<this.labels.length;n++)e.push(this.labels[n],this.outputs[n].serialize());return e};var sn=function(t,e){this.type=t,this.args=e};sn.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var n=null,i=e.expectedType;i&&"value"!==i.kind&&(n=i);for(var r=[],o=0,a=t.slice(1);o<a.length;o+=1){var s=e.parse(a[o],1+r.length,n,void 0,{typeAnnotation:"omit"});if(!s)return null;n=n||s.type,r.push(s)}var u=i&&r.some(function(t){return Kt(i,t.type)});return new sn(u?Ht:n,r)},sn.prototype.evaluate=function(t){for(var e,n=null,i=0,r=0,o=this.args;r<o.length&&(i++,(n=o[r].evaluate(t))&&n instanceof ie&&!n.available&&(e||(e=n.name),n=null,i===this.args.length&&(n=e)),null===n);r+=1);return n},sn.prototype.eachChild=function(t){this.args.forEach(t)},sn.prototype.outputDefined=function(){return this.args.every(function(t){return t.outputDefined()})},sn.prototype.serialize=function(){var t=["coalesce"];return this.eachChild(function(e){t.push(e.serialize())}),t};var un=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};un.prototype.evaluate=function(t){return this.result.evaluate(t)},un.prototype.eachChild=function(t){for(var e=0,n=this.bindings;e<n.length;e+=1)t(n[e][1]);t(this.result)},un.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var n=[],i=1;i<t.length-1;i+=2){var r=t[i];if("string"!=typeof r)return e.error("Expected string, but found "+typeof r+" instead.",i);if(/[^a-zA-Z0-9_]/.test(r))return e.error("Variable names must contain only alphanumeric characters or '_'.",i);var o=e.parse(t[i+1],i+1);if(!o)return null;n.push([r,o])}var a=e.parse(t[t.length-1],t.length-1,e.expectedType,n);return a?new un(n,a):null},un.prototype.outputDefined=function(){return this.result.outputDefined()},un.prototype.serialize=function(){for(var t=["let"],e=0,n=this.bindings;e<n.length;e+=1){var i=n[e];t.push(i[0],i[1].serialize())}return t.push(this.result.serialize()),t};var ln=function(t,e,n){this.type=t,this.index=e,this.input=n};ln.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Ft),i=e.parse(t[2],2,Gt(e.expectedType||Ht));return n&&i?new ln(i.type.itemType,n,i):null},ln.prototype.evaluate=function(t){var e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0)throw new le("Array index out of bounds: "+e+" < 0.");if(e>=n.length)throw new le("Array index out of bounds: "+e+" > "+(n.length-1)+".");if(e!==Math.floor(e))throw new le("Array index must be an integer, but found "+e+" instead.");return n[e]},ln.prototype.eachChild=function(t){t(this.index),t(this.input)},ln.prototype.outputDefined=function(){return!1},ln.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var cn=function(t,e){this.type=zt,this.needle=t,this.haystack=e};cn.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Ht),i=e.parse(t[2],2,Ht);return n&&i?Zt(n.type,[zt,Yt,Ft,Nt,Ht])?new cn(n,i):e.error("Expected first argument to be of type boolean, string, number or null, but found "+Wt(n.type)+" instead"):null},cn.prototype.evaluate=function(t){var e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(!n)return!1;if(!Qt(e,["boolean","string","number","null"]))throw new le("Expected first argument to be of type boolean, string, number or null, but found "+Wt(ae(e))+" instead.");if(!Qt(n,["string","array"]))throw new le("Expected second argument to be of type array or string, but found "+Wt(ae(n))+" instead.");return n.indexOf(e)>=0},cn.prototype.eachChild=function(t){t(this.needle),t(this.haystack)},cn.prototype.outputDefined=function(){return!0},cn.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var hn=function(t,e,n){this.type=Ft,this.needle=t,this.haystack=e,this.fromIndex=n};hn.parse=function(t,e){if(t.length<=2||t.length>=5)return e.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Ht),i=e.parse(t[2],2,Ht);if(!n||!i)return null;if(!Zt(n.type,[zt,Yt,Ft,Nt,Ht]))return e.error("Expected first argument to be of type boolean, string, number or null, but found "+Wt(n.type)+" instead");if(4===t.length){var r=e.parse(t[3],3,Ft);return r?new hn(n,i,r):null}return new hn(n,i)},hn.prototype.evaluate=function(t){var e=this.needle.evaluate(t),n=this.haystack.evaluate(t);if(!Qt(e,["boolean","string","number","null"]))throw new le("Expected first argument to be of type boolean, string, number or null, but found "+Wt(ae(e))+" instead.");if(!Qt(n,["string","array"]))throw new le("Expected second argument to be of type array or string, but found "+Wt(ae(n))+" instead.");if(this.fromIndex){var i=this.fromIndex.evaluate(t);return n.indexOf(e,i)}return n.indexOf(e)},hn.prototype.eachChild=function(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)},hn.prototype.outputDefined=function(){return!1},hn.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var t=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),t]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var dn=function(t,e,n,i,r,o){this.inputType=t,this.type=e,this.input=n,this.cases=i,this.outputs=r,this.otherwise=o};dn.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var n,i;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);for(var r={},o=[],a=2;a<t.length-1;a+=2){var s=t[a],u=t[a+1];Array.isArray(s)||(s=[s]);var l=e.concat(a);if(0===s.length)return l.error("Expected at least one branch label.");for(var c=0,h=s;c<h.length;c+=1){var d=h[c];if("number"!=typeof d&&"string"!=typeof d)return l.error("Branch labels must be numbers or strings.");if("number"==typeof d&&Math.abs(d)>Number.MAX_SAFE_INTEGER)return l.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof d&&Math.floor(d)!==d)return l.error("Numeric branch labels must be integer values.");if(n){if(l.checkSubtype(n,ae(d)))return null}else n=ae(d);if(void 0!==r[String(d)])return l.error("Branch labels must be unique.");r[String(d)]=o.length}var f=e.parse(u,a,i);if(!f)return null;i=i||f.type,o.push(f)}var p=e.parse(t[1],1,Ht);if(!p)return null;var m=e.parse(t[t.length-1],t.length-1,i);return m?"value"!==p.type.kind&&e.concat(1).checkSubtype(n,p.type)?null:new dn(n,i,p,r,o,m):null},dn.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(ae(e)===this.inputType&&this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},dn.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},dn.prototype.outputDefined=function(){return this.outputs.every(function(t){return t.outputDefined()})&&this.otherwise.outputDefined()},dn.prototype.serialize=function(){for(var t=this,e=["match",this.input.serialize()],n=[],i={},r=0,o=Object.keys(this.cases).sort();r<o.length;r+=1){var a=o[r];void 0===(h=i[this.cases[a]])?(i[this.cases[a]]=n.length,n.push([this.cases[a],[a]])):n[h][1].push(a)}for(var s=function(e){return"number"===t.inputType.kind?Number(e):e},u=0,l=n;u<l.length;u+=1){var c=l[u],h=c[0],d=c[1];e.push(1===d.length?s(d[0]):d.map(s)),e.push(this.outputs[outputIndex$1].serialize())}return e.push(this.otherwise.serialize()),e};var fn=function(t,e,n){this.type=t,this.branches=e,this.otherwise=n};fn.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var i=[],r=1;r<t.length-1;r+=2){var o=e.parse(t[r],r,zt);if(!o)return null;var a=e.parse(t[r+1],r+1,n);if(!a)return null;i.push([o,a]),n=n||a.type}var s=e.parse(t[t.length-1],t.length-1,n);return s?new fn(n,i,s):null},fn.prototype.evaluate=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var i=n[e],r=i[1];if(i[0].evaluate(t))return r.evaluate(t)}return this.otherwise.evaluate(t)},fn.prototype.eachChild=function(t){for(var e=0,n=this.branches;e<n.length;e+=1){var i=n[e],r=i[1];t(i[0]),t(r)}t(this.otherwise)},fn.prototype.outputDefined=function(){return this.branches.every(function(t){return t[1].outputDefined()})&&this.otherwise.outputDefined()},fn.prototype.serialize=function(){var t=["case"];return this.eachChild(function(e){t.push(e.serialize())}),t};var pn=function(t,e,n,i){this.type=t,this.input=e,this.beginIndex=n,this.endIndex=i};function mn(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function gn(t,e,n,i){return 0===i.compare(e,n)}function yn(t,e,n){var i="=="!==t&&"!="!==t;return function(){function r(t,e,n){this.type=zt,this.lhs=t,this.rhs=e,this.collator=n,this.hasUntypedArgument="value"===t.type.kind||"value"===e.type.kind}return r.parse=function(t,e){if(3!==t.length&&4!==t.length)return e.error("Expected two or three arguments.");var n=t[0],o=e.parse(t[1],1,Ht);if(!o)return null;if(!mn(n,o.type))return e.concat(1).error('"'+n+"\" comparisons are not supported for type '"+Wt(o.type)+"'.");var a=e.parse(t[2],2,Ht);if(!a)return null;if(!mn(n,a.type))return e.concat(2).error('"'+n+"\" comparisons are not supported for type '"+Wt(a.type)+"'.");if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot compare types '"+Wt(o.type)+"' and '"+Wt(a.type)+"'.");i&&("value"===o.type.kind&&"value"!==a.type.kind?o=new he(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new he(o.type,[a])));var s=null;if(4===t.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return e.error("Cannot use collator to compare non-string types.");if(!(s=e.parse(t[3],3,Ut)))return null}return new r(o,a,s)},r.prototype.evaluate=function(r){var o=this.lhs.evaluate(r),a=this.rhs.evaluate(r);if(i&&this.hasUntypedArgument){var s=ae(o),u=ae(a);if(s.kind!==u.kind||"string"!==s.kind&&"number"!==s.kind)throw new le('Expected arguments for "'+t+'" to be (string, string) or (number, number), but found ('+s.kind+", "+u.kind+") instead.")}if(this.collator&&!i&&this.hasUntypedArgument){var l=ae(o),c=ae(a);if("string"!==l.kind||"string"!==c.kind)return e(r,o,a)}return this.collator?n(r,o,a,this.collator.evaluate(r)):e(r,o,a)},r.prototype.eachChild=function(t){t(this.lhs),t(this.rhs),this.collator&&t(this.collator)},r.prototype.outputDefined=function(){return!0},r.prototype.serialize=function(){var e=[t];return this.eachChild(function(t){e.push(t.serialize())}),e},r}()}pn.parse=function(t,e){if(t.length<=2||t.length>=5)return e.error("Expected 3 or 4 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,Ht),i=e.parse(t[2],2,Ft);if(!n||!i)return null;if(!Zt(n.type,[Gt(Ht),Yt,Ht]))return e.error("Expected first argument to be of type array or string, but found "+Wt(n.type)+" instead");if(4===t.length){var r=e.parse(t[3],3,Ft);return r?new pn(n.type,n,i,r):null}return new pn(n.type,n,i)},pn.prototype.evaluate=function(t){var e=this.input.evaluate(t),n=this.beginIndex.evaluate(t);if(!Qt(e,["string","array"]))throw new le("Expected first argument to be of type array or string, but found "+Wt(ae(e))+" instead.");if(this.endIndex){var i=this.endIndex.evaluate(t);return e.slice(n,i)}return e.slice(n)},pn.prototype.eachChild=function(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)},pn.prototype.outputDefined=function(){return!1},pn.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var t=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),t]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var vn=yn("==",function(t,e,n){return e===n},gn),_n=yn("!=",function(t,e,n){return e!==n},function(t,e,n,i){return!gn(0,e,n,i)}),bn=yn("<",function(t,e,n){return e<n},function(t,e,n,i){return i.compare(e,n)<0}),xn=yn(">",function(t,e,n){return e>n},function(t,e,n,i){return i.compare(e,n)>0}),wn=yn("<=",function(t,e,n){return e<=n},function(t,e,n,i){return i.compare(e,n)<=0}),kn=yn(">=",function(t,e,n){return e>=n},function(t,e,n,i){return i.compare(e,n)>=0}),Mn=function(t,e,n,i,r){this.type=Yt,this.number=t,this.locale=e,this.currency=n,this.minFractionDigits=i,this.maxFractionDigits=r};Mn.parse=function(t,e){if(3!==t.length)return e.error("Expected two arguments.");var n=e.parse(t[1],1,Ft);if(!n)return null;var i=t[2];if("object"!=typeof i||Array.isArray(i))return e.error("NumberFormat options argument must be an object.");var r=null;if(i.locale&&!(r=e.parse(i.locale,1,Yt)))return null;var o=null;if(i.currency&&!(o=e.parse(i.currency,1,Yt)))return null;var a=null;if(i["min-fraction-digits"]&&!(a=e.parse(i["min-fraction-digits"],1,Ft)))return null;var s=null;return i["max-fraction-digits"]&&!(s=e.parse(i["max-fraction-digits"],1,Ft))?null:new Mn(n,r,o,a,s)},Mn.prototype.evaluate=function(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))},Mn.prototype.eachChild=function(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)},Mn.prototype.outputDefined=function(){return!1},Mn.prototype.serialize=function(){var t={};return this.locale&&(t.locale=this.locale.serialize()),this.currency&&(t.currency=this.currency.serialize()),this.minFractionDigits&&(t["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(t["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),t]};var Sn=function(t){this.type=Ft,this.input=t};Sn.parse=function(t,e){if(2!==t.length)return e.error("Expected 1 argument, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?e.error("Expected argument of type string or array, but found "+Wt(n.type)+" instead."):new Sn(n):null},Sn.prototype.evaluate=function(t){var e=this.input.evaluate(t);if("string"==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new le("Expected value to be of type string or array, but found "+Wt(ae(e))+" instead.")},Sn.prototype.eachChild=function(t){t(this.input)},Sn.prototype.outputDefined=function(){return!1},Sn.prototype.serialize=function(){var t=["length"];return this.eachChild(function(e){t.push(e.serialize())}),t};var En={"==":vn,"!=":_n,">":xn,"<":bn,">=":kn,"<=":wn,array:he,at:ln,boolean:he,case:fn,coalesce:sn,collator:_e,format:de,image:fe,in:cn,"index-of":hn,interpolate:on,"interpolate-hcl":on,"interpolate-lab":on,length:Sn,let:un,literal:ue,match:dn,number:he,"number-format":Mn,object:he,slice:pn,step:He,string:he,"to-boolean":me,"to-color":me,"to-number":me,"to-string":me,var:ze,within:Re};function Ln(t,e){var n=e[0],i=e[1],r=e[2],o=e[3];n=n.evaluate(t),i=i.evaluate(t),r=r.evaluate(t);var a=o?o.evaluate(t):1,s=re(n,i,r,a);if(s)throw new le(s);return new $t(n/255*a,i/255*a,r/255*a,a)}function Tn(t,e){return t in e}function Cn(t,e){var n=e[t];return void 0===n?null:n}function In(t){return{type:t}}function Pn(t){return{result:"success",value:t}}function Dn(t){return{result:"error",value:t}}function On(t){return"data-driven"===t["property-type"]||"cross-faded-data-driven"===t["property-type"]}function An(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function Rn(t){return!!t.expression&&t.expression.interpolated}function Nn(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function Fn(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function Yn(t){return t}function zn(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function jn(t,e,n,i,r){return zn(typeof n===r?i[n]:void 0,t.default,e.default)}function Bn(t,e,n){if("number"!==Nn(n))return zn(t.default,e.default);var i=t.stops.length;if(1===i)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[i-1][0])return t.stops[i-1][1];var r=Be(t.stops.map(function(t){return t[0]}),n);return t.stops[r][1]}function Hn(t,e,n){var i=void 0!==t.base?t.base:1;if("number"!==Nn(n))return zn(t.default,e.default);var r=t.stops.length;if(1===r)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[r-1][0])return t.stops[r-1][1];var o=Be(t.stops.map(function(t){return t[0]}),n),a=function(t,e,n,i){var r=i-n,o=t-n;return 0===r?0:1===e?o/r:(Math.pow(e,o)-1)/(Math.pow(e,r)-1)}(n,i,t.stops[o][0],t.stops[o+1][0]),s=t.stops[o][1],u=t.stops[o+1][1],l=Ve[e.type]||Yn;if(t.colorSpace&&"rgb"!==t.colorSpace){var c=rn[t.colorSpace];l=function(t,e){return c.reverse(c.interpolate(c.forward(t),c.forward(e),a))}}return"function"==typeof s.evaluate?{evaluate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=s.evaluate.apply(void 0,t),i=u.evaluate.apply(void 0,t);if(void 0!==n&&void 0!==i)return l(n,i,a)}}:l(s,u,a)}function Un(t,e,n){return"color"===e.type?n=$t.parse(n):"formatted"===e.type?n=ne.fromString(n.toString()):"resolvedImage"===e.type?n=ie.fromString(n.toString()):Nn(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0),zn(n,t.default,e.default)}ve.register(En,{error:[{kind:"error"},[Yt],function(t,e){throw new le(e[0].evaluate(t))}],typeof:[Yt,[Ht],function(t,e){return Wt(ae(e[0].evaluate(t)))}],"to-rgba":[Gt(Ft,4),[jt],function(t,e){return e[0].evaluate(t).toArray()}],rgb:[jt,[Ft,Ft,Ft],Ln],rgba:[jt,[Ft,Ft,Ft,Ft],Ln],has:{type:zt,overloads:[[[Yt],function(t,e){return Tn(e[0].evaluate(t),t.properties())}],[[Yt,Bt],function(t,e){var n=e[1];return Tn(e[0].evaluate(t),n.evaluate(t))}]]},get:{type:Ht,overloads:[[[Yt],function(t,e){return Cn(e[0].evaluate(t),t.properties())}],[[Yt,Bt],function(t,e){var n=e[1];return Cn(e[0].evaluate(t),n.evaluate(t))}]]},"feature-state":[Ht,[Yt],function(t,e){return Cn(e[0].evaluate(t),t.featureState||{})}],properties:[Bt,[],function(t){return t.properties()}],"geometry-type":[Yt,[],function(t){return t.geometryType()}],id:[Ht,[],function(t){return t.id()}],zoom:[Ft,[],function(t){return t.globals.zoom}],"heatmap-density":[Ft,[],function(t){return t.globals.heatmapDensity||0}],"line-progress":[Ft,[],function(t){return t.globals.lineProgress||0}],accumulated:[Ht,[],function(t){return void 0===t.globals.accumulated?null:t.globals.accumulated}],"+":[Ft,In(Ft),function(t,e){for(var n=0,i=0,r=e;i<r.length;i+=1)n+=r[i].evaluate(t);return n}],"*":[Ft,In(Ft),function(t,e){for(var n=1,i=0,r=e;i<r.length;i+=1)n*=r[i].evaluate(t);return n}],"-":{type:Ft,overloads:[[[Ft,Ft],function(t,e){var n=e[1];return e[0].evaluate(t)-n.evaluate(t)}],[[Ft],function(t,e){return-e[0].evaluate(t)}]]},"/":[Ft,[Ft,Ft],function(t,e){var n=e[1];return e[0].evaluate(t)/n.evaluate(t)}],"%":[Ft,[Ft,Ft],function(t,e){var n=e[1];return e[0].evaluate(t)%n.evaluate(t)}],ln2:[Ft,[],function(){return Math.LN2}],pi:[Ft,[],function(){return Math.PI}],e:[Ft,[],function(){return Math.E}],"^":[Ft,[Ft,Ft],function(t,e){var n=e[1];return Math.pow(e[0].evaluate(t),n.evaluate(t))}],sqrt:[Ft,[Ft],function(t,e){return Math.sqrt(e[0].evaluate(t))}],log10:[Ft,[Ft],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN10}],ln:[Ft,[Ft],function(t,e){return Math.log(e[0].evaluate(t))}],log2:[Ft,[Ft],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN2}],sin:[Ft,[Ft],function(t,e){return Math.sin(e[0].evaluate(t))}],cos:[Ft,[Ft],function(t,e){return Math.cos(e[0].evaluate(t))}],tan:[Ft,[Ft],function(t,e){return Math.tan(e[0].evaluate(t))}],asin:[Ft,[Ft],function(t,e){return Math.asin(e[0].evaluate(t))}],acos:[Ft,[Ft],function(t,e){return Math.acos(e[0].evaluate(t))}],atan:[Ft,[Ft],function(t,e){return Math.atan(e[0].evaluate(t))}],min:[Ft,In(Ft),function(t,e){return Math.min.apply(Math,e.map(function(e){return e.evaluate(t)}))}],max:[Ft,In(Ft),function(t,e){return Math.max.apply(Math,e.map(function(e){return e.evaluate(t)}))}],abs:[Ft,[Ft],function(t,e){return Math.abs(e[0].evaluate(t))}],round:[Ft,[Ft],function(t,e){var n=e[0].evaluate(t);return n<0?-Math.round(-n):Math.round(n)}],floor:[Ft,[Ft],function(t,e){return Math.floor(e[0].evaluate(t))}],ceil:[Ft,[Ft],function(t,e){return Math.ceil(e[0].evaluate(t))}],"filter-==":[zt,[Yt,Ht],function(t,e){var n=e[0],i=e[1];return t.properties()[n.value]===i.value}],"filter-id-==":[zt,[Ht],function(t,e){var n=e[0];return t.id()===n.value}],"filter-type-==":[zt,[Yt],function(t,e){var n=e[0];return t.geometryType()===n.value}],"filter-<":[zt,[Yt,Ht],function(t,e){var n=e[0],i=e[1],r=t.properties()[n.value],o=i.value;return typeof r==typeof o&&r<o}],"filter-id-<":[zt,[Ht],function(t,e){var n=e[0],i=t.id(),r=n.value;return typeof i==typeof r&&i<r}],"filter->":[zt,[Yt,Ht],function(t,e){var n=e[0],i=e[1],r=t.properties()[n.value],o=i.value;return typeof r==typeof o&&r>o}],"filter-id->":[zt,[Ht],function(t,e){var n=e[0],i=t.id(),r=n.value;return typeof i==typeof r&&i>r}],"filter-<=":[zt,[Yt,Ht],function(t,e){var n=e[0],i=e[1],r=t.properties()[n.value],o=i.value;return typeof r==typeof o&&r<=o}],"filter-id-<=":[zt,[Ht],function(t,e){var n=e[0],i=t.id(),r=n.value;return typeof i==typeof r&&i<=r}],"filter->=":[zt,[Yt,Ht],function(t,e){var n=e[0],i=e[1],r=t.properties()[n.value],o=i.value;return typeof r==typeof o&&r>=o}],"filter-id->=":[zt,[Ht],function(t,e){var n=e[0],i=t.id(),r=n.value;return typeof i==typeof r&&i>=r}],"filter-has":[zt,[Ht],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[zt,[],function(t){return null!==t.id()&&void 0!==t.id()}],"filter-type-in":[zt,[Gt(Yt)],function(t,e){return e[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[zt,[Gt(Ht)],function(t,e){return e[0].value.indexOf(t.id())>=0}],"filter-in-small":[zt,[Yt,Gt(Ht)],function(t,e){var n=e[0];return e[1].value.indexOf(t.properties()[n.value])>=0}],"filter-in-large":[zt,[Yt,Gt(Ht)],function(t,e){var n=e[0],i=e[1];return function(t,e,n,i){for(;n<=i;){var r=n+i>>1;if(e[r]===t)return!0;e[r]>t?i=r-1:n=r+1}return!1}(t.properties()[n.value],i.value,0,i.value.length-1)}],all:{type:zt,overloads:[[[zt,zt],function(t,e){var n=e[1];return e[0].evaluate(t)&&n.evaluate(t)}],[In(zt),function(t,e){for(var n=0,i=e;n<i.length;n+=1)if(!i[n].evaluate(t))return!1;return!0}]]},any:{type:zt,overloads:[[[zt,zt],function(t,e){var n=e[1];return e[0].evaluate(t)||n.evaluate(t)}],[In(zt),function(t,e){for(var n=0,i=e;n<i.length;n+=1)if(i[n].evaluate(t))return!0;return!1}]]},"!":[zt,[zt],function(t,e){return!e[0].evaluate(t)}],"is-supported-script":[zt,[Yt],function(t,e){var n=t.globals&&t.globals.isSupportedScript;return!n||n(e[0].evaluate(t))}],upcase:[Yt,[Yt],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[Yt,[Yt],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[Yt,In(Ht),function(t,e){return e.map(function(e){return se(e.evaluate(t))}).join("")}],"resolved-locale":[Yt,[Ut],function(t,e){return e[0].evaluate(t).resolvedLocale()}]});var Vn=function(t,e){this.expression=t,this._warningHistory={},this._evaluator=new ye,this._defaultValue=e?function(t){return"color"===t.type&&Fn(t.default)?new $t(0,0,0,0):"color"===t.type?$t.parse(t.default)||null:void 0===t.default?null:t.default}(e):null,this._enumValues=e&&"enum"===e.type?e.values:null};function qn(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in En}function Gn(t,e){var n=new je(En,[],e?function(t){var e={color:jt,string:Yt,number:Ft,enum:Yt,boolean:zt,formatted:Vt,resolvedImage:qt};return"array"===t.type?Gt(e[t.value]||Ht,t.length):e[t.type]}(e):void 0),i=n.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return i?Pn(new Vn(i,e)):Dn(n.errors)}Vn.prototype.evaluateWithoutErrorHandling=function(t,e,n,i,r,o){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=n,this._evaluator.canonical=i,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)},Vn.prototype.evaluate=function(t,e,n,i,r,o){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=n||null,this._evaluator.canonical=i,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=o||null;try{var a=this.expression.evaluate(this._evaluator);if(null==a||"number"==typeof a&&a!=a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new le("Expected value to be one of "+Object.keys(this._enumValues).map(function(t){return JSON.stringify(t)}).join(", ")+", but found "+JSON.stringify(a)+" instead.");return a}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}};var Wn=function(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent="constant"!==t&&!Fe(e.expression)};Wn.prototype.evaluateWithoutErrorHandling=function(t,e,n,i,r,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,i,r,o)},Wn.prototype.evaluate=function(t,e,n,i,r,o){return this._styleExpression.evaluate(t,e,n,i,r,o)};var Xn=function(t,e,n,i){this.kind=t,this.zoomStops=n,this._styleExpression=e,this.isStateDependent="camera"!==t&&!Fe(e.expression),this.interpolationType=i};function Kn(t,e){if("error"===(t=Gn(t,e)).result)return t;var n=t.value.expression,i=Ne(n);if(!i&&!On(e))return Dn([new At("","data expressions not supported")]);var r=Ye(n,["zoom"]);if(!r&&!An(e))return Dn([new At("","zoom expressions not supported")]);var o=function t(e){var n=null;if(e instanceof un)n=t(e.result);else if(e instanceof sn)for(var i=0,r=e.args;i<r.length&&!(n=t(r[i]));i+=1);else(e instanceof He||e instanceof on)&&e.input instanceof ve&&"zoom"===e.input.name&&(n=e);return n instanceof At||e.eachChild(function(e){var i=t(e);i instanceof At?n=i:!n&&i?n=new At("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&i&&n!==i&&(n=new At("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n}(n);return o||r?o instanceof At?Dn([o]):o instanceof on&&!Rn(e)?Dn([new At("",'"interpolate" expressions cannot be used with this property')]):Pn(o?new Xn(i?"camera":"composite",t.value,o.labels,o instanceof on?o.interpolation:void 0):new Wn(i?"constant":"source",t.value)):Dn([new At("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Xn.prototype.evaluateWithoutErrorHandling=function(t,e,n,i,r,o){return this._styleExpression.evaluateWithoutErrorHandling(t,e,n,i,r,o)},Xn.prototype.evaluate=function(t,e,n,i,r,o){return this._styleExpression.evaluate(t,e,n,i,r,o)},Xn.prototype.interpolationFactor=function(t,e,n){return this.interpolationType?on.interpolationFactor(this.interpolationType,t,e,n):0};var Zn=function(t,e){this._parameters=t,this._specification=e,Pt(this,function t(e,n){var i,r,o,a="color"===n.type,s=e.stops&&"object"==typeof e.stops[0][0],u=s||!(s||void 0!==e.property),l=e.type||(Rn(n)?"exponential":"interval");if(a&&((e=Pt({},e)).stops&&(e.stops=e.stops.map(function(t){return[t[0],$t.parse(t[1])]})),e.default=$t.parse(e.default?e.default:n.default)),e.colorSpace&&"rgb"!==e.colorSpace&&!rn[e.colorSpace])throw new Error("Unknown color space: "+e.colorSpace);if("exponential"===l)i=Hn;else if("interval"===l)i=Bn;else if("categorical"===l){i=jn,r=Object.create(null);for(var c=0,h=e.stops;c<h.length;c+=1){var d=h[c];r[d[0]]=d[1]}o=typeof e.stops[0][0]}else{if("identity"!==l)throw new Error('Unknown function type "'+l+'"');i=Un}if(s){for(var f={},p=[],m=0;m<e.stops.length;m++){var g=e.stops[m],y=g[0].zoom;void 0===f[y]&&(f[y]={zoom:y,type:e.type,property:e.property,default:e.default,stops:[]},p.push(y)),f[y].stops.push([g[0].value,g[1]])}for(var v=[],_=0,b=p;_<b.length;_+=1){var x=b[_];v.push([f[x].zoom,t(f[x],n)])}var w={name:"linear"};return{kind:"composite",interpolationType:w,interpolationFactor:on.interpolationFactor.bind(void 0,w),zoomStops:v.map(function(t){return t[0]}),evaluate:function(t,i){var r=t.zoom;return Hn({stops:v,base:e.base},n,r).evaluate(r,i)}}}if(u){var k="exponential"===l?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:k,interpolationFactor:on.interpolationFactor.bind(void 0,k),zoomStops:e.stops.map(function(t){return t[0]}),evaluate:function(t){return i(e,n,t.zoom,r,o)}}}return{kind:"source",evaluate:function(t,a){var s=a&&a.properties?a.properties[e.property]:void 0;return void 0===s?zn(e.default,n.default):i(e,n,s,r,o)}}}(this._parameters,this._specification))};function Qn(t){var e=t.key,n=t.value,i=t.valueSpec||{},r=t.objectElementValidators||{},o=t.style,a=t.styleSpec,s=[],u=Nn(n);if("object"!==u)return[new Ct(e,n,"object expected, "+u+" found")];for(var l in n){var c=l.split(".")[0],h=i[c]||i["*"],d=void 0;if(r[c])d=r[c];else if(i[c])d=wi;else if(r["*"])d=r["*"];else{if(!i["*"]){s.push(new Ct(e,n[l],'unknown property "'+l+'"'));continue}d=wi}s=s.concat(d({key:(e?e+".":e)+l,value:n[l],valueSpec:h,style:o,styleSpec:a,object:n,objectKey:l},n))}for(var f in i)r[f]||i[f].required&&void 0===i[f].default&&void 0===n[f]&&s.push(new Ct(e,n,'missing required property "'+f+'"'));return s}function Jn(t){var e=t.value,n=t.valueSpec,i=t.style,r=t.styleSpec,o=t.key,a=t.arrayElementValidator||wi;if("array"!==Nn(e))return[new Ct(o,e,"array expected, "+Nn(e)+" found")];if(n.length&&e.length!==n.length)return[new Ct(o,e,"array length "+n.length+" expected, length "+e.length+" found")];if(n["min-length"]&&e.length<n["min-length"])return[new Ct(o,e,"array length at least "+n["min-length"]+" expected, length "+e.length+" found")];var s={type:n.value,values:n.values};r.$version<7&&(s.function=n.function),"object"===Nn(n.value)&&(s=n.value);for(var u=[],l=0;l<e.length;l++)u=u.concat(a({array:e,arrayIndex:l,value:e[l],valueSpec:s,style:i,styleSpec:r,key:o+"["+l+"]"}));return u}function $n(t){var e=t.key,n=t.value,i=t.valueSpec,r=Nn(n);return"number"===r&&n!=n&&(r="NaN"),"number"!==r?[new Ct(e,n,"number expected, "+r+" found")]:"minimum"in i&&n<i.minimum?[new Ct(e,n,n+" is less than the minimum value "+i.minimum)]:"maximum"in i&&n>i.maximum?[new Ct(e,n,n+" is greater than the maximum value "+i.maximum)]:[]}function ti(t){var e,n,i,r=t.valueSpec,o=Dt(t.value.type),a={},s="categorical"!==o&&void 0===t.value.property,u=!s,l="array"===Nn(t.value.stops)&&"array"===Nn(t.value.stops[0])&&"object"===Nn(t.value.stops[0][0]),c=Qn({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if("identity"===o)return[new Ct(t.key,t.value,'identity function may not have a "stops" property')];var e=[],n=t.value;return e=e.concat(Jn({key:t.key,value:n,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:h})),"array"===Nn(n)&&0===n.length&&e.push(new Ct(t.key,n,"array must have at least one stop")),e},default:function(t){return wi({key:t.key,value:t.value,valueSpec:r,style:t.style,styleSpec:t.styleSpec})}}});return"identity"===o&&s&&c.push(new Ct(t.key,t.value,'missing required property "property"')),"identity"===o||t.value.stops||c.push(new Ct(t.key,t.value,'missing required property "stops"')),"exponential"===o&&t.valueSpec.expression&&!Rn(t.valueSpec)&&c.push(new Ct(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(u&&!On(t.valueSpec)?c.push(new Ct(t.key,t.value,"property functions not supported")):s&&!An(t.valueSpec)&&c.push(new Ct(t.key,t.value,"zoom functions not supported"))),"categorical"!==o&&!l||void 0!==t.value.property||c.push(new Ct(t.key,t.value,'"property" property is required')),c;function h(t){var e=[],o=t.value,s=t.key;if("array"!==Nn(o))return[new Ct(s,o,"array expected, "+Nn(o)+" found")];if(2!==o.length)return[new Ct(s,o,"array length 2 expected, length "+o.length+" found")];if(l){if("object"!==Nn(o[0]))return[new Ct(s,o,"object expected, "+Nn(o[0])+" found")];if(void 0===o[0].zoom)return[new Ct(s,o,"object stop key must have zoom")];if(void 0===o[0].value)return[new Ct(s,o,"object stop key must have value")];if(i&&i>Dt(o[0].zoom))return[new Ct(s,o[0].zoom,"stop zoom values must appear in ascending order")];Dt(o[0].zoom)!==i&&(i=Dt(o[0].zoom),n=void 0,a={}),e=e.concat(Qn({key:s+"[0]",value:o[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:$n,value:d}}))}else e=e.concat(d({key:s+"[0]",value:o[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},o));return qn(Ot(o[1]))?e.concat([new Ct(s+"[1]",o[1],"expressions are not allowed in function stops.")]):e.concat(wi({key:s+"[1]",value:o[1],valueSpec:r,style:t.style,styleSpec:t.styleSpec}))}function d(t,i){var s=Nn(t.value),u=Dt(t.value),l=null!==t.value?t.value:i;if(e){if(s!==e)return[new Ct(t.key,l,s+" stop domain type must match previous stop domain type "+e)]}else e=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Ct(t.key,l,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==o){var c="number expected, "+s+" found";return On(r)&&void 0===o&&(c+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ct(t.key,l,c)]}return"categorical"!==o||"number"!==s||isFinite(u)&&Math.floor(u)===u?"categorical"!==o&&"number"===s&&void 0!==n&&u<n?[new Ct(t.key,l,"stop domain values must appear in ascending order")]:(n=u,"categorical"===o&&u in a?[new Ct(t.key,l,"stop domain values must be unique")]:(a[u]=!0,[])):[new Ct(t.key,l,"integer expected, found "+u)]}}function ei(t){var e=("property"===t.expressionContext?Kn:Gn)(Ot(t.value),t.valueSpec);if("error"===e.result)return e.value.map(function(e){return new Ct(""+t.key+e.key,t.value,e.message)});var n=e.value.expression||e.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&!n.outputDefined())return[new Ct(t.key,t.value,'Invalid data expression for "'+t.propertyKey+'". Output values must be contained as literals within the expression.')];if("property"===t.expressionContext&&"layout"===t.propertyType&&!Fe(n))return[new Ct(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext&&!Fe(n))return[new Ct(t.key,t.value,'"feature-state" data expressions are not supported with filters.')];if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!Ye(n,["zoom","feature-state"]))return[new Ct(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!Ne(n))return[new Ct(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function ni(t){var e=t.key,n=t.value,i=t.valueSpec,r=[];return Array.isArray(i.values)?-1===i.values.indexOf(Dt(n))&&r.push(new Ct(e,n,"expected one of ["+i.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(i.values).indexOf(Dt(n))&&r.push(new Ct(e,n,"expected one of ["+Object.keys(i.values).join(", ")+"], "+JSON.stringify(n)+" found")),r}function ii(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":return t.length>=3&&("string"!=typeof t[1]||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(var e=0,n=t.slice(1);e<n.length;e+=1){var i=n[e];if(!ii(i)&&"boolean"!=typeof i)return!1}return!0;default:return!0}}Zn.deserialize=function(t){return new Zn(t._parameters,t._specification)},Zn.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var ri={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function oi(t){if(null==t)return{filter:function(){return!0},needGeometry:!1};ii(t)||(t=si(t));var e=Gn(t,ri);if("error"===e.result)throw new Error(e.value.map(function(t){return t.key+": "+t.message}).join(", "));return{filter:function(t,n,i){return e.value.evaluate(t,n,{},i)},needGeometry:function t(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(var n=1;n<e.length;n++)if(t(e[n]))return!0;return!1}(t)}}function ai(t,e){return t<e?-1:t>e?1:0}function si(t){if(!t)return!0;var e,n=t[0];return t.length<=1?"any"!==n:"=="===n?ui(t[1],t[2],"=="):"!="===n?hi(ui(t[1],t[2],"==")):"<"===n||">"===n||"<="===n||">="===n?ui(t[1],t[2],n):"any"===n?(e=t.slice(1),["any"].concat(e.map(si))):"all"===n?["all"].concat(t.slice(1).map(si)):"none"===n?["all"].concat(t.slice(1).map(si).map(hi)):"in"===n?li(t[1],t.slice(2)):"!in"===n?hi(li(t[1],t.slice(2))):"has"===n?ci(t[1]):"!has"===n?hi(ci(t[1])):"within"!==n||t}function ui(t,e,n){switch(t){case"$type":return["filter-type-"+n,e];case"$id":return["filter-id-"+n,e];default:return["filter-"+n,t,e]}}function li(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(function(t){return typeof t!=typeof e[0]})?["filter-in-large",t,["literal",e.sort(ai)]]:["filter-in-small",t,["literal",e]]}}function ci(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function hi(t){return["!",t]}function di(t){return ii(Ot(t.value))?ei(Pt({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function t(e){var n=e.value,i=e.key;if("array"!==Nn(n))return[new Ct(i,n,"array expected, "+Nn(n)+" found")];var r,o=e.styleSpec,a=[];if(n.length<1)return[new Ct(i,n,"filter array must have at least 1 element")];switch(a=a.concat(ni({key:i+"[0]",value:n[0],valueSpec:o.filter_operator,style:e.style,styleSpec:e.styleSpec})),Dt(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===Dt(n[1])&&a.push(new Ct(i,n,'"$type" cannot be use with operator "'+n[0]+'"'));case"==":case"!=":3!==n.length&&a.push(new Ct(i,n,'filter array for operator "'+n[0]+'" must have 3 elements'));case"in":case"!in":n.length>=2&&"string"!==(r=Nn(n[1]))&&a.push(new Ct(i+"[1]",n[1],"string expected, "+r+" found"));for(var s=2;s<n.length;s++)r=Nn(n[s]),"$type"===Dt(n[1])?a=a.concat(ni({key:i+"["+s+"]",value:n[s],valueSpec:o.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==r&&"number"!==r&&"boolean"!==r&&a.push(new Ct(i+"["+s+"]",n[s],"string, number, or boolean expected, "+r+" found"));break;case"any":case"all":case"none":for(var u=1;u<n.length;u++)a=a.concat(t({key:i+"["+u+"]",value:n[u],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":r=Nn(n[1]),2!==n.length?a.push(new Ct(i,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"string"!==r&&a.push(new Ct(i+"[1]",n[1],"string expected, "+r+" found"));break;case"within":r=Nn(n[1]),2!==n.length?a.push(new Ct(i,n,'filter array for "'+n[0]+'" operator must have 2 elements')):"object"!==r&&a.push(new Ct(i+"[1]",n[1],"object expected, "+r+" found"))}return a}(t)}function fi(t,e){var n=t.key,i=t.style,r=t.styleSpec,o=t.value,a=t.objectKey,s=r[e+"_"+t.layerType];if(!s)return[];var u=a.match(/^(.*)-transition$/);if("paint"===e&&u&&s[u[1]]&&s[u[1]].transition)return wi({key:n,value:o,valueSpec:r.transition,style:i,styleSpec:r});var l,c=t.valueSpec||s[a];if(!c)return[new Ct(n,o,'unknown property "'+a+'"')];if("string"===Nn(o)&&On(c)&&!c.tokens&&(l=/^{([^}]+)}$/.exec(o)))return[new Ct(n,o,'"'+a+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(l[1])+" }`.")];var h=[];return"symbol"===t.layerType&&("text-field"===a&&i&&!i.glyphs&&h.push(new Ct(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&Fn(Ot(o))&&"identity"===Dt(o.type)&&h.push(new Ct(n,o,'"text-font" does not support identity functions'))),h.concat(wi({key:t.key,value:o,valueSpec:c,style:i,styleSpec:r,expressionContext:"property",propertyType:e,propertyKey:a}))}function pi(t){return fi(t,"paint")}function mi(t){return fi(t,"layout")}function gi(t){var e=[],n=t.value,i=t.key,r=t.style,o=t.styleSpec;n.type||n.ref||e.push(new Ct(i,n,'either "type" or "ref" is required'));var a,s=Dt(n.type),u=Dt(n.ref);if(n.id)for(var l=Dt(n.id),c=0;c<t.arrayIndex;c++){var h=r.layers[c];Dt(h.id)===l&&e.push(new Ct(i,n.id,'duplicate layer id "'+n.id+'", previously used at line '+h.id.__line__))}if("ref"in n)["type","source","source-layer","filter","layout"].forEach(function(t){t in n&&e.push(new Ct(i,n[t],'"'+t+'" is prohibited for ref layers'))}),r.layers.forEach(function(t){Dt(t.id)===u&&(a=t)}),a?a.ref?e.push(new Ct(i,n.ref,"ref cannot reference another ref layer")):s=Dt(a.type):e.push(new Ct(i,n.ref,'ref layer "'+u+'" not found'));else if("background"!==s)if(n.source){var d=r.sources&&r.sources[n.source],f=d&&Dt(d.type);d?"vector"===f&&"raster"===s?e.push(new Ct(i,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===f&&"raster"!==s?e.push(new Ct(i,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==f||n["source-layer"]?"raster-dem"===f&&"hillshade"!==s?e.push(new Ct(i,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==s||!n.paint||!n.paint["line-gradient"]||"geojson"===f&&d.lineMetrics||e.push(new Ct(i,n,'layer "'+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):e.push(new Ct(i,n,'layer "'+n.id+'" must specify a "source-layer"')):e.push(new Ct(i,n.source,'source "'+n.source+'" not found'))}else e.push(new Ct(i,n,'missing required property "source"'));return e=e.concat(Qn({key:i,value:n,valueSpec:o.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return wi({key:i+".type",value:n.type,valueSpec:o.layer.type,style:t.style,styleSpec:t.styleSpec,object:n,objectKey:"type"})},filter:di,layout:function(t){return Qn({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return mi(Pt({layerType:s},t))}}})},paint:function(t){return Qn({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return pi(Pt({layerType:s},t))}}})}}}))}function yi(t){var e=t.value,n=t.key,i=Nn(e);return"string"!==i?[new Ct(n,e,"string expected, "+i+" found")]:[]}var vi={promoteId:function(t){var e=t.key,n=t.value;if("string"===Nn(n))return yi({key:e,value:n});var i=[];for(var r in n)i.push.apply(i,yi({key:e+"."+r,value:n[r]}));return i}};function _i(t){var e=t.value,n=t.key,i=t.styleSpec,r=t.style;if(!e.type)return[new Ct(n,e,'"type" is required')];var o,a=Dt(e.type);switch(a){case"vector":case"raster":case"raster-dem":return Qn({key:n,value:e,valueSpec:i["source_"+a.replace("-","_")],style:t.style,styleSpec:i,objectElementValidators:vi});case"geojson":if(o=Qn({key:n,value:e,valueSpec:i.source_geojson,style:r,styleSpec:i,objectElementValidators:vi}),e.cluster)for(var s in e.clusterProperties){var u=e.clusterProperties[s],l=u[0],c="string"==typeof l?[l,["accumulated"],["get",s]]:l;o.push.apply(o,ei({key:n+"."+s+".map",value:u[1],expressionContext:"cluster-map"})),o.push.apply(o,ei({key:n+"."+s+".reduce",value:c,expressionContext:"cluster-reduce"}))}return o;case"video":return Qn({key:n,value:e,valueSpec:i.source_video,style:r,styleSpec:i});case"image":return Qn({key:n,value:e,valueSpec:i.source_image,style:r,styleSpec:i});case"canvas":return[new Ct(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ni({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:r,styleSpec:i})}}function bi(t){var e=t.value,n=t.styleSpec,i=n.light,r=t.style,o=[],a=Nn(e);if(void 0===e)return o;if("object"!==a)return o.concat([new Ct("light",e,"object expected, "+a+" found")]);for(var s in e){var u=s.match(/^(.*)-transition$/);o=o.concat(u&&i[u[1]]&&i[u[1]].transition?wi({key:s,value:e[s],valueSpec:n.transition,style:r,styleSpec:n}):i[s]?wi({key:s,value:e[s],valueSpec:i[s],style:r,styleSpec:n}):[new Ct(s,e[s],'unknown property "'+s+'"')])}return o}var xi={"*":function(){return[]},array:Jn,boolean:function(t){var e=t.value,n=t.key,i=Nn(e);return"boolean"!==i?[new Ct(n,e,"boolean expected, "+i+" found")]:[]},number:$n,color:function(t){var e=t.key,n=t.value,i=Nn(n);return"string"!==i?[new Ct(e,n,"color expected, "+i+" found")]:null===Jt(n)?[new Ct(e,n,'color expected, "'+n+'" found')]:[]},constants:It,enum:ni,filter:di,function:ti,layer:gi,object:Qn,source:_i,light:bi,string:yi,formatted:function(t){return 0===yi(t).length?[]:ei(t)},resolvedImage:function(t){return 0===yi(t).length?[]:ei(t)}};function wi(t){var e=t.value,n=t.valueSpec,i=t.styleSpec;return n.expression&&Fn(Dt(e))?ti(t):n.expression&&qn(Ot(e))?ei(t):n.type&&xi[n.type]?xi[n.type](t):Qn(Pt({},t,{valueSpec:n.type?i[n.type]:n}))}function ki(t){var e=t.value,n=t.key,i=yi(t);return i.length||(-1===e.indexOf("{fontstack}")&&i.push(new Ct(n,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&i.push(new Ct(n,e,'"glyphs" url must include a "{range}" token'))),i}function Mi(t,e){void 0===e&&(e=Tt);var n=[];return n=n.concat(wi({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:ki,"*":function(){return[]}}})),t.constants&&(n=n.concat(It({key:"constants",value:t.constants,style:t,styleSpec:e}))),Si(n)}function Si(t){return[].concat(t).sort(function(t,e){return t.line-e.line})}function Ei(t){return function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return Si(t.apply(this,e))}}Mi.source=Ei(_i),Mi.light=Ei(bi),Mi.layer=Ei(gi),Mi.filter=Ei(di),Mi.paintProperty=Ei(pi),Mi.layoutProperty=Ei(mi);var Li=Mi,Ti=Li.light,Ci=Li.paintProperty,Ii=Li.layoutProperty;function Pi(t,e){var n=!1;if(e&&e.length)for(var i=0,r=e;i<r.length;i+=1)t.fire(new Et(new Error(r[i].message))),n=!0;return n}var Di=Oi;function Oi(t,e,n){var i=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var r=new Int32Array(this.arrayBuffer);t=r[0],this.d=(e=r[1])+2*(n=r[2]);for(var o=0;o<this.d*this.d;o++){var a=r[3+o],s=r[3+o+1];i.push(a===s?null:r.subarray(a,s))}var u=r[3+i.length+1];this.keys=r.subarray(r[3+i.length],u),this.bboxes=r.subarray(u),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var l=0;l<this.d*this.d;l++)i.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var c=n/e*t;this.min=-c,this.max=t+c}Oi.prototype.insert=function(t,e,n,i,r){this._forEachCell(e,n,i,r,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(r)},Oi.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Oi.prototype._insertCell=function(t,e,n,i,r,o){this.cells[r].push(o)},Oi.prototype.query=function(t,e,n,i,r){var o=this.min,a=this.max;if(t<=o&&e<=o&&a<=n&&a<=i&&!r)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(t,e,n,i,this._queryCell,s,{},r),s},Oi.prototype._queryCell=function(t,e,n,i,r,o,a,s){var u=this.cells[r];if(null!==u)for(var l=this.keys,c=this.bboxes,h=0;h<u.length;h++){var d=u[h];if(void 0===a[d]){var f=4*d;(s?s(c[f+0],c[f+1],c[f+2],c[f+3]):t<=c[f+2]&&e<=c[f+3]&&n>=c[f+0]&&i>=c[f+1])?(a[d]=!0,o.push(l[d])):a[d]=!1}}},Oi.prototype._forEachCell=function(t,e,n,i,r,o,a,s){for(var u=this._convertToCellCoord(t),l=this._convertToCellCoord(e),c=this._convertToCellCoord(n),h=this._convertToCellCoord(i),d=u;d<=c;d++)for(var f=l;f<=h;f++){var p=this.d*f+d;if((!s||s(this._convertFromCellCoord(d),this._convertFromCellCoord(f),this._convertFromCellCoord(d+1),this._convertFromCellCoord(f+1)))&&r.call(this,t,e,n,i,p,o,a,s))return}},Oi.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},Oi.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},Oi.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=3+this.cells.length+1+1,n=0,i=0;i<this.cells.length;i++)n+=this.cells[i].length;var r=new Int32Array(e+n+this.keys.length+this.bboxes.length);r[0]=this.extent,r[1]=this.n,r[2]=this.padding;for(var o=e,a=0;a<t.length;a++){var s=t[a];r[3+a]=o,r.set(s,o),o+=s.length}return r[3+t.length]=o,r.set(this.keys,o),r[3+t.length+1]=o+=this.keys.length,r.set(this.bboxes,o),o+=this.bboxes.length,r.buffer};var Ai=a.ImageData,Ri=a.ImageBitmap,Ni={};function Fi(t,e,n){void 0===n&&(n={}),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),Ni[t]={klass:e,omit:n.omit||[],shallow:n.shallow||[]}}for(var Yi in Fi("Object",Object),Di.serialize=function(t,e){var n=t.toArrayBuffer();return e&&e.push(n),{buffer:n}},Di.deserialize=function(t){return new Di(t.buffer)},Fi("Grid",Di),Fi("Color",$t),Fi("Error",Error),Fi("ResolvedImage",ie),Fi("StylePropertyFunction",Zn),Fi("StyleExpression",Vn,{omit:["_evaluator"]}),Fi("ZoomDependentExpression",Xn),Fi("ZoomConstantExpression",Wn),Fi("CompoundExpression",ve,{omit:["_evaluate"]}),En)En[Yi]._classRegistryKey||Fi("Expression_"+Yi,En[Yi]);function zi(t){return t&&"undefined"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function ji(t){return Ri&&t instanceof Ri}function Bi(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(zi(t)||ji(t))return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var n=t;return e&&e.push(n.buffer),n}if(t instanceof Ai)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var i=[],r=0,o=t;r<o.length;r+=1)i.push(Bi(o[r],e));return i}if("object"==typeof t){var a=t.constructor,s=a._classRegistryKey;if(!s)throw new Error("can't serialize object of unregistered class");var u=a.serialize?a.serialize(t,e):{};if(!a.serialize){for(var l in t)if(t.hasOwnProperty(l)&&!(Ni[s].omit.indexOf(l)>=0)){var c=t[l];u[l]=Ni[s].shallow.indexOf(l)>=0?c:Bi(c,e)}t instanceof Error&&(u.message=t.message)}if(u.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==s&&(u.$name=s),u}throw new Error("can't serialize object of type "+typeof t)}function Hi(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||zi(t)||ji(t)||ArrayBuffer.isView(t)||t instanceof Ai)return t;if(Array.isArray(t))return t.map(Hi);if("object"==typeof t){var e=t.$name||"Object",n=Ni[e].klass;if(!n)throw new Error("can't deserialize unregistered class "+e);if(n.deserialize)return n.deserialize(t);for(var i=Object.create(n.prototype),r=0,o=Object.keys(t);r<o.length;r+=1){var a=o[r];if("$name"!==a){var s=t[a];i[a]=Ni[e].shallow.indexOf(a)>=0?s:Hi(s)}}return i}throw new Error("can't deserialize object of type "+typeof t)}var Ui=function(){this.first=!0};Ui.prototype.update=function(t,e){var n=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=n,!0))};var Vi={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},Khmer:function(t){return t>=6016&&t<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};function qi(t){for(var e=0,n=t;e<n.length;e+=1)if(Gi(n[e].charCodeAt(0)))return!0;return!1}function Gi(t){return!(746!==t&&747!==t&&(t<4352||!(Vi["Bopomofo Extended"](t)||Vi.Bopomofo(t)||Vi["CJK Compatibility Forms"](t)&&!(t>=65097&&t<=65103)||Vi["CJK Compatibility Ideographs"](t)||Vi["CJK Compatibility"](t)||Vi["CJK Radicals Supplement"](t)||Vi["CJK Strokes"](t)||!(!Vi["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||Vi["CJK Unified Ideographs Extension A"](t)||Vi["CJK Unified Ideographs"](t)||Vi["Enclosed CJK Letters and Months"](t)||Vi["Hangul Compatibility Jamo"](t)||Vi["Hangul Jamo Extended-A"](t)||Vi["Hangul Jamo Extended-B"](t)||Vi["Hangul Jamo"](t)||Vi["Hangul Syllables"](t)||Vi.Hiragana(t)||Vi["Ideographic Description Characters"](t)||Vi.Kanbun(t)||Vi["Kangxi Radicals"](t)||Vi["Katakana Phonetic Extensions"](t)||Vi.Katakana(t)&&12540!==t||!(!Vi["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!Vi["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||Vi["Unified Canadian Aboriginal Syllabics"](t)||Vi["Unified Canadian Aboriginal Syllabics Extended"](t)||Vi["Vertical Forms"](t)||Vi["Yijing Hexagram Symbols"](t)||Vi["Yi Syllables"](t)||Vi["Yi Radicals"](t))))}function Wi(t){return!(Gi(t)||function(t){return!!(Vi["Latin-1 Supplement"](t)&&(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||Vi["General Punctuation"](t)&&(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||Vi["Letterlike Symbols"](t)||Vi["Number Forms"](t)||Vi["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215)||Vi["Control Pictures"](t)&&9251!==t||Vi["Optical Character Recognition"](t)||Vi["Enclosed Alphanumerics"](t)||Vi["Geometric Shapes"](t)||Vi["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||Vi["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||Vi["CJK Symbols and Punctuation"](t)||Vi.Katakana(t)||Vi["Private Use Area"](t)||Vi["CJK Compatibility Forms"](t)||Vi["Small Form Variants"](t)||Vi["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)}(t))}function Xi(t){return t>=1424&&t<=2303||Vi["Arabic Presentation Forms-A"](t)||Vi["Arabic Presentation Forms-B"](t)}function Ki(t,e){return!(!e&&Xi(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||Vi.Khmer(t))}function Zi(t){for(var e=0,n=t;e<n.length;e+=1)if(Xi(n[e].charCodeAt(0)))return!0;return!1}var Qi=null,Ji="unavailable",$i=null,tr=function(t){t&&"string"==typeof t&&t.indexOf("NetworkError")>-1&&(Ji="error"),Qi&&Qi(t)};function er(){nr.fire(new St("pluginStateChange",{pluginStatus:Ji,pluginURL:$i}))}var nr=new Lt,ir=function(){return Ji},rr=function(){if("deferred"!==Ji||!$i)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Ji="loading",er(),$i&&bt({url:$i},function(t){t?tr(t):(Ji="loaded",er())})},or={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return"loaded"===Ji||null!=or.applyArabicShaping},isLoading:function(){return"loading"===Ji},setState:function(t){Ji=t.pluginStatus,$i=t.pluginURL},isParsed:function(){return null!=or.applyArabicShaping&&null!=or.processBidirectionalText&&null!=or.processStyledBidirectionalText},getPluginURL:function(){return $i}},ar=function(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Ui,this.transition={})};ar.prototype.isSupportedScript=function(t){return function(t,e){for(var n=0,i=t;n<i.length;n+=1)if(!Ki(i[n].charCodeAt(0),e))return!1;return!0}(t,or.isLoaded())},ar.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},ar.prototype.getCrossfadeParameters=function(){var t=this.zoom,e=t-Math.floor(t),n=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*e}};var sr=function(t,e){this.property=t,this.value=e,this.expression=function(t,e){if(Fn(t))return new Zn(t,e);if(qn(t)){var n=Kn(t,e);if("error"===n.result)throw new Error(n.value.map(function(t){return t.key+": "+t.message}).join(", "));return n.value}var i=t;return"string"==typeof t&&"color"===e.type&&(i=$t.parse(t)),{kind:"constant",evaluate:function(){return i}}}(void 0===e?t.specification.default:e,t.specification)};sr.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},sr.prototype.possiblyEvaluate=function(t,e,n){return this.property.possiblyEvaluate(this,t,e,n)};var ur=function(t){this.property=t,this.value=new sr(t,void 0)};ur.prototype.transitioned=function(t,e){return new cr(this.property,this.value,e,d({},t.transition,this.transition),t.now)},ur.prototype.untransitioned=function(){return new cr(this.property,this.value,null,{},0)};var lr=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};lr.prototype.getValue=function(t){return x(this._values[t].value.value)},lr.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new ur(this._values[t].property)),this._values[t].value=new sr(this._values[t].property,null===e?void 0:x(e))},lr.prototype.getTransition=function(t){return x(this._values[t].transition)},lr.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new ur(this._values[t].property)),this._values[t].transition=x(e)||void 0},lr.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var i=n[e],r=this.getValue(i);void 0!==r&&(t[i]=r);var o=this.getTransition(i);void 0!==o&&(t[i+"-transition"]=o)}return t},lr.prototype.transitioned=function(t,e){for(var n=new hr(this._properties),i=0,r=Object.keys(this._values);i<r.length;i+=1){var o=r[i];n._values[o]=this._values[o].transitioned(t,e._values[o])}return n},lr.prototype.untransitioned=function(){for(var t=new hr(this._properties),e=0,n=Object.keys(this._values);e<n.length;e+=1){var i=n[e];t._values[i]=this._values[i].untransitioned()}return t};var cr=function(t,e,n,i,r){this.property=t,this.value=e,this.begin=r+i.delay||0,this.end=this.begin+i.duration||0,t.specification.transition&&(i.delay||i.duration)&&(this.prior=n)};cr.prototype.possiblyEvaluate=function(t,e,n){var i=t.now||0,r=this.value.possiblyEvaluate(t,e,n),o=this.prior;if(o){if(i>this.end)return this.prior=null,r;if(this.value.isDataDriven())return this.prior=null,r;if(i<this.begin)return o.possiblyEvaluate(t,e,n);var a=(i-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(t,e,n),r,function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}(a))}return r};var hr=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};hr.prototype.possiblyEvaluate=function(t,e,n){for(var i=new pr(this._properties),r=0,o=Object.keys(this._values);r<o.length;r+=1){var a=o[r];i._values[a]=this._values[a].possiblyEvaluate(t,e,n)}return i},hr.prototype.hasTransition=function(){for(var t=0,e=Object.keys(this._values);t<e.length;t+=1)if(this._values[e[t]].prior)return!0;return!1};var dr=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};dr.prototype.getValue=function(t){return x(this._values[t].value)},dr.prototype.setValue=function(t,e){this._values[t]=new sr(this._values[t].property,null===e?void 0:x(e))},dr.prototype.serialize=function(){for(var t={},e=0,n=Object.keys(this._values);e<n.length;e+=1){var i=n[e],r=this.getValue(i);void 0!==r&&(t[i]=r)}return t},dr.prototype.possiblyEvaluate=function(t,e,n){for(var i=new pr(this._properties),r=0,o=Object.keys(this._values);r<o.length;r+=1){var a=o[r];i._values[a]=this._values[a].possiblyEvaluate(t,e,n)}return i};var fr=function(t,e,n){this.property=t,this.value=e,this.parameters=n};fr.prototype.isConstant=function(){return"constant"===this.value.kind},fr.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},fr.prototype.evaluate=function(t,e,n,i){return this.property.evaluate(this.value,this.parameters,t,e,n,i)};var pr=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};pr.prototype.get=function(t){return this._values[t]};var mr=function(t){this.specification=t};mr.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},mr.prototype.interpolate=function(t,e,n){var i=Ve[this.specification.type];return i?i(t,e,n):t};var gr=function(t,e){this.specification=t,this.overrides=e};gr.prototype.possiblyEvaluate=function(t,e,n,i){return new fr(this,"constant"===t.expression.kind||"camera"===t.expression.kind?{kind:"constant",value:t.expression.evaluate(e,null,{},n,i)}:t.expression,e)},gr.prototype.interpolate=function(t,e,n){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new fr(this,{kind:"constant",value:void 0},t.parameters);var i=Ve[this.specification.type];return i?new fr(this,{kind:"constant",value:i(t.value.value,e.value.value,n)},t.parameters):t},gr.prototype.evaluate=function(t,e,n,i,r,o){return"constant"===t.kind?t.value:t.evaluate(e,n,i,r,o)};var yr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(t,e,n,i){if(void 0===t.value)return new fr(this,{kind:"constant",value:void 0},e);if("constant"===t.expression.kind){var r=t.expression.evaluate(e,null,{},n,i),o="resolvedImage"===t.property.specification.type&&"string"!=typeof r?r.name:r,a=this._calculate(o,o,o,e);return new fr(this,{kind:"constant",value:a},e)}if("camera"===t.expression.kind){var s=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new fr(this,{kind:"constant",value:s},e)}return new fr(this,t.expression,e)},e.prototype.evaluate=function(t,e,n,i,r,o){if("source"===t.kind){var a=t.evaluate(e,n,i,r,o);return this._calculate(a,a,a,e)}return"composite"===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},n,i),t.evaluate({zoom:Math.floor(e.zoom)},n,i),t.evaluate({zoom:Math.floor(e.zoom)+1},n,i),e):t.value},e.prototype._calculate=function(t,e,n,i){return i.zoom>i.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},e.prototype.interpolate=function(t){return t},e}(gr),vr=function(t){this.specification=t};vr.prototype.possiblyEvaluate=function(t,e,n,i){if(void 0!==t.value){if("constant"===t.expression.kind){var r=t.expression.evaluate(e,null,{},n,i);return this._calculate(r,r,r,e)}return this._calculate(t.expression.evaluate(new ar(Math.floor(e.zoom-1),e)),t.expression.evaluate(new ar(Math.floor(e.zoom),e)),t.expression.evaluate(new ar(Math.floor(e.zoom+1),e)),e)}},vr.prototype._calculate=function(t,e,n,i){return i.zoom>i.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:n,to:e}},vr.prototype.interpolate=function(t){return t};var _r=function(t){this.specification=t};_r.prototype.possiblyEvaluate=function(t,e,n,i){return!!t.expression.evaluate(e,null,{},n,i)},_r.prototype.interpolate=function(){return!1};var br=function(t){for(var e in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],t){var n=t[e];n.specification.overridable&&this.overridableProperties.push(e);var i=this.defaultPropertyValues[e]=new sr(n,void 0),r=this.defaultTransitionablePropertyValues[e]=new ur(n);this.defaultTransitioningPropertyValues[e]=r.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=i.possiblyEvaluate({})}};Fi("DataDrivenProperty",gr),Fi("DataConstantProperty",mr),Fi("CrossFadedDataDrivenProperty",yr),Fi("CrossFadedProperty",vr),Fi("ColorRampProperty",_r);var xr=function(t){function e(e,n){if(t.call(this),this.id=e.id,this.type=e.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},"custom"!==e.type&&(this.metadata=(e=e).metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),n.layout&&(this._unevaluatedLayout=new dr(n.layout)),n.paint)){for(var i in this._transitionablePaint=new lr(n.paint),e.paint)this.setPaintProperty(i,e.paint[i],{validate:!1});for(var r in e.layout)this.setLayoutProperty(r,e.layout[r],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new pr(n.paint)}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},e.prototype.getLayoutProperty=function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},e.prototype.setLayoutProperty=function(t,e,n){void 0===n&&(n={}),null!=e&&this._validate(Ii,"layers."+this.id+".layout."+t,t,e,n)||("visibility"!==t?this._unevaluatedLayout.setValue(t,e):this.visibility=e)},e.prototype.getPaintProperty=function(t){return v(t,"-transition")?this._transitionablePaint.getTransition(t.slice(0,-"-transition".length)):this._transitionablePaint.getValue(t)},e.prototype.setPaintProperty=function(t,e,n){if(void 0===n&&(n={}),null!=e&&this._validate(Ci,"layers."+this.id+".paint."+t,t,e,n))return!1;if(v(t,"-transition"))return this._transitionablePaint.setTransition(t.slice(0,-"-transition".length),e||void 0),!1;var i=this._transitionablePaint._values[t],r="cross-faded-data-driven"===i.property.specification["property-type"],o=i.value.isDataDriven(),a=i.value;this._transitionablePaint.setValue(t,e),this._handleSpecialPaintPropertyUpdate(t);var s=this._transitionablePaint._values[t].value;return s.isDataDriven()||o||r||this._handleOverridablePaintPropertyUpdate(t,a,s)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){},e.prototype._handleOverridablePaintPropertyUpdate=function(t,e,n){return!1},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(t,e){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,e)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,e)},e.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),b(t,function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)})},e.prototype._validate=function(t,e,n,i,r){return void 0===r&&(r={}),(!r||!1!==r.validate)&&Pi(this,t.call(Li,{key:e,layerType:this.type,objectKey:n,value:i,styleSpec:Tt,style:{glyphs:!0,sprite:!0}}))},e.prototype.is3D=function(){return!1},e.prototype.isTileClipped=function(){return!1},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e.prototype.isStateDependent=function(){for(var t in this.paint._values){var e=this.paint.get(t);if(e instanceof fr&&On(e.property.specification)&&("source"===e.value.kind||"composite"===e.value.kind)&&e.value.isStateDependent)return!0}return!1},e}(Lt),wr={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},kr=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Mr=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Sr(t,e){void 0===e&&(e=1);var n=0,i=0;return{members:t.map(function(t){var r=wr[t.type].BYTES_PER_ELEMENT,o=n=Er(n,Math.max(e,r)),a=t.components||1;return i=Math.max(i,r),n+=r*a,{name:t.name,type:t.type,components:a,offset:o}}),size:Er(n,Math.max(i,e)),alignment:e}}function Er(t,e){return Math.ceil(t/e)*e}Mr.serialize=function(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},Mr.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},Mr.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Mr.prototype.clear=function(){this.length=0},Mr.prototype.resize=function(t){this.reserve(t),this.length=t},Mr.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},Mr.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Lr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var i=2*t;return this.int16[i+0]=e,this.int16[i+1]=n,t},e}(Mr);Lr.prototype.bytesPerElement=4,Fi("StructArrayLayout2i4",Lr);var Tr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n,i)},e.prototype.emplace=function(t,e,n,i,r){var o=4*t;return this.int16[o+0]=e,this.int16[o+1]=n,this.int16[o+2]=i,this.int16[o+3]=r,t},e}(Mr);Tr.prototype.bytesPerElement=8,Fi("StructArrayLayout4i8",Tr);var Cr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,r,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,i,r,o)},e.prototype.emplace=function(t,e,n,i,r,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=i,this.int16[s+3]=r,this.int16[s+4]=o,this.int16[s+5]=a,t},e}(Mr);Cr.prototype.bytesPerElement=12,Fi("StructArrayLayout2i4i12",Cr);var Ir=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,r,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,i,r,o)},e.prototype.emplace=function(t,e,n,i,r,o,a){var s=4*t,u=8*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.uint8[u+4]=i,this.uint8[u+5]=r,this.uint8[u+6]=o,this.uint8[u+7]=a,t},e}(Mr);Ir.prototype.bytesPerElement=8,Fi("StructArrayLayout2i4ub8",Ir);var Pr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var i=2*t;return this.float32[i+0]=e,this.float32[i+1]=n,t},e}(Mr);Pr.prototype.bytesPerElement=8,Fi("StructArrayLayout2f8",Pr);var Dr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,r,o,a,s,u,l){var c=this.length;return this.resize(c+1),this.emplace(c,t,e,n,i,r,o,a,s,u,l)},e.prototype.emplace=function(t,e,n,i,r,o,a,s,u,l,c){var h=10*t;return this.uint16[h+0]=e,this.uint16[h+1]=n,this.uint16[h+2]=i,this.uint16[h+3]=r,this.uint16[h+4]=o,this.uint16[h+5]=a,this.uint16[h+6]=s,this.uint16[h+7]=u,this.uint16[h+8]=l,this.uint16[h+9]=c,t},e}(Mr);Dr.prototype.bytesPerElement=20,Fi("StructArrayLayout10ui20",Dr);var Or=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,r,o,a,s,u,l,c,h){var d=this.length;return this.resize(d+1),this.emplace(d,t,e,n,i,r,o,a,s,u,l,c,h)},e.prototype.emplace=function(t,e,n,i,r,o,a,s,u,l,c,h,d){var f=12*t;return this.int16[f+0]=e,this.int16[f+1]=n,this.int16[f+2]=i,this.int16[f+3]=r,this.uint16[f+4]=o,this.uint16[f+5]=a,this.uint16[f+6]=s,this.uint16[f+7]=u,this.int16[f+8]=l,this.int16[f+9]=c,this.int16[f+10]=h,this.int16[f+11]=d,t},e}(Mr);Or.prototype.bytesPerElement=24,Fi("StructArrayLayout4i4ui4i24",Or);var Ar=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n)},e.prototype.emplace=function(t,e,n,i){var r=3*t;return this.float32[r+0]=e,this.float32[r+1]=n,this.float32[r+2]=i,t},e}(Mr);Ar.prototype.bytesPerElement=12,Fi("StructArrayLayout3f12",Ar);var Rr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.uint32[1*t+0]=e,t},e}(Mr);Rr.prototype.bytesPerElement=4,Fi("StructArrayLayout1ul4",Rr);var Nr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,r,o,a,s,u){var l=this.length;return this.resize(l+1),this.emplace(l,t,e,n,i,r,o,a,s,u)},e.prototype.emplace=function(t,e,n,i,r,o,a,s,u,l){var c=10*t,h=5*t;return this.int16[c+0]=e,this.int16[c+1]=n,this.int16[c+2]=i,this.int16[c+3]=r,this.int16[c+4]=o,this.int16[c+5]=a,this.uint32[h+3]=s,this.uint16[c+8]=u,this.uint16[c+9]=l,t},e}(Mr);Nr.prototype.bytesPerElement=20,Fi("StructArrayLayout6i1ul2ui20",Nr);var Fr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,r,o){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,n,i,r,o)},e.prototype.emplace=function(t,e,n,i,r,o,a){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=n,this.int16[s+2]=i,this.int16[s+3]=r,this.int16[s+4]=o,this.int16[s+5]=a,t},e}(Mr);Fr.prototype.bytesPerElement=12,Fi("StructArrayLayout2i2i2i12",Fr);var Yr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,r){var o=this.length;return this.resize(o+1),this.emplace(o,t,e,n,i,r)},e.prototype.emplace=function(t,e,n,i,r,o){var a=4*t,s=8*t;return this.float32[a+0]=e,this.float32[a+1]=n,this.float32[a+2]=i,this.int16[s+6]=r,this.int16[s+7]=o,t},e}(Mr);Yr.prototype.bytesPerElement=16,Fi("StructArrayLayout2f1f2i16",Yr);var zr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n,i)},e.prototype.emplace=function(t,e,n,i,r){var o=12*t,a=3*t;return this.uint8[o+0]=e,this.uint8[o+1]=n,this.float32[a+1]=i,this.float32[a+2]=r,t},e}(Mr);zr.prototype.bytesPerElement=12,Fi("StructArrayLayout2ub2f12",zr);var jr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n)},e.prototype.emplace=function(t,e,n,i){var r=3*t;return this.uint16[r+0]=e,this.uint16[r+1]=n,this.uint16[r+2]=i,t},e}(Mr);jr.prototype.bytesPerElement=6,Fi("StructArrayLayout3ui6",jr);var Br=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,r,o,a,s,u,l,c,h,d,f,p,m,g){var y=this.length;return this.resize(y+1),this.emplace(y,t,e,n,i,r,o,a,s,u,l,c,h,d,f,p,m,g)},e.prototype.emplace=function(t,e,n,i,r,o,a,s,u,l,c,h,d,f,p,m,g,y){var v=24*t,_=12*t,b=48*t;return this.int16[v+0]=e,this.int16[v+1]=n,this.uint16[v+2]=i,this.uint16[v+3]=r,this.uint32[_+2]=o,this.uint32[_+3]=a,this.uint32[_+4]=s,this.uint16[v+10]=u,this.uint16[v+11]=l,this.uint16[v+12]=c,this.float32[_+7]=h,this.float32[_+8]=d,this.uint8[b+36]=f,this.uint8[b+37]=p,this.uint8[b+38]=m,this.uint32[_+10]=g,this.int16[v+22]=y,t},e}(Mr);Br.prototype.bytesPerElement=48,Fi("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Br);var Hr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,r,o,a,s,u,l,c,h,d,f,p,m,g,y,v,_,b,x,w,k,M,S,E,L){var T=this.length;return this.resize(T+1),this.emplace(T,t,e,n,i,r,o,a,s,u,l,c,h,d,f,p,m,g,y,v,_,b,x,w,k,M,S,E,L)},e.prototype.emplace=function(t,e,n,i,r,o,a,s,u,l,c,h,d,f,p,m,g,y,v,_,b,x,w,k,M,S,E,L,T){var C=34*t,I=17*t;return this.int16[C+0]=e,this.int16[C+1]=n,this.int16[C+2]=i,this.int16[C+3]=r,this.int16[C+4]=o,this.int16[C+5]=a,this.int16[C+6]=s,this.int16[C+7]=u,this.uint16[C+8]=l,this.uint16[C+9]=c,this.uint16[C+10]=h,this.uint16[C+11]=d,this.uint16[C+12]=f,this.uint16[C+13]=p,this.uint16[C+14]=m,this.uint16[C+15]=g,this.uint16[C+16]=y,this.uint16[C+17]=v,this.uint16[C+18]=_,this.uint16[C+19]=b,this.uint16[C+20]=x,this.uint16[C+21]=w,this.uint16[C+22]=k,this.uint32[I+12]=M,this.float32[I+13]=S,this.float32[I+14]=E,this.float32[I+15]=L,this.float32[I+16]=T,t},e}(Mr);Hr.prototype.bytesPerElement=68,Fi("StructArrayLayout8i15ui1ul4f68",Hr);var Ur=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.float32[1*t+0]=e,t},e}(Mr);Ur.prototype.bytesPerElement=4,Fi("StructArrayLayout1f4",Ur);var Vr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n)},e.prototype.emplace=function(t,e,n,i){var r=3*t;return this.int16[r+0]=e,this.int16[r+1]=n,this.int16[r+2]=i,t},e}(Mr);Vr.prototype.bytesPerElement=6,Fi("StructArrayLayout3i6",Vr);var qr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,n)},e.prototype.emplace=function(t,e,n,i){var r=4*t;return this.uint32[2*t+0]=e,this.uint16[r+2]=n,this.uint16[r+3]=i,t},e}(Mr);qr.prototype.bytesPerElement=8,Fi("StructArrayLayout1ul2ui8",qr);var Gr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;return this.resize(n+1),this.emplace(n,t,e)},e.prototype.emplace=function(t,e,n){var i=2*t;return this.uint16[i+0]=e,this.uint16[i+1]=n,t},e}(Mr);Gr.prototype.bytesPerElement=4,Fi("StructArrayLayout2ui4",Gr);var Wr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.uint16[1*t+0]=e,t},e}(Mr);Wr.prototype.bytesPerElement=2,Fi("StructArrayLayout1ui2",Wr);var Xr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i){var r=this.length;return this.resize(r+1),this.emplace(r,t,e,n,i)},e.prototype.emplace=function(t,e,n,i,r){var o=4*t;return this.float32[o+0]=e,this.float32[o+1]=n,this.float32[o+2]=i,this.float32[o+3]=r,t},e}(Mr);Xr.prototype.bytesPerElement=16,Fi("StructArrayLayout4f16",Xr);var Kr=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.anchorPoint.get=function(){return new r(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,n),e}(kr);Kr.prototype.size=20;var Zr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new Kr(this,t)},e}(Nr);Fi("CollisionBoxArray",Zr);var Qr=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},n.placedOrientation.set=function(t){this._structArray.uint8[this._pos1+37]=t},n.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},n.hidden.set=function(t){this._structArray.uint8[this._pos1+38]=t},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},n.crossTileID.set=function(t){this._structArray.uint32[this._pos4+10]=t},n.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(e.prototype,n),e}(kr);Qr.prototype.size=48;var Jr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new Qr(this,t)},e}(Br);Fi("PlacedSymbolArray",Jr);var $r=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},n.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},n.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},n.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},n.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},n.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},n.key.get=function(){return this._structArray.uint16[this._pos2+8]},n.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},n.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},n.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},n.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},n.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},n.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},n.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},n.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},n.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},n.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},n.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},n.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},n.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},n.crossTileID.set=function(t){this._structArray.uint32[this._pos4+12]=t},n.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},n.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},n.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},n.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(e.prototype,n),e}(kr);$r.prototype.size=68;var to=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new $r(this,t)},e}(Hr);Fi("SymbolInstanceArray",to);var eo=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getoffsetX=function(t){return this.float32[1*t+0]},e}(Ur);Fi("GlyphOffsetArray",eo);var no=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getx=function(t){return this.int16[3*t+0]},e.prototype.gety=function(t){return this.int16[3*t+1]},e.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},e}(Vr);Fi("SymbolLineVertexArray",no);var io=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(e.prototype,n),e}(kr);io.prototype.size=8;var ro=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return new io(this,t)},e}(qr);Fi("FeatureIndexArray",ro);var oo=Sr([{name:"a_pos",components:2,type:"Int16"}],4).members,ao=function(t){void 0===t&&(t=[]),this.segments=t};function so(t,e){return 256*(t=c(Math.floor(t),0,255))+c(Math.floor(e),0,255)}ao.prototype.prepareSegment=function(t,e,n,i){var r=this.segments[this.segments.length-1];return t>ao.MAX_VERTEX_ARRAY_LENGTH&&k("Max vertices per segment is "+ao.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+t),(!r||r.vertexLength+t>ao.MAX_VERTEX_ARRAY_LENGTH||r.sortKey!==i)&&(r={vertexOffset:e.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==i&&(r.sortKey=i),this.segments.push(r)),r},ao.prototype.get=function(){return this.segments},ao.prototype.destroy=function(){for(var t=0,e=this.segments;t<e.length;t+=1){var n=e[t];for(var i in n.vaos)n.vaos[i].destroy()}},ao.simpleSegment=function(t,e,n,i){return new ao([{vertexOffset:t,primitiveOffset:e,vertexLength:n,primitiveLength:i,vaos:{},sortKey:0}])},ao.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Fi("SegmentVector",ao);var uo=Sr([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),lo=e(function(t){t.exports=function(t,e){var n,i,r,o,a,s,u,l;for(i=t.length-(n=3&t.length),r=e,a=3432918353,s=461845907,l=0;l<i;)u=255&t.charCodeAt(l)|(255&t.charCodeAt(++l))<<8|(255&t.charCodeAt(++l))<<16|(255&t.charCodeAt(++l))<<24,++l,r=27492+(65535&(o=5*(65535&(r=(r^=u=(65535&(u=(u=(65535&u)*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295)<<13|r>>>19))+((5*(r>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(u=0,n){case 3:u^=(255&t.charCodeAt(l+2))<<16;case 2:u^=(255&t.charCodeAt(l+1))<<8;case 1:r^=u=(65535&(u=(u=(65535&(u^=255&t.charCodeAt(l)))*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295}return r^=t.length,r=2246822507*(65535&(r^=r>>>16))+((2246822507*(r>>>16)&65535)<<16)&4294967295,r=3266489909*(65535&(r^=r>>>13))+((3266489909*(r>>>16)&65535)<<16)&4294967295,(r^=r>>>16)>>>0}}),co=e(function(t){t.exports=function(t,e){for(var n,i=t.length,r=e^i,o=0;i>=4;)n=1540483477*(65535&(n=255&t.charCodeAt(o)|(255&t.charCodeAt(++o))<<8|(255&t.charCodeAt(++o))<<16|(255&t.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),i-=4,++o;switch(i){case 3:r^=(255&t.charCodeAt(o+2))<<16;case 2:r^=(255&t.charCodeAt(o+1))<<8;case 1:r=1540483477*(65535&(r^=255&t.charCodeAt(o)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),(r^=r>>>15)>>>0}}),ho=lo,fo=co;ho.murmur3=lo,ho.murmur2=fo;var po=function(){this.ids=[],this.positions=[],this.indexed=!1};po.prototype.add=function(t,e,n,i){this.ids.push(go(t)),this.positions.push(e,n,i)},po.prototype.getPositions=function(t){for(var e=go(t),n=0,i=this.ids.length-1;n<i;){var r=n+i>>1;this.ids[r]>=e?i=r:n=r+1}for(var o=[];this.ids[n]===e;)o.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return o},po.serialize=function(t,e){var n=new Float64Array(t.ids),i=new Uint32Array(t.positions);return function t(e,n,i,r){for(;i<r;){for(var o=e[i+r>>1],a=i-1,s=r+1;;){do{a++}while(e[a]<o);do{s--}while(e[s]>o);if(a>=s)break;yo(e,a,s),yo(n,3*a,3*s),yo(n,3*a+1,3*s+1),yo(n,3*a+2,3*s+2)}s-i<r-s?(t(e,n,i,s),i=s+1):(t(e,n,s+1,r),r=s)}}(n,i,0,n.length-1),e&&e.push(n.buffer,i.buffer),{ids:n,positions:i}},po.deserialize=function(t){var e=new po;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e};var mo=Math.pow(2,53)-1;function go(t){var e=+t;return!isNaN(e)&&e<=mo?e:ho(String(t))}function yo(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}Fi("FeaturePositionMap",po);var vo=function(t,e){this.gl=t.gl,this.location=e},_o=function(t){function e(e,n){t.call(this,e,n),this.current=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1i(this.location,t))},e}(vo),bo=function(t){function e(e,n){t.call(this,e,n),this.current=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))},e}(vo),xo=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]||(this.current=t,this.gl.uniform2f(this.location,t[0],t[1]))},e}(vo),wo=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]||(this.current=t,this.gl.uniform3f(this.location,t[0],t[1],t[2]))},e}(vo),ko=function(t){function e(e,n){t.call(this,e,n),this.current=[0,0,0,0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))},e}(vo),Mo=function(t){function e(e,n){t.call(this,e,n),this.current=$t.transparent}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))},e}(vo),So=new Float32Array(16),Eo=function(t){function e(e,n){t.call(this,e,n),this.current=So}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){if(t[12]!==this.current[12]||t[0]!==this.current[0])return this.current=t,void this.gl.uniformMatrix4fv(this.location,!1,t);for(var e=1;e<16;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix4fv(this.location,!1,t);break}},e}(vo);function Lo(t){return[so(255*t.r,255*t.g),so(255*t.b,255*t.a)]}var To=function(t,e,n){this.value=t,this.uniformNames=e.map(function(t){return"u_"+t}),this.type=n};To.prototype.setUniform=function(t,e,n){t.set(n.constantOr(this.value))},To.prototype.getBinding=function(t,e,n){return"color"===this.type?new Mo(t,e):new bo(t,e)};var Co=function(t,e){this.uniformNames=e.map(function(t){return"u_"+t}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Co.prototype.setConstantPatternPositions=function(t,e){this.pixelRatioFrom=e.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=e.tlbr,this.patternTo=t.tlbr},Co.prototype.setUniform=function(t,e,n,i){var r="u_pattern_to"===i?this.patternTo:"u_pattern_from"===i?this.patternFrom:"u_pixel_ratio_to"===i?this.pixelRatioTo:"u_pixel_ratio_from"===i?this.pixelRatioFrom:null;r&&t.set(r)},Co.prototype.getBinding=function(t,e,n){return"u_pattern"===n.substr(0,9)?new ko(t,e):new bo(t,e)};var Io=function(t,e,n,i){this.expression=t,this.type=n,this.maxValue=0,this.paintVertexAttributes=e.map(function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?2:1,offset:0}}),this.paintVertexArray=new i};Io.prototype.populatePaintArray=function(t,e,n,i,r){var o=this.paintVertexArray.length,a=this.expression.evaluate(new ar(0),e,{},i,[],r);this.paintVertexArray.resize(t),this._setPaintValue(o,t,a)},Io.prototype.updatePaintArray=function(t,e,n,i){var r=this.expression.evaluate({zoom:0},n,i);this._setPaintValue(t,e,r)},Io.prototype._setPaintValue=function(t,e,n){if("color"===this.type)for(var i=Lo(n),r=t;r<e;r++)this.paintVertexArray.emplace(r,i[0],i[1]);else{for(var o=t;o<e;o++)this.paintVertexArray.emplace(o,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}},Io.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Io.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Po=function(t,e,n,i,r,o){this.expression=t,this.uniformNames=e.map(function(t){return"u_"+t+"_t"}),this.type=n,this.useIntegerZoom=i,this.zoom=r,this.maxValue=0,this.paintVertexAttributes=e.map(function(t){return{name:"a_"+t,type:"Float32",components:"color"===n?4:2,offset:0}}),this.paintVertexArray=new o};Po.prototype.populatePaintArray=function(t,e,n,i,r){var o=this.expression.evaluate(new ar(this.zoom),e,{},i,[],r),a=this.expression.evaluate(new ar(this.zoom+1),e,{},i,[],r),s=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(s,t,o,a)},Po.prototype.updatePaintArray=function(t,e,n,i){var r=this.expression.evaluate({zoom:this.zoom},n,i),o=this.expression.evaluate({zoom:this.zoom+1},n,i);this._setPaintValue(t,e,r,o)},Po.prototype._setPaintValue=function(t,e,n,i){if("color"===this.type)for(var r=Lo(n),o=Lo(i),a=t;a<e;a++)this.paintVertexArray.emplace(a,r[0],r[1],o[0],o[1]);else{for(var s=t;s<e;s++)this.paintVertexArray.emplace(s,n,i);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(i))}},Po.prototype.upload=function(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Po.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Po.prototype.setUniform=function(t,e){var n=this.useIntegerZoom?Math.floor(e.zoom):e.zoom,i=c(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);t.set(i)},Po.prototype.getBinding=function(t,e,n){return new bo(t,e)};var Do=function(t,e,n,i,r,o){this.expression=t,this.type=e,this.useIntegerZoom=n,this.zoom=i,this.layerId=o,this.zoomInPaintVertexArray=new r,this.zoomOutPaintVertexArray=new r};Do.prototype.populatePaintArray=function(t,e,n){var i=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(i,t,e.patterns&&e.patterns[this.layerId],n)},Do.prototype.updatePaintArray=function(t,e,n,i,r){this._setPaintValues(t,e,n.patterns&&n.patterns[this.layerId],r)},Do.prototype._setPaintValues=function(t,e,n,i){if(i&&n){var r=i[n.min],o=i[n.mid],a=i[n.max];if(r&&o&&a)for(var s=t;s<e;s++)this.zoomInPaintVertexArray.emplace(s,o.tl[0],o.tl[1],o.br[0],o.br[1],r.tl[0],r.tl[1],r.br[0],r.br[1],o.pixelRatio,r.pixelRatio),this.zoomOutPaintVertexArray.emplace(s,o.tl[0],o.tl[1],o.br[0],o.br[1],a.tl[0],a.tl[1],a.br[0],a.br[1],o.pixelRatio,a.pixelRatio)}},Do.prototype.upload=function(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,uo.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,uo.members,this.expression.isStateDependent))},Do.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Oo=function(t,e,n){this.binders={},this._buffers=[];var i=[];for(var r in t.paint._values)if(n(r)){var o=t.paint.get(r);if(o instanceof fr&&On(o.property.specification)){var a=Ro(r,t.type),s=o.value,u=o.property.specification.type,l=o.property.useIntegerZoom,c=o.property.specification["property-type"],h="cross-faded"===c||"cross-faded-data-driven"===c;if("constant"===s.kind)this.binders[r]=h?new Co(s.value,a):new To(s.value,a,u),i.push("/u_"+r);else if("source"===s.kind||h){var d=No(r,u,"source");this.binders[r]=h?new Do(s,u,l,e,d,t.id):new Io(s,a,u,d),i.push("/a_"+r)}else{var f=No(r,u,"composite");this.binders[r]=new Po(s,a,u,l,e,f),i.push("/z_"+r)}}}this.cacheKey=i.sort().join("")};Oo.prototype.getMaxValue=function(t){var e=this.binders[t];return e instanceof Io||e instanceof Po?e.maxValue:0},Oo.prototype.populatePaintArrays=function(t,e,n,i,r){for(var o in this.binders){var a=this.binders[o];(a instanceof Io||a instanceof Po||a instanceof Do)&&a.populatePaintArray(t,e,n,i,r)}},Oo.prototype.setConstantPatternPositions=function(t,e){for(var n in this.binders){var i=this.binders[n];i instanceof Co&&i.setConstantPatternPositions(t,e)}},Oo.prototype.updatePaintArrays=function(t,e,n,i,r){var o=!1;for(var a in t)for(var s=0,u=e.getPositions(a);s<u.length;s+=1){var l=u[s],c=n.feature(l.index);for(var h in this.binders){var d=this.binders[h];if((d instanceof Io||d instanceof Po||d instanceof Do)&&!0===d.expression.isStateDependent){var f=i.paint.get(h);d.expression=f.value,d.updatePaintArray(l.start,l.end,c,t[a],r),o=!0}}}return o},Oo.prototype.defines=function(){var t=[];for(var e in this.binders){var n=this.binders[e];(n instanceof To||n instanceof Co)&&t.push.apply(t,n.uniformNames.map(function(t){return"#define HAS_UNIFORM_"+t}))}return t},Oo.prototype.getBinderAttributes=function(){var t=[];for(var e in this.binders){var n=this.binders[e];if(n instanceof Io||n instanceof Po)for(var i=0;i<n.paintVertexAttributes.length;i++)t.push(n.paintVertexAttributes[i].name);else if(n instanceof Do)for(var r=0;r<uo.members.length;r++)t.push(uo.members[r].name)}return t},Oo.prototype.getBinderUniforms=function(){var t=[];for(var e in this.binders){var n=this.binders[e];if(n instanceof To||n instanceof Co||n instanceof Po)for(var i=0,r=n.uniformNames;i<r.length;i+=1)t.push(r[i])}return t},Oo.prototype.getPaintVertexBuffers=function(){return this._buffers},Oo.prototype.getUniforms=function(t,e){var n=[];for(var i in this.binders){var r=this.binders[i];if(r instanceof To||r instanceof Co||r instanceof Po)for(var o=0,a=r.uniformNames;o<a.length;o+=1){var s=a[o];if(e[s]){var u=r.getBinding(t,e[s],s);n.push({name:s,property:i,binding:u})}}}return n},Oo.prototype.setUniforms=function(t,e,n,i){for(var r=0,o=e;r<o.length;r+=1){var a=o[r],s=a.name,u=a.property;this.binders[u].setUniform(a.binding,i,n.get(u),s)}},Oo.prototype.updatePaintBuffers=function(t){for(var e in this._buffers=[],this.binders){var n=this.binders[e];if(t&&n instanceof Do){var i=2===t.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;i&&this._buffers.push(i)}else(n instanceof Io||n instanceof Po)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}},Oo.prototype.upload=function(t){for(var e in this.binders){var n=this.binders[e];(n instanceof Io||n instanceof Po||n instanceof Do)&&n.upload(t)}this.updatePaintBuffers()},Oo.prototype.destroy=function(){for(var t in this.binders){var e=this.binders[t];(e instanceof Io||e instanceof Po||e instanceof Do)&&e.destroy()}};var Ao=function(t,e,n){void 0===n&&(n=function(){return!0}),this.programConfigurations={};for(var i=0,r=t;i<r.length;i+=1){var o=r[i];this.programConfigurations[o.id]=new Oo(o,e,n)}this.needsUpload=!1,this._featureMap=new po,this._bufferOffset=0};function Ro(t,e){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[t]||[t.replace(e+"-","").replace(/-/g,"_")]}function No(t,e,n){var i={color:{source:Pr,composite:Xr},number:{source:Ur,composite:Pr}},r=function(t){return{"line-pattern":{source:Dr,composite:Dr},"fill-pattern":{source:Dr,composite:Dr},"fill-extrusion-pattern":{source:Dr,composite:Dr}}[t]}(t);return r&&r[n]||i[e][n]}Ao.prototype.populatePaintArrays=function(t,e,n,i,r,o){for(var a in this.programConfigurations)this.programConfigurations[a].populatePaintArrays(t,e,i,r,o);void 0!==e.id&&this._featureMap.add(e.id,n,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0},Ao.prototype.updatePaintArrays=function(t,e,n,i){for(var r=0,o=n;r<o.length;r+=1){var a=o[r];this.needsUpload=this.programConfigurations[a.id].updatePaintArrays(t,this._featureMap,e,a,i)||this.needsUpload}},Ao.prototype.get=function(t){return this.programConfigurations[t]},Ao.prototype.upload=function(t){if(this.needsUpload){for(var e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1}},Ao.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},Fi("ConstantBinder",To),Fi("CrossFadedConstantBinder",Co),Fi("SourceExpressionBinder",Io),Fi("CrossFadedCompositeBinder",Do),Fi("CompositeExpressionBinder",Po),Fi("ProgramConfiguration",Oo,{omit:["_buffers"]}),Fi("ProgramConfigurationSet",Ao);var Fo=Math.pow(2,14)-1,Yo=-Fo-1;function zo(t){for(var e=8192/t.extent,n=t.loadGeometry(),i=0;i<n.length;i++)for(var r=n[i],o=0;o<r.length;o++){var a=r[o],s=Math.round(a.x*e),u=Math.round(a.y*e);a.x=c(s,Yo,Fo),a.y=c(u,Yo,Fo),(s<a.x||s>a.x+1||u<a.y||u>a.y+1)&&k("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}function jo(t,e){return{type:t.type,id:t.id,properties:t.properties,geometry:e?zo(t):[]}}function Bo(t,e,n,i,r){t.emplaceBack(2*e+(i+1)/2,2*n+(r+1)/2)}var Ho=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Lr,this.indexArray=new jr,this.segments=new ao,this.programConfigurations=new Ao(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter(function(t){return t.isStateDependent()}).map(function(t){return t.id})};function Uo(t,e){for(var n=0;n<t.length;n++)if(Jo(e,t[n]))return!0;for(var i=0;i<e.length;i++)if(Jo(t,e[i]))return!0;return!!Wo(t,e)}function Vo(t,e,n){return!!Jo(t,e)||!!Ko(e,t,n)}function qo(t,e){if(1===t.length)return Qo(e,t[0]);for(var n=0;n<e.length;n++)for(var i=e[n],r=0;r<i.length;r++)if(Jo(t,i[r]))return!0;for(var o=0;o<t.length;o++)if(Qo(e,t[o]))return!0;for(var a=0;a<e.length;a++)if(Wo(t,e[a]))return!0;return!1}function Go(t,e,n){if(t.length>1){if(Wo(t,e))return!0;for(var i=0;i<e.length;i++)if(Ko(e[i],t,n))return!0}for(var r=0;r<t.length;r++)if(Ko(t[r],e,n))return!0;return!1}function Wo(t,e){if(0===t.length||0===e.length)return!1;for(var n=0;n<t.length-1;n++)for(var i=t[n],r=t[n+1],o=0;o<e.length-1;o++)if(Xo(i,r,e[o],e[o+1]))return!0;return!1}function Xo(t,e,n,i){return M(t,n,i)!==M(e,n,i)&&M(t,e,n)!==M(t,e,i)}function Ko(t,e,n){var i=n*n;if(1===e.length)return t.distSqr(e[0])<i;for(var r=1;r<e.length;r++)if(Zo(t,e[r-1],e[r])<i)return!0;return!1}function Zo(t,e,n){var i=e.distSqr(n);if(0===i)return t.distSqr(e);var r=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/i;return t.distSqr(r<0?e:r>1?n:n.sub(e)._mult(r)._add(e))}function Qo(t,e){for(var n,i,r,o=!1,a=0;a<t.length;a++)for(var s=0,u=(n=t[a]).length-1;s<n.length;u=s++)(i=n[s]).y>e.y!=(r=n[u]).y>e.y&&e.x<(r.x-i.x)*(e.y-i.y)/(r.y-i.y)+i.x&&(o=!o);return o}function Jo(t,e){for(var n=!1,i=0,r=t.length-1;i<t.length;r=i++){var o=t[i],a=t[r];o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function $o(t,e,n){var i=n[0],r=n[2];if(t.x<i.x&&e.x<i.x||t.x>r.x&&e.x>r.x||t.y<i.y&&e.y<i.y||t.y>r.y&&e.y>r.y)return!1;var o=M(t,e,n[0]);return o!==M(t,e,n[1])||o!==M(t,e,n[2])||o!==M(t,e,n[3])}function ta(t,e,n){var i=e.paint.get(t).value;return"constant"===i.kind?i.value:n.programConfigurations.get(e.id).getMaxValue(t)}function ea(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function na(t,e,n,i,o){if(!e[0]&&!e[1])return t;var a=r.convert(e)._mult(o);"viewport"===n&&a._rotate(-i);for(var s=[],u=0;u<t.length;u++)s.push(t[u].sub(a));return s}Ho.prototype.populate=function(t,e,n){var i=this.layers[0],r=[],o=null;"circle"===i.type&&(o=i.layout.get("circle-sort-key"));for(var a=0,s=t;a<s.length;a+=1){var u=s[a],l=u.feature,c=u.id,h=u.index,d=u.sourceLayerIndex,f=this.layers[0]._featureFilter.needGeometry,p=jo(l,f);if(this.layers[0]._featureFilter.filter(new ar(this.zoom),p,n)){var m=o?o.evaluate(p,{},n):void 0,g={id:c,properties:l.properties,type:l.type,sourceLayerIndex:d,index:h,geometry:f?p.geometry:zo(l),patterns:{},sortKey:m};r.push(g)}}o&&r.sort(function(t,e){return t.sortKey-e.sortKey});for(var y=0,v=r;y<v.length;y+=1){var _=v[y],b=_.geometry,x=_.index,w=_.sourceLayerIndex,k=t[x].feature;this.addFeature(_,b,x,n),e.featureIndex.insert(k,b,x,w,this.index)}},Ho.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},Ho.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Ho.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ho.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,oo),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Ho.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ho.prototype.addFeature=function(t,e,n,i){for(var r=0,o=e;r<o.length;r+=1)for(var a=0,s=o[r];a<s.length;a+=1){var u=s[a],l=u.x,c=u.y;if(!(l<0||l>=8192||c<0||c>=8192)){var h=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),d=h.vertexLength;Bo(this.layoutVertexArray,l,c,-1,-1),Bo(this.layoutVertexArray,l,c,1,-1),Bo(this.layoutVertexArray,l,c,1,1),Bo(this.layoutVertexArray,l,c,-1,1),this.indexArray.emplaceBack(d,d+1,d+2),this.indexArray.emplaceBack(d,d+3,d+2),h.vertexLength+=4,h.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,{},i)},Fi("CircleBucket",Ho,{omit:["layers"]});var ia=new br({"circle-sort-key":new gr(Tt.layout_circle["circle-sort-key"])}),ra={paint:new br({"circle-radius":new gr(Tt.paint_circle["circle-radius"]),"circle-color":new gr(Tt.paint_circle["circle-color"]),"circle-blur":new gr(Tt.paint_circle["circle-blur"]),"circle-opacity":new gr(Tt.paint_circle["circle-opacity"]),"circle-translate":new mr(Tt.paint_circle["circle-translate"]),"circle-translate-anchor":new mr(Tt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new mr(Tt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new mr(Tt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new gr(Tt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new gr(Tt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new gr(Tt.paint_circle["circle-stroke-opacity"])}),layout:ia},oa="undefined"!=typeof Float32Array?Float32Array:Array;function aa(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function sa(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],d=e[9],f=e[10],p=e[11],m=e[12],g=e[13],y=e[14],v=e[15],_=n[0],b=n[1],x=n[2],w=n[3];return t[0]=_*i+b*s+x*h+w*m,t[1]=_*r+b*u+x*d+w*g,t[2]=_*o+b*l+x*f+w*y,t[3]=_*a+b*c+x*p+w*v,t[4]=(_=n[4])*i+(b=n[5])*s+(x=n[6])*h+(w=n[7])*m,t[5]=_*r+b*u+x*d+w*g,t[6]=_*o+b*l+x*f+w*y,t[7]=_*a+b*c+x*p+w*v,t[8]=(_=n[8])*i+(b=n[9])*s+(x=n[10])*h+(w=n[11])*m,t[9]=_*r+b*u+x*d+w*g,t[10]=_*o+b*l+x*f+w*y,t[11]=_*a+b*c+x*p+w*v,t[12]=(_=n[12])*i+(b=n[13])*s+(x=n[14])*h+(w=n[15])*m,t[13]=_*r+b*u+x*d+w*g,t[14]=_*o+b*l+x*f+w*y,t[15]=_*a+b*c+x*p+w*v,t}Math.hypot||(Math.hypot=function(){for(var t=arguments,e=0,n=arguments.length;n--;)e+=t[n]*t[n];return Math.sqrt(e)});var ua,la=sa;function ca(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3];return t[0]=n[0]*i+n[4]*r+n[8]*o+n[12]*a,t[1]=n[1]*i+n[5]*r+n[9]*o+n[13]*a,t[2]=n[2]*i+n[6]*r+n[10]*o+n[14]*a,t[3]=n[3]*i+n[7]*r+n[11]*o+n[15]*a,t}ua=new oa(3),oa!=Float32Array&&(ua[0]=0,ua[1]=0,ua[2]=0),function(){var t=new oa(4);oa!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0)}();var ha=(function(){var t=new oa(2);oa!=Float32Array&&(t[0]=0,t[1]=0)}(),function(t){function e(e){t.call(this,e,ra)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new Ho(t)},e.prototype.queryRadius=function(t){var e=t;return ta("circle-radius",this,e)+ta("circle-stroke-width",this,e)+ea(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,i,r,o,a,s){for(var u=na(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),l=this.paint.get("circle-radius").evaluate(e,n)+this.paint.get("circle-stroke-width").evaluate(e,n),c="map"===this.paint.get("circle-pitch-alignment"),h=c?u:function(t,e){return t.map(function(t){return da(t,e)})}(u,s),d=c?l*a:l,f=0,p=i;f<p.length;f+=1)for(var m=0,g=p[f];m<g.length;m+=1){var y=g[m],v=c?y:da(y,s),_=d,b=ca([],[y.x,y.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?_*=b[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(_*=o.cameraToCenterDistance/b[3]),Vo(h,v,_))return!0}return!1},e}(xr));function da(t,e){var n=ca([],[t.x,t.y,0,1],e);return new r(n[0]/n[3],n[1]/n[3])}var fa=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Ho);function pa(t,e,n,i){var r=e.width,o=e.height;if(i){if(i instanceof Uint8ClampedArray)i=new Uint8Array(i.buffer);else if(i.length!==r*o*n)throw new RangeError("mismatched image size")}else i=new Uint8Array(r*o*n);return t.width=r,t.height=o,t.data=i,t}function ma(t,e,n){var i=e.width,r=e.height;if(i!==t.width||r!==t.height){var o=pa({},{width:i,height:r},n);ga(t,o,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,i),height:Math.min(t.height,r)},n),t.width=i,t.height=r,t.data=o.data}}function ga(t,e,n,i,r,o){if(0===r.width||0===r.height)return e;if(r.width>t.width||r.height>t.height||n.x>t.width-r.width||n.y>t.height-r.height)throw new RangeError("out of range source coordinates for image copy");if(r.width>e.width||r.height>e.height||i.x>e.width-r.width||i.y>e.height-r.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=t.data,s=e.data,u=0;u<r.height;u++)for(var l=((n.y+u)*t.width+n.x)*o,c=((i.y+u)*e.width+i.x)*o,h=0;h<r.width*o;h++)s[c+h]=a[l+h];return e}Fi("HeatmapBucket",fa,{omit:["layers"]});var ya=function(t,e){pa(this,t,1,e)};ya.prototype.resize=function(t){ma(this,t,1)},ya.prototype.clone=function(){return new ya({width:this.width,height:this.height},new Uint8Array(this.data))},ya.copy=function(t,e,n,i,r){ga(t,e,n,i,r,1)};var va=function(t,e){pa(this,t,4,e)};va.prototype.resize=function(t){ma(this,t,4)},va.prototype.replace=function(t,e){e?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t},va.prototype.clone=function(){return new va({width:this.width,height:this.height},new Uint8Array(this.data))},va.copy=function(t,e,n,i,r){ga(t,e,n,i,r,4)},Fi("AlphaImage",ya),Fi("RGBAImage",va);var _a={paint:new br({"heatmap-radius":new gr(Tt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new gr(Tt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new mr(Tt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new _r(Tt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new mr(Tt.paint_heatmap["heatmap-opacity"])})};function ba(t){var e={},n=t.resolution||256,i=t.clips?t.clips.length:1,r=t.image||new va({width:n,height:i}),o=function(n,i,o){e[t.evaluationKey]=o;var a=t.expression.evaluate(e);r.data[n+i+0]=Math.floor(255*a.r/a.a),r.data[n+i+1]=Math.floor(255*a.g/a.a),r.data[n+i+2]=Math.floor(255*a.b/a.a),r.data[n+i+3]=Math.floor(255*a.a)};if(t.clips)for(var a=0,s=0;a<i;++a,s+=4*n)for(var u=0,l=0;u<n;u++,l+=4){var c=u/(n-1),h=t.clips[a];o(s,l,h.start*(1-c)+h.end*c)}else for(var d=0,f=0;d<n;d++,f+=4)o(0,f,d/(n-1));return r}var xa=function(t){function e(e){t.call(this,e,_a),this._updateColorRamp()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new fa(t)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){"heatmap-color"===t&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){this.colorRamp=ba({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(xr),wa={paint:new br({"hillshade-illumination-direction":new mr(Tt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new mr(Tt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new mr(Tt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new mr(Tt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new mr(Tt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new mr(Tt.paint_hillshade["hillshade-accent-color"])})},ka=function(t){function e(e){t.call(this,e,wa)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(xr),Ma=Sr([{name:"a_pos",components:2,type:"Int16"}],4).members,Sa=La,Ea=La;function La(t,e,n){n=n||2;var i,r,o,a,s,u,l,c=e&&e.length,h=c?e[0]*n:t.length,d=Ta(t,0,h,n,!0),f=[];if(!d||d.next===d.prev)return f;if(c&&(d=function(t,e,n,i){var r,o,a,s=[];for(r=0,o=e.length;r<o;r++)(a=Ta(t,e[r]*i,r<o-1?e[r+1]*i:t.length,i,!1))===a.next&&(a.steiner=!0),s.push(za(a));for(s.sort(Ra),r=0;r<s.length;r++)Na(s[r],n),n=Ca(n,n.next);return n}(t,e,d,n)),t.length>80*n){i=o=t[0],r=a=t[1];for(var p=n;p<h;p+=n)(s=t[p])<i&&(i=s),(u=t[p+1])<r&&(r=u),s>o&&(o=s),u>a&&(a=u);l=0!==(l=Math.max(o-i,a-r))?1/l:0}return Ia(d,f,n,i,r,l),f}function Ta(t,e,n,i,r){var o,a;if(r===Ja(t,e,n,i)>0)for(o=e;o<n;o+=i)a=Ka(o,t[o],t[o+1],a);else for(o=n-i;o>=e;o-=i)a=Ka(o,t[o],t[o+1],a);return a&&Ua(a,a.next)&&(Za(a),a=a.next),a}function Ca(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!Ua(i,i.next)&&0!==Ha(i.prev,i,i.next))i=i.next;else{if(Za(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function Ia(t,e,n,i,r,o,a){if(t){!a&&o&&function(t,e,n,i){var r=t;do{null===r.z&&(r.z=Ya(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,n,i,r,o,a,s,u,l=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,i=n,s=0,e=0;e<l&&(s++,i=i.nextZ);e++);for(u=l;s>0||u>0&&i;)0!==s&&(0===u||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,u--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,l*=2}while(a>1)}(r)}(t,i,r,o);for(var s,u,l=t;t.prev!==t.next;)if(s=t.prev,u=t.next,o?Da(t,i,r,o):Pa(t))e.push(s.i/n),e.push(t.i/n),e.push(u.i/n),Za(t),t=u.next,l=u.next;else if((t=u)===l){a?1===a?Ia(t=Oa(Ca(t),e,n),e,n,i,r,o,2):2===a&&Aa(t,e,n,i,r,o):Ia(Ca(t),e,n,i,r,o,1);break}}}function Pa(t){var e=t.prev,n=t,i=t.next;if(Ha(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(ja(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&Ha(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function Da(t,e,n,i){var r=t.prev,o=t,a=t.next;if(Ha(r,o,a)>=0)return!1;for(var s=r.x>o.x?r.x>a.x?r.x:a.x:o.x>a.x?o.x:a.x,u=r.y>o.y?r.y>a.y?r.y:a.y:o.y>a.y?o.y:a.y,l=Ya(r.x<o.x?r.x<a.x?r.x:a.x:o.x<a.x?o.x:a.x,r.y<o.y?r.y<a.y?r.y:a.y:o.y<a.y?o.y:a.y,e,n,i),c=Ya(s,u,e,n,i),h=t.prevZ,d=t.nextZ;h&&h.z>=l&&d&&d.z<=c;){if(h!==t.prev&&h!==t.next&&ja(r.x,r.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Ha(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,d!==t.prev&&d!==t.next&&ja(r.x,r.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Ha(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;h&&h.z>=l;){if(h!==t.prev&&h!==t.next&&ja(r.x,r.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Ha(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;d&&d.z<=c;){if(d!==t.prev&&d!==t.next&&ja(r.x,r.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Ha(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function Oa(t,e,n){var i=t;do{var r=i.prev,o=i.next.next;!Ua(r,o)&&Va(r,i,i.next,o)&&Wa(r,o)&&Wa(o,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(o.i/n),Za(i),Za(i.next),i=t=o),i=i.next}while(i!==t);return Ca(i)}function Aa(t,e,n,i,r,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Ba(a,s)){var u=Xa(a,s);return a=Ca(a,a.next),u=Ca(u,u.next),Ia(a,e,n,i,r,o),void Ia(u,e,n,i,r,o)}s=s.next}a=a.next}while(a!==t)}function Ra(t,e){return t.x-e.x}function Na(t,e){if(e=function(t,e){var n,i=e,r=t.x,o=t.y,a=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var s=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>a){if(a=s,s===r){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===a)return n;var u,l=n,c=n.x,h=n.y,d=1/0;i=n;do{r>=i.x&&i.x>=c&&r!==i.x&&ja(o<h?r:a,o,c,h,o<h?a:r,o,i.x,i.y)&&(u=Math.abs(o-i.y)/(r-i.x),Wa(i,t)&&(u<d||u===d&&(i.x>n.x||i.x===n.x&&Fa(n,i)))&&(n=i,d=u)),i=i.next}while(i!==l);return n}(t,e)){var n=Xa(e,t);Ca(e,e.next),Ca(n,n.next)}}function Fa(t,e){return Ha(t.prev,t,e.prev)<0&&Ha(e.next,t,t.next)<0}function Ya(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function za(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function ja(t,e,n,i,r,o,a,s){return(r-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(i-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(r-a)*(i-s)>=0}function Ba(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Va(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(Wa(t,e)&&Wa(e,t)&&function(t,e){var n=t,i=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)&&(Ha(t.prev,t,e.prev)||Ha(t,e.prev,e))||Ua(t,e)&&Ha(t.prev,t,t.next)>0&&Ha(e.prev,e,e.next)>0)}function Ha(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Ua(t,e){return t.x===e.x&&t.y===e.y}function Va(t,e,n,i){var r=Ga(Ha(t,e,n)),o=Ga(Ha(t,e,i)),a=Ga(Ha(n,i,t)),s=Ga(Ha(n,i,e));return r!==o&&a!==s||!(0!==r||!qa(t,n,e))||!(0!==o||!qa(t,i,e))||!(0!==a||!qa(n,t,i))||!(0!==s||!qa(n,e,i))}function qa(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Ga(t){return t>0?1:t<0?-1:0}function Wa(t,e){return Ha(t.prev,t,t.next)<0?Ha(t,e,t.next)>=0&&Ha(t,t.prev,e)>=0:Ha(t,e,t.prev)<0||Ha(t,t.next,e)<0}function Xa(t,e){var n=new Qa(t.i,t.x,t.y),i=new Qa(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function Ka(t,e,n,i){var r=new Qa(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Za(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Qa(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ja(t,e,n,i){for(var r=0,o=e,a=n-i;o<n;o+=i)r+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return r}function $a(t,e,n,i,r){!function t(e,n,i,r,o){for(;r>i;){if(r-i>600){var a=r-i+1,s=n-i+1,u=Math.log(a),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(a-l)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(i,Math.floor(n-s*l/a+c)),Math.min(r,Math.floor(n+(a-s)*l/a+c)),o)}var h=e[n],d=i,f=r;for(ts(e,i,n),o(e[r],h)>0&&ts(e,i,r);d<f;){for(ts(e,d,f),d++,f--;o(e[d],h)<0;)d++;for(;o(e[f],h)>0;)f--}0===o(e[i],h)?ts(e,i,f):ts(e,++f,r),f<=n&&(i=f+1),n<=f&&(r=f-1)}}(t,e,n||0,i||t.length-1,r||es)}function ts(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function es(t,e){return t<e?-1:t>e?1:0}function ns(t,e){var n=t.length;if(n<=1)return[t];for(var i,r,o=[],a=0;a<n;a++){var s=S(t[a]);0!==s&&(t[a].area=Math.abs(s),void 0===r&&(r=s<0),r===s<0?(i&&o.push(i),i=[t[a]]):i.push(t[a]))}if(i&&o.push(i),e>1)for(var u=0;u<o.length;u++)o[u].length<=e||($a(o[u],e,1,o[u].length-1,is),o[u]=o[u].slice(0,e));return o}function is(t,e){return e.area-t.area}function rs(t,e,n){for(var i=n.patternDependencies,r=!1,o=0,a=e;o<a.length;o+=1){var s=a[o].paint.get(t+"-pattern");s.isConstant()||(r=!0);var u=s.constantOr(null);u&&(r=!0,i[u.to]=!0,i[u.from]=!0)}return r}function os(t,e,n,i,r){for(var o=r.patternDependencies,a=0,s=e;a<s.length;a+=1){var u=s[a],l=u.paint.get(t+"-pattern").value;if("constant"!==l.kind){var c=l.evaluate({zoom:i-1},n,{},r.availableImages),h=l.evaluate({zoom:i},n,{},r.availableImages),d=l.evaluate({zoom:i+1},n,{},r.availableImages);h=h&&h.name?h.name:h,d=d&&d.name?d.name:d,o[c=c&&c.name?c.name:c]=!0,o[h]=!0,o[d]=!0,n.patterns[u.id]={min:c,mid:h,max:d}}}return n}La.deviation=function(t,e,n,i){var r=e&&e.length,o=Math.abs(Ja(t,0,r?e[0]*n:t.length,n));if(r)for(var a=0,s=e.length;a<s;a++)o-=Math.abs(Ja(t,e[a]*n,a<s-1?e[a+1]*n:t.length,n));var u=0;for(a=0;a<i.length;a+=3){var l=i[a]*n,c=i[a+1]*n,h=i[a+2]*n;u+=Math.abs((t[l]-t[h])*(t[c+1]-t[l+1])-(t[l]-t[c])*(t[h+1]-t[l+1]))}return 0===o&&0===u?0:Math.abs((u-o)/o)},La.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[r][o][a]);r>0&&n.holes.push(i+=t[r-1].length)}return n},Sa.default=Ea;var as=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Lr,this.indexArray=new jr,this.indexArray2=new Gr,this.programConfigurations=new Ao(t.layers,t.zoom),this.segments=new ao,this.segments2=new ao,this.stateDependentLayerIds=this.layers.filter(function(t){return t.isStateDependent()}).map(function(t){return t.id})};as.prototype.populate=function(t,e,n){this.hasPattern=rs("fill",this.layers,e);for(var i=this.layers[0].layout.get("fill-sort-key"),r=[],o=0,a=t;o<a.length;o+=1){var s=a[o],u=s.feature,l=s.id,c=s.index,h=s.sourceLayerIndex,d=this.layers[0]._featureFilter.needGeometry,f=jo(u,d);if(this.layers[0]._featureFilter.filter(new ar(this.zoom),f,n)){var p=i?i.evaluate(f,{},n,e.availableImages):void 0,m={id:l,properties:u.properties,type:u.type,sourceLayerIndex:h,index:c,geometry:d?f.geometry:zo(u),patterns:{},sortKey:p};r.push(m)}}i&&r.sort(function(t,e){return t.sortKey-e.sortKey});for(var g=0,y=r;g<y.length;g+=1){var v=y[g],_=v.geometry,b=v.index,x=v.sourceLayerIndex;if(this.hasPattern){var w=os("fill",this.layers,v,this.zoom,e);this.patternFeatures.push(w)}else this.addFeature(v,_,b,n,{});e.featureIndex.insert(t[b].feature,_,b,x,this.index)}},as.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},as.prototype.addFeatures=function(t,e,n){for(var i=0,r=this.patternFeatures;i<r.length;i+=1){var o=r[i];this.addFeature(o,o.geometry,o.index,e,n)}},as.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},as.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},as.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ma),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},as.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},as.prototype.addFeature=function(t,e,n,i,r){for(var o=0,a=ns(e,500);o<a.length;o+=1){for(var s=a[o],u=0,l=0,c=s;l<c.length;l+=1)u+=c[l].length;for(var h=this.segments.prepareSegment(u,this.layoutVertexArray,this.indexArray),d=h.vertexLength,f=[],p=[],m=0,g=s;m<g.length;m+=1){var y=g[m];if(0!==y.length){y!==s[0]&&p.push(f.length/2);var v=this.segments2.prepareSegment(y.length,this.layoutVertexArray,this.indexArray2),_=v.vertexLength;this.layoutVertexArray.emplaceBack(y[0].x,y[0].y),this.indexArray2.emplaceBack(_+y.length-1,_),f.push(y[0].x),f.push(y[0].y);for(var b=1;b<y.length;b++)this.layoutVertexArray.emplaceBack(y[b].x,y[b].y),this.indexArray2.emplaceBack(_+b-1,_+b),f.push(y[b].x),f.push(y[b].y);v.vertexLength+=y.length,v.primitiveLength+=y.length}}for(var x=Sa(f,p),w=0;w<x.length;w+=3)this.indexArray.emplaceBack(d+x[w],d+x[w+1],d+x[w+2]);h.vertexLength+=u,h.primitiveLength+=x.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,r,i)},Fi("FillBucket",as,{omit:["layers","patternFeatures"]});var ss=new br({"fill-sort-key":new gr(Tt.layout_fill["fill-sort-key"])}),us={paint:new br({"fill-antialias":new mr(Tt.paint_fill["fill-antialias"]),"fill-opacity":new gr(Tt.paint_fill["fill-opacity"]),"fill-color":new gr(Tt.paint_fill["fill-color"]),"fill-outline-color":new gr(Tt.paint_fill["fill-outline-color"]),"fill-translate":new mr(Tt.paint_fill["fill-translate"]),"fill-translate-anchor":new mr(Tt.paint_fill["fill-translate-anchor"]),"fill-pattern":new yr(Tt.paint_fill["fill-pattern"])}),layout:ss},ls=function(t){function e(e){t.call(this,e,us)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.recalculate=function(e,n){t.prototype.recalculate.call(this,e,n);var i=this.paint._values["fill-outline-color"];"constant"===i.value.kind&&void 0===i.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(t){return new as(t)},e.prototype.queryRadius=function(){return ea(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,i,r,o,a){return qo(na(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,a),i)},e.prototype.isTileClipped=function(){return!0},e}(xr),cs=Sr([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,hs=ds;function ds(t,e,n,i,r){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=i,this._values=r,t.readFields(fs,this,e)}function fs(t,e,n){1==t?e.id=n.readVarint():2==t?function(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var i=e._keys[t.readVarint()],r=e._values[t.readVarint()];e.properties[i]=r}}(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function ps(t){for(var e,n,i=0,r=0,o=t.length,a=o-1;r<o;a=r++)i+=((n=t[a]).x-(e=t[r]).x)*(e.y+n.y);return i}ds.types=["Unknown","Point","LineString","Polygon"],ds.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,i=1,o=0,a=0,s=0,u=[];t.pos<n;){if(o<=0){var l=t.readVarint();i=7&l,o=l>>3}if(o--,1===i||2===i)a+=t.readSVarint(),s+=t.readSVarint(),1===i&&(e&&u.push(e),e=[]),e.push(new r(a,s));else{if(7!==i)throw new Error("unknown command "+i);e&&e.push(e[0].clone())}}return e&&u.push(e),u},ds.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,i=0,r=0,o=0,a=1/0,s=-1/0,u=1/0,l=-1/0;t.pos<e;){if(i<=0){var c=t.readVarint();n=7&c,i=c>>3}if(i--,1===n||2===n)(r+=t.readSVarint())<a&&(a=r),r>s&&(s=r),(o+=t.readSVarint())<u&&(u=o),o>l&&(l=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,u,s,l]},ds.prototype.toGeoJSON=function(t,e,n){var i,r,o=this.extent*Math.pow(2,n),a=this.extent*t,s=this.extent*e,u=this.loadGeometry(),l=ds.types[this.type];function c(t){for(var e=0;e<t.length;e++){var n=t[e];t[e]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var h=[];for(i=0;i<u.length;i++)h[i]=u[i][0];c(u=h);break;case 2:for(i=0;i<u.length;i++)c(u[i]);break;case 3:for(u=function(t){var e=t.length;if(e<=1)return[t];for(var n,i,r=[],o=0;o<e;o++){var a=ps(t[o]);0!==a&&(void 0===i&&(i=a<0),i===a<0?(n&&r.push(n),n=[t[o]]):n.push(t[o]))}return n&&r.push(n),r}(u),i=0;i<u.length;i++)for(r=0;r<u[i].length;r++)c(u[i][r])}1===u.length?u=u[0]:l="Multi"+l;var d={type:"Feature",geometry:{type:l,coordinates:u},properties:this.properties};return"id"in this&&(d.id=this.id),d};var ms=gs;function gs(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(ys,this,e),this.length=this._features.length}function ys(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var i=t.readVarint()>>3;e=1===i?t.readString():2===i?t.readFloat():3===i?t.readDouble():4===i?t.readVarint64():5===i?t.readVarint():6===i?t.readSVarint():7===i?t.readBoolean():null}return e}(n))}function vs(t,e,n){if(3===t){var i=new ms(n,n.readVarint()+n.pos);i.length&&(e[i.name]=i)}}gs.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new hs(this._pbf,e,this.extent,this._keys,this._values)};var _s={VectorTile:function(t,e){this.layers=t.readFields(vs,{},e)},VectorTileFeature:hs,VectorTileLayer:ms},bs=_s.VectorTileFeature.types,xs=Math.pow(2,13);function ws(t,e,n,i,r,o,a,s){t.emplaceBack(e,n,2*Math.floor(i*xs)+a,r*xs*2,o*xs*2,Math.round(s))}var ks=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Cr,this.indexArray=new jr,this.programConfigurations=new Ao(t.layers,t.zoom),this.segments=new ao,this.stateDependentLayerIds=this.layers.filter(function(t){return t.isStateDependent()}).map(function(t){return t.id})};function Ms(t,e){return t.x===e.x&&(t.x<0||t.x>8192)||t.y===e.y&&(t.y<0||t.y>8192)}ks.prototype.populate=function(t,e,n){this.features=[],this.hasPattern=rs("fill-extrusion",this.layers,e);for(var i=0,r=t;i<r.length;i+=1){var o=r[i],a=o.feature,s=o.id,u=o.index,l=o.sourceLayerIndex,c=this.layers[0]._featureFilter.needGeometry,h=jo(a,c);if(this.layers[0]._featureFilter.filter(new ar(this.zoom),h,n)){var d={id:s,sourceLayerIndex:l,index:u,geometry:c?h.geometry:zo(a),properties:a.properties,type:a.type,patterns:{}};this.hasPattern?this.features.push(os("fill-extrusion",this.layers,d,this.zoom,e)):this.addFeature(d,d.geometry,u,n,{}),e.featureIndex.insert(a,d.geometry,u,l,this.index,!0)}}},ks.prototype.addFeatures=function(t,e,n){for(var i=0,r=this.features;i<r.length;i+=1){var o=r[i];this.addFeature(o,o.geometry,o.index,e,n)}},ks.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},ks.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},ks.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ks.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,cs),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},ks.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},ks.prototype.addFeature=function(t,e,n,i,r){for(var o=0,a=ns(e,500);o<a.length;o+=1){for(var s=a[o],u=0,l=0,c=s;l<c.length;l+=1)u+=c[l].length;for(var h=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),d=0,f=s;d<f.length;d+=1){var p=f[d];if(0!==p.length&&!((D=p).every(function(t){return t.x<0})||D.every(function(t){return t.x>8192})||D.every(function(t){return t.y<0})||D.every(function(t){return t.y>8192})))for(var m=0,g=0;g<p.length;g++){var y=p[g];if(g>=1){var v=p[g-1];if(!Ms(y,v)){h.vertexLength+4>ao.MAX_VERTEX_ARRAY_LENGTH&&(h=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var _=y.sub(v)._perp()._unit(),b=v.dist(y);m+b>32768&&(m=0),ws(this.layoutVertexArray,y.x,y.y,_.x,_.y,0,0,m),ws(this.layoutVertexArray,y.x,y.y,_.x,_.y,0,1,m),ws(this.layoutVertexArray,v.x,v.y,_.x,_.y,0,0,m+=b),ws(this.layoutVertexArray,v.x,v.y,_.x,_.y,0,1,m);var x=h.vertexLength;this.indexArray.emplaceBack(x,x+2,x+1),this.indexArray.emplaceBack(x+1,x+2,x+3),h.vertexLength+=4,h.primitiveLength+=2}}}}if(h.vertexLength+u>ao.MAX_VERTEX_ARRAY_LENGTH&&(h=this.segments.prepareSegment(u,this.layoutVertexArray,this.indexArray)),"Polygon"===bs[t.type]){for(var w=[],k=[],M=h.vertexLength,S=0,E=s;S<E.length;S+=1){var L=E[S];if(0!==L.length){L!==s[0]&&k.push(w.length/2);for(var T=0;T<L.length;T++){var C=L[T];ws(this.layoutVertexArray,C.x,C.y,0,0,1,1,0),w.push(C.x),w.push(C.y)}}}for(var I=Sa(w,k),P=0;P<I.length;P+=3)this.indexArray.emplaceBack(M+I[P],M+I[P+2],M+I[P+1]);h.primitiveLength+=I.length/3,h.vertexLength+=u}}var D;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,r,i)},Fi("FillExtrusionBucket",ks,{omit:["layers","features"]});var Ss={paint:new br({"fill-extrusion-opacity":new mr(Tt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new gr(Tt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new mr(Tt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new mr(Tt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new yr(Tt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new gr(Tt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new gr(Tt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new mr(Tt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Es=function(t){function e(e){t.call(this,e,Ss)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new ks(t)},e.prototype.queryRadius=function(){return ea(this.paint.get("fill-extrusion-translate"))},e.prototype.is3D=function(){return!0},e.prototype.queryIntersectsFeature=function(t,e,n,i,o,a,s,u){var l=na(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,s),c=this.paint.get("fill-extrusion-height").evaluate(e,n),h=this.paint.get("fill-extrusion-base").evaluate(e,n),d=function(t,e,n,i){for(var o=[],a=0,s=t;a<s.length;a+=1){var u=s[a],l=[u.x,u.y,0,1];ca(l,l,e),o.push(new r(l[0]/l[3],l[1]/l[3]))}return o}(l,u),f=function(t,e,n,i){for(var o=[],a=[],s=i[8]*e,u=i[9]*e,l=i[10]*e,c=i[11]*e,h=i[8]*n,d=i[9]*n,f=i[10]*n,p=i[11]*n,m=0,g=t;m<g.length;m+=1){for(var y=[],v=[],_=0,b=g[m];_<b.length;_+=1){var x=b[_],w=x.x,k=x.y,M=i[0]*w+i[4]*k+i[12],S=i[1]*w+i[5]*k+i[13],E=i[2]*w+i[6]*k+i[14],L=i[3]*w+i[7]*k+i[15],T=E+l,C=L+c,I=M+h,P=S+d,D=E+f,O=L+p,A=new r((M+s)/C,(S+u)/C);A.z=T/C,y.push(A);var R=new r(I/O,P/O);R.z=D/O,v.push(R)}o.push(y),a.push(v)}return[o,a]}(i,h,c,u);return function(t,e,n){var i=1/0;qo(n,e)&&(i=Ts(n,e[0]));for(var r=0;r<e.length;r++)for(var o=e[r],a=t[r],s=0;s<o.length-1;s++){var u=o[s],l=[u,o[s+1],a[s+1],a[s],u];Uo(n,l)&&(i=Math.min(i,Ts(n,l)))}return i!==1/0&&i}(f[0],f[1],d)},e}(xr);function Ls(t,e){return t.x*e.x+t.y*e.y}function Ts(t,e){if(1===t.length){for(var n,i=0,r=e[i++];!n||r.equals(n);)if(!(n=e[i++]))return 1/0;for(;i<e.length;i++){var o=e[i],a=t[0],s=n.sub(r),u=o.sub(r),l=a.sub(r),c=Ls(s,s),h=Ls(s,u),d=Ls(u,u),f=Ls(l,s),p=Ls(l,u),m=c*d-h*h,g=(d*f-h*p)/m,y=(c*p-h*f)/m,v=r.z*(1-g-y)+n.z*g+o.z*y;if(isFinite(v))return v}return 1/0}for(var _=1/0,b=0,x=e;b<x.length;b+=1)_=Math.min(_,x[b].z);return _}var Cs=Sr([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Is=Sr([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Ps=_s.VectorTileFeature.types,Ds=Math.cos(Math.PI/180*37.5),Os=Math.pow(2,14)/.5,As=function(t){var e=this;this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(t){e.gradients[t.id]={}}),this.layoutVertexArray=new Ir,this.layoutVertexArray2=new Pr,this.indexArray=new jr,this.programConfigurations=new Ao(t.layers,t.zoom),this.segments=new ao,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(t){return t.isStateDependent()}).map(function(t){return t.id})};As.prototype.populate=function(t,e,n){this.hasPattern=rs("line",this.layers,e);for(var i=this.layers[0].layout.get("line-sort-key"),r=[],o=0,a=t;o<a.length;o+=1){var s=a[o],u=s.feature,l=s.id,c=s.index,h=s.sourceLayerIndex,d=this.layers[0]._featureFilter.needGeometry,f=jo(u,d);if(this.layers[0]._featureFilter.filter(new ar(this.zoom),f,n)){var p=i?i.evaluate(f,{},n):void 0,m={id:l,properties:u.properties,type:u.type,sourceLayerIndex:h,index:c,geometry:d?f.geometry:zo(u),patterns:{},sortKey:p};r.push(m)}}i&&r.sort(function(t,e){return t.sortKey-e.sortKey});for(var g=0,y=r;g<y.length;g+=1){var v=y[g],_=v.geometry,b=v.index,x=v.sourceLayerIndex;if(this.hasPattern){var w=os("line",this.layers,v,this.zoom,e);this.patternFeatures.push(w)}else this.addFeature(v,_,b,n,{});e.featureIndex.insert(t[b].feature,_,b,x,this.index)}},As.prototype.update=function(t,e,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,n)},As.prototype.addFeatures=function(t,e,n){for(var i=0,r=this.patternFeatures;i<r.length;i+=1){var o=r[i];this.addFeature(o,o.geometry,o.index,e,n)}},As.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},As.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},As.prototype.upload=function(t){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,Is)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Cs),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},As.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},As.prototype.lineFeatureClips=function(t){if(t.properties&&t.properties.hasOwnProperty("mapbox_clip_start")&&t.properties.hasOwnProperty("mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}},As.prototype.addFeature=function(t,e,n,i,r){var o=this.layers[0].layout,a=o.get("line-join").evaluate(t,{}),s=o.get("line-cap"),u=o.get("line-miter-limit"),l=o.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(var c=0,h=e;c<h.length;c+=1)this.addLine(h[c],t,a,s,u,l);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,n,r,i)},As.prototype.addLine=function(t,e,n,i,r,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var a=0;a<t.length-1;a++)this.totalDistance+=t[a].dist(t[a+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var s="Polygon"===Ps[e.type],u=t.length;u>=2&&t[u-1].equals(t[u-2]);)u--;for(var l=0;l<u-1&&t[l].equals(t[l+1]);)l++;if(!(u<(s?3:2))){"bevel"===n&&(r=1.05);var c,h=this.overscaling<=16?122880/(512*this.overscaling):0,d=this.segments.prepareSegment(10*u,this.layoutVertexArray,this.indexArray),f=void 0,p=void 0,m=void 0,g=void 0;this.e1=this.e2=-1,s&&(g=t[l].sub(c=t[u-2])._unit()._perp());for(var y=l;y<u;y++)if(!(p=y===u-1?s?t[l+1]:void 0:t[y+1])||!t[y].equals(p)){g&&(m=g),c&&(f=c),c=t[y],g=p?p.sub(c)._unit()._perp():m;var v=(m=m||g).add(g);0===v.x&&0===v.y||v._unit();var _=m.x*g.x+m.y*g.y,b=v.x*g.x+v.y*g.y,x=0!==b?1/b:1/0,w=2*Math.sqrt(2-2*b),k=b<Ds&&f&&p,M=m.x*g.y-m.y*g.x>0;if(k&&y>l){var S=c.dist(f);if(S>2*h){var E=c.sub(c.sub(f)._mult(h/S)._round());this.updateDistance(f,E),this.addCurrentVertex(E,m,0,0,d),f=E}}var L=f&&p,T=L?n:s?"butt":i;if(L&&"round"===T&&(x<o?T="miter":x<=2&&(T="fakeround")),"miter"===T&&x>r&&(T="bevel"),"bevel"===T&&(x>2&&(T="flipbevel"),x<r&&(T="miter")),f&&this.updateDistance(f,c),"miter"===T)v._mult(x),this.addCurrentVertex(c,v,0,0,d);else if("flipbevel"===T){if(x>100)v=g.mult(-1);else{var C=x*m.add(g).mag()/m.sub(g).mag();v._perp()._mult(C*(M?-1:1))}this.addCurrentVertex(c,v,0,0,d),this.addCurrentVertex(c,v.mult(-1),0,0,d)}else if("bevel"===T||"fakeround"===T){var I=-Math.sqrt(x*x-1),P=M?I:0,D=M?0:I;if(f&&this.addCurrentVertex(c,m,P,D,d),"fakeround"===T)for(var O=Math.round(180*w/Math.PI/20),A=1;A<O;A++){var R=A/O;if(.5!==R){var N=R-.5;R+=R*N*(R-1)*((1.0904+_*(_*(3.55645-1.43519*_)-3.2452))*N*N+(.848013+_*(.215638*_-1.06021)))}var F=g.sub(m)._mult(R)._add(m)._unit()._mult(M?-1:1);this.addHalfVertex(c,F.x,F.y,!1,M,0,d)}p&&this.addCurrentVertex(c,g,-P,-D,d)}else if("butt"===T)this.addCurrentVertex(c,v,0,0,d);else if("square"===T){var Y=f?1:-1;this.addCurrentVertex(c,v,Y,Y,d)}else"round"===T&&(f&&(this.addCurrentVertex(c,m,0,0,d),this.addCurrentVertex(c,m,1,1,d,!0)),p&&(this.addCurrentVertex(c,g,-1,-1,d,!0),this.addCurrentVertex(c,g,0,0,d)));if(k&&y<u-1){var z=c.dist(p);if(z>2*h){var j=c.add(p.sub(c)._mult(h/z)._round());this.updateDistance(c,j),this.addCurrentVertex(j,g,0,0,d),c=j}}}}},As.prototype.addCurrentVertex=function(t,e,n,i,r,o){void 0===o&&(o=!1);var a=e.y*i-e.x,s=-e.y-e.x*i;this.addHalfVertex(t,e.x+e.y*n,e.y-e.x*n,o,!1,n,r),this.addHalfVertex(t,a,s,o,!0,-i,r),this.distance>Os/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(t,e,n,i,r,o))},As.prototype.addHalfVertex=function(t,e,n,i,r,o,a){var s=.5*(this.lineClips?this.scaledDistance*(Os-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((t.x<<1)+(i?1:0),(t.y<<1)+(r?1:0),Math.round(63*e)+128,Math.round(63*n)+128,1+(0===o?0:o<0?-1:1)|(63&s)<<2,s>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var u=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,u),a.primitiveLength++),r?this.e2=u:this.e1=u},As.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},As.prototype.updateDistance=function(t,e){this.distance+=t.dist(e),this.updateScaledDistance()},Fi("LineBucket",As,{omit:["layers","patternFeatures"]});var Rs=new br({"line-cap":new mr(Tt.layout_line["line-cap"]),"line-join":new gr(Tt.layout_line["line-join"]),"line-miter-limit":new mr(Tt.layout_line["line-miter-limit"]),"line-round-limit":new mr(Tt.layout_line["line-round-limit"]),"line-sort-key":new gr(Tt.layout_line["line-sort-key"])}),Ns={paint:new br({"line-opacity":new gr(Tt.paint_line["line-opacity"]),"line-color":new gr(Tt.paint_line["line-color"]),"line-translate":new mr(Tt.paint_line["line-translate"]),"line-translate-anchor":new mr(Tt.paint_line["line-translate-anchor"]),"line-width":new gr(Tt.paint_line["line-width"]),"line-gap-width":new gr(Tt.paint_line["line-gap-width"]),"line-offset":new gr(Tt.paint_line["line-offset"]),"line-blur":new gr(Tt.paint_line["line-blur"]),"line-dasharray":new vr(Tt.paint_line["line-dasharray"]),"line-pattern":new yr(Tt.paint_line["line-pattern"]),"line-gradient":new _r(Tt.paint_line["line-gradient"])}),layout:Rs},Fs=new(function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(e,n){return n=new ar(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),t.prototype.possiblyEvaluate.call(this,e,n)},e.prototype.evaluate=function(e,n,i,r){return n=d({},n,{zoom:Math.floor(n.zoom)}),t.prototype.evaluate.call(this,e,n,i,r)},e}(gr))(Ns.paint.properties["line-width"].specification);Fs.useIntegerZoom=!0;var Ys=function(t){function e(e){t.call(this,e,Ns),this.gradientVersion=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._handleSpecialPaintPropertyUpdate=function(t){"line-gradient"===t&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof He,this.gradientVersion=(this.gradientVersion+1)%s)},e.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},e.prototype.recalculate=function(e,n){t.prototype.recalculate.call(this,e,n),this.paint._values["line-floorwidth"]=Fs.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)},e.prototype.createBucket=function(t){return new As(t)},e.prototype.queryRadius=function(t){var e=t,n=zs(ta("line-width",this,e),ta("line-gap-width",this,e)),i=ta("line-offset",this,e);return n/2+Math.abs(i)+ea(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,i,o,a,s){var u=na(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,s),l=s/2*zs(this.paint.get("line-width").evaluate(e,n),this.paint.get("line-gap-width").evaluate(e,n)),c=this.paint.get("line-offset").evaluate(e,n);return c&&(i=function(t,e){for(var n=[],i=new r(0,0),o=0;o<t.length;o++){for(var a=t[o],s=[],u=0;u<a.length;u++){var l=a[u],c=a[u+1],h=0===u?i:l.sub(a[u-1])._unit()._perp(),d=u===a.length-1?i:c.sub(l)._unit()._perp(),f=h._add(d)._unit();f._mult(1/(f.x*d.x+f.y*d.y)),s.push(f._mult(e)._add(l))}n.push(s)}return n}(i,c*s)),function(t,e,n){for(var i=0;i<e.length;i++){var r=e[i];if(t.length>=3)for(var o=0;o<r.length;o++)if(Jo(t,r[o]))return!0;if(Go(t,r,n))return!0}return!1}(u,i,l)},e.prototype.isTileClipped=function(){return!0},e}(xr);function zs(t,e){return e>0?e+2*t:t}var js=Sr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Bs=Sr([{name:"a_projected_pos",components:3,type:"Float32"}],4),Hs=(Sr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),Sr([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Us=(Sr([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),Sr([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),Vs=Sr([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function qs(t,e,n){return t.sections.forEach(function(t){t.text=function(t,e,n){var i=e.layout.get("text-transform").evaluate(n,{});return"uppercase"===i?t=t.toLocaleUpperCase():"lowercase"===i&&(t=t.toLocaleLowerCase()),or.applyArabicShaping&&(t=or.applyArabicShaping(t)),t}(t.text,e,n)}),t}Sr([{name:"triangle",components:3,type:"Uint16"}]),Sr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Sr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Sr([{type:"Float32",name:"offsetX"}]),Sr([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var Gs={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},Ws=function(t,e,n,i,r){var o,a,s=8*r-i-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?r-1:0,d=n?-1:1,f=t[e+h];for(h+=d,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+t[e+h],h+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;c>0;a=256*a+t[e+h],h+=d,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,i),o-=l}return(f?-1:1)*a*Math.pow(2,o-i)},Xs=function(t,e,n,i,r,o){var a,s,u,l=8*o-r-1,c=(1<<l)-1,h=c>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,p=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+h>=1?d/u:d*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(e*u-1)*Math.pow(2,r),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;t[n+f]=255&s,f+=p,s/=256,r-=8);for(a=a<<r|s,l+=r;l>0;t[n+f]=255&a,f+=p,a/=256,l-=8);t[n+f-p]|=128*m},Ks=Zs;function Zs(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}Zs.Varint=0,Zs.Fixed64=1,Zs.Bytes=2,Zs.Fixed32=5;var Qs="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Js(t){return t.type===Zs.Bytes?t.readVarint()+t.pos:t.pos+1}function $s(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function tu(t,e,n){var i=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(i);for(var r=n.pos-1;r>=t;r--)n.buf[r+i]=n.buf[r]}function eu(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function nu(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function iu(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function ru(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function ou(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function au(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function su(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function uu(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function lu(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function cu(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function hu(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function du(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function fu(t,e,n){1===t&&n.readMessage(pu,e)}function pu(t,e,n){if(3===t){var i=n.readMessage(mu,{}),r=i.width,o=i.height,a=i.left,s=i.top,u=i.advance;e.push({id:i.id,bitmap:new ya({width:r+6,height:o+6},i.bitmap),metrics:{width:r,height:o,left:a,top:s,advance:u}})}}function mu(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}function gu(t){for(var e=0,n=0,i=0,r=t;i<r.length;i+=1){var o=r[i];e+=o.w*o.h,n=Math.max(n,o.w)}t.sort(function(t,e){return e.h-t.h});for(var a=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),n),h:1/0}],s=0,u=0,l=0,c=t;l<c.length;l+=1)for(var h=c[l],d=a.length-1;d>=0;d--){var f=a[d];if(!(h.w>f.w||h.h>f.h)){if(h.x=f.x,h.y=f.y,u=Math.max(u,h.y+h.h),s=Math.max(s,h.x+h.w),h.w===f.w&&h.h===f.h){var p=a.pop();d<a.length&&(a[d]=p)}else h.h===f.h?(f.x+=h.w,f.w-=h.w):h.w===f.w?(f.y+=h.h,f.h-=h.h):(a.push({x:f.x+h.w,y:f.y,w:f.w-h.w,h:h.h}),f.y+=h.h,f.h-=h.h);break}}return{w:s,h:u,fill:e/(s*u)||0}}Zs.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),r=i>>3,o=this.pos;this.type=7&i,t(r,e,this),this.pos===o&&this.skip(i)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=cu(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=du(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=cu(this.buf,this.pos)+4294967296*cu(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=cu(this.buf,this.pos)+4294967296*du(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=Ws(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=Ws(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,i=this.buf;return e=127&(n=i[this.pos++]),n<128?e:(e|=(127&(n=i[this.pos++]))<<7,n<128?e:(e|=(127&(n=i[this.pos++]))<<14,n<128?e:(e|=(127&(n=i[this.pos++]))<<21,n<128?e:function(t,e,n){var i,r,o=n.buf;if(i=(112&(r=o[n.pos++]))>>4,r<128)return $s(t,i,e);if(i|=(127&(r=o[n.pos++]))<<3,r<128)return $s(t,i,e);if(i|=(127&(r=o[n.pos++]))<<10,r<128)return $s(t,i,e);if(i|=(127&(r=o[n.pos++]))<<17,r<128)return $s(t,i,e);if(i|=(127&(r=o[n.pos++]))<<24,r<128)return $s(t,i,e);if(i|=(1&(r=o[n.pos++]))<<31,r<128)return $s(t,i,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=i[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&Qs?function(t,e,n){return Qs.decode(t.subarray(e,n))}(this.buf,e,t):function(t,e,n){for(var i="",r=e;r<n;){var o,a,s,u=t[r],l=null,c=u>239?4:u>223?3:u>191?2:1;if(r+c>n)break;1===c?u<128&&(l=u):2===c?128==(192&(o=t[r+1]))&&(l=(31&u)<<6|63&o)<=127&&(l=null):3===c?(a=t[r+2],128==(192&(o=t[r+1]))&&128==(192&a)&&((l=(15&u)<<12|(63&o)<<6|63&a)<=2047||l>=55296&&l<=57343)&&(l=null)):4===c&&(a=t[r+2],s=t[r+3],128==(192&(o=t[r+1]))&&128==(192&a)&&128==(192&s)&&((l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,c=1):l>65535&&(l-=65536,i+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),i+=String.fromCharCode(l),r+=c}return i}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==Zs.Bytes)return t.push(this.readVarint(e));var n=Js(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==Zs.Bytes)return t.push(this.readSVarint());var e=Js(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==Zs.Bytes)return t.push(this.readBoolean());var e=Js(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==Zs.Bytes)return t.push(this.readFloat());var e=Js(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==Zs.Bytes)return t.push(this.readDouble());var e=Js(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==Zs.Bytes)return t.push(this.readFixed32());var e=Js(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==Zs.Bytes)return t.push(this.readSFixed32());var e=Js(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==Zs.Bytes)return t.push(this.readFixed64());var e=Js(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==Zs.Bytes)return t.push(this.readSFixed64());var e=Js(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===Zs.Varint)for(;this.buf[this.pos++]>127;);else if(e===Zs.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Zs.Fixed32)this.pos+=4;else{if(e!==Zs.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),hu(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),hu(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),hu(this.buf,-1&t,this.pos),hu(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),hu(this.buf,-1&t,this.pos),hu(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,i;if(t>=0?(n=t%4294967296|0,i=t/4294967296|0):(i=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,i=i+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,n.buf[n.pos]=127&(t>>>=7)}(n,0,e),function(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}(i,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var i,r,o=0;o<e.length;o++){if((i=e.charCodeAt(o))>55295&&i<57344){if(!r){i>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):r=i;continue}if(i<56320){t[n++]=239,t[n++]=191,t[n++]=189,r=i;continue}i=r-55296<<10|i-56320|65536,r=null}else r&&(t[n++]=239,t[n++]=191,t[n++]=189,r=null);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(i<65536?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&tu(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),Xs(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),Xs(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var i=this.pos-n;i>=128&&tu(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(t,e,n){this.writeTag(t,Zs.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,eu,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,nu,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,ou,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,iu,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,ru,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,au,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,su,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,uu,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,lu,e)},writeBytesField:function(t,e){this.writeTag(t,Zs.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,Zs.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,Zs.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,Zs.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,Zs.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,Zs.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,Zs.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,Zs.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,Zs.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,Zs.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var yu=function(t,e){var n=e.pixelRatio,i=e.version,r=e.stretchX,o=e.stretchY,a=e.content;this.paddedRect=t,this.pixelRatio=n,this.stretchX=r,this.stretchY=o,this.content=a,this.version=i},vu={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};vu.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},vu.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},vu.tlbr.get=function(){return this.tl.concat(this.br)},vu.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(yu.prototype,vu);var _u=function(t,e){var n={},i={};this.haveRenderCallbacks=[];var r=[];this.addImages(t,n,r),this.addImages(e,i,r);var o=gu(r),a=new va({width:o.w||1,height:o.h||1});for(var s in t){var u=t[s],l=n[s].paddedRect;va.copy(u.data,a,{x:0,y:0},{x:l.x+1,y:l.y+1},u.data)}for(var c in e){var h=e[c],d=i[c].paddedRect,f=d.x+1,p=d.y+1,m=h.data.width,g=h.data.height;va.copy(h.data,a,{x:0,y:0},{x:f,y:p},h.data),va.copy(h.data,a,{x:0,y:g-1},{x:f,y:p-1},{width:m,height:1}),va.copy(h.data,a,{x:0,y:0},{x:f,y:p+g},{width:m,height:1}),va.copy(h.data,a,{x:m-1,y:0},{x:f-1,y:p},{width:1,height:g}),va.copy(h.data,a,{x:0,y:0},{x:f+m,y:p},{width:1,height:g})}this.image=a,this.iconPositions=n,this.patternPositions=i};_u.prototype.addImages=function(t,e,n){for(var i in t){var r=t[i],o={x:0,y:0,w:r.data.width+2,h:r.data.height+2};n.push(o),e[i]=new yu(o,r),r.hasRenderCallback&&this.haveRenderCallbacks.push(i)}},_u.prototype.patchUpdatedImages=function(t,e){for(var n in t.dispatchRenderCallbacks(this.haveRenderCallbacks),t.updatedImages)this.patchUpdatedImage(this.iconPositions[n],t.getImage(n),e),this.patchUpdatedImage(this.patternPositions[n],t.getImage(n),e)},_u.prototype.patchUpdatedImage=function(t,e,n){if(t&&e&&t.version!==e.version){t.version=e.version;var i=t.tl;n.update(e.data,void 0,{x:i[0],y:i[1]})}},Fi("ImagePosition",yu),Fi("ImageAtlas",_u);var bu={horizontal:1,vertical:2,horizontalOnly:3},xu=function(){this.scale=1,this.fontStack="",this.imageName=null};xu.forText=function(t,e){var n=new xu;return n.scale=t||1,n.fontStack=e,n},xu.forImage=function(t){var e=new xu;return e.imageName=t,e};var wu=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function ku(t,e,n,i,r,o,a,s,u,l,c,h,d,f,p,m){var g,y=wu.fromFeature(t,r);h===bu.vertical&&y.verticalizePunctuation();var v=or.processBidirectionalText,_=or.processStyledBidirectionalText;if(v&&1===y.sections.length){g=[];for(var b=0,x=v(y.toString(),Iu(y,l,o,e,i,f,p));b<x.length;b+=1){var w=x[b],k=new wu;k.text=w,k.sections=y.sections;for(var M=0;M<w.length;M++)k.sectionIndex.push(0);g.push(k)}}else if(_){g=[];for(var S=0,E=_(y.text,y.sectionIndex,Iu(y,l,o,e,i,f,p));S<E.length;S+=1){var L=E[S],T=new wu;T.text=L[0],T.sectionIndex=L[1],T.sections=y.sections,g.push(T)}}else g=function(t,e){for(var n=[],i=t.text,r=0,o=0,a=e;o<a.length;o+=1){var s=a[o];n.push(t.substring(r,s)),r=s}return r<i.length&&n.push(t.substring(r,i.length)),n}(y,Iu(y,l,o,e,i,f,p));var C=[],I={positionedLines:C,text:y.toString(),top:c[1],bottom:c[1],left:c[0],right:c[0],writingMode:h,iconsInText:!1,verticalizable:!1};return function(t,e,n,i,r,o,a,s,u,l,c,h){for(var d=0,f=-17,p=0,m=0,g="right"===s?1:"left"===s?0:.5,y=0,v=0,_=r;v<_.length;v+=1){var b=_[v];b.trim();var x=b.getMaxScale(),w=24*(x-1),k={positionedGlyphs:[],lineOffset:0};t.positionedLines[y]=k;var M=k.positionedGlyphs,S=0;if(b.length()){for(var E=0;E<b.length();E++){var L=b.getSection(E),T=b.getSectionIndex(E),C=b.getCharCode(E),I=0,P=null,D=null,O=null,A=24,R=!(u===bu.horizontal||!c&&!Gi(C)||c&&(Mu[C]||(V=C,Vi.Arabic(V)||Vi["Arabic Supplement"](V)||Vi["Arabic Extended-A"](V)||Vi["Arabic Presentation Forms-A"](V)||Vi["Arabic Presentation Forms-B"](V))));if(L.imageName){var N=i[L.imageName];if(!N)continue;O=L.imageName,t.iconsInText=t.iconsInText||!0,D=N.paddedRect;var F=N.displaySize;L.scale=24*L.scale/h,I=w+(24-F[1]*L.scale),A=(P={width:F[0],height:F[1],left:1,top:-3,advance:R?F[1]:F[0]}).advance;var Y=R?F[0]*L.scale-24*x:F[1]*L.scale-24*x;Y>0&&Y>S&&(S=Y)}else{var z=n[L.fontStack],j=z&&z[C];if(j&&j.rect)D=j.rect,P=j.metrics;else{var B=e[L.fontStack],H=B&&B[C];if(!H)continue;P=H.metrics}I=24*(x-L.scale)}R?(t.verticalizable=!0,M.push({glyph:C,imageName:O,x:d,y:f+I,vertical:R,scale:L.scale,fontStack:L.fontStack,sectionIndex:T,metrics:P,rect:D}),d+=A*L.scale+l):(M.push({glyph:C,imageName:O,x:d,y:f+I,vertical:R,scale:L.scale,fontStack:L.fontStack,sectionIndex:T,metrics:P,rect:D}),d+=P.advance*L.scale+l)}0!==M.length&&(p=Math.max(d-l,p),Du(M,0,M.length-1,g,S)),d=0;var U=o*x+S;k.lineOffset=Math.max(S,w),f+=U,m=Math.max(U,m),++y}else f+=o,++y}var V,q=f- -17,G=Pu(a),W=G.horizontalAlign,X=G.verticalAlign;(function(t,e,n,i,r,o,a,s,u){var l,c=(e-n)*r;l=o!==a?-s*i- -17:(-i*u+.5)*a;for(var h=0,d=t;h<d.length;h+=1)for(var f=0,p=d[h].positionedGlyphs;f<p.length;f+=1){var m=p[f];m.x+=c,m.y+=l}})(t.positionedLines,g,W,X,p,m,o,q,r.length),t.top+=-X*q,t.bottom=t.top+q,t.left+=-W*p,t.right=t.left+p}(I,e,n,i,g,a,s,u,h,l,d,m),!function(t){for(var e=0,n=t;e<n.length;e+=1)if(0!==n[e].positionedGlyphs.length)return!1;return!0}(C)&&I}wu.fromFeature=function(t,e){for(var n=new wu,i=0;i<t.sections.length;i++){var r=t.sections[i];r.image?n.addImageSection(r):n.addTextSection(r,e)}return n},wu.prototype.length=function(){return this.text.length},wu.prototype.getSection=function(t){return this.sections[this.sectionIndex[t]]},wu.prototype.getSectionIndex=function(t){return this.sectionIndex[t]},wu.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},wu.prototype.verticalizePunctuation=function(){this.text=function(t){for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n+1)||null,r=t.charCodeAt(n-1)||null;e+=i&&Wi(i)&&!Gs[t[n+1]]||r&&Wi(r)&&!Gs[t[n-1]]||!Gs[t[n]]?t[n]:Gs[t[n]]}return e}(this.text)},wu.prototype.trim=function(){for(var t=0,e=0;e<this.text.length&&Mu[this.text.charCodeAt(e)];e++)t++;for(var n=this.text.length,i=this.text.length-1;i>=0&&i>=t&&Mu[this.text.charCodeAt(i)];i--)n--;this.text=this.text.substring(t,n),this.sectionIndex=this.sectionIndex.slice(t,n)},wu.prototype.substring=function(t,e){var n=new wu;return n.text=this.text.substring(t,e),n.sectionIndex=this.sectionIndex.slice(t,e),n.sections=this.sections,n},wu.prototype.toString=function(){return this.text},wu.prototype.getMaxScale=function(){var t=this;return this.sectionIndex.reduce(function(e,n){return Math.max(e,t.sections[n].scale)},0)},wu.prototype.addTextSection=function(t,e){this.text+=t.text,this.sections.push(xu.forText(t.scale,t.fontStack||e));for(var n=this.sections.length-1,i=0;i<t.text.length;++i)this.sectionIndex.push(n)},wu.prototype.addImageSection=function(t){var e=t.image?t.image.name:"";if(0!==e.length){var n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(xu.forImage(e)),this.sectionIndex.push(this.sections.length-1)):k("Reached maximum number of images 6401")}else k("Can't add FormattedSection with an empty image.")},wu.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Mu={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Su={};function Eu(t,e,n,i,r,o){if(e.imageName){var a=i[e.imageName];return a?a.displaySize[0]*e.scale*24/o+r:0}var s=n[e.fontStack],u=s&&s[t];return u?u.metrics.advance*e.scale+r:0}function Lu(t,e,n,i){var r=Math.pow(t-e,2);return i?t<e?r/2:2*r:r+Math.abs(n)*n}function Tu(t,e,n){var i=0;return 10===t&&(i-=1e4),n&&(i+=150),40!==t&&65288!==t||(i+=50),41!==e&&65289!==e||(i+=50),i}function Cu(t,e,n,i,r,o){for(var a=null,s=Lu(e,n,r,o),u=0,l=i;u<l.length;u+=1){var c=l[u],h=Lu(e-c.x,n,r,o)+c.badness;h<=s&&(a=c,s=h)}return{index:t,x:e,priorBreak:a,badness:s}}function Iu(t,e,n,i,r,o,a){if("point"!==o)return[];if(!t)return[];for(var s,u=[],l=function(t,e,n,i,r,o){for(var a=0,s=0;s<t.length();s++){var u=t.getSection(s);a+=Eu(t.getCharCode(s),u,i,r,e,o)}return a/Math.max(1,Math.ceil(a/n))}(t,e,n,i,r,a),c=t.text.indexOf("\u200b")>=0,h=0,d=0;d<t.length();d++){var f=t.getSection(d),p=t.getCharCode(d);if(Mu[p]||(h+=Eu(p,f,i,r,e,a)),d<t.length()-1){var m=!((s=p)<11904||!(Vi["Bopomofo Extended"](s)||Vi.Bopomofo(s)||Vi["CJK Compatibility Forms"](s)||Vi["CJK Compatibility Ideographs"](s)||Vi["CJK Compatibility"](s)||Vi["CJK Radicals Supplement"](s)||Vi["CJK Strokes"](s)||Vi["CJK Symbols and Punctuation"](s)||Vi["CJK Unified Ideographs Extension A"](s)||Vi["CJK Unified Ideographs"](s)||Vi["Enclosed CJK Letters and Months"](s)||Vi["Halfwidth and Fullwidth Forms"](s)||Vi.Hiragana(s)||Vi["Ideographic Description Characters"](s)||Vi["Kangxi Radicals"](s)||Vi["Katakana Phonetic Extensions"](s)||Vi.Katakana(s)||Vi["Vertical Forms"](s)||Vi["Yi Radicals"](s)||Vi["Yi Syllables"](s)));(Su[p]||m||f.imageName)&&u.push(Cu(d+1,h,l,u,Tu(p,t.getCharCode(d+1),m&&c),!1))}}return function t(e){return e?t(e.priorBreak).concat(e.index):[]}(Cu(t.length(),h,l,u,0,!0))}function Pu(t){var e=.5,n=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:e,verticalAlign:n}}function Du(t,e,n,i,r){if(i||r)for(var o=t[n],a=(t[n].x+o.metrics.advance*o.scale)*i,s=e;s<=n;s++)t[s].x-=a,t[s].y+=r}function Ou(t,e,n,i,r,o){var a,s=t.image;if(s.content){var u=s.content,l=s.pixelRatio||1;a=[u[0]/l,u[1]/l,s.displaySize[0]-u[2]/l,s.displaySize[1]-u[3]/l]}var c,h,d,f,p=e.left*o,m=e.right*o;"width"===n||"both"===n?(f=r[0]+p-i[3],h=r[0]+m+i[1]):h=(f=r[0]+(p+m-s.displaySize[0])/2)+s.displaySize[0];var g=e.top*o,y=e.bottom*o;return"height"===n||"both"===n?(c=r[1]+g-i[0],d=r[1]+y+i[2]):d=(c=r[1]+(g+y-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:c,right:h,bottom:d,left:f,collisionPadding:a}}Su[10]=!0,Su[32]=!0,Su[38]=!0,Su[40]=!0,Su[41]=!0,Su[43]=!0,Su[45]=!0,Su[47]=!0,Su[173]=!0,Su[183]=!0,Su[8203]=!0,Su[8208]=!0,Su[8211]=!0,Su[8231]=!0;var Au=function(t){function e(e,n,i,r){t.call(this,e,n),this.angle=i,void 0!==r&&(this.segment=r)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(r);function Ru(t,e){var n=e.expression;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new ar(t+1))};if("source"===n.kind)return{kind:"source"};for(var i=n.zoomStops,r=n.interpolationType,o=0;o<i.length&&i[o]<=t;)o++;for(var a=o=Math.max(0,o-1);a<i.length&&i[a]<t+1;)a++;a=Math.min(i.length-1,a);var s=i[o],u=i[a];return"composite"===n.kind?{kind:"composite",minZoom:s,maxZoom:u,interpolationType:r}:{kind:"camera",minZoom:s,maxZoom:u,minSize:n.evaluate(new ar(s)),maxSize:n.evaluate(new ar(u)),interpolationType:r}}function Nu(t,e,n){var i=e.uSize,r=n.lowerSize;return"source"===t.kind?r/128:"composite"===t.kind?Ue(r/128,n.upperSize/128,e.uSizeT):i}function Fu(t,e){var n=0,i=0;if("constant"===t.kind)i=t.layoutSize;else if("source"!==t.kind){var r=t.interpolationType,o=r?c(on.interpolationFactor(r,e,t.minZoom,t.maxZoom),0,1):0;"camera"===t.kind?i=Ue(t.minSize,t.maxSize,o):n=o}return{uSizeT:n,uSize:i}}Fi("Anchor",Au);var Yu=Object.freeze({__proto__:null,getSizeData:Ru,evaluateSizeForFeature:Nu,evaluateSizeForZoom:Fu,SIZE_PACK_FACTOR:128});function zu(t,e,n,i,r){if(void 0===e.segment)return!0;for(var o=e,a=e.segment+1,s=0;s>-n/2;){if(--a<0)return!1;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;for(var u=[],l=0;s<n/2;){var c=t[a],h=t[a+1];if(!h)return!1;var d=t[a-1].angleTo(c)-c.angleTo(h);for(d=Math.abs((d+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:s,angleDelta:d}),l+=d;s-u[0].distance>i;)l-=u.shift().angleDelta;if(l>r)return!1;a++,s+=c.dist(h)}return!0}function ju(t){for(var e=0,n=0;n<t.length-1;n++)e+=t[n].dist(t[n+1]);return e}function Bu(t,e,n){return t?.6*e*n:0}function Hu(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function Uu(t,e,n,i,r,o){for(var a=Bu(n,r,o),s=Hu(n,i)*o,u=0,l=ju(t)/2,c=0;c<t.length-1;c++){var h=t[c],d=t[c+1],f=h.dist(d);if(u+f>l){var p=(l-u)/f,m=Ue(h.x,d.x,p),g=Ue(h.y,d.y,p),y=new Au(m,g,d.angleTo(h),c);return y._round(),!a||zu(t,y,s,a,e)?y:void 0}u+=f}}function Vu(t,e,n,i,r,o,a,s,u){var l=Bu(i,o,a),c=Hu(i,r),h=c*a,d=0===t[0].x||t[0].x===u||0===t[0].y||t[0].y===u;return e-h<e/4&&(e=h+e/4),function t(e,n,i,r,o,a,s,u,l){for(var c=a/2,h=ju(e),d=0,f=n-i,p=[],m=0;m<e.length-1;m++){for(var g=e[m],y=e[m+1],v=g.dist(y),_=y.angleTo(g);f+i<d+v;){var b=((f+=i)-d)/v,x=Ue(g.x,y.x,b),w=Ue(g.y,y.y,b);if(x>=0&&x<l&&w>=0&&w<l&&f-c>=0&&f+c<=h){var k=new Au(x,w,_,m);k._round(),r&&!zu(e,k,a,r,o)||p.push(k)}}d+=v}return u||p.length||s||(p=t(e,d/2,i,r,o,a,s,!0,l)),p}(t,d?e/2*s%e:(c/2+2*o)*a*s%e,e,l,n,h,d,!1,u)}function qu(t,e,n,i,o){for(var a=[],s=0;s<t.length;s++)for(var u=t[s],l=void 0,c=0;c<u.length-1;c++){var h=u[c],d=u[c+1];h.x<e&&d.x<e||(h.x<e?h=new r(e,h.y+(e-h.x)/(d.x-h.x)*(d.y-h.y))._round():d.x<e&&(d=new r(e,h.y+(e-h.x)/(d.x-h.x)*(d.y-h.y))._round()),h.y<n&&d.y<n||(h.y<n?h=new r(h.x+(n-h.y)/(d.y-h.y)*(d.x-h.x),n)._round():d.y<n&&(d=new r(h.x+(n-h.y)/(d.y-h.y)*(d.x-h.x),n)._round()),h.x>=i&&d.x>=i||(h.x>=i?h=new r(i,h.y+(i-h.x)/(d.x-h.x)*(d.y-h.y))._round():d.x>=i&&(d=new r(i,h.y+(i-h.x)/(d.x-h.x)*(d.y-h.y))._round()),h.y>=o&&d.y>=o||(h.y>=o?h=new r(h.x+(o-h.y)/(d.y-h.y)*(d.x-h.x),o)._round():d.y>=o&&(d=new r(h.x+(o-h.y)/(d.y-h.y)*(d.x-h.x),o)._round()),l&&h.equals(l[l.length-1])||a.push(l=[h]),l.push(d)))))}return a}function Gu(t,e,n,i){var o=[],a=t.image,s=a.pixelRatio,u=a.paddedRect.w-2,l=a.paddedRect.h-2,c=t.right-t.left,h=t.bottom-t.top,d=a.stretchX||[[0,u]],f=a.stretchY||[[0,l]],p=function(t,e){return t+e[1]-e[0]},m=d.reduce(p,0),g=f.reduce(p,0),y=u-m,v=l-g,_=0,b=m,x=0,w=g,k=0,M=y,S=0,E=v;if(a.content&&i){var L=a.content;_=Wu(d,0,L[0]),x=Wu(f,0,L[1]),b=Wu(d,L[0],L[2]),w=Wu(f,L[1],L[3]),k=L[0]-_,S=L[1]-x,M=L[2]-L[0]-b,E=L[3]-L[1]-w}var T=function(i,o,u,l){var d=Ku(i.stretch-_,b,c,t.left),f=Zu(i.fixed-k,M,i.stretch,m),p=Ku(o.stretch-x,w,h,t.top),y=Zu(o.fixed-S,E,o.stretch,g),v=Ku(u.stretch-_,b,c,t.left),L=Zu(u.fixed-k,M,u.stretch,m),T=Ku(l.stretch-x,w,h,t.top),C=Zu(l.fixed-S,E,l.stretch,g),I=new r(d,p),P=new r(v,p),D=new r(v,T),O=new r(d,T),A=new r(f/s,y/s),R=new r(L/s,C/s),N=e*Math.PI/180;if(N){var F=Math.sin(N),Y=Math.cos(N),z=[Y,-F,F,Y];I._matMult(z),P._matMult(z),O._matMult(z),D._matMult(z)}var j=i.stretch+i.fixed,B=o.stretch+o.fixed;return{tl:I,tr:P,bl:O,br:D,tex:{x:a.paddedRect.x+1+j,y:a.paddedRect.y+1+B,w:u.stretch+u.fixed-j,h:l.stretch+l.fixed-B},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:A,pixelOffsetBR:R,minFontScaleX:M/s/c,minFontScaleY:E/s/h,isSDF:n}};if(i&&(a.stretchX||a.stretchY))for(var C=Xu(d,y,m),I=Xu(f,v,g),P=0;P<C.length-1;P++)for(var D=C[P],O=C[P+1],A=0;A<I.length-1;A++)o.push(T(D,I[A],O,I[A+1]));else o.push(T({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:u+1},{fixed:0,stretch:l+1}));return o}function Wu(t,e,n){for(var i=0,r=0,o=t;r<o.length;r+=1){var a=o[r];i+=Math.max(e,Math.min(n,a[1]))-Math.max(e,Math.min(n,a[0]))}return i}function Xu(t,e,n){for(var i=[{fixed:-1,stretch:0}],r=0,o=t;r<o.length;r+=1){var a=o[r],s=a[0],u=a[1],l=i[i.length-1];i.push({fixed:s-l.stretch,stretch:l.stretch}),i.push({fixed:s-l.stretch,stretch:l.stretch+(u-s)})}return i.push({fixed:e+1,stretch:n}),i}function Ku(t,e,n,i){return t/e*n+i}function Zu(t,e,n,i){return t-e*n/i}var Qu=function(t,e,n,i,o,a,s,u,l,c){if(this.boxStartIndex=t.length,l){var h=a.top,d=a.bottom,f=a.collisionPadding;f&&(h-=f[1],d+=f[3]);var p=d-h;p>0&&(p=Math.max(10,p),this.circleDiameter=p)}else{var m=a.top*s-u,g=a.bottom*s+u,y=a.left*s-u,v=a.right*s+u,_=a.collisionPadding;if(_&&(y-=_[0]*s,m-=_[1]*s,v+=_[2]*s,g+=_[3]*s),c){var b=new r(y,m),x=new r(v,m),w=new r(y,g),k=new r(v,g),M=c*Math.PI/180;b._rotate(M),x._rotate(M),w._rotate(M),k._rotate(M),y=Math.min(b.x,x.x,w.x,k.x),v=Math.max(b.x,x.x,w.x,k.x),m=Math.min(b.y,x.y,w.y,k.y),g=Math.max(b.y,x.y,w.y,k.y)}t.emplaceBack(e.x,e.y,y,m,v,g,n,i,o)}this.boxEndIndex=t.length},Ju=function(t,e){if(void 0===t&&(t=[]),void 0===e&&(e=$u),this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)};function $u(t,e){return t<e?-1:t>e?1:0}function tl(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1);for(var i=1/0,o=1/0,a=-1/0,s=-1/0,u=t[0],l=0;l<u.length;l++){var c=u[l];(!l||c.x<i)&&(i=c.x),(!l||c.y<o)&&(o=c.y),(!l||c.x>a)&&(a=c.x),(!l||c.y>s)&&(s=c.y)}var h=Math.min(a-i,s-o),d=h/2,f=new Ju([],el);if(0===h)return new r(i,o);for(var p=i;p<a;p+=h)for(var m=o;m<s;m+=h)f.push(new nl(p+d,m+d,d,t));for(var g=function(t){for(var e=0,n=0,i=0,r=t[0],o=0,a=r.length,s=a-1;o<a;s=o++){var u=r[o],l=r[s],c=u.x*l.y-l.x*u.y;n+=(u.x+l.x)*c,i+=(u.y+l.y)*c,e+=3*c}return new nl(n/e,i/e,0,t)}(t),y=f.length;f.length;){var v=f.pop();(v.d>g.d||!g.d)&&(g=v,n&&console.log("found best %d after %d probes",Math.round(1e4*v.d)/1e4,y)),v.max-g.d<=e||(f.push(new nl(v.p.x-(d=v.h/2),v.p.y-d,d,t)),f.push(new nl(v.p.x+d,v.p.y-d,d,t)),f.push(new nl(v.p.x-d,v.p.y+d,d,t)),f.push(new nl(v.p.x+d,v.p.y+d,d,t)),y+=4)}return n&&(console.log("num probes: "+y),console.log("best distance: "+g.d)),g.p}function el(t,e){return e.max-t.max}function nl(t,e,n,i){this.p=new r(t,e),this.h=n,this.d=function(t,e){for(var n=!1,i=1/0,r=0;r<e.length;r++)for(var o=e[r],a=0,s=o.length,u=s-1;a<s;u=a++){var l=o[a],c=o[u];l.y>t.y!=c.y>t.y&&t.x<(c.x-l.x)*(t.y-l.y)/(c.y-l.y)+l.x&&(n=!n),i=Math.min(i,Zo(t,l,c))}return(n?1:-1)*Math.sqrt(i)}(this.p,i),this.max=this.d+this.h*Math.SQRT2}Ju.prototype.push=function(t){this.data.push(t),this.length++,this._up(this.length-1)},Ju.prototype.pop=function(){if(0!==this.length){var t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}},Ju.prototype.peek=function(){return this.data[0]},Ju.prototype._up=function(t){for(var e=this.data,n=this.compare,i=e[t];t>0;){var r=t-1>>1,o=e[r];if(n(i,o)>=0)break;e[t]=o,t=r}e[t]=i},Ju.prototype._down=function(t){for(var e=this.data,n=this.compare,i=this.length>>1,r=e[t];t<i;){var o=1+(t<<1),a=e[o],s=o+1;if(s<this.length&&n(e[s],a)<0&&(o=s,a=e[s]),n(a,r)>=0)break;e[t]=a,t=o}e[t]=r};var il=Number.POSITIVE_INFINITY;function rl(t,e){return e[1]!==il?function(t,e,n){var i=0,r=0;switch(e=Math.abs(e),n=Math.abs(n),t){case"top-right":case"top-left":case"top":r=n-7;break;case"bottom-right":case"bottom-left":case"bottom":r=7-n}switch(t){case"top-right":case"bottom-right":case"right":i=-e;break;case"top-left":case"bottom-left":case"left":i=e}return[i,r]}(t,e[0],e[1]):function(t,e){var n=0,i=0;e<0&&(e=0);var r=e/Math.sqrt(2);switch(t){case"top-right":case"top-left":i=r-7;break;case"bottom-right":case"bottom-left":i=7-r;break;case"bottom":i=7-e;break;case"top":i=e-7}switch(t){case"top-right":case"bottom-right":n=-r;break;case"top-left":case"bottom-left":n=r;break;case"left":n=e;break;case"right":n=-e}return[n,i]}(t,e[0])}function ol(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function al(t,e,n,i,o,a,s,u,l,c,h,d,f,p,m){var g=function(t,e,n,i,o,a,s,u){for(var l=i.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,c=[],h=0,d=e.positionedLines;h<d.length;h+=1)for(var f=d[h],p=0,m=f.positionedGlyphs;p<m.length;p+=1){var g=m[p];if(g.rect){var y=g.rect||{},v=4,_=!0,b=1,x=0,w=(o||u)&&g.vertical,k=g.metrics.advance*g.scale/2;if(u&&e.verticalizable&&(x=f.lineOffset/2-(g.imageName?-(24-g.metrics.width*g.scale)/2:24*(g.scale-1))),g.imageName){var M=s[g.imageName];_=M.sdf,v=1/(b=M.pixelRatio)}var S=o?[g.x+k,g.y]:[0,0],E=o?[0,0]:[g.x+k+n[0],g.y+n[1]-x],L=[0,0];w&&(L=E,E=[0,0]);var T=(g.metrics.left-v)*g.scale-k+E[0],C=(-g.metrics.top-v)*g.scale+E[1],I=T+y.w*g.scale/b,P=C+y.h*g.scale/b,D=new r(T,C),O=new r(I,C),A=new r(T,P),R=new r(I,P);if(w){var N=new r(-k,k- -17),F=-Math.PI/2,Y=12-k,z=new r(22-Y,-(g.imageName?Y:0)),j=new(Function.prototype.bind.apply(r,[null].concat(L)));D._rotateAround(F,N)._add(z)._add(j),O._rotateAround(F,N)._add(z)._add(j),A._rotateAround(F,N)._add(z)._add(j),R._rotateAround(F,N)._add(z)._add(j)}if(l){var B=Math.sin(l),H=Math.cos(l),U=[H,-B,B,H];D._matMult(U),O._matMult(U),A._matMult(U),R._matMult(U)}var V=new r(0,0),q=new r(0,0);c.push({tl:D,tr:O,bl:A,br:R,tex:y,writingMode:e.writingMode,glyphOffset:S,sectionIndex:g.sectionIndex,isSDF:_,pixelOffsetTL:V,pixelOffsetBR:q,minFontScaleX:0,minFontScaleY:0})}}return c}(0,n,u,o,a,s,i,t.allowVerticalPlacement),y=t.textSizeData,v=null;"source"===y.kind?(v=[128*o.layout.get("text-size").evaluate(s,{})])[0]>32640&&k(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):"composite"===y.kind&&((v=[128*p.compositeTextSizes[0].evaluate(s,{},m),128*p.compositeTextSizes[1].evaluate(s,{},m)])[0]>32640||v[1]>32640)&&k(t.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),t.addSymbols(t.text,g,v,u,a,s,c,e,l.lineStartIndex,l.lineLength,f,m);for(var _=0,b=h;_<b.length;_+=1)d[b[_]]=t.text.placedSymbolArray.length-1;return 4*g.length}function sl(t){for(var e in t)return t[e];return null}function ul(t,e,n,i){var r=t.compareText;if(e in r){for(var o=r[e],a=o.length-1;a>=0;a--)if(i.dist(o[a])<n)return!0}else r[e]=[];return r[e].push(i),!1}var ll=_s.VectorTileFeature.types,cl=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function hl(t,e,n,i,r,o,a,s,u,l,c,h,d){var f=s?Math.min(32640,Math.round(s[0])):0,p=s?Math.min(32640,Math.round(s[1])):0;t.emplaceBack(e,n,Math.round(32*i),Math.round(32*r),o,a,(f<<1)+(u?1:0),p,16*l,16*c,256*h,256*d)}function dl(t,e,n){t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n)}function fl(t){for(var e=0,n=t.sections;e<n.length;e+=1)if(Zi(n[e].text))return!0;return!1}var pl=function(t){this.layoutVertexArray=new Or,this.indexArray=new jr,this.programConfigurations=t,this.segments=new ao,this.dynamicLayoutVertexArray=new Ar,this.opacityVertexArray=new Rr,this.placedSymbolArray=new Jr};pl.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length},pl.prototype.upload=function(t,e,n,i){this.isEmpty()||(n&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,js.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,Bs.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,cl,!0),this.opacityVertexBuffer.itemSize=1),(n||i)&&this.programConfigurations.upload(t))},pl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Fi("SymbolBuffers",pl);var ml=function(t,e,n){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new n,this.segments=new ao,this.collisionVertexArray=new zr};ml.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Hs.members,!0)},ml.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Fi("CollisionBuffers",ml);var gl=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=aa([]),this.placementViewportMatrix=aa([]);var e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Ru(this.zoom,e["text-size"]),this.iconSizeData=Ru(this.zoom,e["icon-size"]);var n=this.layers[0].layout,i=n.get("symbol-sort-key"),r=n.get("symbol-z-order");this.canOverlap=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==r&&void 0!==i.constantOr(1),this.sortFeaturesByY=("viewport-y"===r||"auto"===r&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===n.get("symbol-placement")&&(this.writingModes=n.get("text-writing-mode").map(function(t){return bu[t]})),this.stateDependentLayerIds=this.layers.filter(function(t){return t.isStateDependent()}).map(function(t){return t.id}),this.sourceID=t.sourceID};gl.prototype.createArrays=function(){this.text=new pl(new Ao(this.layers,this.zoom,function(t){return/^text/.test(t)})),this.icon=new pl(new Ao(this.layers,this.zoom,function(t){return/^icon/.test(t)})),this.glyphOffsetArray=new eo,this.lineVertexArray=new no,this.symbolInstances=new to},gl.prototype.calculateGlyphDependencies=function(t,e,n,i,r){for(var o=0;o<t.length;o++)if(e[t.charCodeAt(o)]=!0,(n||i)&&r){var a=Gs[t.charAt(o)];a&&(e[a.charCodeAt(0)]=!0)}},gl.prototype.populate=function(t,e,n){var i=this.layers[0],r=i.layout,o=r.get("text-font"),a=r.get("text-field"),s=r.get("icon-image"),u=("constant"!==a.value.kind||a.value.value instanceof ne&&!a.value.value.isEmpty()||a.value.value.toString().length>0)&&("constant"!==o.value.kind||o.value.value.length>0),l="constant"!==s.value.kind||!!s.value.value||Object.keys(s.parameters).length>0,c=r.get("symbol-sort-key");if(this.features=[],u||l){for(var h=e.iconDependencies,d=e.glyphDependencies,f=e.availableImages,p=new ar(this.zoom),m=0,g=t;m<g.length;m+=1){var y=g[m],v=y.feature,_=y.id,b=y.index,x=y.sourceLayerIndex,w=i._featureFilter.needGeometry,k=jo(v,w);if(i._featureFilter.filter(p,k,n)){w||(k.geometry=zo(v));var M=void 0;if(u){var S=i.getValueAndResolveTokens("text-field",k,n,f),E=ne.factory(S);fl(E)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===ir()||this.hasRTLText&&or.isParsed())&&(M=qs(E,i,k))}var L=void 0;if(l){var T=i.getValueAndResolveTokens("icon-image",k,n,f);L=T instanceof ie?T:ie.fromString(T)}if(M||L){var C=this.sortFeaturesByKey?c.evaluate(k,{},n):void 0;if(this.features.push({id:_,text:M,icon:L,index:b,sourceLayerIndex:x,geometry:k.geometry,properties:v.properties,type:ll[v.type],sortKey:C}),L&&(h[L.name]=!0),M){var I=o.evaluate(k,{},n).join(","),P="map"===r.get("text-rotation-alignment")&&"point"!==r.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(bu.vertical)>=0;for(var D=0,O=M.sections;D<O.length;D+=1){var A=O[D];if(A.image)h[A.image.name]=!0;else{var R=qi(M.toString()),N=A.fontStack||I,F=d[N]=d[N]||{};this.calculateGlyphDependencies(A.text,F,P,this.allowVerticalPlacement,R)}}}}}}"line"===r.get("symbol-placement")&&(this.features=function(t){var e={},n={},i=[],r=0;function o(e){i.push(t[e]),r++}function a(t,e,r){var o=n[t];return delete n[t],n[e]=o,i[o].geometry[0].pop(),i[o].geometry[0]=i[o].geometry[0].concat(r[0]),o}function s(t,n,r){var o=e[n];return delete e[n],e[t]=o,i[o].geometry[0].shift(),i[o].geometry[0]=r[0].concat(i[o].geometry[0]),o}function u(t,e,n){var i=n?e[0][e[0].length-1]:e[0][0];return t+":"+i.x+":"+i.y}for(var l=0;l<t.length;l++){var c=t[l],h=c.geometry,d=c.text?c.text.toString():null;if(d){var f=u(d,h),p=u(d,h,!0);if(f in n&&p in e&&n[f]!==e[p]){var m=s(f,p,h),g=a(f,p,i[m].geometry);delete e[f],delete n[p],n[u(d,i[g].geometry,!0)]=g,i[m].geometry=null}else f in n?a(f,p,h):p in e?s(f,p,h):(o(l),e[f]=r-1,n[p]=r-1)}else o(l)}return i.filter(function(t){return t.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(t,e){return t.sortKey-e.sortKey})}},gl.prototype.update=function(t,e,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,n),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,n))},gl.prototype.isEmpty=function(){return 0===this.symbolInstances.length&&!this.hasRTLText},gl.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},gl.prototype.upload=function(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},gl.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},gl.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},gl.prototype.addToLineVertexArray=function(t,e){var n=this.lineVertexArray.length;if(void 0!==t.segment){for(var i=t.dist(e[t.segment+1]),r=t.dist(e[t.segment]),o={},a=t.segment+1;a<e.length;a++)o[a]={x:e[a].x,y:e[a].y,tileUnitDistanceFromAnchor:i},a<e.length-1&&(i+=e[a+1].dist(e[a]));for(var s=t.segment||0;s>=0;s--)o[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:r},s>0&&(r+=e[s-1].dist(e[s]));for(var u=0;u<e.length;u++){var l=o[u];this.lineVertexArray.emplaceBack(l.x,l.y,l.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},gl.prototype.addSymbols=function(t,e,n,i,r,o,a,s,u,l,c,h){for(var d=t.indexArray,f=t.layoutVertexArray,p=t.segments.prepareSegment(4*e.length,f,d,this.canOverlap?o.sortKey:void 0),m=this.glyphOffsetArray.length,g=p.vertexLength,y=this.allowVerticalPlacement&&a===bu.vertical?Math.PI/2:0,v=o.text&&o.text.sections,_=0;_<e.length;_++){var b=e[_],x=b.tl,w=b.tr,k=b.bl,M=b.br,S=b.tex,E=b.pixelOffsetTL,L=b.pixelOffsetBR,T=b.minFontScaleX,C=b.minFontScaleY,I=b.glyphOffset,P=b.isSDF,D=b.sectionIndex,O=p.vertexLength,A=I[1];hl(f,s.x,s.y,x.x,A+x.y,S.x,S.y,n,P,E.x,E.y,T,C),hl(f,s.x,s.y,w.x,A+w.y,S.x+S.w,S.y,n,P,L.x,E.y,T,C),hl(f,s.x,s.y,k.x,A+k.y,S.x,S.y+S.h,n,P,E.x,L.y,T,C),hl(f,s.x,s.y,M.x,A+M.y,S.x+S.w,S.y+S.h,n,P,L.x,L.y,T,C),dl(t.dynamicLayoutVertexArray,s,y),d.emplaceBack(O,O+1,O+2),d.emplaceBack(O+1,O+2,O+3),p.vertexLength+=4,p.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(I[0]),_!==e.length-1&&D===e[_+1].sectionIndex||t.programConfigurations.populatePaintArrays(f.length,o,o.index,{},h,v&&v[D])}t.placedSymbolArray.emplaceBack(s.x,s.y,m,this.glyphOffsetArray.length-m,g,u,l,s.segment,n?n[0]:0,n?n[1]:0,i[0],i[1],a,0,!1,0,c)},gl.prototype._addCollisionDebugVertex=function(t,e,n,i,r,o){return e.emplaceBack(0,0),t.emplaceBack(n.x,n.y,i,r,Math.round(o.x),Math.round(o.y))},gl.prototype.addCollisionDebugVertices=function(t,e,n,i,o,a,s){var u=o.segments.prepareSegment(4,o.layoutVertexArray,o.indexArray),l=u.vertexLength,c=o.layoutVertexArray,h=o.collisionVertexArray,d=s.anchorX,f=s.anchorY;this._addCollisionDebugVertex(c,h,a,d,f,new r(t,e)),this._addCollisionDebugVertex(c,h,a,d,f,new r(n,e)),this._addCollisionDebugVertex(c,h,a,d,f,new r(n,i)),this._addCollisionDebugVertex(c,h,a,d,f,new r(t,i)),u.vertexLength+=4;var p=o.indexArray;p.emplaceBack(l,l+1),p.emplaceBack(l+1,l+2),p.emplaceBack(l+2,l+3),p.emplaceBack(l+3,l),u.primitiveLength+=4},gl.prototype.addDebugCollisionBoxes=function(t,e,n,i){for(var r=t;r<e;r++){var o=this.collisionBoxArray.get(r);this.addCollisionDebugVertices(o.x1,o.y1,o.x2,o.y2,i?this.textCollisionBox:this.iconCollisionBox,o.anchorPoint,n)}},gl.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new ml(Fr,Us.members,Gr),this.iconCollisionBox=new ml(Fr,Us.members,Gr);for(var t=0;t<this.symbolInstances.length;t++){var e=this.symbolInstances.get(t);this.addDebugCollisionBoxes(e.textBoxStartIndex,e.textBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.verticalTextBoxStartIndex,e.verticalTextBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.iconBoxStartIndex,e.iconBoxEndIndex,e,!1),this.addDebugCollisionBoxes(e.verticalIconBoxStartIndex,e.verticalIconBoxEndIndex,e,!1)}},gl.prototype._deserializeCollisionBoxesForSymbol=function(t,e,n,i,r,o,a,s,u){for(var l={},c=e;c<n;c++){var h=t.get(c);l.textBox={x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2,anchorPointX:h.anchorPointX,anchorPointY:h.anchorPointY},l.textFeatureIndex=h.featureIndex;break}for(var d=i;d<r;d++){var f=t.get(d);l.verticalTextBox={x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2,anchorPointX:f.anchorPointX,anchorPointY:f.anchorPointY},l.verticalTextFeatureIndex=f.featureIndex;break}for(var p=o;p<a;p++){var m=t.get(p);l.iconBox={x1:m.x1,y1:m.y1,x2:m.x2,y2:m.y2,anchorPointX:m.anchorPointX,anchorPointY:m.anchorPointY},l.iconFeatureIndex=m.featureIndex;break}for(var g=s;g<u;g++){var y=t.get(g);l.verticalIconBox={x1:y.x1,y1:y.y1,x2:y.x2,y2:y.y2,anchorPointX:y.anchorPointX,anchorPointY:y.anchorPointY},l.verticalIconFeatureIndex=y.featureIndex;break}return l},gl.prototype.deserializeCollisionBoxes=function(t){this.collisionArrays=[];for(var e=0;e<this.symbolInstances.length;e++){var n=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}},gl.prototype.hasTextData=function(){return this.text.segments.get().length>0},gl.prototype.hasIconData=function(){return this.icon.segments.get().length>0},gl.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},gl.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},gl.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},gl.prototype.addIndicesForPlacedSymbol=function(t,e){for(var n=t.placedSymbolArray.get(e),i=n.vertexStartIndex+4*n.numGlyphs,r=n.vertexStartIndex;r<i;r+=4)t.indexArray.emplaceBack(r,r+1,r+2),t.indexArray.emplaceBack(r+1,r+2,r+3)},gl.prototype.getSortedSymbolIndexes=function(t){if(this.sortedAngle===t&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var e=Math.sin(t),n=Math.cos(t),i=[],r=[],o=[],a=0;a<this.symbolInstances.length;++a){o.push(a);var s=this.symbolInstances.get(a);i.push(0|Math.round(e*s.anchorX+n*s.anchorY)),r.push(s.featureIndex)}return o.sort(function(t,e){return i[t]-i[e]||r[e]-r[t]}),o},gl.prototype.addToSortKeyRanges=function(t,e){var n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===e?n.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:e,symbolInstanceStart:t,symbolInstanceEnd:t+1})},gl.prototype.sortFeatures=function(t){var e=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var n=0,i=this.symbolInstanceIndexes;n<i.length;n+=1){var r=this.symbolInstances.get(i[n]);this.featureSortOrder.push(r.featureIndex),[r.rightJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.leftJustifiedTextSymbolIndex].forEach(function(t,n,i){t>=0&&i.indexOf(t)===n&&e.addIndicesForPlacedSymbol(e.text,t)}),r.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,r.verticalPlacedTextSymbolIndex),r.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,r.placedIconSymbolIndex),r.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,r.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Fi("SymbolBucket",gl,{omit:["layers","collisionBoxArray","features","compareText"]}),gl.MAX_GLYPHS=65535,gl.addDynamicAttributes=dl;var yl=new br({"symbol-placement":new mr(Tt.layout_symbol["symbol-placement"]),"symbol-spacing":new mr(Tt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new mr(Tt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new gr(Tt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new mr(Tt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new mr(Tt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new mr(Tt.layout_symbol["icon-ignore-placement"]),"icon-optional":new mr(Tt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new mr(Tt.layout_symbol["icon-rotation-alignment"]),"icon-size":new gr(Tt.layout_symbol["icon-size"]),"icon-text-fit":new mr(Tt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new mr(Tt.layout_symbol["icon-text-fit-padding"]),"icon-image":new gr(Tt.layout_symbol["icon-image"]),"icon-rotate":new gr(Tt.layout_symbol["icon-rotate"]),"icon-padding":new mr(Tt.layout_symbol["icon-padding"]),"icon-keep-upright":new mr(Tt.layout_symbol["icon-keep-upright"]),"icon-offset":new gr(Tt.layout_symbol["icon-offset"]),"icon-anchor":new gr(Tt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new mr(Tt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new mr(Tt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new mr(Tt.layout_symbol["text-rotation-alignment"]),"text-field":new gr(Tt.layout_symbol["text-field"]),"text-font":new gr(Tt.layout_symbol["text-font"]),"text-size":new gr(Tt.layout_symbol["text-size"]),"text-max-width":new gr(Tt.layout_symbol["text-max-width"]),"text-line-height":new mr(Tt.layout_symbol["text-line-height"]),"text-letter-spacing":new gr(Tt.layout_symbol["text-letter-spacing"]),"text-justify":new gr(Tt.layout_symbol["text-justify"]),"text-radial-offset":new gr(Tt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new mr(Tt.layout_symbol["text-variable-anchor"]),"text-anchor":new gr(Tt.layout_symbol["text-anchor"]),"text-max-angle":new mr(Tt.layout_symbol["text-max-angle"]),"text-writing-mode":new mr(Tt.layout_symbol["text-writing-mode"]),"text-rotate":new gr(Tt.layout_symbol["text-rotate"]),"text-padding":new mr(Tt.layout_symbol["text-padding"]),"text-keep-upright":new mr(Tt.layout_symbol["text-keep-upright"]),"text-transform":new gr(Tt.layout_symbol["text-transform"]),"text-offset":new gr(Tt.layout_symbol["text-offset"]),"text-allow-overlap":new mr(Tt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new mr(Tt.layout_symbol["text-ignore-placement"]),"text-optional":new mr(Tt.layout_symbol["text-optional"])}),vl={paint:new br({"icon-opacity":new gr(Tt.paint_symbol["icon-opacity"]),"icon-color":new gr(Tt.paint_symbol["icon-color"]),"icon-halo-color":new gr(Tt.paint_symbol["icon-halo-color"]),"icon-halo-width":new gr(Tt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new gr(Tt.paint_symbol["icon-halo-blur"]),"icon-translate":new mr(Tt.paint_symbol["icon-translate"]),"icon-translate-anchor":new mr(Tt.paint_symbol["icon-translate-anchor"]),"text-opacity":new gr(Tt.paint_symbol["text-opacity"]),"text-color":new gr(Tt.paint_symbol["text-color"],{runtimeType:jt,getOverride:function(t){return t.textColor},hasOverride:function(t){return!!t.textColor}}),"text-halo-color":new gr(Tt.paint_symbol["text-halo-color"]),"text-halo-width":new gr(Tt.paint_symbol["text-halo-width"]),"text-halo-blur":new gr(Tt.paint_symbol["text-halo-blur"]),"text-translate":new mr(Tt.paint_symbol["text-translate"]),"text-translate-anchor":new mr(Tt.paint_symbol["text-translate-anchor"])}),layout:yl},_l=function(t){this.type=t.property.overrides?t.property.overrides.runtimeType:Nt,this.defaultValue=t};_l.prototype.evaluate=function(t){if(t.formattedSection){var e=this.defaultValue.property.overrides;if(e&&e.hasOverride(t.formattedSection))return e.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default},_l.prototype.eachChild=function(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)},_l.prototype.outputDefined=function(){return!1},_l.prototype.serialize=function(){return null},Fi("FormatSectionOverride",_l,{omit:["defaultValue"]});var bl=function(t){function e(e){t.call(this,e,vl)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.recalculate=function(e,n){if(t.prototype.recalculate.call(this,e,n),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){var i=this.layout.get("text-writing-mode");if(i){for(var r=[],o=0,a=i;o<a.length;o+=1){var s=a[o];r.indexOf(s)<0&&r.push(s)}this.layout._values["text-writing-mode"]=r}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},e.prototype.getValueAndResolveTokens=function(t,e,n,i){var r=this.layout.get(t).evaluate(e,{},n,i),o=this._unevaluatedLayout._values[t];return o.isDataDriven()||qn(o.value)||!r?r:function(t,e){return e.replace(/{([^{}]+)}/g,function(e,n){return n in t?String(t[n]):""})}(e.properties,r)},e.prototype.createBucket=function(t){return new gl(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype._setPaintOverrides=function(){for(var t=0,n=vl.paint.overridableProperties;t<n.length;t+=1){var i=n[t];if(e.hasPaintOverride(this.layout,i)){var r,o=this.paint.get(i),a=new _l(o),s=new Vn(a,o.property.specification);r="constant"===o.value.kind||"source"===o.value.kind?new Wn("source",s):new Xn("composite",s,o.value.zoomStops,o.value._interpolationType),this.paint._values[i]=new fr(o.property,r,o.parameters)}}},e.prototype._handleOverridablePaintPropertyUpdate=function(t,n,i){return!(!this.layout||n.isDataDriven()||i.isDataDriven())&&e.hasPaintOverride(this.layout,t)},e.hasPaintOverride=function(t,e){var n=t.get("text-field"),i=vl.paint.properties[e],r=!1,o=function(t){for(var e=0,n=t;e<n.length;e+=1)if(i.overrides&&i.overrides.hasOverride(n[e]))return void(r=!0)};if("constant"===n.value.kind&&n.value.value instanceof ne)o(n.value.value.sections);else if("source"===n.value.kind){var a=n.value;a._styleExpression&&function t(e){r||(e instanceof ue&&ae(e.value)===Vt?o(e.value.sections):e instanceof de?o(e.sections):e.eachChild(t))}(a._styleExpression.expression)}return r},e}(xr),xl={paint:new br({"background-color":new mr(Tt.paint_background["background-color"]),"background-pattern":new vr(Tt.paint_background["background-pattern"]),"background-opacity":new mr(Tt.paint_background["background-opacity"])})},wl=function(t){function e(e){t.call(this,e,xl)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(xr),kl={paint:new br({"raster-opacity":new mr(Tt.paint_raster["raster-opacity"]),"raster-hue-rotate":new mr(Tt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new mr(Tt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new mr(Tt.paint_raster["raster-brightness-max"]),"raster-saturation":new mr(Tt.paint_raster["raster-saturation"]),"raster-contrast":new mr(Tt.paint_raster["raster-contrast"]),"raster-resampling":new mr(Tt.paint_raster["raster-resampling"]),"raster-fade-duration":new mr(Tt.paint_raster["raster-fade-duration"])})},Ml=function(t){function e(e){t.call(this,e,kl)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(xr),Sl=function(t){function e(e){t.call(this,e,{}),this.implementation=e}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.is3D=function(){return"3d"===this.implementation.renderingMode},e.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},e.prototype.recalculate=function(){},e.prototype.updateTransitions=function(){},e.prototype.hasTransition=function(){},e.prototype.serialize=function(){},e.prototype.onAdd=function(t){this.implementation.onAdd&&this.implementation.onAdd(t,t.painter.context.gl)},e.prototype.onRemove=function(t){this.implementation.onRemove&&this.implementation.onRemove(t,t.painter.context.gl)},e}(xr),El={circle:ha,heatmap:xa,hillshade:ka,fill:ls,"fill-extrusion":Es,line:Ys,symbol:bl,background:wl,raster:Ml},Ll=a.HTMLImageElement,Tl=a.HTMLCanvasElement,Cl=a.HTMLVideoElement,Il=a.ImageData,Pl=a.ImageBitmap,Dl=function(t,e,n,i){this.context=t,this.format=n,this.texture=t.gl.createTexture(),this.update(e,i)};Dl.prototype.update=function(t,e,n){var i=t.width,r=t.height,o=!(this.size&&this.size[0]===i&&this.size[1]===r||n),a=this.context,s=a.gl;if(this.useMipmap=Boolean(e&&e.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!e||!1!==e.premultiply)),o)this.size=[i,r],t instanceof Ll||t instanceof Tl||t instanceof Cl||t instanceof Il||Pl&&t instanceof Pl?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,t):s.texImage2D(s.TEXTURE_2D,0,this.format,i,r,0,this.format,s.UNSIGNED_BYTE,t.data);else{var u=n||{x:0,y:0},l=u.x,c=u.y;t instanceof Ll||t instanceof Tl||t instanceof Cl||t instanceof Il||Pl&&t instanceof Pl?s.texSubImage2D(s.TEXTURE_2D,0,l,c,s.RGBA,s.UNSIGNED_BYTE,t):s.texSubImage2D(s.TEXTURE_2D,0,l,c,i,r,s.RGBA,s.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},Dl.prototype.bind=function(t,e,n){var i=this.context.gl;i.bindTexture(i.TEXTURE_2D,this.texture),n!==i.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=i.LINEAR),t!==this.filter&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,n||t),this.filter=t),e!==this.wrap&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,e),this.wrap=e)},Dl.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Dl.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Ol=function(t){var e=this;this._callback=t,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){e._triggered=!1,e._callback()})};Ol.prototype.trigger=function(){var t=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){t._triggered=!1,t._callback()},0))},Ol.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Al=function(t,e,n){this.target=t,this.parent=e,this.mapId=n,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},y(["receive","process"],this),this.invoker=new Ol(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=E()?t:a};function Rl(t,e,n){var i=2*Math.PI*6378137/256/Math.pow(2,n);return[t*i-2*Math.PI*6378137/2,e*i-2*Math.PI*6378137/2]}Al.prototype.send=function(t,e,n,i,r){var o=this;void 0===r&&(r=!1);var a=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(this.callbacks[a]=n);var s=C(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:t,hasCallback:!!n,targetMapId:i,mustQueue:r,sourceMapId:this.mapId,data:Bi(e,s)},s),{cancel:function(){n&&delete o.callbacks[a],o.target.postMessage({id:a,type:"<cancel>",targetMapId:i,sourceMapId:o.mapId})}}},Al.prototype.receive=function(t){var e=t.data,n=e.id;if(n&&(!e.targetMapId||this.mapId===e.targetMapId))if("<cancel>"===e.type){delete this.tasks[n];var i=this.cancelCallbacks[n];delete this.cancelCallbacks[n],i&&i()}else E()||e.mustQueue?(this.tasks[n]=e,this.taskQueue.push(n),this.invoker.trigger()):this.processTask(n,e)},Al.prototype.process=function(){if(this.taskQueue.length){var t=this.taskQueue.shift(),e=this.tasks[t];delete this.tasks[t],this.taskQueue.length&&this.invoker.trigger(),e&&this.processTask(t,e)}},Al.prototype.processTask=function(t,e){var n=this;if("<response>"===e.type){var i=this.callbacks[t];delete this.callbacks[t],i&&(e.error?i(Hi(e.error)):i(null,Hi(e.data)))}else{var r=!1,o=C(this.globalScope)?void 0:[],a=e.hasCallback?function(e,i){r=!0,delete n.cancelCallbacks[t],n.target.postMessage({id:t,type:"<response>",sourceMapId:n.mapId,error:e?Bi(e):null,data:Bi(i,o)},o)}:function(t){r=!0},s=null,u=Hi(e.data);if(this.parent[e.type])s=this.parent[e.type](e.sourceMapId,u,a);else if(this.parent.getWorkerSource){var l=e.type.split(".");s=this.parent.getWorkerSource(e.sourceMapId,l[0],u.source)[l[1]](u,a)}else a(new Error("Could not find function "+e.type));!r&&s&&s.cancel&&(this.cancelCallbacks[t]=s.cancel)}},Al.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Nl=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};Nl.prototype.setNorthEast=function(t){return this._ne=t instanceof Fl?new Fl(t.lng,t.lat):Fl.convert(t),this},Nl.prototype.setSouthWest=function(t){return this._sw=t instanceof Fl?new Fl(t.lng,t.lat):Fl.convert(t),this},Nl.prototype.extend=function(t){var e,n,i=this._sw,r=this._ne;if(t instanceof Fl)e=t,n=t;else{if(!(t instanceof Nl))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?this.extend(Nl.convert(t)):this.extend(Fl.convert(t)):this;if(n=t._ne,!(e=t._sw)||!n)return this}return i||r?(i.lng=Math.min(e.lng,i.lng),i.lat=Math.min(e.lat,i.lat),r.lng=Math.max(n.lng,r.lng),r.lat=Math.max(n.lat,r.lat)):(this._sw=new Fl(e.lng,e.lat),this._ne=new Fl(n.lng,n.lat)),this},Nl.prototype.getCenter=function(){return new Fl((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Nl.prototype.getSouthWest=function(){return this._sw},Nl.prototype.getNorthEast=function(){return this._ne},Nl.prototype.getNorthWest=function(){return new Fl(this.getWest(),this.getNorth())},Nl.prototype.getSouthEast=function(){return new Fl(this.getEast(),this.getSouth())},Nl.prototype.getWest=function(){return this._sw.lng},Nl.prototype.getSouth=function(){return this._sw.lat},Nl.prototype.getEast=function(){return this._ne.lng},Nl.prototype.getNorth=function(){return this._ne.lat},Nl.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Nl.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Nl.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Nl.prototype.contains=function(t){var e=Fl.convert(t),n=e.lng,i=e.lat,r=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(r=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=i&&i<=this._ne.lat&&r},Nl.convert=function(t){return!t||t instanceof Nl?t:new Nl(t)};var Fl=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Fl.prototype.wrap=function(){return new Fl(h(this.lng,-180,180),this.lat)},Fl.prototype.toArray=function(){return[this.lng,this.lat]},Fl.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Fl.prototype.distanceTo=function(t){var e=Math.PI/180,n=this.lat*e,i=t.lat*e,r=Math.sin(n)*Math.sin(i)+Math.cos(n)*Math.cos(i)*Math.cos((t.lng-this.lng)*e);return 6371008.8*Math.acos(Math.min(r,1))},Fl.prototype.toBounds=function(t){void 0===t&&(t=0);var e=360*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return new Nl(new Fl(this.lng-n,this.lat-e),new Fl(this.lng+n,this.lat+e))},Fl.convert=function(t){if(t instanceof Fl)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new Fl(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new Fl(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Yl=2*Math.PI*6371008.8;function zl(t){return Yl*Math.cos(t*Math.PI/180)}function jl(t){return(180+t)/360}function Bl(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Hl(t,e){return t/zl(e)}function Ul(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}var Vl=function(t,e,n){void 0===n&&(n=0),this.x=+t,this.y=+e,this.z=+n};Vl.fromLngLat=function(t,e){void 0===e&&(e=0);var n=Fl.convert(t);return new Vl(jl(n.lng),Bl(n.lat),Hl(e,n.lat))},Vl.prototype.toLngLat=function(){return new Fl(360*this.x-180,Ul(this.y))},Vl.prototype.toAltitude=function(){return this.z*zl(Ul(this.y))},Vl.prototype.meterInMercatorCoordinateUnits=function(){return 1/Yl*(t=Ul(this.y),1/Math.cos(t*Math.PI/180));var t};var ql=function(t,e,n){this.z=t,this.x=e,this.y=n,this.key=Xl(0,t,t,e,n)};ql.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},ql.prototype.url=function(t,e){var n,i,r,o,a,s=(i=this.y,r=this.z,o=Rl(256*(n=this.x),256*(i=Math.pow(2,r)-i-1),r),a=Rl(256*(n+1),256*(i+1),r),o[0]+","+o[1]+","+a[0]+","+a[1]),u=function(t,e,n){for(var i,r="",o=t;o>0;o--)r+=(e&(i=1<<o-1)?1:0)+(n&i?2:0);return r}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",u).replace("{bbox-epsg-3857}",s)},ql.prototype.getTilePoint=function(t){var e=Math.pow(2,this.z);return new r(8192*(t.x*e-this.x),8192*(t.y*e-this.y))},ql.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Gl=function(t,e){this.wrap=t,this.canonical=e,this.key=Xl(t,e.z,e.z,e.x,e.y)},Wl=function(t,e,n,i,r){this.overscaledZ=t,this.wrap=e,this.canonical=new ql(n,+i,+r),this.key=Xl(e,t,n,i,r)};function Xl(t,e,n,i,r){(t*=2)<0&&(t=-1*t-1);var o=1<<n;return(o*o*t+o*r+i).toString(36)+n.toString(36)+e.toString(36)}Wl.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)},Wl.prototype.scaledTo=function(t){var e=this.canonical.z-t;return t>this.canonical.z?new Wl(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Wl(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)},Wl.prototype.calculateScaledKey=function(t,e){var n=this.canonical.z-t;return t>this.canonical.z?Xl(this.wrap*+e,t,this.canonical.z,this.canonical.x,this.canonical.y):Xl(this.wrap*+e,t,t,this.canonical.x>>n,this.canonical.y>>n)},Wl.prototype.isChildOf=function(t){if(t.wrap!==this.wrap)return!1;var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e},Wl.prototype.children=function(t){if(this.overscaledZ>=t)return[new Wl(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,n=2*this.canonical.x,i=2*this.canonical.y;return[new Wl(e,this.wrap,e,n,i),new Wl(e,this.wrap,e,n+1,i),new Wl(e,this.wrap,e,n,i+1),new Wl(e,this.wrap,e,n+1,i+1)]},Wl.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},Wl.prototype.wrapped=function(){return new Wl(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Wl.prototype.unwrapTo=function(t){return new Wl(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},Wl.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Wl.prototype.toUnwrapped=function(){return new Gl(this.wrap,this.canonical)},Wl.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Wl.prototype.getTilePoint=function(t){return this.canonical.getTilePoint(new Vl(t.x-this.wrap,t.y))},Fi("CanonicalTileID",ql),Fi("OverscaledTileID",Wl,{omit:["posMatrix"]});var Kl=function(t,e,n){if(this.uid=t,e.height!==e.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return k('"'+n+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=e.height;var i=this.dim=e.height-2;this.data=new Uint32Array(e.data.buffer),this.encoding=n||"mapbox";for(var r=0;r<i;r++)this.data[this._idx(-1,r)]=this.data[this._idx(0,r)],this.data[this._idx(i,r)]=this.data[this._idx(i-1,r)],this.data[this._idx(r,-1)]=this.data[this._idx(r,0)],this.data[this._idx(r,i)]=this.data[this._idx(r,i-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(i,-1)]=this.data[this._idx(i-1,0)],this.data[this._idx(-1,i)]=this.data[this._idx(0,i-1)],this.data[this._idx(i,i)]=this.data[this._idx(i-1,i-1)]};Kl.prototype.get=function(t,e){var n=new Uint8Array(this.data.buffer),i=4*this._idx(t,e);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[i],n[i+1],n[i+2])},Kl.prototype.getUnpackVector=function(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Kl.prototype._idx=function(t,e){if(t<-1||t>=this.dim+1||e<-1||e>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(e+1)*this.stride+(t+1)},Kl.prototype._unpackMapbox=function(t,e,n){return(256*t*256+256*e+n)/10-1e4},Kl.prototype._unpackTerrarium=function(t,e,n){return 256*t+e+n/256-32768},Kl.prototype.getPixels=function(){return new va({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Kl.prototype.backfillBorder=function(t,e,n){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");var i=e*this.dim,r=e*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(e){case-1:i=r-1;break;case 1:r=i+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}for(var s=-e*this.dim,u=-n*this.dim,l=o;l<a;l++)for(var c=i;c<r;c++)this.data[this._idx(c,l)]=t.data[this._idx(c+s,l+u)]},Fi("DEMData",Kl);var Zl=function(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e<t.length;e++){var n=t[e];this._stringToNumber[n]=e,this._numberToString[e]=n}};Zl.prototype.encode=function(t){return this._stringToNumber[t]},Zl.prototype.decode=function(t){return this._numberToString[t]};var Ql=function(t,e,n,i,r){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=n,t._y=i,this.properties=t.properties,this.id=r},Jl={geometry:{configurable:!0}};Jl.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Jl.geometry.set=function(t){this._geometry=t},Ql.prototype.toJSON=function(){var t={geometry:this.geometry};for(var e in this)"_geometry"!==e&&"_vectorTileFeature"!==e&&(t[e]=this[e]);return t},Object.defineProperties(Ql.prototype,Jl);var $l=function(){this.state={},this.stateChanges={},this.deletedStates={}};$l.prototype.updateState=function(t,e,n){var i=String(e);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][i]=this.stateChanges[t][i]||{},d(this.stateChanges[t][i],n),null===this.deletedStates[t])for(var r in this.deletedStates[t]={},this.state[t])r!==i&&(this.deletedStates[t][r]=null);else if(this.deletedStates[t]&&null===this.deletedStates[t][i])for(var o in this.deletedStates[t][i]={},this.state[t][i])n[o]||(this.deletedStates[t][i][o]=null);else for(var a in n)this.deletedStates[t]&&this.deletedStates[t][i]&&null===this.deletedStates[t][i][a]&&delete this.deletedStates[t][i][a]},$l.prototype.removeFeatureState=function(t,e,n){if(null!==this.deletedStates[t]){var i=String(e);if(this.deletedStates[t]=this.deletedStates[t]||{},n&&void 0!==e)null!==this.deletedStates[t][i]&&(this.deletedStates[t][i]=this.deletedStates[t][i]||{},this.deletedStates[t][i][n]=null);else if(void 0!==e)if(this.stateChanges[t]&&this.stateChanges[t][i])for(n in this.deletedStates[t][i]={},this.stateChanges[t][i])this.deletedStates[t][i][n]=null;else this.deletedStates[t][i]=null;else this.deletedStates[t]=null}},$l.prototype.getState=function(t,e){var n=String(e),i=d({},(this.state[t]||{})[n],(this.stateChanges[t]||{})[n]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){var r=this.deletedStates[t][e];if(null===r)return{};for(var o in r)delete i[o]}return i},$l.prototype.initializeTileState=function(t,e){t.setFeatureState(this.state,e)},$l.prototype.coalesceChanges=function(t,e){var n={};for(var i in this.stateChanges){this.state[i]=this.state[i]||{};var r={};for(var o in this.stateChanges[i])this.state[i][o]||(this.state[i][o]={}),d(this.state[i][o],this.stateChanges[i][o]),r[o]=this.state[i][o];n[i]=r}for(var a in this.deletedStates){this.state[a]=this.state[a]||{};var s={};if(null===this.deletedStates[a])for(var u in this.state[a])s[u]={},this.state[a][u]={};else for(var l in this.deletedStates[a]){if(null===this.deletedStates[a][l])this.state[a][l]={};else for(var c=0,h=Object.keys(this.deletedStates[a][l]);c<h.length;c+=1)delete this.state[a][l][h[c]];s[l]=this.state[a][l]}n[a]=n[a]||{},d(n[a],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(var f in t)t[f].setFeatureState(n,e)};var tc=function(t,e){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Di(8192,16,0),this.grid3D=new Di(8192,16,0),this.featureIndexArray=new ro,this.promoteId=e};function ec(t,e,n,i,r){return _(t,function(t,o){var a=e instanceof pr?e.get(o):null;return a&&a.evaluate?a.evaluate(n,i,r):a})}function nc(t){for(var e=1/0,n=1/0,i=-1/0,r=-1/0,o=0,a=t;o<a.length;o+=1){var s=a[o];e=Math.min(e,s.x),n=Math.min(n,s.y),i=Math.max(i,s.x),r=Math.max(r,s.y)}return{minX:e,minY:n,maxX:i,maxY:r}}function ic(t,e){return e-t}tc.prototype.insert=function(t,e,n,i,r,o){var a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,i,r);for(var s=o?this.grid3D:this.grid,u=0;u<e.length;u++){for(var l=e[u],c=[1/0,1/0,-1/0,-1/0],h=0;h<l.length;h++){var d=l[h];c[0]=Math.min(c[0],d.x),c[1]=Math.min(c[1],d.y),c[2]=Math.max(c[2],d.x),c[3]=Math.max(c[3],d.y)}c[0]<8192&&c[1]<8192&&c[2]>=0&&c[3]>=0&&s.insert(a,c[0],c[1],c[2],c[3])}},tc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new _s.VectorTile(new Ks(this.rawTileData)).layers,this.sourceLayerCoder=new Zl(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},tc.prototype.query=function(t,e,n,i){var o=this;this.loadVTLayers();for(var a=t.params||{},s=8192/t.tileSize/t.scale,u=oi(a.filter),l=t.queryGeometry,c=t.queryPadding*s,h=nc(l),d=this.grid.query(h.minX-c,h.minY-c,h.maxX+c,h.maxY+c),f=nc(t.cameraQueryGeometry),p=0,m=this.grid3D.query(f.minX-c,f.minY-c,f.maxX+c,f.maxY+c,function(e,n,i,o){return function(t,e,n,i,o){for(var a=0,s=t;a<s.length;a+=1){var u=s[a];if(e<=u.x&&n<=u.y&&i>=u.x&&o>=u.y)return!0}var l=[new r(e,n),new r(e,o),new r(i,o),new r(i,n)];if(t.length>2)for(var c=0,h=l;c<h.length;c+=1)if(Jo(t,h[c]))return!0;for(var d=0;d<t.length-1;d++)if($o(t[d],t[d+1],l))return!0;return!1}(t.cameraQueryGeometry,e-c,n-c,i+c,o+c)});p<m.length;p+=1)d.push(m[p]);d.sort(ic);for(var g,y={},v=function(r){var c=d[r];if(c!==g){g=c;var h=o.featureIndexArray.get(c),f=null;o.loadMatchingFeature(y,h.bucketIndex,h.sourceLayerIndex,h.featureIndex,u,a.layers,a.availableImages,e,n,i,function(e,n,i){return f||(f=zo(e)),n.queryIntersectsFeature(l,e,i,f,o.z,t.transform,s,t.pixelPosMatrix)})}},_=0;_<d.length;_++)v(_);return y},tc.prototype.loadMatchingFeature=function(t,e,n,i,r,o,a,s,u,l,c){var h=this.bucketLayerIDs[e];if(!o||function(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1}(o,h)){var f=this.sourceLayerCoder.decode(n),p=this.vtLayers[f].feature(i);if(r.needGeometry){var m=jo(p,!0);if(!r.filter(new ar(this.tileID.overscaledZ),m,this.tileID.canonical))return}else if(!r.filter(new ar(this.tileID.overscaledZ),p))return;for(var g=this.getId(p,f),y=0;y<h.length;y++){var v=h[y];if(!(o&&o.indexOf(v)<0)){var _=s[v];if(_){var b={};void 0!==g&&l&&(b=l.getState(_.sourceLayer||"_geojsonTileLayer",g));var x=d({},u[v]);x.paint=ec(x.paint,_.paint,p,b,a),x.layout=ec(x.layout,_.layout,p,b,a);var w=!c||c(p,_,b);if(w){var k=new Ql(p,this.z,this.x,this.y,g);k.layer=x;var M=t[v];void 0===M&&(M=t[v]=[]),M.push({featureIndex:i,feature:k,intersectionZ:w})}}}}}},tc.prototype.lookupSymbolFeatures=function(t,e,n,i,r,o,a,s){var u={};this.loadVTLayers();for(var l=oi(r),c=0,h=t;c<h.length;c+=1)this.loadMatchingFeature(u,n,i,h[c],l,o,a,s,e);return u},tc.prototype.hasLayer=function(t){for(var e=0,n=this.bucketLayerIDs;e<n.length;e+=1)for(var i=0,r=n[e];i<r.length;i+=1)if(t===r[i])return!0;return!1},tc.prototype.getId=function(t,e){var n=t.id;return this.promoteId&&"boolean"==typeof(n=t.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[e]])&&(n=Number(n)),n},Fi("FeatureIndex",tc,{omit:["rawTileData","sourceLayerCoder"]});var rc=function(t,e){this.tileID=t,this.uid=p(),this.uses=0,this.tileSize=e,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};rc.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<Y.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},rc.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},rc.prototype.loadVectorData=function(t,e,n){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){for(var i in t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){var n={};if(!e)return n;for(var i=function(){var t=o[r],i=t.layerIds.map(function(t){return e.getLayer(t)}).filter(Boolean);if(0!==i.length){t.layers=i,t.stateDependentLayerIds&&(t.stateDependentLayers=t.stateDependentLayerIds.map(function(t){return i.filter(function(e){return e.id===t})[0]}));for(var a=0,s=i;a<s.length;a+=1)n[s[a].id]=t}},r=0,o=t;r<o.length;r+=1)i();return n}(t.buckets,e.style),this.hasSymbolBuckets=!1,this.buckets){var r=this.buckets[i];if(r instanceof gl){if(this.hasSymbolBuckets=!0,!n)break;r.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var o in this.buckets){var a=this.buckets[o];if(a instanceof gl&&a.hasRTLText){this.hasRTLText=!0,or.isLoading()||or.isLoaded()||"deferred"!==ir()||rr();break}}for(var s in this.queryPadding=0,this.buckets){var u=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(s).queryRadius(u))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new Zr},rc.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},rc.prototype.getBucket=function(t){return this.buckets[t.id]},rc.prototype.upload=function(t){for(var e in this.buckets){var n=this.buckets[e];n.uploadPending()&&n.upload(t)}var i=t.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Dl(t,this.imageAtlas.image,i.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Dl(t,this.glyphAtlasImage,i.ALPHA),this.glyphAtlasImage=null)},rc.prototype.prepare=function(t){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)},rc.prototype.queryRenderedFeatures=function(t,e,n,i,r,o,a,s,u,l){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:i,cameraQueryGeometry:r,scale:o,tileSize:this.tileSize,pixelPosMatrix:l,transform:s,params:a,queryPadding:this.queryPadding*u},t,e,n):{}},rc.prototype.querySourceFeatures=function(t,e){var n=this.latestFeatureIndex;if(n&&n.rawTileData){var i=n.loadVTLayers(),r=e?e.sourceLayer:"",o=i._geojsonTileLayer||i[r];if(o)for(var a=oi(e&&e.filter),s=this.tileID.canonical,u=s.z,l=s.x,c=s.y,h={z:u,x:l,y:c},d=0;d<o.length;d++){var f=o.feature(d);if(a.needGeometry){var p=jo(f,!0);if(!a.filter(new ar(this.tileID.overscaledZ),p,this.tileID.canonical))continue}else if(!a.filter(new ar(this.tileID.overscaledZ),f))continue;var m=n.getId(f,r),g=new Ql(f,u,l,c,m);g.tile=h,t.push(g)}}},rc.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},rc.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},rc.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var n=L(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var i=Date.now(),r=!1;if(this.expirationTime>i)r=!1;else if(e)if(this.expirationTime<e)r=!0;else{var o=this.expirationTime-e;o?this.expirationTime=i+Math.max(o,3e4):r=!0}else r=!0;r?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},rc.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},rc.prototype.setFeatureState=function(t,e){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&0!==Object.keys(t).length){var n=this.latestFeatureIndex.loadVTLayers();for(var i in this.buckets)if(e.style.hasLayer(i)){var r=this.buckets[i],o=r.layers[0].sourceLayer||"_geojsonTileLayer",a=n[o],s=t[o];if(a&&s&&0!==Object.keys(s).length){r.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{});var u=e&&e.style&&e.style.getLayer(i);u&&(this.queryPadding=Math.max(this.queryPadding,u.queryRadius(r)))}}}},rc.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},rc.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Y.now()},rc.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},rc.prototype.setHoldDuration=function(t){this.symbolFadeHoldUntil=Y.now()+t},rc.prototype.setDependencies=function(t,e){for(var n={},i=0,r=e;i<r.length;i+=1)n[r[i]]=!0;this.dependencies[t]=n},rc.prototype.hasDependency=function(t,e){for(var n=0,i=t;n<i.length;n+=1){var r=this.dependencies[i[n]];if(r)for(var o=0,a=e;o<a.length;o+=1)if(r[a[o]])return!0}return!1};var oc=a.performance,ac=function(t){this._marks={start:[t.url,"start"].join("#"),end:[t.url,"end"].join("#"),measure:t.url.toString()},oc.mark(this._marks.start)};ac.prototype.finish=function(){oc.mark(this._marks.end);var t=oc.getEntriesByName(this._marks.measure);return 0===t.length&&(oc.measure(this._marks.measure,this._marks.start,this._marks.end),t=oc.getEntriesByName(this._marks.measure),oc.clearMarks(this._marks.start),oc.clearMarks(this._marks.end),oc.clearMeasures(this._marks.measure)),t},t.Actor=Al,t.AlphaImage=ya,t.CanonicalTileID=ql,t.CollisionBoxArray=Zr,t.Color=$t,t.DEMData=Kl,t.DataConstantProperty=mr,t.DictionaryCoder=Zl,t.EXTENT=8192,t.ErrorEvent=Et,t.EvaluationParameters=ar,t.Event=St,t.Evented=Lt,t.FeatureIndex=tc,t.FillBucket=as,t.FillExtrusionBucket=ks,t.ImageAtlas=_u,t.ImagePosition=yu,t.LineBucket=As,t.LngLat=Fl,t.LngLatBounds=Nl,t.MercatorCoordinate=Vl,t.ONE_EM=24,t.OverscaledTileID=Wl,t.Point=r,t.Point$1=r,t.Properties=br,t.Protobuf=Ks,t.RGBAImage=va,t.RequestManager=q,t.RequestPerformance=ac,t.ResourceType=pt,t.SegmentVector=ao,t.SourceFeatureState=$l,t.StructArrayLayout1ui2=Wr,t.StructArrayLayout2f1f2i16=Yr,t.StructArrayLayout2i4=Lr,t.StructArrayLayout3ui6=jr,t.StructArrayLayout4i8=Tr,t.SymbolBucket=gl,t.Texture=Dl,t.Tile=rc,t.Transitionable=lr,t.Uniform1f=bo,t.Uniform1i=_o,t.Uniform2f=xo,t.Uniform3f=wo,t.Uniform4f=ko,t.UniformColor=Mo,t.UniformMatrix4f=Eo,t.UnwrappedTileID=Gl,t.ValidationError=Ct,t.WritingMode=bu,t.ZoomHistory=Ui,t.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},t.addDynamicAttributes=dl,t.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var i=t.length,r=new Array(t.length),o=null;t.forEach(function(t,a){e(t,function(t,e){t&&(o=t),r[a]=e,0==--i&&n(o,r)})})},t.bezier=u,t.bindAll=y,t.browser=Y,t.cacheEntryPossiblyAdded=function(t){++dt>ut&&(t.getActor().send("enforceCacheSizeLimit",st),dt=0)},t.clamp=c,t.clearTileCache=function(t){var e=a.caches.delete("mapbox-tiles");t&&e.catch(t).then(function(){return t()})},t.clipLine=qu,t.clone=function(t){var e=new oa(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.clone$1=x,t.clone$2=function(t){var e=new oa(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},t.collisionCircleLayout=Vs,t.config=z,t.create=function(){var t=new oa(16);return oa!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},t.create$1=function(){var t=new oa(9);return oa!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},t.create$2=function(){var t=new oa(4);return oa!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},t.createCommonjsModule=e,t.createExpression=Gn,t.createLayout=Sr,t.createStyleLayer=function(t){return"custom"===t.type?new Sl(t):new El[t.type](t)},t.cross=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=r*u-o*s,t[1]=o*a-i*u,t[2]=i*s-r*a,t},t.deepEqual=function t(e,n){if(Array.isArray(e)){if(!Array.isArray(n)||e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(!t(e[i],n[i]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(e).length!==Object.keys(n).length)return!1;for(var r in e)if(!t(e[r],n[r]))return!1;return!0}return e===n},t.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},t.dot$1=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},t.ease=l,t.emitValidationErrors=Pi,t.endsWith=v,t.enforceCacheSizeLimit=function(t){lt(),tt&&tt.then(function(e){e.keys().then(function(n){for(var i=0;i<n.length-t;i++)e.delete(n[i])})})},t.evaluateSizeForFeature=Nu,t.evaluateSizeForZoom=Fu,t.evaluateVariableOffset=rl,t.evented=nr,t.extend=d,t.featureFilter=oi,t.filterObject=b,t.fromRotation=function(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=0,t[3]=-n,t[4]=i,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.getAnchorAlignment=Pu,t.getAnchorJustification=ol,t.getArrayBuffer=bt,t.getImage=function t(e,n){if(j.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),gt>=z.MAX_PARALLEL_IMAGE_REQUESTS){var i={requestParameters:e,callback:n,cancelled:!1,cancel:function(){this.cancelled=!0}};return mt.push(i),i}gt++;var r=!1,o=function(){if(!r)for(r=!0,gt--;mt.length&&gt<z.MAX_PARALLEL_IMAGE_REQUESTS;){var e=mt.shift();e.cancelled||(e.cancel=t(e.requestParameters,e.callback).cancel)}},s=bt(e,function(t,e,i,r){o(),t?n(t):e&&(ft()?function(t,e){var n=new a.Blob([new Uint8Array(t)],{type:"image/png"});a.createImageBitmap(n).then(function(t){e(null,t)}).catch(function(t){e(new Error("Could not load image because of "+t.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(e,n):function(t,e,n,i){var r=new a.Image,o=a.URL;r.onload=function(){e(null,r),o.revokeObjectURL(r.src),r.onload=null,r.src=wt},r.onerror=function(){return e(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var s=new a.Blob([new Uint8Array(t)],{type:"image/png"});r.cacheControl=n,r.expires=i,r.src=t.byteLength?o.createObjectURL(s):wt}(e,n,i,r))});return{cancel:function(){s.cancel(),o()}}},t.getJSON=function(t,e){return _t(d(t,{type:"json"}),e)},t.getRTLTextPluginStatus=ir,t.getReferrer=vt,t.getVideo=function(t,e){var n,i,r=a.document.createElement("video");r.muted=!0,r.onloadstart=function(){e(null,r)};for(var o=0;o<t.length;o++){var s=a.document.createElement("source");n=t[o],i=void 0,(i=a.document.createElement("a")).href=n,(i.protocol!==a.document.location.protocol||i.host!==a.document.location.host)&&(r.crossOrigin="Anonymous"),s.src=t[o],r.appendChild(s)}return{cancel:function(){}}},t.identity=aa,t.invert=function(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],h=e[9],d=e[10],f=e[11],p=e[12],m=e[13],g=e[14],y=e[15],v=n*s-i*a,_=n*u-r*a,b=n*l-o*a,x=i*u-r*s,w=i*l-o*s,k=r*l-o*u,M=c*m-h*p,S=c*g-d*p,E=c*y-f*p,L=h*g-d*m,T=h*y-f*m,C=d*y-f*g,I=v*C-_*T+b*L+x*E-w*S+k*M;return I?(t[0]=(s*C-u*T+l*L)*(I=1/I),t[1]=(r*T-i*C-o*L)*I,t[2]=(m*k-g*w+y*x)*I,t[3]=(d*w-h*k-f*x)*I,t[4]=(u*E-a*C-l*S)*I,t[5]=(n*C-r*E+o*S)*I,t[6]=(g*b-p*k-y*_)*I,t[7]=(c*k-d*b+f*_)*I,t[8]=(a*T-s*E+l*M)*I,t[9]=(i*E-n*T-o*M)*I,t[10]=(p*w-m*b+y*v)*I,t[11]=(h*b-c*w-f*v)*I,t[12]=(s*S-a*L-u*M)*I,t[13]=(n*L-i*S+r*M)*I,t[14]=(m*_-p*x-g*v)*I,t[15]=(c*x-h*_+d*v)*I,t):null},t.isChar=Vi,t.isMapboxURL=G,t.keysDifference=function(t,e){var n=[];for(var i in t)i in e||n.push(i);return n},t.makeRequest=_t,t.mapObject=_,t.mercatorXfromLng=jl,t.mercatorYfromLat=Bl,t.mercatorZfromAltitude=Hl,t.mul=la,t.multiply=sa,t.mvt=_s,t.nextPowerOfTwo=function(t){return t<=1?1:Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},t.normalize=function(t,e){var n=e[0],i=e[1],r=e[2],o=n*n+i*i+r*r;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t},t.number=Ue,t.offscreenCanvasSupported=ft,t.ortho=function(t,e,n,i,r,o,a){var s=1/(e-n),u=1/(i-r),l=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*s,t[13]=(r+i)*u,t[14]=(a+o)*l,t[15]=1,t},t.parseGlyphPBF=function(t){return new Ks(t).readFields(fu,[])},t.pbf=Ks,t.performSymbolLayout=function(t,e,n,i,r,o,a){t.createArrays(),t.tilePixelRatio=8192/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;var s=t.layers[0].layout,u=t.layers[0]._unevaluatedLayout._values,l={};if("composite"===t.textSizeData.kind){var c=t.textSizeData,h=c.maxZoom;l.compositeTextSizes=[u["text-size"].possiblyEvaluate(new ar(c.minZoom),a),u["text-size"].possiblyEvaluate(new ar(h),a)]}if("composite"===t.iconSizeData.kind){var d=t.iconSizeData,f=d.maxZoom;l.compositeIconSizes=[u["icon-size"].possiblyEvaluate(new ar(d.minZoom),a),u["icon-size"].possiblyEvaluate(new ar(f),a)]}l.layoutTextSize=u["text-size"].possiblyEvaluate(new ar(t.zoom+1),a),l.layoutIconSize=u["icon-size"].possiblyEvaluate(new ar(t.zoom+1),a),l.textMaxSize=u["text-size"].possiblyEvaluate(new ar(18));for(var p=24*s.get("text-line-height"),m="map"===s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement"),g=s.get("text-keep-upright"),y=s.get("text-size"),v=function(){var o=b[_],u=s.get("text-font").evaluate(o,{},a).join(","),c=y.evaluate(o,{},a),h=l.layoutTextSize.evaluate(o,{},a),d=l.layoutIconSize.evaluate(o,{},a),f={horizontal:{},vertical:void 0},v=o.text,x=[0,0];if(v){var w=v.toString(),M=24*s.get("text-letter-spacing").evaluate(o,{},a),S=function(t){for(var e=0,n=t;e<n.length;e+=1)if(i=n[e].charCodeAt(0),Vi.Arabic(i)||Vi["Arabic Supplement"](i)||Vi["Arabic Extended-A"](i)||Vi["Arabic Presentation Forms-A"](i)||Vi["Arabic Presentation Forms-B"](i))return!1;var i;return!0}(w)?M:0,E=s.get("text-anchor").evaluate(o,{},a),L=s.get("text-variable-anchor");if(!L){var T=s.get("text-radial-offset").evaluate(o,{},a);x=T?rl(E,[24*T,il]):s.get("text-offset").evaluate(o,{},a).map(function(t){return 24*t})}var C=m?"center":s.get("text-justify").evaluate(o,{},a),I=s.get("symbol-placement"),P="point"===I?24*s.get("text-max-width").evaluate(o,{},a):0,D=function(){t.allowVerticalPlacement&&qi(w)&&(f.vertical=ku(v,e,n,r,u,P,p,E,"left",S,x,bu.vertical,!0,I,h,c))};if(!m&&L){for(var O="auto"===C?L.map(function(t){return ol(t)}):[C],A=!1,R=0;R<O.length;R++){var N=O[R];if(!f.horizontal[N])if(A)f.horizontal[N]=f.horizontal[0];else{var F=ku(v,e,n,r,u,P,p,"center",N,S,x,bu.horizontal,!1,I,h,c);F&&(f.horizontal[N]=F,A=1===F.positionedLines.length)}}D()}else{"auto"===C&&(C=ol(E));var Y=ku(v,e,n,r,u,P,p,E,C,S,x,bu.horizontal,!1,I,h,c);Y&&(f.horizontal[C]=Y),D(),qi(w)&&m&&g&&(f.vertical=ku(v,e,n,r,u,P,p,E,C,S,x,bu.vertical,!1,I,h,c))}}var z=void 0,j=!1;if(o.icon&&o.icon.name){var B=i[o.icon.name];B&&(z=function(t,e,n){var i=Pu(n),r=e[0]-t.displaySize[0]*i.horizontalAlign,o=e[1]-t.displaySize[1]*i.verticalAlign;return{image:t,top:o,bottom:o+t.displaySize[1],left:r,right:r+t.displaySize[0]}}(r[o.icon.name],s.get("icon-offset").evaluate(o,{},a),s.get("icon-anchor").evaluate(o,{},a)),j=B.sdf,void 0===t.sdfIcons?t.sdfIcons=B.sdf:t.sdfIcons!==B.sdf&&k("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(B.pixelRatio!==t.pixelRatio||0!==s.get("icon-rotate").constantOr(1))&&(t.iconsNeedLinear=!0))}var H=sl(f.horizontal)||f.vertical;t.iconsInText=!!H&&H.iconsInText,(H||z)&&function(t,e,n,i,r,o,a,s,u,l,c){var h=o.textMaxSize.evaluate(e,{});void 0===h&&(h=a);var d,f=t.layers[0].layout,p=f.get("icon-offset").evaluate(e,{},c),m=sl(n.horizontal),g=a/24,y=t.tilePixelRatio*g,v=t.tilePixelRatio*h/24,_=t.tilePixelRatio*s,b=t.tilePixelRatio*f.get("symbol-spacing"),x=f.get("text-padding")*t.tilePixelRatio,w=f.get("icon-padding")*t.tilePixelRatio,M=f.get("text-max-angle")/180*Math.PI,S="map"===f.get("text-rotation-alignment")&&"point"!==f.get("symbol-placement"),E="map"===f.get("icon-rotation-alignment")&&"point"!==f.get("symbol-placement"),L=f.get("symbol-placement"),T=b/2,C=f.get("icon-text-fit");i&&"none"!==C&&(t.allowVerticalPlacement&&n.vertical&&(d=Ou(i,n.vertical,C,f.get("icon-text-fit-padding"),p,g)),m&&(i=Ou(i,m,C,f.get("icon-text-fit-padding"),p,g)));var I=function(s,h){h.x<0||h.x>=8192||h.y<0||h.y>=8192||function(t,e,n,i,r,o,a,s,u,l,c,h,d,f,p,m,g,y,v,_,b,x,w,M,S){var E,L,T,C,I,P=t.addToLineVertexArray(e,n),D=0,O=0,A=0,R=0,N=-1,F=-1,Y={},z=ho(""),j=0,B=0;if(void 0===s._unevaluatedLayout.getValue("text-radial-offset")?(j=(E=s.layout.get("text-offset").evaluate(b,{},M).map(function(t){return 24*t}))[0],B=E[1]):(j=24*s.layout.get("text-radial-offset").evaluate(b,{},M),B=il),t.allowVerticalPlacement&&i.vertical){var H=s.layout.get("text-rotate").evaluate(b,{},M)+90;C=new Qu(u,e,l,c,h,i.vertical,d,f,p,H),a&&(I=new Qu(u,e,l,c,h,a,g,y,p,H))}if(r){var U=s.layout.get("icon-rotate").evaluate(b,{}),V="none"!==s.layout.get("icon-text-fit"),q=Gu(r,U,w,V),G=a?Gu(a,U,w,V):void 0;T=new Qu(u,e,l,c,h,r,g,y,!1,U),D=4*q.length;var W=t.iconSizeData,X=null;"source"===W.kind?(X=[128*s.layout.get("icon-size").evaluate(b,{})])[0]>32640&&k(t.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):"composite"===W.kind&&((X=[128*x.compositeIconSizes[0].evaluate(b,{},M),128*x.compositeIconSizes[1].evaluate(b,{},M)])[0]>32640||X[1]>32640)&&k(t.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),t.addSymbols(t.icon,q,X,_,v,b,!1,e,P.lineStartIndex,P.lineLength,-1,M),N=t.icon.placedSymbolArray.length-1,G&&(O=4*G.length,t.addSymbols(t.icon,G,X,_,v,b,bu.vertical,e,P.lineStartIndex,P.lineLength,-1,M),F=t.icon.placedSymbolArray.length-1)}for(var K in i.horizontal){var Z=i.horizontal[K];if(!L){z=ho(Z.text);var Q=s.layout.get("text-rotate").evaluate(b,{},M);L=new Qu(u,e,l,c,h,Z,d,f,p,Q)}var J=1===Z.positionedLines.length;if(A+=al(t,e,Z,o,s,p,b,m,P,i.vertical?bu.horizontal:bu.horizontalOnly,J?Object.keys(i.horizontal):[K],Y,N,x,M),J)break}i.vertical&&(R+=al(t,e,i.vertical,o,s,p,b,m,P,bu.vertical,["vertical"],Y,F,x,M));var $=L?L.boxStartIndex:t.collisionBoxArray.length,tt=L?L.boxEndIndex:t.collisionBoxArray.length,et=C?C.boxStartIndex:t.collisionBoxArray.length,nt=C?C.boxEndIndex:t.collisionBoxArray.length,it=T?T.boxStartIndex:t.collisionBoxArray.length,rt=T?T.boxEndIndex:t.collisionBoxArray.length,ot=I?I.boxStartIndex:t.collisionBoxArray.length,at=I?I.boxEndIndex:t.collisionBoxArray.length,st=-1,ut=function(t,e){return t&&t.circleDiameter?Math.max(t.circleDiameter,e):e};st=ut(L,st),st=ut(C,st),st=ut(T,st);var lt=(st=ut(I,st))>-1?1:0;lt&&(st*=S/24),t.glyphOffsetArray.length>=gl.MAX_GLYPHS&&k("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==b.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,b.sortKey),t.symbolInstances.emplaceBack(e.x,e.y,Y.right>=0?Y.right:-1,Y.center>=0?Y.center:-1,Y.left>=0?Y.left:-1,Y.vertical||-1,N,F,z,$,tt,et,nt,it,rt,ot,at,l,A,R,D,O,lt,0,d,j,B,st)}(t,h,s,n,i,r,d,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,y,x,S,u,_,w,E,p,e,o,l,c,a)};if("line"===L)for(var P=0,D=qu(e.geometry,0,0,8192,8192);P<D.length;P+=1)for(var O=D[P],A=0,R=Vu(O,b,M,n.vertical||m,i,24,v,t.overscaling,8192);A<R.length;A+=1){var N=R[A];m&&ul(t,m.text,T,N)||I(O,N)}else if("line-center"===L)for(var F=0,Y=e.geometry;F<Y.length;F+=1){var z=Y[F];if(z.length>1){var j=Uu(z,M,n.vertical||m,i,24,v);j&&I(z,j)}}else if("Polygon"===e.type)for(var B=0,H=ns(e.geometry,0);B<H.length;B+=1){var U=H[B],V=tl(U,16);I(U[0],new Au(V.x,V.y,0))}else if("LineString"===e.type)for(var q=0,G=e.geometry;q<G.length;q+=1){var W=G[q];I(W,new Au(W[0].x,W[0].y,0))}else if("Point"===e.type)for(var X=0,K=e.geometry;X<K.length;X+=1)for(var Z=0,Q=K[X];Z<Q.length;Z+=1){var J=Q[Z];I([J],new Au(J.x,J.y,0))}}(t,o,f,z,i,l,h,d,x,j,a)},_=0,b=t.features;_<b.length;_+=1)v();o&&t.generateCollisionDebugBuffers()},t.perspective=function(t,e,n,i,r){var o,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0?(t[10]=(r+i)*(o=1/(i-r)),t[14]=2*r*i*o):(t[10]=-1,t[14]=-2*i),t},t.pick=function(t,e){for(var n={},i=0;i<e.length;i++){var r=e[i];r in t&&(n[r]=t[r])}return n},t.plugin=or,t.polygonIntersectsPolygon=Uo,t.postMapLoadEvent=at,t.postTurnstileEvent=rt,t.potpack=gu,t.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],t.register=Fi,t.registerForPluginStateChange=function(t){return t({pluginStatus:Ji,pluginURL:$i}),nr.on("pluginStateChange",t),t},t.renderColorRamp=ba,t.rotate=function(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(n),u=Math.cos(n);return t[0]=i*u+o*s,t[1]=r*u+a*s,t[2]=i*-s+o*u,t[3]=r*-s+a*u,t},t.rotateX=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[4],a=e[5],s=e[6],u=e[7],l=e[8],c=e[9],h=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*r+l*i,t[5]=a*r+c*i,t[6]=s*r+h*i,t[7]=u*r+d*i,t[8]=l*r-o*i,t[9]=c*r-a*i,t[10]=h*r-s*i,t[11]=d*r-u*i,t},t.rotateZ=function(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[0],a=e[1],s=e[2],u=e[3],l=e[4],c=e[5],h=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r+l*i,t[1]=a*r+c*i,t[2]=s*r+h*i,t[3]=u*r+d*i,t[4]=l*r-o*i,t[5]=c*r-a*i,t[6]=h*r-s*i,t[7]=d*r-u*i,t},t.scale=function(t,e,n){var i=n[0],r=n[1],o=n[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.scale$1=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t},t.scale$2=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},t.setCacheLimits=function(t,e){st=t,ut=e},t.setRTLTextPlugin=function(t,e,n){if(void 0===n&&(n=!1),"deferred"===Ji||"loading"===Ji||"loaded"===Ji)throw new Error("setRTLTextPlugin cannot be called multiple times.");$i=Y.resolveURL(t),Ji="deferred",Qi=e,er(),n||rr()},t.sphericalToCartesian=function(t){var e=t[0],n=t[1],i=t[2];return n+=90,n*=Math.PI/180,i*=Math.PI/180,{x:e*Math.cos(n)*Math.sin(i),y:e*Math.sin(n)*Math.sin(i),z:e*Math.cos(i)}},t.sqrLen=function(t){var e=t[0],n=t[1];return e*e+n*n},t.styleSpec=Tt,t.sub=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},t.symbolSize=Yu,t.transformMat3=function(t,e,n){var i=e[0],r=e[1],o=e[2];return t[0]=i*n[0]+r*n[3]+o*n[6],t[1]=i*n[1]+r*n[4]+o*n[7],t[2]=i*n[2]+r*n[5]+o*n[8],t},t.transformMat4=ca,t.translate=function(t,e,n){var i,r,o,a,s,u,l,c,h,d,f,p,m=n[0],g=n[1],y=n[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*y+e[12],t[13]=e[1]*m+e[5]*g+e[9]*y+e[13],t[14]=e[2]*m+e[6]*g+e[10]*y+e[14],t[15]=e[3]*m+e[7]*g+e[11]*y+e[15]):(r=e[1],o=e[2],a=e[3],s=e[4],u=e[5],l=e[6],c=e[7],h=e[8],d=e[9],f=e[10],p=e[11],t[0]=i=e[0],t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=l,t[7]=c,t[8]=h,t[9]=d,t[10]=f,t[11]=p,t[12]=i*m+s*g+h*y+e[12],t[13]=r*m+u*g+d*y+e[13],t[14]=o*m+l*g+f*y+e[14],t[15]=a*m+c*g+p*y+e[15]),t},t.triggerPluginCompletionEvent=tr,t.uniqueId=p,t.validateCustomStyleLayer=function(t){var e=[],n=t.id;return void 0===n&&e.push({message:"layers."+n+': missing required property "id"'}),void 0===t.render&&e.push({message:"layers."+n+': missing required method "render"'}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&e.push({message:"layers."+n+': property "renderingMode" must be either "2d" or "3d"'}),e},t.validateLight=Ti,t.validateStyle=Li,t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.vectorTile=_s,t.version="1.13.0",t.warnOnce=k,t.webpSupported=j,t.window=a,t.wrap=h}),i(0,function(t){function e(t){var n=typeof t;if("number"===n||"boolean"===n||"string"===n||null==t)return JSON.stringify(t);if(Array.isArray(t)){for(var i="[",r=0,o=t;r<o.length;r+=1)i+=e(o[r])+",";return i+"]"}for(var a=Object.keys(t).sort(),s="{",u=0;u<a.length;u++)s+=JSON.stringify(a[u])+":"+e(t[a[u]])+",";return s+"}"}function n(n){for(var i="",r=0,o=t.refProperties;r<o.length;r+=1)i+="/"+e(n[o[r]]);return i}var i=function(t){this.keyCache={},t&&this.replace(t)};i.prototype.replace=function(t){this._layerConfigs={},this._layers={},this.update(t,[])},i.prototype.update=function(e,i){for(var r=this,o=0,a=e;o<a.length;o+=1){var s=a[o];this._layerConfigs[s.id]=s;var u=this._layers[s.id]=t.createStyleLayer(s);u._featureFilter=t.featureFilter(u.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}for(var l=0,c=i;l<c.length;l+=1){var h=c[l];delete this.keyCache[h],delete this._layerConfigs[h],delete this._layers[h]}this.familiesBySource={};for(var d=0,f=function(t,e){for(var i={},r=0;r<t.length;r++){var o=e&&e[t[r].id]||n(t[r]);e&&(e[t[r].id]=o);var a=i[o];a||(a=i[o]=[]),a.push(t[r])}var s=[];for(var u in i)s.push(i[u]);return s}(t.values(this._layerConfigs),this.keyCache);d<f.length;d+=1){var p=f[d].map(function(t){return r._layers[t.id]}),m=p[0];if("none"!==m.visibility){var g=m.source||"",y=this.familiesBySource[g];y||(y=this.familiesBySource[g]={});var v=m.sourceLayer||"_geojsonTileLayer",_=y[v];_||(_=y[v]=[]),_.push(p)}}};var r=function(e){var n={},i=[];for(var r in e){var o=e[r],a=n[r]={};for(var s in o){var u=o[+s];if(u&&0!==u.bitmap.width&&0!==u.bitmap.height){var l={x:0,y:0,w:u.bitmap.width+2,h:u.bitmap.height+2};i.push(l),a[s]={rect:l,metrics:u.metrics}}}}var c=t.potpack(i),h=new t.AlphaImage({width:c.w||1,height:c.h||1});for(var d in e){var f=e[d];for(var p in f){var m=f[+p];if(m&&0!==m.bitmap.width&&0!==m.bitmap.height){var g=n[d][p].rect;t.AlphaImage.copy(m.bitmap,h,{x:0,y:0},{x:g.x+1,y:g.y+1},m.bitmap)}}}this.image=h,this.positions=n};t.register("GlyphAtlas",r);var o=function(e){this.tileID=new t.OverscaledTileID(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.uid=e.uid,this.zoom=e.zoom,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId};function a(e,n,i){for(var r=new t.EvaluationParameters(n),o=0,a=e;o<a.length;o+=1)a[o].recalculate(r,i)}function s(e,n){var i=t.getArrayBuffer(e.request,function(e,i,r,o){e?n(e):i&&n(null,{vectorTile:new t.vectorTile.VectorTile(new t.pbf(i)),rawData:i,cacheControl:r,expires:o})});return function(){i.cancel(),n()}}o.prototype.parse=function(e,n,i,o,s){var u=this;this.status="parsing",this.data=e,this.collisionBoxArray=new t.CollisionBoxArray;var l=new t.DictionaryCoder(Object.keys(e.layers).sort()),c=new t.FeatureIndex(this.tileID,this.promoteId);c.bucketLayerIDs=[];var h,d,f,p,m={},g={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:i},y=n.familiesBySource[this.source];for(var v in y){var _=e.layers[v];if(_){1===_.version&&t.warnOnce('Vector tile source "'+this.source+'" layer "'+v+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var b=l.encode(v),x=[],w=0;w<_.length;w++){var k=_.feature(w),M=c.getId(k,v);x.push({feature:k,id:M,index:w,sourceLayerIndex:b})}for(var S=0,E=y[v];S<E.length;S+=1){var L=E[S],T=L[0];T.minzoom&&this.zoom<Math.floor(T.minzoom)||T.maxzoom&&this.zoom>=T.maxzoom||"none"!==T.visibility&&(a(L,this.zoom,i),(m[T.id]=T.createBucket({index:c.bucketLayerIDs.length,layers:L,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:b,sourceID:this.source})).populate(x,g,this.tileID.canonical),c.bucketLayerIDs.push(L.map(function(t){return t.id})))}}}var C=t.mapObject(g.glyphDependencies,function(t){return Object.keys(t).map(Number)});Object.keys(C).length?o.send("getGlyphs",{uid:this.uid,stacks:C},function(t,e){h||(h=t,d=e,D.call(u))}):d={};var I=Object.keys(g.iconDependencies);I.length?o.send("getImages",{icons:I,source:this.source,tileID:this.tileID,type:"icons"},function(t,e){h||(h=t,f=e,D.call(u))}):f={};var P=Object.keys(g.patternDependencies);function D(){if(h)return s(h);if(d&&f&&p){var e=new r(d),n=new t.ImageAtlas(f,p);for(var o in m){var u=m[o];u instanceof t.SymbolBucket?(a(u.layers,this.zoom,i),t.performSymbolLayout(u,d,e.positions,f,n.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):u.hasPattern&&(u instanceof t.LineBucket||u instanceof t.FillBucket||u instanceof t.FillExtrusionBucket)&&(a(u.layers,this.zoom,i),u.addFeatures(g,this.tileID.canonical,n.patternPositions))}this.status="done",s(null,{buckets:t.values(m).filter(function(t){return!t.isEmpty()}),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,imageAtlas:n,glyphMap:this.returnDependencies?d:null,iconMap:this.returnDependencies?f:null,glyphPositions:this.returnDependencies?e.positions:null})}}P.length?o.send("getImages",{icons:P,source:this.source,tileID:this.tileID,type:"patterns"},function(t,e){h||(h=t,p=e,D.call(u))}):p={},D.call(this)};var u=function(t,e,n,i){this.actor=t,this.layerIndex=e,this.availableImages=n,this.loadVectorData=i||s,this.loading={},this.loaded={}};u.prototype.loadTile=function(e,n){var i=this,r=e.uid;this.loading||(this.loading={});var a=!!(e&&e.request&&e.request.collectResourceTiming)&&new t.RequestPerformance(e.request),s=this.loading[r]=new o(e);s.abort=this.loadVectorData(e,function(e,o){if(delete i.loading[r],e||!o)return s.status="done",i.loaded[r]=s,n(e);var u=o.rawData,l={};o.expires&&(l.expires=o.expires),o.cacheControl&&(l.cacheControl=o.cacheControl);var c={};if(a){var h=a.finish();h&&(c.resourceTiming=JSON.parse(JSON.stringify(h)))}s.vectorTile=o.vectorTile,s.parse(o.vectorTile,i.layerIndex,i.availableImages,i.actor,function(e,i){if(e||!i)return n(e);n(null,t.extend({rawTileData:u.slice(0)},i,l,c))}),i.loaded=i.loaded||{},i.loaded[r]=s})},u.prototype.reloadTile=function(t,e){var n=this,i=this.loaded,r=t.uid,o=this;if(i&&i[r]){var a=i[r];a.showCollisionBoxes=t.showCollisionBoxes;var s=function(t,i){var r=a.reloadCallback;r&&(delete a.reloadCallback,a.parse(a.vectorTile,o.layerIndex,n.availableImages,o.actor,r)),e(t,i)};"parsing"===a.status?a.reloadCallback=s:"done"===a.status&&(a.vectorTile?a.parse(a.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}},u.prototype.abortTile=function(t,e){var n=this.loading,i=t.uid;n&&n[i]&&n[i].abort&&(n[i].abort(),delete n[i]),e()},u.prototype.removeTile=function(t,e){var n=this.loaded,i=t.uid;n&&n[i]&&delete n[i],e()};var l=t.window.ImageBitmap,c=function(){this.loaded={}};function h(t,e){if(0!==t.length){d(t[0],e);for(var n=1;n<t.length;n++)d(t[n],!e)}}function d(t,e){for(var n=0,i=0,r=t.length,o=r-1;i<r;o=i++)n+=(t[i][0]-t[o][0])*(t[o][1]+t[i][1]);n>=0!=!!e&&t.reverse()}c.prototype.loadTile=function(e,n){var i=e.uid,r=e.encoding,o=e.rawImageData,a=l&&o instanceof l?this.getImageData(o):o,s=new t.DEMData(i,a,r);this.loaded=this.loaded||{},this.loaded[i]=s,n(null,s)},c.prototype.getImageData=function(e){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);var n=this.offscreenCanvasContext.getImageData(-1,-1,e.width+2,e.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new t.RGBAImage({width:n.width,height:n.height},n.data)},c.prototype.removeTile=function(t){var e=this.loaded,n=t.uid;e&&e[n]&&delete e[n]};var f=t.vectorTile.VectorTileFeature.prototype.toGeoJSON,p=function(e){this._feature=e,this.extent=t.EXTENT,this.type=e.type,this.properties=e.tags,"id"in e&&!isNaN(e.id)&&(this.id=parseInt(e.id,10))};p.prototype.loadGeometry=function(){if(1===this._feature.type){for(var e=[],n=0,i=this._feature.geometry;n<i.length;n+=1){var r=i[n];e.push([new t.Point$1(r[0],r[1])])}return e}for(var o=[],a=0,s=this._feature.geometry;a<s.length;a+=1){for(var u=[],l=0,c=s[a];l<c.length;l+=1){var h=c[l];u.push(new t.Point$1(h[0],h[1]))}o.push(u)}return o},p.prototype.toGeoJSON=function(t,e,n){return f.call(this,t,e,n)};var m=function(e){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=t.EXTENT,this.length=e.length,this._features=e};m.prototype.feature=function(t){return new p(this._features[t])};var g=t.vectorTile.VectorTileFeature,y=v;function v(t,e){this.options=e||{},this.features=t,this.length=t.length}function _(t,e){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}v.prototype.feature=function(t){return new _(this.features[t],this.options.extent)},_.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var n=0;n<e.length;n++){for(var i=e[n],r=[],o=0;o<i.length;o++)r.push(new t.Point$1(i[o][0],i[o][1]));this.geometry.push(r)}return this.geometry},_.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-1/0,i=1/0,r=-1/0,o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var u=a[s];e=Math.min(e,u.x),n=Math.max(n,u.x),i=Math.min(i,u.y),r=Math.max(r,u.y)}return[e,i,n,r]},_.prototype.toGeoJSON=g.prototype.toGeoJSON;var b=w,x=y;function w(e){var n=new t.pbf;return function(t,e){for(var n in t.layers)e.writeMessage(3,k,t.layers[n])}(e,n),n.finish()}function k(t,e){var n;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var i={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<t.length;n++)i.feature=t.feature(n),e.writeMessage(2,M,i);var r=i.keys;for(n=0;n<r.length;n++)e.writeStringField(3,r[n]);var o=i.values;for(n=0;n<o.length;n++)e.writeMessage(4,C,o[n])}function M(t,e){var n=t.feature;void 0!==n.id&&e.writeVarintField(1,n.id),e.writeMessage(2,S,t),e.writeVarintField(3,n.type),e.writeMessage(4,T,n)}function S(t,e){var n=t.feature,i=t.keys,r=t.values,o=t.keycache,a=t.valuecache;for(var s in n.properties){var u=o[s];void 0===u&&(i.push(s),o[s]=u=i.length-1),e.writeVarint(u);var l=n.properties[s],c=typeof l;"string"!==c&&"boolean"!==c&&"number"!==c&&(l=JSON.stringify(l));var h=c+":"+l,d=a[h];void 0===d&&(r.push(l),a[h]=d=r.length-1),e.writeVarint(d)}}function E(t,e){return(e<<3)+(7&t)}function L(t){return t<<1^t>>31}function T(t,e){for(var n=t.loadGeometry(),i=t.type,r=0,o=0,a=n.length,s=0;s<a;s++){var u=n[s],l=1;1===i&&(l=u.length),e.writeVarint(E(1,l));for(var c=3===i?u.length-1:u.length,h=0;h<c;h++){1===h&&1!==i&&e.writeVarint(E(2,c-1));var d=u[h].x-r,f=u[h].y-o;e.writeVarint(L(d)),e.writeVarint(L(f)),r+=d,o+=f}3===i&&e.writeVarint(E(7,1))}}function C(t,e){var n=typeof t;"string"===n?e.writeStringField(1,t):"boolean"===n?e.writeBooleanField(7,t):"number"===n&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}function I(t,e,n,i){P(t,n,i),P(e,2*n,2*i),P(e,2*n+1,2*i+1)}function P(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function D(t,e,n,i){var r=t-n,o=e-i;return r*r+o*o}b.fromVectorTileJs=w,b.fromGeojsonVt=function(t,e){e=e||{};var n={};for(var i in t)n[i]=new y(t[i].features,e),n[i].name=i,n[i].version=e.version,n[i].extent=e.extent;return w({layers:n})},b.GeoJSONWrapper=x;var O=function(t){return t[0]},A=function(t){return t[1]},R=function(t,e,n,i,r){void 0===e&&(e=O),void 0===n&&(n=A),void 0===i&&(i=64),void 0===r&&(r=Float64Array),this.nodeSize=i,this.points=t;for(var o=t.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(t.length),s=this.coords=new r(2*t.length),u=0;u<t.length;u++)a[u]=u,s[2*u]=e(t[u]),s[2*u+1]=n(t[u]);!function t(e,n,i,r,o,a){if(!(o-r<=i)){var s=r+o>>1;!function t(e,n,i,r,o,a){for(;o>r;){if(o-r>600){var s=o-r+1,u=i-r+1,l=Math.log(s),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1);t(e,n,i,Math.max(r,Math.floor(i-u*c/s+h)),Math.min(o,Math.floor(i+(s-u)*c/s+h)),a)}var d=n[2*i+a],f=r,p=o;for(I(e,n,r,i),n[2*o+a]>d&&I(e,n,r,o);f<p;){for(I(e,n,f,p),f++,p--;n[2*f+a]<d;)f++;for(;n[2*p+a]>d;)p--}n[2*r+a]===d?I(e,n,r,p):I(e,n,++p,o),p<=i&&(r=p+1),i<=p&&(o=p-1)}}(e,n,s,r,o,a%2),t(e,n,i,r,s-1,a+1),t(e,n,i,s+1,o,a+1)}}(a,s,i,0,a.length-1,0)};R.prototype.range=function(t,e,n,i){return function(t,e,n,i,r,o,a){for(var s,u,l=[0,t.length-1,0],c=[];l.length;){var h=l.pop(),d=l.pop(),f=l.pop();if(d-f<=a)for(var p=f;p<=d;p++)u=e[2*p+1],(s=e[2*p])>=n&&s<=r&&u>=i&&u<=o&&c.push(t[p]);else{var m=Math.floor((f+d)/2);u=e[2*m+1],(s=e[2*m])>=n&&s<=r&&u>=i&&u<=o&&c.push(t[m]);var g=(h+1)%2;(0===h?n<=s:i<=u)&&(l.push(f),l.push(m-1),l.push(g)),(0===h?r>=s:o>=u)&&(l.push(m+1),l.push(d),l.push(g))}}return c}(this.ids,this.coords,t,e,n,i,this.nodeSize)},R.prototype.within=function(t,e,n){return function(t,e,n,i,r,o){for(var a=[0,t.length-1,0],s=[],u=r*r;a.length;){var l=a.pop(),c=a.pop(),h=a.pop();if(c-h<=o)for(var d=h;d<=c;d++)D(e[2*d],e[2*d+1],n,i)<=u&&s.push(t[d]);else{var f=Math.floor((h+c)/2),p=e[2*f],m=e[2*f+1];D(p,m,n,i)<=u&&s.push(t[f]);var g=(l+1)%2;(0===l?n-r<=p:i-r<=m)&&(a.push(h),a.push(f-1),a.push(g)),(0===l?n+r>=p:i+r>=m)&&(a.push(f+1),a.push(c),a.push(g))}}return s}(this.ids,this.coords,t,e,n,this.nodeSize)};var N={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(t){return t}},F=function(t){this.options=V(Object.create(N),t),this.trees=new Array(this.options.maxZoom+1)};function Y(t,e,n,i,r){return{x:t,y:e,zoom:1/0,id:n,parentId:-1,numPoints:i,properties:r}}function z(t,e){var n=t.geometry.coordinates,i=n[1];return{x:H(n[0]),y:U(i),zoom:1/0,index:e,parentId:-1}}function j(t){return{type:"Feature",id:t.id,properties:B(t),geometry:{type:"Point",coordinates:[(i=t.x,360*(i-.5)),(e=t.y,n=(180-360*e)*Math.PI/180,360*Math.atan(Math.exp(n))/Math.PI-90)]}};var e,n,i}function B(t){var e=t.numPoints,n=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return V(V({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function H(t){return t/360+.5}function U(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function V(t,e){for(var n in e)t[n]=e[n];return t}function q(t){return t.x}function G(t){return t.y}function W(t,e,n,i,r,o){var a=r-n,s=o-i;if(0!==a||0!==s){var u=((t-n)*a+(e-i)*s)/(a*a+s*s);u>1?(n=r,i=o):u>0&&(n+=a*u,i+=s*u)}return(a=t-n)*a+(s=e-i)*s}function X(t,e,n,i){var r={id:void 0===t?null:t,type:e,geometry:n,tags:i,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,n=t.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)K(t,e);else if("Polygon"===n||"MultiLineString"===n)for(var i=0;i<e.length;i++)K(t,e[i]);else if("MultiPolygon"===n)for(i=0;i<e.length;i++)for(var r=0;r<e[i].length;r++)K(t,e[i][r])}(r),r}function K(t,e){for(var n=0;n<e.length;n+=3)t.minX=Math.min(t.minX,e[n]),t.minY=Math.min(t.minY,e[n+1]),t.maxX=Math.max(t.maxX,e[n]),t.maxY=Math.max(t.maxY,e[n+1])}function Z(t,e,n,i){if(e.geometry){var r=e.geometry.coordinates,o=e.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],u=e.id;if(n.promoteId?u=e.properties[n.promoteId]:n.generateId&&(u=i||0),"Point"===o)Q(r,s);else if("MultiPoint"===o)for(var l=0;l<r.length;l++)Q(r[l],s);else if("LineString"===o)J(r,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(l=0;l<r.length;l++)J(r[l],s=[],a,!1),t.push(X(u,"LineString",s,e.properties));return}$(r,s,a,!1)}else if("Polygon"===o)$(r,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(l=0;l<e.geometry.geometries.length;l++)Z(t,{id:u,geometry:e.geometry.geometries[l],properties:e.properties},n,i);return}throw new Error("Input data is not a valid GeoJSON object.")}for(l=0;l<r.length;l++){var c=[];$(r[l],c,a,!0),s.push(c)}}t.push(X(u,o,s,e.properties))}}function Q(t,e){e.push(tt(t[0])),e.push(et(t[1])),e.push(0)}function J(t,e,n,i){for(var r,o,a=0,s=0;s<t.length;s++){var u=tt(t[s][0]),l=et(t[s][1]);e.push(u),e.push(l),e.push(0),s>0&&(a+=i?(r*l-u*o)/2:Math.sqrt(Math.pow(u-r,2)+Math.pow(l-o,2))),r=u,o=l}var c=e.length-3;e[2]=1,function t(e,n,i,r){for(var o,a=r,s=i-n>>1,u=i-n,l=e[n],c=e[n+1],h=e[i],d=e[i+1],f=n+3;f<i;f+=3){var p=W(e[f],e[f+1],l,c,h,d);if(p>a)o=f,a=p;else if(p===a){var m=Math.abs(f-s);m<u&&(o=f,u=m)}}a>r&&(o-n>3&&t(e,n,o,r),e[o+2]=a,i-o>3&&t(e,o,i,r))}(e,0,c,n),e[c+2]=1,e.size=Math.abs(a),e.start=0,e.end=e.size}function $(t,e,n,i){for(var r=0;r<t.length;r++){var o=[];J(t[r],o,n,i),e.push(o)}}function tt(t){return t/360+.5}function et(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function nt(t,e,n,i,r,o,a,s){if(i/=e,o>=(n/=e)&&a<i)return t;if(a<n||o>=i)return null;for(var u=[],l=0;l<t.length;l++){var c=t[l],h=c.geometry,d=c.type,f=0===r?c.minX:c.minY,p=0===r?c.maxX:c.maxY;if(f>=n&&p<i)u.push(c);else if(!(p<n||f>=i)){var m=[];if("Point"===d||"MultiPoint"===d)it(h,m,n,i,r);else if("LineString"===d)rt(h,m,n,i,r,!1,s.lineMetrics);else if("MultiLineString"===d)at(h,m,n,i,r,!1);else if("Polygon"===d)at(h,m,n,i,r,!0);else if("MultiPolygon"===d)for(var g=0;g<h.length;g++){var y=[];at(h[g],y,n,i,r,!0),y.length&&m.push(y)}if(m.length){if(s.lineMetrics&&"LineString"===d){for(g=0;g<m.length;g++)u.push(X(c.id,d,m[g],c.tags));continue}"LineString"!==d&&"MultiLineString"!==d||(1===m.length?(d="LineString",m=m[0]):d="MultiLineString"),"Point"!==d&&"MultiPoint"!==d||(d=3===m.length?"Point":"MultiPoint"),u.push(X(c.id,d,m,c.tags))}}}return u.length?u:null}function it(t,e,n,i,r){for(var o=0;o<t.length;o+=3){var a=t[o+r];a>=n&&a<=i&&(e.push(t[o]),e.push(t[o+1]),e.push(t[o+2]))}}function rt(t,e,n,i,r,o,a){for(var s,u,l=ot(t),c=0===r?ut:lt,h=t.start,d=0;d<t.length-3;d+=3){var f=t[d],p=t[d+1],m=t[d+2],g=t[d+3],y=t[d+4],v=0===r?f:p,_=0===r?g:y,b=!1;a&&(s=Math.sqrt(Math.pow(f-g,2)+Math.pow(p-y,2))),v<n?_>n&&(u=c(l,f,p,g,y,n),a&&(l.start=h+s*u)):v>i?_<i&&(u=c(l,f,p,g,y,i),a&&(l.start=h+s*u)):st(l,f,p,m),_<n&&v>=n&&(u=c(l,f,p,g,y,n),b=!0),_>i&&v<=i&&(u=c(l,f,p,g,y,i),b=!0),!o&&b&&(a&&(l.end=h+s*u),e.push(l),l=ot(t)),a&&(h+=s)}var x=t.length-3;f=t[x],p=t[x+1],m=t[x+2],(v=0===r?f:p)>=n&&v<=i&&st(l,f,p,m),x=l.length-3,o&&x>=3&&(l[x]!==l[0]||l[x+1]!==l[1])&&st(l,l[0],l[1],l[2]),l.length&&e.push(l)}function ot(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function at(t,e,n,i,r,o){for(var a=0;a<t.length;a++)rt(t[a],e,n,i,r,o,!1)}function st(t,e,n,i){t.push(e),t.push(n),t.push(i)}function ut(t,e,n,i,r,o){var a=(o-e)/(i-e);return t.push(o),t.push(n+(r-n)*a),t.push(1),a}function lt(t,e,n,i,r,o){var a=(o-n)/(r-n);return t.push(e+(i-e)*a),t.push(o),t.push(1),a}function ct(t,e){for(var n=[],i=0;i<t.length;i++){var r,o=t[i],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)r=ht(o.geometry,e);else if("MultiLineString"===a||"Polygon"===a){r=[];for(var s=0;s<o.geometry.length;s++)r.push(ht(o.geometry[s],e))}else if("MultiPolygon"===a)for(r=[],s=0;s<o.geometry.length;s++){for(var u=[],l=0;l<o.geometry[s].length;l++)u.push(ht(o.geometry[s][l],e));r.push(u)}n.push(X(o.id,a,r,o.tags))}return n}function ht(t,e){var n=[];n.size=t.size,void 0!==t.start&&(n.start=t.start,n.end=t.end);for(var i=0;i<t.length;i+=3)n.push(t[i]+e,t[i+1],t[i+2]);return n}function dt(t,e){if(t.transformed)return t;var n,i,r,o=1<<t.z,a=t.x,s=t.y;for(n=0;n<t.features.length;n++){var u=t.features[n],l=u.geometry,c=u.type;if(u.geometry=[],1===c)for(i=0;i<l.length;i+=2)u.geometry.push(ft(l[i],l[i+1],e,o,a,s));else for(i=0;i<l.length;i++){var h=[];for(r=0;r<l[i].length;r+=2)h.push(ft(l[i][r],l[i][r+1],e,o,a,s));u.geometry.push(h)}}return t.transformed=!0,t}function ft(t,e,n,i,r,o){return[Math.round(n*(t*i-r)),Math.round(n*(e*i-o))]}function pt(t,e,n,i,r){for(var o=e===r.maxZoom?0:r.tolerance/((1<<e)*r.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:i,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<t.length;s++){a.numFeatures++,mt(a,t[s],o,r);var u=t[s].minX,l=t[s].minY,c=t[s].maxX,h=t[s].maxY;u<a.minX&&(a.minX=u),l<a.minY&&(a.minY=l),c>a.maxX&&(a.maxX=c),h>a.maxY&&(a.maxY=h)}return a}function mt(t,e,n,i){var r=e.geometry,o=e.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<r.length;s+=3)a.push(r[s]),a.push(r[s+1]),t.numPoints++,t.numSimplified++;else if("LineString"===o)gt(a,r,t,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<r.length;s++)gt(a,r[s],t,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var u=0;u<r.length;u++){var l=r[u];for(s=0;s<l.length;s++)gt(a,l[s],t,n,!0,0===s)}if(a.length){var c=e.tags||null;if("LineString"===o&&i.lineMetrics){for(var h in c={},e.tags)c[h]=e.tags[h];c.mapbox_clip_start=r.start/r.size,c.mapbox_clip_end=r.end/r.size}var d={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:c};null!==e.id&&(d.id=e.id),t.features.push(d)}}function gt(t,e,n,i,r,o){var a=i*i;if(i>0&&e.size<(r?a:i))n.numPoints+=e.length/3;else{for(var s=[],u=0;u<e.length;u+=3)(0===i||e[u+2]>a)&&(n.numSimplified++,s.push(e[u]),s.push(e[u+1])),n.numPoints++;r&&function(t,e){for(var n=0,i=0,r=t.length,o=r-2;i<r;o=i,i+=2)n+=(t[i]-t[o])*(t[i+1]+t[o+1]);if(n>0===e)for(i=0,r=t.length;i<r/2;i+=2){var a=t[i],s=t[i+1];t[i]=t[r-2-i],t[i+1]=t[r-1-i],t[r-2-i]=a,t[r-1-i]=s}}(s,o),t.push(s)}}function yt(t,e){var n=(e=this.options=function(t,e){for(var n in e)t[n]=e[n];return t}(Object.create(this.options),e)).debug;if(n&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(e.promoteId&&e.generateId)throw new Error("promoteId and generateId cannot be used together.");var i=function(t,e){var n=[];if("FeatureCollection"===t.type)for(var i=0;i<t.features.length;i++)Z(n,t.features[i],e,i);else Z(n,"Feature"===t.type?t:{geometry:t},e);return n}(t,e);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(i=function(t,e){var n=e.buffer/e.extent,i=t,r=nt(t,1,-1-n,n,0,-1,2,e),o=nt(t,1,1-n,2+n,0,-1,2,e);return(r||o)&&(i=nt(t,1,-n,1+n,0,-1,2,e)||[],r&&(i=ct(r,1).concat(i)),o&&(i=i.concat(ct(o,-1)))),i}(i,e)).length&&this.splitTile(i,0,0,0),n&&(i.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function vt(t,e,n){return 32*((1<<t)*n+e)+t}function _t(t,e){var n=t.tileID.canonical;if(!this._geoJSONIndex)return e(null,null);var i=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!i)return e(null,null);var r=new m(i.features),o=b(r);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),e(null,{vectorTile:r,rawData:o.buffer})}F.prototype.load=function(t){var e=this.options,n=e.log,i=e.minZoom,r=e.maxZoom,o=e.nodeSize;n&&console.time("total time");var a="prepare "+t.length+" points";n&&console.time(a),this.points=t;for(var s=[],u=0;u<t.length;u++)t[u].geometry&&s.push(z(t[u],u));this.trees[r+1]=new R(s,q,G,o,Float32Array),n&&console.timeEnd(a);for(var l=r;l>=i;l--){var c=+Date.now();s=this._cluster(s,l),this.trees[l]=new R(s,q,G,o,Float32Array),n&&console.log("z%d: %d clusters in %dms",l,s.length,+Date.now()-c)}return n&&console.timeEnd("total time"),this},F.prototype.getClusters=function(t,e){var n=((t[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,t[1])),r=180===t[2]?180:((t[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)n=-180,r=180;else if(n>r){var a=this.getClusters([n,i,180,o],e),s=this.getClusters([-180,i,r,o],e);return a.concat(s)}for(var u=this.trees[this._limitZoom(e)],l=[],c=0,h=u.range(H(n),U(o),H(r),U(i));c<h.length;c+=1){var d=u.points[h[c]];l.push(d.numPoints?j(d):this.points[d.index])}return l},F.prototype.getChildren=function(t){var e=this._getOriginId(t),n=this._getOriginZoom(t),i="No cluster with the specified id.",r=this.trees[n];if(!r)throw new Error(i);var o=r.points[e];if(!o)throw new Error(i);for(var a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=[],u=0,l=r.within(o.x,o.y,a);u<l.length;u+=1){var c=r.points[l[u]];c.parentId===t&&s.push(c.numPoints?j(c):this.points[c.index])}if(0===s.length)throw new Error(i);return s},F.prototype.getLeaves=function(t,e,n){var i=[];return this._appendLeaves(i,t,e=e||10,n=n||0,0),i},F.prototype.getTile=function(t,e,n){var i=this.trees[this._limitZoom(t)],r=Math.pow(2,t),o=this.options,a=o.radius/o.extent,s=(n-a)/r,u=(n+1+a)/r,l={features:[]};return this._addTileFeatures(i.range((e-a)/r,s,(e+1+a)/r,u),i.points,e,n,r,l),0===e&&this._addTileFeatures(i.range(1-a/r,s,1,u),i.points,r,n,r,l),e===r-1&&this._addTileFeatures(i.range(0,s,a/r,u),i.points,-1,n,r,l),l.features.length?l:null},F.prototype.getClusterExpansionZoom=function(t){for(var e=this._getOriginZoom(t)-1;e<=this.options.maxZoom;){var n=this.getChildren(t);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e},F.prototype._appendLeaves=function(t,e,n,i,r){for(var o=0,a=this.getChildren(e);o<a.length;o+=1){var s=a[o],u=s.properties;if(u&&u.cluster?r+u.point_count<=i?r+=u.point_count:r=this._appendLeaves(t,u.cluster_id,n,i,r):r<i?r++:t.push(s),t.length===n)break}return r},F.prototype._addTileFeatures=function(t,e,n,i,r,o){for(var a=0,s=t;a<s.length;a+=1){var u=e[s[a]],l=u.numPoints,c={type:1,geometry:[[Math.round(this.options.extent*(u.x*r-n)),Math.round(this.options.extent*(u.y*r-i))]],tags:l?B(u):this.points[u.index].properties},h=void 0;l?h=u.id:this.options.generateId?h=u.index:this.points[u.index].id&&(h=this.points[u.index].id),void 0!==h&&(c.id=h),o.features.push(c)}},F.prototype._limitZoom=function(t){return Math.max(this.options.minZoom,Math.min(+t,this.options.maxZoom+1))},F.prototype._cluster=function(t,e){for(var n=[],i=this.options,r=i.reduce,o=i.minPoints,a=i.radius/(i.extent*Math.pow(2,e)),s=0;s<t.length;s++){var u=t[s];if(!(u.zoom<=e)){u.zoom=e;for(var l=this.trees[e+1],c=l.within(u.x,u.y,a),h=u.numPoints||1,d=h,f=0,p=c;f<p.length;f+=1){var m=l.points[p[f]];m.zoom>e&&(d+=m.numPoints||1)}if(d>=o){for(var g=u.x*h,y=u.y*h,v=r&&h>1?this._map(u,!0):null,_=(s<<5)+(e+1)+this.points.length,b=0,x=c;b<x.length;b+=1){var w=l.points[x[b]];if(!(w.zoom<=e)){w.zoom=e;var k=w.numPoints||1;g+=w.x*k,y+=w.y*k,w.parentId=_,r&&(v||(v=this._map(u,!0)),r(v,this._map(w)))}}u.parentId=_,n.push(Y(g/d,y/d,_,d,v))}else if(n.push(u),d>1)for(var M=0,S=c;M<S.length;M+=1){var E=l.points[S[M]];E.zoom<=e||(E.zoom=e,n.push(E))}}}return n},F.prototype._getOriginId=function(t){return t-this.points.length>>5},F.prototype._getOriginZoom=function(t){return(t-this.points.length)%32},F.prototype._map=function(t,e){if(t.numPoints)return e?V({},t.properties):t.properties;var n=this.points[t.index].properties,i=this.options.map(n);return e&&i===n?V({},i):i},yt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},yt.prototype.splitTile=function(t,e,n,i,r,o,a){for(var s=[t,e,n,i],u=this.options,l=u.debug;s.length;){i=s.pop(),n=s.pop(),e=s.pop(),t=s.pop();var c=1<<e,h=vt(e,n,i),d=this.tiles[h];if(!d&&(l>1&&console.time("creation"),d=this.tiles[h]=pt(t,e,n,i,u),this.tileCoords.push({z:e,x:n,y:i}),l)){l>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,i,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd("creation"));var f="z"+e;this.stats[f]=(this.stats[f]||0)+1,this.total++}if(d.source=t,r){if(e===u.maxZoom||e===r)continue;var p=1<<r-e;if(n!==Math.floor(o/p)||i!==Math.floor(a/p))continue}else if(e===u.indexMaxZoom||d.numPoints<=u.indexMaxPoints)continue;if(d.source=null,0!==t.length){l>1&&console.time("clipping");var m,g,y,v,_,b,x=.5*u.buffer/u.extent,w=.5-x,k=.5+x,M=1+x;m=g=y=v=null,_=nt(t,c,n-x,n+k,0,d.minX,d.maxX,u),b=nt(t,c,n+w,n+M,0,d.minX,d.maxX,u),t=null,_&&(m=nt(_,c,i-x,i+k,1,d.minY,d.maxY,u),g=nt(_,c,i+w,i+M,1,d.minY,d.maxY,u),_=null),b&&(y=nt(b,c,i-x,i+k,1,d.minY,d.maxY,u),v=nt(b,c,i+w,i+M,1,d.minY,d.maxY,u),b=null),l>1&&console.timeEnd("clipping"),s.push(m||[],e+1,2*n,2*i),s.push(g||[],e+1,2*n,2*i+1),s.push(y||[],e+1,2*n+1,2*i),s.push(v||[],e+1,2*n+1,2*i+1)}}},yt.prototype.getTile=function(t,e,n){var i=this.options,r=i.extent,o=i.debug;if(t<0||t>24)return null;var a=1<<t,s=vt(t,e=(e%a+a)%a,n);if(this.tiles[s])return dt(this.tiles[s],r);o>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var u,l=t,c=e,h=n;!u&&l>0;)l--,c=Math.floor(c/2),h=Math.floor(h/2),u=this.tiles[vt(l,c,h)];return u&&u.source?(o>1&&console.log("found parent tile z%d-%d-%d",l,c,h),o>1&&console.time("drilling down"),this.splitTile(u.source,l,c,h,t,e,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?dt(this.tiles[s],r):null):null};var bt=function(e){function n(t,n,i,r){e.call(this,t,n,i,_t),r&&(this.loadGeoJSON=r)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.loadData=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=e,this._pendingLoadDataParams=t,this._state&&"Idle"!==this._state?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},n.prototype._loadData=function(){var e=this;if(this._pendingCallback&&this._pendingLoadDataParams){var n=this._pendingCallback,i=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var r=!!(i&&i.request&&i.request.collectResourceTiming)&&new t.RequestPerformance(i.request);this.loadGeoJSON(i,function(o,a){if(o||!a)return n(o);if("object"!=typeof a)return n(new Error("Input data given to '"+i.source+"' is not a valid GeoJSON object."));!function t(e,n){var i,r=e&&e.type;if("FeatureCollection"===r)for(i=0;i<e.features.length;i++)t(e.features[i],n);else if("GeometryCollection"===r)for(i=0;i<e.geometries.length;i++)t(e.geometries[i],n);else if("Feature"===r)t(e.geometry,n);else if("Polygon"===r)h(e.coordinates,n);else if("MultiPolygon"===r)for(i=0;i<e.coordinates.length;i++)h(e.coordinates[i],n);return e}(a,!0);try{if(i.filter){var s=t.createExpression(i.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===s.result)throw new Error(s.value.map(function(t){return t.key+": "+t.message}).join(", "));var u=a.features.filter(function(t){return s.value.evaluate({zoom:0},t)});a={type:"FeatureCollection",features:u}}e._geoJSONIndex=i.cluster?new F(function(e){var n=e.superclusterOptions,i=e.clusterProperties;if(!i||!n)return n;for(var r={},o={},a={accumulated:null,zoom:0},s={properties:null},u=Object.keys(i),l=0,c=u;l<c.length;l+=1){var h=c[l],d=i[h],f=d[0],p=t.createExpression(d[1]),m=t.createExpression("string"==typeof f?[f,["accumulated"],["get",h]]:f);r[h]=p.value,o[h]=m.value}return n.map=function(t){s.properties=t;for(var e={},n=0,i=u;n<i.length;n+=1){var o=i[n];e[o]=r[o].evaluate(a,s)}return e},n.reduce=function(t,e){s.properties=e;for(var n=0,i=u;n<i.length;n+=1){var r=i[n];a.accumulated=t[r],t[r]=o[r].evaluate(a,s)}},n}(i)).load(a.features):function(t,e){return new yt(t,e)}(a,i.geojsonVtOptions)}catch(o){return n(o)}e.loaded={};var l={};if(r){var c=r.finish();c&&(l.resourceTiming={},l.resourceTiming[i.source]=JSON.parse(JSON.stringify(c)))}n(null,l)})}},n.prototype.coalesce=function(){"Coalescing"===this._state?this._state="Idle":"NeedsLoadData"===this._state&&(this._state="Coalescing",this._loadData())},n.prototype.reloadTile=function(t,n){var i=this.loaded;return i&&i[t.uid]?e.prototype.reloadTile.call(this,t,n):this.loadTile(t,n)},n.prototype.loadGeoJSON=function(e,n){if(e.request)t.getJSON(e.request,n);else{if("string"!=typeof e.data)return n(new Error("Input data given to '"+e.source+"' is not a valid GeoJSON object."));try{return n(null,JSON.parse(e.data))}catch(t){return n(new Error("Input data given to '"+e.source+"' is not a valid GeoJSON object."))}}},n.prototype.removeSource=function(t,e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),e()},n.prototype.getClusterExpansionZoom=function(t,e){try{e(null,this._geoJSONIndex.getClusterExpansionZoom(t.clusterId))}catch(t){e(t)}},n.prototype.getClusterChildren=function(t,e){try{e(null,this._geoJSONIndex.getChildren(t.clusterId))}catch(t){e(t)}},n.prototype.getClusterLeaves=function(t,e){try{e(null,this._geoJSONIndex.getLeaves(t.clusterId,t.limit,t.offset))}catch(t){e(t)}},n}(u),xt=function(e){var n=this;this.self=e,this.actor=new t.Actor(e,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:u,geojson:bt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(t,e){if(n.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');n.workerSourceTypes[t]=e},this.self.registerRTLTextPlugin=function(e){if(t.plugin.isParsed())throw new Error("RTL text plugin already registered.");t.plugin.applyArabicShaping=e.applyArabicShaping,t.plugin.processBidirectionalText=e.processBidirectionalText,t.plugin.processStyledBidirectionalText=e.processStyledBidirectionalText}};return xt.prototype.setReferrer=function(t,e){this.referrer=e},xt.prototype.setImages=function(t,e,n){for(var i in this.availableImages[t]=e,this.workerSources[t]){var r=this.workerSources[t][i];for(var o in r)r[o].availableImages=e}n()},xt.prototype.setLayers=function(t,e,n){this.getLayerIndex(t).replace(e),n()},xt.prototype.updateLayers=function(t,e,n){this.getLayerIndex(t).update(e.layers,e.removedIds),n()},xt.prototype.loadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).loadTile(e,n)},xt.prototype.loadDEMTile=function(t,e,n){this.getDEMWorkerSource(t,e.source).loadTile(e,n)},xt.prototype.reloadTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).reloadTile(e,n)},xt.prototype.abortTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).abortTile(e,n)},xt.prototype.removeTile=function(t,e,n){this.getWorkerSource(t,e.type,e.source).removeTile(e,n)},xt.prototype.removeDEMTile=function(t,e){this.getDEMWorkerSource(t,e.source).removeTile(e)},xt.prototype.removeSource=function(t,e,n){if(this.workerSources[t]&&this.workerSources[t][e.type]&&this.workerSources[t][e.type][e.source]){var i=this.workerSources[t][e.type][e.source];delete this.workerSources[t][e.type][e.source],void 0!==i.removeSource?i.removeSource(e,n):n()}},xt.prototype.loadWorkerSource=function(t,e,n){try{this.self.importScripts(e.url),n()}catch(t){n(t.toString())}},xt.prototype.syncRTLPluginState=function(e,n,i){try{t.plugin.setState(n);var r=t.plugin.getPluginURL();if(t.plugin.isLoaded()&&!t.plugin.isParsed()&&null!=r){this.self.importScripts(r);var o=t.plugin.isParsed();i(o?void 0:new Error("RTL Text Plugin failed to import scripts from "+r),o)}}catch(t){i(t.toString())}},xt.prototype.getAvailableImages=function(t){var e=this.availableImages[t];return e||(e=[]),e},xt.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new i),e},xt.prototype.getWorkerSource=function(t,e,n){var i=this;return this.workerSources[t]||(this.workerSources[t]={}),this.workerSources[t][e]||(this.workerSources[t][e]={}),this.workerSources[t][e][n]||(this.workerSources[t][e][n]=new this.workerSourceTypes[e]({send:function(e,n,r){i.actor.send(e,n,r,t)}},this.getLayerIndex(t),this.getAvailableImages(t))),this.workerSources[t][e][n]},xt.prototype.getDEMWorkerSource=function(t,e){return this.demWorkerSources[t]||(this.demWorkerSources[t]={}),this.demWorkerSources[t][e]||(this.demWorkerSources[t][e]=new c),this.demWorkerSources[t][e]},xt.prototype.enforceCacheSizeLimit=function(e,n){t.enforceCacheSizeLimit(n)},"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new xt(self)),xt}),i(0,function(t){var e=t.createCommonjsModule(function(t){function e(t){return!n(t)}function n(t){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var t,e,n=new Blob([""],{type:"text/javascript"}),i=URL.createObjectURL(n);try{e=new Worker(i),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(i),t}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var t=document.createElement("canvas");t.width=t.height=1;var e=t.getContext("2d");if(!e)return!1;var n=e.getImageData(0,0,1,1);return n&&n.width===t.width}()?(void 0===i[n=t&&t.failIfMajorPerformanceCaveat]&&(i[n]=function(t){var n=function(t){var n=document.createElement("canvas"),i=Object.create(e.webGLContextAttributes);return i.failIfMajorPerformanceCaveat=t,n.probablySupportsContext?n.probablySupportsContext("webgl",i)||n.probablySupportsContext("experimental-webgl",i):n.supportsContext?n.supportsContext("webgl",i)||n.supportsContext("experimental-webgl",i):n.getContext("webgl",i)||n.getContext("experimental-webgl",i)}(t);if(!n)return!1;var i=n.createShader(n.VERTEX_SHADER);return!(!i||n.isContextLost())&&(n.shaderSource(i,"void main() {}"),n.compileShader(i),!0===n.getShaderParameter(i,n.COMPILE_STATUS))}(n)),i[n]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var n}t.exports?t.exports=e:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=e,window.mapboxgl.notSupportedReason=n);var i={};e.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),n={create:function(e,n,i){var r=t.window.document.createElement(e);return void 0!==n&&(r.className=n),i&&i.appendChild(r),r},createNS:function(e,n){return t.window.document.createElementNS(e,n)}},i=t.window.document&&t.window.document.documentElement.style;function r(t){if(!i)return t[0];for(var e=0;e<t.length;e++)if(t[e]in i)return t[e];return t[0]}var o,a=r(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){i&&a&&(o=i[a],i[a]="none")},n.enableDrag=function(){i&&a&&(i[a]=o)};var s=r(["transform","WebkitTransform"]);n.setTransform=function(t,e){t.style[s]=e};var u=!1;try{var l=Object.defineProperty({},"passive",{get:function(){u=!0}});t.window.addEventListener("test",l,l),t.window.removeEventListener("test",l,l)}catch(t){u=!1}n.addEventListener=function(t,e,n,i){void 0===i&&(i={}),t.addEventListener(e,n,"passive"in i&&u?i:i.capture)},n.removeEventListener=function(t,e,n,i){void 0===i&&(i={}),t.removeEventListener(e,n,"passive"in i&&u?i:i.capture)};var c=function e(n){n.preventDefault(),n.stopPropagation(),t.window.removeEventListener("click",e,!0)};function h(t){var e=t.userImage;return!!(e&&e.render&&e.render())&&(t.data.replace(new Uint8Array(e.data.buffer)),!0)}n.suppressClick=function(){t.window.addEventListener("click",c,!0),t.window.setTimeout(function(){t.window.removeEventListener("click",c,!0)},0)},n.mousePos=function(e,n){var i=e.getBoundingClientRect();return new t.Point(n.clientX-i.left-e.clientLeft,n.clientY-i.top-e.clientTop)},n.touchPos=function(e,n){for(var i=e.getBoundingClientRect(),r=[],o=0;o<n.length;o++)r.push(new t.Point(n[o].clientX-i.left-e.clientLeft,n[o].clientY-i.top-e.clientTop));return r},n.mouseButton=function(e){return void 0!==t.window.InstallTrigger&&2===e.button&&e.ctrlKey&&t.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:e.button},n.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)};var d=function(e){function n(){e.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.RGBAImage({width:1,height:1}),this.dirty=!0}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.isLoaded=function(){return this.loaded},n.prototype.setLoaded=function(t){if(this.loaded!==t&&(this.loaded=t,t)){for(var e=0,n=this.requestors;e<n.length;e+=1){var i=n[e];this._notify(i.ids,i.callback)}this.requestors=[]}},n.prototype.getImage=function(t){return this.images[t]},n.prototype.addImage=function(t,e){this._validate(t,e)&&(this.images[t]=e)},n.prototype._validate=function(e,n){var i=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "stretchX" value'))),i=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "stretchY" value'))),i=!1),this._validateContent(n.content,n)||(this.fire(new t.ErrorEvent(new Error('Image "'+e+'" has invalid "content" value'))),i=!1),i},n.prototype._validateStretch=function(t,e){if(!t)return!0;for(var n=0,i=0,r=t;i<r.length;i+=1){var o=r[i];if(o[0]<n||o[1]<o[0]||e<o[1])return!1;n=o[1]}return!0},n.prototype._validateContent=function(t,e){return!(t&&(4!==t.length||t[0]<0||e.data.width<t[0]||t[1]<0||e.data.height<t[1]||t[2]<0||e.data.width<t[2]||t[3]<0||e.data.height<t[3]||t[2]<t[0]||t[3]<t[1]))},n.prototype.updateImage=function(t,e){e.version=this.images[t].version+1,this.images[t]=e,this.updatedImages[t]=!0},n.prototype.removeImage=function(t){var e=this.images[t];delete this.images[t],delete this.patterns[t],e.userImage&&e.userImage.onRemove&&e.userImage.onRemove()},n.prototype.listImages=function(){return Object.keys(this.images)},n.prototype.getImages=function(t,e){var n=!0;if(!this.isLoaded())for(var i=0,r=t;i<r.length;i+=1)this.images[r[i]]||(n=!1);this.isLoaded()||n?this._notify(t,e):this.requestors.push({ids:t,callback:e})},n.prototype._notify=function(e,n){for(var i={},r=0,o=e;r<o.length;r+=1){var a=o[r];this.images[a]||this.fire(new t.Event("styleimagemissing",{id:a}));var s=this.images[a];s?i[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:Boolean(s.userImage&&s.userImage.render)}:t.warnOnce('Image "'+a+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}n(null,i)},n.prototype.getPixelSize=function(){var t=this.atlasImage;return{width:t.width,height:t.height}},n.prototype.getPattern=function(e){var n=this.patterns[e],i=this.getImage(e);if(!i)return null;if(n&&n.position.version===i.version)return n.position;if(n)n.position.version=i.version;else{var r={w:i.data.width+2,h:i.data.height+2,x:0,y:0},o=new t.ImagePosition(r,i);this.patterns[e]={bin:r,position:o}}return this._updatePatternAtlas(),this.patterns[e].position},n.prototype.bind=function(e){var n=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.Texture(e,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)},n.prototype._updatePatternAtlas=function(){var e=[];for(var n in this.patterns)e.push(this.patterns[n].bin);var i=t.potpack(e),r=i.w,o=i.h,a=this.atlasImage;for(var s in a.resize({width:r||1,height:o||1}),this.patterns){var u=this.patterns[s].bin,l=u.x+1,c=u.y+1,h=this.images[s].data,d=h.width,f=h.height;t.RGBAImage.copy(h,a,{x:0,y:0},{x:l,y:c},{width:d,height:f}),t.RGBAImage.copy(h,a,{x:0,y:f-1},{x:l,y:c-1},{width:d,height:1}),t.RGBAImage.copy(h,a,{x:0,y:0},{x:l,y:c+f},{width:d,height:1}),t.RGBAImage.copy(h,a,{x:d-1,y:0},{x:l-1,y:c},{width:1,height:f}),t.RGBAImage.copy(h,a,{x:0,y:0},{x:l+d,y:c},{width:1,height:f})}this.dirty=!0},n.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},n.prototype.dispatchRenderCallbacks=function(t){for(var e=0,n=t;e<n.length;e+=1){var i=n[e];if(!this.callbackDispatchedThisFrame[i]){this.callbackDispatchedThisFrame[i]=!0;var r=this.images[i];h(r)&&this.updateImage(i,r)}}},n}(t.Evented),f=g,p=g,m=1e20;function g(t,e,n,i,r,o){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=i||.25,this.fontFamily=r||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function y(t,e,n,i,r,o,a){for(var s=0;s<e;s++){for(var u=0;u<n;u++)i[u]=t[u*e+s];for(v(i,r,o,a,n),u=0;u<n;u++)t[u*e+s]=r[u]}for(u=0;u<n;u++){for(s=0;s<e;s++)i[s]=t[u*e+s];for(v(i,r,o,a,e),s=0;s<e;s++)t[u*e+s]=Math.sqrt(r[s])}}function v(t,e,n,i,r){n[0]=0,i[0]=-m,i[1]=+m;for(var o=1,a=0;o<r;o++){for(var s=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);s<=i[a];)a--,s=(t[o]+o*o-(t[n[a]]+n[a]*n[a]))/(2*o-2*n[a]);n[++a]=o,i[a]=s,i[a+1]=+m}for(o=0,a=0;o<r;o++){for(;i[a+1]<o;)a++;e[o]=(o-n[a])*(o-n[a])+t[n[a]]}}g.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),i=0;i<this.size*this.size;i++){var r=e.data[4*i+3]/255;this.gridOuter[i]=1===r?0:0===r?m:Math.pow(Math.max(0,.5-r),2),this.gridInner[i]=1===r?m:0===r?0:Math.pow(Math.max(0,r-.5),2)}for(y(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),y(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),i=0;i<this.size*this.size;i++)n[i]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[i]-this.gridInner[i])/this.radius+this.cutoff))));return n},f.default=p;var _=function(t,e){this.requestManager=t,this.localIdeographFontFamily=e,this.entries={}};_.prototype.setURL=function(t){this.url=t},_.prototype.getGlyphs=function(e,n){var i=this,r=[];for(var o in e)for(var a=0,s=e[o];a<s.length;a+=1)r.push({stack:o,id:s[a]});t.asyncAll(r,function(t,e){var n=t.stack,r=t.id,o=i.entries[n];o||(o=i.entries[n]={glyphs:{},requests:{},ranges:{}});var a=o.glyphs[r];if(void 0===a){if(a=i._tinySDF(o,n,r))return o.glyphs[r]=a,void e(null,{stack:n,id:r,glyph:a});var s=Math.floor(r/256);if(256*s>65535)e(new Error("glyphs > 65535 not supported"));else if(o.ranges[s])e(null,{stack:n,id:r,glyph:a});else{var u=o.requests[s];u||(u=o.requests[s]=[],_.loadGlyphRange(n,s,i.url,i.requestManager,function(t,e){if(e){for(var n in e)i._doesCharSupportLocalGlyph(+n)||(o.glyphs[+n]=e[+n]);o.ranges[s]=!0}for(var r=0,a=u;r<a.length;r+=1)(0,a[r])(t,e);delete o.requests[s]})),u.push(function(t,i){t?e(t):i&&e(null,{stack:n,id:r,glyph:i[r]||null})})}}else e(null,{stack:n,id:r,glyph:a})},function(t,e){if(t)n(t);else if(e){for(var i={},r=0,o=e;r<o.length;r+=1){var a=o[r],s=a.stack,u=a.id,l=a.glyph;(i[s]||(i[s]={}))[u]=l&&{id:l.id,bitmap:l.bitmap.clone(),metrics:l.metrics}}n(null,i)}})},_.prototype._doesCharSupportLocalGlyph=function(e){return!!this.localIdeographFontFamily&&(t.isChar["CJK Unified Ideographs"](e)||t.isChar["Hangul Syllables"](e)||t.isChar.Hiragana(e)||t.isChar.Katakana(e))},_.prototype._tinySDF=function(e,n,i){var r=this.localIdeographFontFamily;if(r&&this._doesCharSupportLocalGlyph(i)){var o=e.tinySDF;if(!o){var a="400";/bold/i.test(n)?a="900":/medium/i.test(n)?a="500":/light/i.test(n)&&(a="200"),o=e.tinySDF=new _.TinySDF(24,3,8,.25,r,a)}return{id:i,bitmap:new t.AlphaImage({width:30,height:30},o.draw(String.fromCharCode(i))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},_.loadGlyphRange=function(e,n,i,r,o){var a=256*n,s=a+255,u=r.transformRequest(r.normalizeGlyphsURL(i).replace("{fontstack}",e).replace("{range}",a+"-"+s),t.ResourceType.Glyphs);t.getArrayBuffer(u,function(e,n){if(e)o(e);else if(n){for(var i={},r=0,a=t.parseGlyphPBF(n);r<a.length;r+=1){var s=a[r];i[s.id]=s}o(null,i)}})},_.TinySDF=f;var b=function(){this.specification=t.styleSpec.light.position};b.prototype.possiblyEvaluate=function(e,n){return t.sphericalToCartesian(e.expression.evaluate(n))},b.prototype.interpolate=function(e,n,i){return{x:t.number(e.x,n.x,i),y:t.number(e.y,n.y,i),z:t.number(e.z,n.z,i)}};var x=new t.Properties({anchor:new t.DataConstantProperty(t.styleSpec.light.anchor),position:new b,color:new t.DataConstantProperty(t.styleSpec.light.color),intensity:new t.DataConstantProperty(t.styleSpec.light.intensity)}),w=function(e){function n(n){e.call(this),this._transitionable=new t.Transitionable(x),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getLight=function(){return this._transitionable.serialize()},n.prototype.setLight=function(e,n){if(void 0===n&&(n={}),!this._validate(t.validateLight,e,n))for(var i in e){var r=e[i];t.endsWith(i,"-transition")?this._transitionable.setTransition(i.slice(0,-"-transition".length),r):this._transitionable.setValue(i,r)}},n.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},n.prototype.hasTransition=function(){return this._transitioning.hasTransition()},n.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},n.prototype._validate=function(e,n,i){return(!i||!1!==i.validate)&&t.emitValidationErrors(this,e.call(t.validateStyle,t.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:t.styleSpec})))},n}(t.Evented),k=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};k.prototype.getDash=function(t,e){var n=t.join(",")+String(e);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(t,e)),this.dashEntry[n]},k.prototype.getDashRanges=function(t,e,n){var i=[],r=t.length%2==1?-t[t.length-1]*n:0,o=t[0]*n,a=!0;i.push({left:r,right:o,isDash:a,zeroLength:0===t[0]});for(var s=t[0],u=1;u<t.length;u++){var l=t[u];i.push({left:r=s*n,right:o=(s+=l)*n,isDash:a=!a,zeroLength:0===l})}return i},k.prototype.addRoundDash=function(t,e,n){for(var i=e/2,r=-n;r<=n;r++)for(var o=this.width*(this.nextRow+n+r),a=0,s=t[a],u=0;u<this.width;u++){u/s.right>1&&(s=t[++a]);var l=Math.abs(u-s.left),c=Math.abs(u-s.right),h=Math.min(l,c),d=void 0,f=r/n*(i+1);if(s.isDash){var p=i-Math.abs(f);d=Math.sqrt(h*h+p*p)}else d=i-Math.sqrt(h*h+f*f);this.data[o+u]=Math.max(0,Math.min(255,d+128))}},k.prototype.addRegularDash=function(t){for(var e=t.length-1;e>=0;--e){var n=t[e],i=t[e+1];n.zeroLength?t.splice(e,1):i&&i.isDash===n.isDash&&(i.left=n.left,t.splice(e,1))}var r=t[0],o=t[t.length-1];r.isDash===o.isDash&&(r.left=o.left-this.width,o.right=r.right+this.width);for(var a=this.width*this.nextRow,s=0,u=t[s],l=0;l<this.width;l++){l/u.right>1&&(u=t[++s]);var c=Math.abs(l-u.left),h=Math.abs(l-u.right),d=Math.min(c,h);this.data[a+l]=Math.max(0,Math.min(255,(u.isDash?d:-d)+128))}},k.prototype.addDash=function(e,n){var i=n?7:0,r=2*i+1;if(this.nextRow+r>this.height)return t.warnOnce("LineAtlas out of space"),null;for(var o=0,a=0;a<e.length;a++)o+=e[a];if(0!==o){var s=this.width/o,u=this.getDashRanges(e,this.width,s);n?this.addRoundDash(u,s,i):this.addRegularDash(u)}var l={y:(this.nextRow+i+.5)/this.height,height:2*i/this.height,width:o};return this.nextRow+=r,this.dirty=!0,l},k.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.ALPHA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.ALPHA,this.width,this.height,0,e.ALPHA,e.UNSIGNED_BYTE,this.data))};var M=function e(n,i){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=t.uniqueId();for(var r=this.workerPool.acquire(this.id),o=0;o<r.length;o++){var a=new e.Actor(r[o],i,this.id);a.name="Worker "+o,this.actors.push(a)}};function S(e,n,i){var r=function(r,o){if(r)return i(r);if(o){var a=t.pick(t.extend(o,e),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);o.vector_layers&&(a.vectorLayers=o.vector_layers,a.vectorLayerIds=a.vectorLayers.map(function(t){return t.id})),a.tiles=n.canonicalizeTileset(a,e.url),i(null,a)}};return e.url?t.getJSON(n.transformRequest(n.normalizeSourceURL(e.url),t.ResourceType.Source),r):t.browser.frame(function(){return r(null,e)})}M.prototype.broadcast=function(e,n,i){t.asyncAll(this.actors,function(t,i){t.send(e,n,i)},i=i||function(){})},M.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},M.prototype.remove=function(){this.actors.forEach(function(t){t.remove()}),this.actors=[],this.workerPool.release(this.id)},M.Actor=t.Actor;var E=function(e,n,i){this.bounds=t.LngLatBounds.convert(this.validateBounds(e)),this.minzoom=n||0,this.maxzoom=i||24};E.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},E.prototype.contains=function(e){var n=Math.pow(2,e.z),i=Math.floor(t.mercatorXfromLng(this.bounds.getWest())*n),r=Math.floor(t.mercatorYfromLat(this.bounds.getNorth())*n),o=Math.ceil(t.mercatorXfromLng(this.bounds.getEast())*n),a=Math.ceil(t.mercatorYfromLat(this.bounds.getSouth())*n);return e.x>=i&&e.x<o&&e.y>=r&&e.y<a};var L=function(e){function n(n,i,r,o){if(e.call(this),this.id=n,this.dispatcher=r,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,t.extend(this,t.pick(i,["url","scheme","tileSize","promoteId"])),this._options=t.extend({type:"vector"},i),this._collectResourceTiming=i.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=S(this._options,this.map._requestManager,function(n,i){e._tileJSONRequest=null,e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):i&&(t.extend(e,i),i.bounds&&(e.tileBounds=new E(i.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(i.tiles,e.map._requestManager._customAccessToken),t.postMapLoadEvent(i.tiles,e.map._getMapId(),e.map._requestManager._skuToken,e.map._requestManager._customAccessToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))})},n.prototype.loaded=function(){return this._loaded},n.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setSourceProperty=function(t){this._tileJSONRequest&&this._tileJSONRequest.cancel(),t(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},n.prototype.setTiles=function(t){var e=this;return this.setSourceProperty(function(){e._options.tiles=t}),this},n.prototype.setUrl=function(t){var e=this;return this.setSourceProperty(function(){e.url=t,e._options.url=t}),this},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return t.extend({},this._options)},n.prototype.loadTile=function(e,n){var i=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme)),r={request:this.map._requestManager.transformRequest(i,t.ResourceType.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function o(i,r){return delete e.request,e.aborted?n(null):i&&404!==i.status?n(i):(r&&r.resourceTiming&&(e.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&r&&e.setExpiryData(r),e.loadVectorData(r,this.map.painter),t.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}r.request.collectResourceTiming=this._collectResourceTiming,e.actor&&"expired"!==e.state?"loading"===e.state?e.reloadCallback=n:e.request=e.actor.send("reloadTile",r,o.bind(this)):(e.actor=this.dispatcher.getActor(),e.request=e.actor.send("loadTile",r,o.bind(this)))},n.prototype.abortTile=function(t){t.request&&(t.request.cancel(),delete t.request),t.actor&&t.actor.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0)},n.prototype.unloadTile=function(t){t.unloadVectorData(),t.actor&&t.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0)},n.prototype.hasTransition=function(){return!1},n}(t.Evented),T=function(e){function n(n,i,r,o){e.call(this),this.id=n,this.dispatcher=r,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.extend({type:"raster"},i),t.extend(this,t.pick(i,["url","scheme","tileSize"]))}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=S(this._options,this.map._requestManager,function(n,i){e._tileJSONRequest=null,e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):i&&(t.extend(e,i),i.bounds&&(e.tileBounds=new E(i.bounds,e.minzoom,e.maxzoom)),t.postTurnstileEvent(i.tiles),t.postMapLoadEvent(i.tiles,e.map._getMapId(),e.map._requestManager._skuToken),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})),e.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})))})},n.prototype.loaded=function(){return this._loaded},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},n.prototype.serialize=function(){return t.extend({},this._options)},n.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},n.prototype.loadTile=function(e,n){var i=this,r=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);e.request=t.getImage(this.map._requestManager.transformRequest(r,t.ResourceType.Tile),function(r,o){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(r)e.state="errored",n(r);else if(o){i.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=i.map.painter.context,s=a.gl;e.texture=i.map.painter.getTileTexture(o.width),e.texture?e.texture.update(o,{useMipmap:!0}):(e.texture=new t.Texture(a,o,s.RGBA,{useMipmap:!0}),e.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),a.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,a.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,a.extTextureFilterAnisotropicMax)),e.state="loaded",t.cacheEntryPossiblyAdded(i.dispatcher),n(null)}})},n.prototype.abortTile=function(t,e){t.request&&(t.request.cancel(),delete t.request),e()},n.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},n.prototype.hasTransition=function(){return!1},n}(t.Evented),C=function(e){function n(n,i,r,o){e.call(this,n,i,r,o),this.type="raster-dem",this.maxzoom=22,this._options=t.extend({type:"raster-dem"},i),this.encoding=i.encoding||"mapbox"}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},n.prototype.loadTile=function(e,n){var i=this.map._requestManager.normalizeTileURL(e.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function r(t,i){t&&(e.state="errored",n(t)),i&&(e.dem=i,e.needsHillshadePrepare=!0,e.state="loaded",n(null))}e.request=t.getImage(this.map._requestManager.transformRequest(i,t.ResourceType.Tile),(function(i,o){if(delete e.request,e.aborted)e.state="unloaded",n(null);else if(i)e.state="errored",n(i);else if(o){this.map._refreshExpiredTiles&&e.setExpiryData(o),delete o.cacheControl,delete o.expires;var a=t.window.ImageBitmap&&o instanceof t.window.ImageBitmap&&t.offscreenCanvasSupported()?o:t.browser.getImageData(o,1),s={uid:e.uid,coord:e.tileID,source:this.id,rawImageData:a,encoding:this.encoding};e.actor&&"expired"!==e.state||(e.actor=this.dispatcher.getActor(),e.actor.send("loadDEMTile",s,r.bind(this)))}}).bind(this)),e.neighboringTiles=this._getNeighboringTiles(e.tileID)},n.prototype._getNeighboringTiles=function(e){var n=e.canonical,i=Math.pow(2,n.z),r=(n.x-1+i)%i,o=0===n.x?e.wrap-1:e.wrap,a=(n.x+1+i)%i,s=n.x+1===i?e.wrap+1:e.wrap,u={};return u[new t.OverscaledTileID(e.overscaledZ,o,n.z,r,n.y).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(u[new t.OverscaledTileID(e.overscaledZ,o,n.z,r,n.y-1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<i&&(u[new t.OverscaledTileID(e.overscaledZ,o,n.z,r,n.y+1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,e.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},u[new t.OverscaledTileID(e.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),u},n.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",t.actor&&t.actor.send("removeDEMTile",{uid:t.uid,source:this.id})},n}(T),I=function(e){function n(n,i,r,o){e.call(this),this.id=n,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=r.getActor(),this.setEventedParent(o),this._data=i.data,this._options=t.extend({},i),this._collectResourceTiming=i.collectResourceTiming,this._resourceTiming=[],void 0!==i.maxzoom&&(this.maxzoom=i.maxzoom),i.type&&(this.type=i.type),i.attribution&&(this.attribution=i.attribution),this.promoteId=i.promoteId;var a=t.EXTENT/this.tileSize;this.workerOptions=t.extend({source:this.id,cluster:i.cluster||!1,geojsonVtOptions:{buffer:(void 0!==i.buffer?i.buffer:128)*a,tolerance:(void 0!==i.tolerance?i.tolerance:.375)*a,extent:t.EXTENT,maxZoom:this.maxzoom,lineMetrics:i.lineMetrics||!1,generateId:i.generateId||!1},superclusterOptions:{maxZoom:void 0!==i.clusterMaxZoom?Math.min(i.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,i.clusterMinPoints||2),extent:t.EXTENT,radius:(i.clusterRadius||50)*a,log:!1,generateId:i.generateId||!1},clusterProperties:i.clusterProperties,filter:i.filter},i.workerOptions)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(n){if(n)e.fire(new t.ErrorEvent(n));else{var i={dataType:"source",sourceDataType:"metadata"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(i.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire(new t.Event("data",i))}})},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setData=function(e){var n=this;return this._data=e,this.fire(new t.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(e){if(e)n.fire(new t.ErrorEvent(e));else{var i={dataType:"source",sourceDataType:"content"};n._collectResourceTiming&&n._resourceTiming&&n._resourceTiming.length>0&&(i.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new t.Event("data",i))}}),this},n.prototype.getClusterExpansionZoom=function(t,e){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:t,source:this.id},e),this},n.prototype.getClusterChildren=function(t,e){return this.actor.send("geojson.getClusterChildren",{clusterId:t,source:this.id},e),this},n.prototype.getClusterLeaves=function(t,e,n,i){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:t,limit:e,offset:n},i),this},n.prototype._updateWorkerData=function(e){var n=this;this._loaded=!1;var i=t.extend({},this.workerOptions),r=this._data;"string"==typeof r?(i.request=this.map._requestManager.transformRequest(t.browser.resolveURL(r),t.ResourceType.Source),i.request.collectResourceTiming=this._collectResourceTiming):i.data=JSON.stringify(r),this.actor.send(this.type+".loadData",i,function(t,r){n._removed||r&&r.abandoned||(n._loaded=!0,r&&r.resourceTiming&&r.resourceTiming[n.id]&&(n._resourceTiming=r.resourceTiming[n.id].slice(0)),n.actor.send(n.type+".coalesce",{source:i.source},null),e(t))})},n.prototype.loaded=function(){return this._loaded},n.prototype.loadTile=function(e,n){var i=this,r=e.actor?"reloadTile":"loadTile";e.actor=this.actor,e.request=this.actor.send(r,{type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:t.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(t,o){return delete e.request,e.unloadVectorData(),e.aborted?n(null):t?n(t):(e.loadVectorData(o,i.map.painter,"reloadTile"===r),n(null))})},n.prototype.abortTile=function(t){t.request&&(t.request.cancel(),delete t.request),t.aborted=!0},n.prototype.unloadTile=function(t){t.unloadVectorData(),this.actor.send("removeTile",{uid:t.uid,type:this.type,source:this.id})},n.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},n.prototype.serialize=function(){return t.extend({},this._options,{type:this.type,data:this._data})},n.prototype.hasTransition=function(){return!1},n}(t.Evented),P=t.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),D=function(e){function n(t,n,i,r){e.call(this),this.id=t,this.dispatcher=i,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(r),this.options=n}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(e,n){var i=this;this._loaded=!1,this.fire(new t.Event("dataloading",{dataType:"source"})),this.url=this.options.url,t.getImage(this.map._requestManager.transformRequest(this.url,t.ResourceType.Image),function(r,o){i._loaded=!0,r?i.fire(new t.ErrorEvent(r)):o&&(i.image=o,e&&(i.coordinates=e),n&&n(),i._finishLoading())})},n.prototype.loaded=function(){return this._loaded},n.prototype.updateImage=function(t){var e=this;return this.image&&t.url?(this.options.url=t.url,this.load(t.coordinates,function(){e.texture=null}),this):this},n.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"metadata"})))},n.prototype.onAdd=function(t){this.map=t,this.load()},n.prototype.setCoordinates=function(e){var n=this;this.coordinates=e;var i=e.map(t.MercatorCoordinate.fromLngLat);this.tileID=function(e){for(var n=1/0,i=1/0,r=-1/0,o=-1/0,a=0,s=e;a<s.length;a+=1){var u=s[a];n=Math.min(n,u.x),i=Math.min(i,u.y),r=Math.max(r,u.x),o=Math.max(o,u.y)}var l=Math.max(r-n,o-i),c=Math.max(0,Math.floor(-Math.log(l)/Math.LN2)),h=Math.pow(2,c);return new t.CanonicalTileID(c,Math.floor((n+r)/2*h),Math.floor((i+o)/2*h))}(i),this.minzoom=this.maxzoom=this.tileID.z;var r=i.map(function(t){return n.tileID.getTilePoint(t)._round()});return this._boundsArray=new t.StructArrayLayout4i8,this._boundsArray.emplaceBack(r[0].x,r[0].y,0,0),this._boundsArray.emplaceBack(r[1].x,r[1].y,t.EXTENT,0),this._boundsArray.emplaceBack(r[3].x,r[3].y,0,t.EXTENT),this._boundsArray.emplaceBack(r[2].x,r[2].y,t.EXTENT,t.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new t.Event("data",{dataType:"source",sourceDataType:"content"})),this},n.prototype.prepare=function(){if(0!==Object.keys(this.tiles).length&&this.image){var e=this.map.painter.context,n=e.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,P.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new t.Texture(e,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var r=this.tiles[i];"loaded"!==r.state&&(r.state="loaded",r.texture=this.texture)}}},n.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},n.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return!1},n}(t.Evented),O=function(e){function n(t,n,i,r){e.call(this,t,n,i,r),this.roundZoom=!0,this.type="video",this.options=n}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){var e=this;this._loaded=!1;var n=this.options;this.urls=[];for(var i=0,r=n.urls;i<r.length;i+=1)this.urls.push(this.map._requestManager.transformRequest(r[i],t.ResourceType.Source).url);t.getVideo(this.urls,function(n,i){e._loaded=!0,n?e.fire(new t.ErrorEvent(n)):i&&(e.video=i,e.video.loop=!0,e.video.addEventListener("playing",function(){e.map.triggerRepaint()}),e.map&&e.video.play(),e._finishLoading())})},n.prototype.pause=function(){this.video&&this.video.pause()},n.prototype.play=function(){this.video&&this.video.play()},n.prototype.seek=function(e){if(this.video){var n=this.video.seekable;e<n.start(0)||e>n.end(0)?this.fire(new t.ErrorEvent(new t.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+n.start(0)+" and "+n.end(0)+"-second mark."))):this.video.currentTime=e}},n.prototype.getVideo=function(){return this.video},n.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},n.prototype.prepare=function(){if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var e=this.map.painter.context,n=e.gl;for(var i in this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,P.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new t.Texture(e,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var r=this.tiles[i];"loaded"!==r.state&&(r.state="loaded",r.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this.video&&!this.video.paused},n}(D),A=function(e){function n(n,i,r,o){e.call(this,n,i,r,o),i.coordinates?Array.isArray(i.coordinates)&&4===i.coordinates.length&&!i.coordinates.some(function(t){return!Array.isArray(t)||2!==t.length||t.some(function(t){return"number"!=typeof t})})||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'missing required property "coordinates"'))),i.animate&&"boolean"!=typeof i.animate&&this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'optional "animate" property must be a boolean value'))),i.canvas?"string"==typeof i.canvas||i.canvas instanceof t.window.HTMLCanvasElement||this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.ErrorEvent(new t.ValidationError("sources."+n,null,'missing required property "canvas"'))),this.options=i,this.animate=void 0===i.animate||i.animate}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof t.window.HTMLCanvasElement?this.options.canvas:t.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},n.prototype.getCanvas=function(){return this.canvas},n.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},n.prototype.onRemove=function(){this.pause()},n.prototype.prepare=function(){var e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,i=n.gl;for(var r in this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,P.members)),this.boundsSegments||(this.boundsSegments=t.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new t.Texture(n,this.canvas,i.RGBA,{premultiply:!0}),this.tiles){var o=this.tiles[r];"loaded"!==o.state&&(o.state="loaded",o.texture=this.texture)}}},n.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this._playing},n.prototype._hasInvalidDimensions=function(){for(var t=0,e=[this.canvas.width,this.canvas.height];t<e.length;t+=1){var n=e[t];if(isNaN(n)||n<=0)return!0}return!1},n}(D),R={vector:L,raster:T,"raster-dem":C,geojson:I,video:O,image:D,canvas:A};function N(e,n){var i=t.identity([]);return t.translate(i,i,[1,1,0]),t.scale(i,i,[.5*e.width,.5*e.height,1]),t.multiply(i,i,e.calculatePosMatrix(n.toUnwrapped()))}function F(t,e,n,i,r,o){var a=function(t,e,n){if(t)for(var i=0,r=t;i<r.length;i+=1){var o=e[r[i]];if(o&&o.source===n&&"fill-extrusion"===o.type)return!0}else for(var a in e){var s=e[a];if(s.source===n&&"fill-extrusion"===s.type)return!0}return!1}(r&&r.layers,e,t.id),s=o.maxPitchScaleFactor(),u=t.tilesIn(i,s,a);u.sort(Y);for(var l=[],c=0,h=u;c<h.length;c+=1){var d=h[c];l.push({wrappedTileID:d.tileID.wrapped().key,queryResults:d.tile.queryRenderedFeatures(e,n,t._state,d.queryGeometry,d.cameraQueryGeometry,d.scale,r,o,s,N(t.transform,d.tileID))})}var f=function(t){for(var e={},n={},i=0,r=t;i<r.length;i+=1){var o=r[i],a=o.queryResults,s=o.wrappedTileID,u=n[s]=n[s]||{};for(var l in a)for(var c=a[l],h=u[l]=u[l]||{},d=e[l]=e[l]||[],f=0,p=c;f<p.length;f+=1){var m=p[f];h[m.featureIndex]||(h[m.featureIndex]=!0,d.push(m))}}return e}(l);for(var p in f)f[p].forEach(function(e){var n=e.feature,i=t.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=i});return f}function Y(t,e){var n=t.tileID,i=e.tileID;return n.overscaledZ-i.overscaledZ||n.canonical.y-i.canonical.y||n.wrap-i.wrap||n.canonical.x-i.canonical.x}var z=function(t,e){this.max=t,this.onRemove=e,this.reset()};z.prototype.reset=function(){for(var t in this.data)for(var e=0,n=this.data[t];e<n.length;e+=1){var i=n[e];i.timeout&&clearTimeout(i.timeout),this.onRemove(i.value)}return this.data={},this.order=[],this},z.prototype.add=function(t,e,n){var i=this,r=t.wrapped().key;void 0===this.data[r]&&(this.data[r]=[]);var o={value:e,timeout:void 0};if(void 0!==n&&(o.timeout=setTimeout(function(){i.remove(t,o)},n)),this.data[r].push(o),this.order.push(r),this.order.length>this.max){var a=this._getAndRemoveByKey(this.order[0]);a&&this.onRemove(a)}return this},z.prototype.has=function(t){return t.wrapped().key in this.data},z.prototype.getAndRemove=function(t){return this.has(t)?this._getAndRemoveByKey(t.wrapped().key):null},z.prototype._getAndRemoveByKey=function(t){var e=this.data[t].shift();return e.timeout&&clearTimeout(e.timeout),0===this.data[t].length&&delete this.data[t],this.order.splice(this.order.indexOf(t),1),e.value},z.prototype.getByKey=function(t){var e=this.data[t];return e?e[0].value:null},z.prototype.get=function(t){return this.has(t)?this.data[t.wrapped().key][0].value:null},z.prototype.remove=function(t,e){if(!this.has(t))return this;var n=t.wrapped().key,i=void 0===e?0:this.data[n].indexOf(e),r=this.data[n][i];return this.data[n].splice(i,1),r.timeout&&clearTimeout(r.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(r.value),this.order.splice(this.order.indexOf(n),1),this},z.prototype.setMaxSize=function(t){for(this.max=t;this.order.length>this.max;){var e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this},z.prototype.filter=function(t){var e=[];for(var n in this.data)for(var i=0,r=this.data[n];i<r.length;i+=1){var o=r[i];t(o.value)||e.push(o)}for(var a=0,s=e;a<s.length;a+=1){var u=s[a];this.remove(u.value.tileID,u)}};var j=function(t,e,n){this.context=t;var i=t.gl;this.buffer=i.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),t.bindElementBuffer.set(this.buffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};j.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},j.prototype.updateData=function(t){var e=this.context.gl;this.context.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},j.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var B={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},H=function(t,e,n,i){this.length=e.length,this.attributes=n,this.itemSize=e.bytesPerElement,this.dynamicDraw=i,this.context=t;var r=t.gl;this.buffer=r.createBuffer(),t.bindVertexBuffer.set(this.buffer),r.bufferData(r.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};H.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},H.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},H.prototype.enableAttributes=function(t,e){for(var n=0;n<this.attributes.length;n++){var i=e.attributes[this.attributes[n].name];void 0!==i&&t.enableVertexAttribArray(i)}},H.prototype.setVertexAttribPointers=function(t,e,n){for(var i=0;i<this.attributes.length;i++){var r=this.attributes[i],o=e.attributes[r.name];void 0!==o&&t.vertexAttribPointer(o,r.components,t[B[r.type]],!1,this.itemSize,r.offset+this.itemSize*(n||0))}},H.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var U=function(t){this.gl=t.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};U.prototype.get=function(){return this.current},U.prototype.set=function(t){},U.prototype.getDefault=function(){return this.default},U.prototype.setDefault=function(){this.set(this.default)};var V=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getDefault=function(){return t.Color.transparent},n.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},n}(U),q=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 1},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearDepth(t),this.current=t,this.dirty=!1)},e}(U),G=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.clearStencil(t),this.current=t,this.dirty=!1)},e}(U),W=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return[!0,!0,!0,!0]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(U),X=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthMask(t),this.current=t,this.dirty=!1)},e}(U),K=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 255},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.stencilMask(t),this.current=t,this.dirty=!1)},e}(U),Z=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},e.prototype.set=function(t){var e=this.current;(t.func!==e.func||t.ref!==e.ref||t.mask!==e.mask||this.dirty)&&(this.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t,this.dirty=!1)},e}(U),Q=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.KEEP,t.KEEP,t.KEEP]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||this.dirty)&&(this.gl.stencilOp(t[0],t[1],t[2]),this.current=t,this.dirty=!1)},e}(U),J=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t,this.dirty=!1}},e}(U),$=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return[0,1]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.depthRange(t[0],t[1]),this.current=t,this.dirty=!1)},e}(U),tt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t,this.dirty=!1}},e}(U),et=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.LESS},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.depthFunc(t),this.current=t,this.dirty=!1)},e}(U),nt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t,this.dirty=!1}},e}(U),it=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[t.ONE,t.ZERO]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||this.dirty)&&(this.gl.blendFunc(t[0],t[1]),this.current=t,this.dirty=!1)},e}(U),rt=function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getDefault=function(){return t.Color.transparent},n.prototype.set=function(t){var e=this.current;(t.r!==e.r||t.g!==e.g||t.b!==e.b||t.a!==e.a||this.dirty)&&(this.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t,this.dirty=!1)},n}(U),ot=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.FUNC_ADD},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.blendEquation(t),this.current=t,this.dirty=!1)},e}(U),at=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;t?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),this.current=t,this.dirty=!1}},e}(U),st=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.BACK},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.cullFace(t),this.current=t,this.dirty=!1)},e}(U),ut=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.CCW},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.frontFace(t),this.current=t,this.dirty=!1)},e}(U),lt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.useProgram(t),this.current=t,this.dirty=!1)},e}(U),ct=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return this.gl.TEXTURE0},e.prototype.set=function(t){(t!==this.current||this.dirty)&&(this.gl.activeTexture(t),this.current=t,this.dirty=!1)},e}(U),ht=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){var t=this.gl;return[0,0,t.drawingBufferWidth,t.drawingBufferHeight]},e.prototype.set=function(t){var e=this.current;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||this.dirty)&&(this.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t,this.dirty=!1)},e}(U),dt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t,this.dirty=!1}},e}(U),ft=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(U),pt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t,this.dirty=!1}},e}(U),mt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t,this.dirty=!1}},e}(U),gt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){var e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t,this.dirty=!1},e}(U),yt=function(t){function e(e){t.call(this,e),this.vao=e.extVertexArrayObject}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e.prototype.set=function(t){this.vao&&(t!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(t),this.current=t,this.dirty=!1)},e}(U),vt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return 4},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t,this.dirty=!1}},e}(U),_t=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t,this.dirty=!1}},e}(U),bt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return!1},e.prototype.set=function(t){if(t!==this.current||this.dirty){var e=this.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t),this.current=t,this.dirty=!1}},e}(U),xt=function(t){function e(e,n){t.call(this,e),this.context=e,this.parent=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDefault=function(){return null},e}(U),wt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.setDirty=function(){this.dirty=!0},e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},e}(xt),kt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.set=function(t){if(t!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var e=this.gl;e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t,this.dirty=!1}},e}(xt),Mt=function(t,e,n,i){this.context=t,this.width=e,this.height=n;var r=this.framebuffer=t.gl.createFramebuffer();this.colorAttachment=new wt(t,r),i&&(this.depthAttachment=new kt(t,r))};Mt.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();if(e&&t.deleteTexture(e),this.depthAttachment){var n=this.depthAttachment.get();n&&t.deleteRenderbuffer(n)}t.deleteFramebuffer(this.framebuffer)};var St=function(t,e,n){this.func=t,this.mask=e,this.range=n};St.ReadOnly=!1,St.ReadWrite=!0,St.disabled=new St(519,St.ReadOnly,[0,1]);var Et=function(t,e,n,i,r,o){this.test=t,this.ref=e,this.mask=n,this.fail=i,this.depthFail=r,this.pass=o};Et.disabled=new Et({func:519,mask:0},0,0,7680,7680,7680);var Lt=function(t,e,n){this.blendFunction=t,this.blendColor=e,this.mask=n};Lt.disabled=new Lt(Lt.Replace=[1,0],t.Color.transparent,[!1,!1,!1,!1]),Lt.unblended=new Lt(Lt.Replace,t.Color.transparent,[!0,!0,!0,!0]),Lt.alphaBlended=new Lt([1,771],t.Color.transparent,[!0,!0,!0,!0]);var Tt=function(t,e,n){this.enable=t,this.mode=e,this.frontFace=n};Tt.disabled=new Tt(!1,1029,2305),Tt.backCCW=new Tt(!0,1029,2305);var Ct=function(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new V(this),this.clearDepth=new q(this),this.clearStencil=new G(this),this.colorMask=new W(this),this.depthMask=new X(this),this.stencilMask=new K(this),this.stencilFunc=new Z(this),this.stencilOp=new Q(this),this.stencilTest=new J(this),this.depthRange=new $(this),this.depthTest=new tt(this),this.depthFunc=new et(this),this.blend=new nt(this),this.blendFunc=new it(this),this.blendColor=new rt(this),this.blendEquation=new ot(this),this.cullFace=new at(this),this.cullFaceSide=new st(this),this.frontFace=new ut(this),this.program=new lt(this),this.activeTexture=new ct(this),this.viewport=new ht(this),this.bindFramebuffer=new dt(this),this.bindRenderbuffer=new ft(this),this.bindTexture=new pt(this),this.bindVertexBuffer=new mt(this),this.bindElementBuffer=new gt(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new yt(this),this.pixelStoreUnpack=new vt(this),this.pixelStoreUnpackPremultiplyAlpha=new _t(this),this.pixelStoreUnpackFlipY=new bt(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(t.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=t.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=t.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE)};Ct.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Ct.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Ct.prototype.createIndexBuffer=function(t,e){return new j(this,t,e)},Ct.prototype.createVertexBuffer=function(t,e,n){return new H(this,t,e,n)},Ct.prototype.createRenderbuffer=function(t,e,n){var i=this.gl,r=i.createRenderbuffer();return this.bindRenderbuffer.set(r),i.renderbufferStorage(i.RENDERBUFFER,t,e,n),this.bindRenderbuffer.set(null),r},Ct.prototype.createFramebuffer=function(t,e,n){return new Mt(this,t,e,n)},Ct.prototype.clear=function(t){var e=t.color,n=t.depth,i=this.gl,r=0;e&&(r|=i.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(r|=i.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),i.clear(r)},Ct.prototype.setCullFace=function(t){!1===t.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(t.mode),this.frontFace.set(t.frontFace))},Ct.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},Ct.prototype.setStencilMode=function(t){t.test.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},Ct.prototype.setColorMode=function(e){t.deepEqual(e.blendFunction,Lt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)},Ct.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var It=function(e){function n(n,i,r){var o=this;e.call(this),this.id=n,this.dispatcher=r,this.on("data",function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(o._sourceLoaded=!0),o._sourceLoaded&&!o._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(o.reload(),o.transform&&o.update(o.transform))}),this.on("error",function(){o._sourceErrored=!0}),this._source=function(e,n,i,r){var o=new R[n.type](e,n,i,r);if(o.id!==e)throw new Error("Expected Source id to be "+e+" instead of "+o.id);return t.bindAll(["load","abort","unload","serialize","prepare"],o),o}(n,i,r,this),this._tiles={},this._cache=new z(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new t.SourceFeatureState}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},n.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},n.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(var t in this._tiles){var e=this._tiles[t];if("loaded"!==e.state&&"errored"!==e.state)return!1}return!0},n.prototype.getSource=function(){return this._source},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},n.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},n.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,function(){})},n.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,function(){})},n.prototype.serialize=function(){return this._source.serialize()},n.prototype.prepare=function(t){for(var e in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[e];n.upload(t),n.prepare(this.map.style.imageManager)}},n.prototype.getIds=function(){return t.values(this._tiles).map(function(t){return t.tileID}).sort(Pt).map(function(t){return t.key})},n.prototype.getRenderableIds=function(e){var n=this,i=[];for(var r in this._tiles)this._isIdRenderable(r,e)&&i.push(this._tiles[r]);return e?i.sort(function(e,i){var r=e.tileID,o=i.tileID,a=new t.Point(r.canonical.x,r.canonical.y)._rotate(n.transform.angle),s=new t.Point(o.canonical.x,o.canonical.y)._rotate(n.transform.angle);return r.overscaledZ-o.overscaledZ||s.y-a.y||s.x-a.x}).map(function(t){return t.tileID.key}):i.map(function(t){return t.tileID}).sort(Pt).map(function(t){return t.key})},n.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0);return!!e&&this._isIdRenderable(e.tileID.key)},n.prototype._isIdRenderable=function(t,e){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]&&(e||!this._tiles[t].holdingForFade())},n.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var t in this._cache.reset(),this._tiles)"errored"!==this._tiles[t].state&&this._reloadTile(t,"reloading")},n.prototype._reloadTile=function(t,e){var n=this._tiles[t];n&&("loading"!==n.state&&(n.state=e),this._loadTile(n,this._tileLoaded.bind(this,n,t,e)))},n.prototype._tileLoaded=function(e,n,i,r){if(r)return e.state="errored",void(404!==r.status?this._source.fire(new t.ErrorEvent(r,{tile:e})):this.update(this.transform));e.timeAdded=t.browser.now(),"expired"===i&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(n,e),"raster-dem"===this.getSource().type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new t.Event("data",{dataType:"source",tile:e,coord:e.tileID}))},n.prototype._backfillDEM=function(t){for(var e=this.getRenderableIds(),n=0;n<e.length;n++){var i=e[n];if(t.neighboringTiles&&t.neighboringTiles[i]){var r=this.getTileByID(i);o(t,r),o(r,t)}}function o(t,e){t.needsHillshadePrepare=!0;var n=e.tileID.canonical.x-t.tileID.canonical.x,i=e.tileID.canonical.y-t.tileID.canonical.y,r=Math.pow(2,t.tileID.canonical.z),o=e.tileID.key;0===n&&0===i||Math.abs(i)>1||(Math.abs(n)>1&&(1===Math.abs(n+r)?n+=r:1===Math.abs(n-r)&&(n-=r)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,n,i),t.neighboringTiles&&t.neighboringTiles[o]&&(t.neighboringTiles[o].backfilled=!0)))}},n.prototype.getTile=function(t){return this.getTileByID(t.key)},n.prototype.getTileByID=function(t){return this._tiles[t]},n.prototype._retainLoadedChildren=function(t,e,n,i){for(var r in this._tiles){var o=this._tiles[r];if(!(i[r]||!o.hasData()||o.tileID.overscaledZ<=e||o.tileID.overscaledZ>n)){for(var a=o.tileID;o&&o.tileID.overscaledZ>e+1;){var s=o.tileID.scaledTo(o.tileID.overscaledZ-1);(o=this._tiles[s.key])&&o.hasData()&&(a=s)}for(var u=a;u.overscaledZ>e;)if(t[(u=u.scaledTo(u.overscaledZ-1)).key]){i[a.key]=a;break}}}},n.prototype.findLoadedParent=function(t,e){if(t.key in this._loadedParentTiles){var n=this._loadedParentTiles[t.key];return n&&n.tileID.overscaledZ>=e?n:null}for(var i=t.overscaledZ-1;i>=e;i--){var r=t.scaledTo(i),o=this._getLoadedTile(r);if(o)return o}},n.prototype._getLoadedTile=function(t){var e=this._tiles[t.key];return e&&e.hasData()?e:this._cache.getByKey(t.wrapped().key)},n.prototype.updateCacheSize=function(t){var e=Math.ceil(t.width/this._source.tileSize)+1,n=Math.ceil(t.height/this._source.tileSize)+1,i=Math.floor(e*n*5),r="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,i):i;this._cache.setMaxSize(r)},n.prototype.handleWrapJump=function(t){var e=Math.round((t-(void 0===this._prevLng?t:this._prevLng))/360);if(this._prevLng=t,e){var n={};for(var i in this._tiles){var r=this._tiles[i];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+e),n[r.tileID.key]=r}for(var o in this._tiles=n,this._timers)clearTimeout(this._timers[o]),delete this._timers[o];for(var a in this._tiles)this._setTileReloadTimer(a,this._tiles[a])}},n.prototype.update=function(e){var i=this;if(this.transform=e,this._sourceLoaded&&!this._paused){var r;this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?r=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(e){return new t.OverscaledTileID(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)}):(r=e.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(r=r.filter(function(t){return i._source.hasTile(t)}))):r=[];var o=e.coveringZoomLevel(this._source),a=Math.max(o-n.maxOverzooming,this._source.minzoom),s=Math.max(o+n.maxUnderzooming,this._source.minzoom),u=this._updateRetainedTiles(r,o);if(Dt(this._source.type)){for(var l={},c={},h=0,d=Object.keys(u);h<d.length;h+=1){var f=d[h],p=u[f],m=this._tiles[f];if(m&&!(m.fadeEndTime&&m.fadeEndTime<=t.browser.now())){var g=this.findLoadedParent(p,a);g&&(this._addTile(g.tileID),l[g.tileID.key]=g.tileID),c[f]=p}}for(var y in this._retainLoadedChildren(c,o,s,u),l)u[y]||(this._coveredTiles[y]=!0,u[y]=l[y])}for(var v in u)this._tiles[v].clearFadeHold();for(var _=0,b=t.keysDifference(this._tiles,u);_<b.length;_+=1){var x=b[_],w=this._tiles[x];w.hasSymbolBuckets&&!w.holdingForFade()?w.setHoldDuration(this.map._fadeDuration):w.hasSymbolBuckets&&!w.symbolFadeFinished()||this._removeTile(x)}this._updateLoadedParentTileCache()}},n.prototype.releaseSymbolFadeTiles=function(){for(var t in this._tiles)this._tiles[t].holdingForFade()&&this._removeTile(t)},n.prototype._updateRetainedTiles=function(t,e){for(var i={},r={},o=Math.max(e-n.maxOverzooming,this._source.minzoom),a=Math.max(e+n.maxUnderzooming,this._source.minzoom),s={},u=0,l=t;u<l.length;u+=1){var c=l[u],h=this._addTile(c);i[c.key]=c,h.hasData()||e<this._source.maxzoom&&(s[c.key]=c)}this._retainLoadedChildren(s,e,a,i);for(var d=0,f=t;d<f.length;d+=1){var p=f[d],m=this._tiles[p.key];if(!m.hasData()){if(e+1>this._source.maxzoom){var g=p.children(this._source.maxzoom)[0],y=this.getTile(g);if(y&&y.hasData()){i[g.key]=g;continue}}else{var v=p.children(this._source.maxzoom);if(i[v[0].key]&&i[v[1].key]&&i[v[2].key]&&i[v[3].key])continue}for(var _=m.wasRequested(),b=p.overscaledZ-1;b>=o;--b){var x=p.scaledTo(b);if(r[x.key])break;if(r[x.key]=!0,!(m=this.getTile(x))&&_&&(m=this._addTile(x)),m&&(i[x.key]=x,_=m.wasRequested(),m.hasData()))break}}}return i},n.prototype._updateLoadedParentTileCache=function(){for(var t in this._loadedParentTiles={},this._tiles){for(var e=[],n=void 0,i=this._tiles[t].tileID;i.overscaledZ>0;){if(i.key in this._loadedParentTiles){n=this._loadedParentTiles[i.key];break}e.push(i.key);var r=i.scaledTo(i.overscaledZ-1);if(n=this._getLoadedTile(r))break;i=r}for(var o=0,a=e;o<a.length;o+=1)this._loadedParentTiles[a[o]]=n}},n.prototype._addTile=function(e){var n=this._tiles[e.key];if(n)return n;(n=this._cache.getAndRemove(e))&&(this._setTileReloadTimer(e.key,n),n.tileID=e,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,n)));var i=Boolean(n);return i||(n=new t.Tile(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,e.key,n.state))),n?(n.uses++,this._tiles[e.key]=n,i||this._source.fire(new t.Event("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n):null},n.prototype._setTileReloadTimer=function(t,e){var n=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var i=e.getExpiryTimeout();i&&(this._timers[t]=setTimeout(function(){n._reloadTile(t,"expired"),delete n._timers[t]},i))},n.prototype._removeTile=function(t){var e=this._tiles[t];e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),e.uses>0||(e.hasData()&&"reloading"!==e.state?this._cache.add(e.tileID,e,e.getExpiryTimeout()):(e.aborted=!0,this._abortTile(e),this._unloadTile(e))))},n.prototype.clearTiles=function(){for(var t in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(t);this._cache.reset()},n.prototype.tilesIn=function(e,n,i){var r=this,o=[],a=this.transform;if(!a)return o;for(var s=i?a.getCameraQueryGeometry(e):e,u=e.map(function(t){return a.pointCoordinate(t)}),l=s.map(function(t){return a.pointCoordinate(t)}),c=this.getIds(),h=1/0,d=1/0,f=-1/0,p=-1/0,m=0,g=l;m<g.length;m+=1){var y=g[m];h=Math.min(h,y.x),d=Math.min(d,y.y),f=Math.max(f,y.x),p=Math.max(p,y.y)}for(var v=function(e){var i=r._tiles[c[e]];if(!i.holdingForFade()){var s=i.tileID,m=Math.pow(2,a.zoom-i.tileID.overscaledZ),g=n*i.queryPadding*t.EXTENT/i.tileSize/m,y=[s.getTilePoint(new t.MercatorCoordinate(h,d)),s.getTilePoint(new t.MercatorCoordinate(f,p))];if(y[0].x-g<t.EXTENT&&y[0].y-g<t.EXTENT&&y[1].x+g>=0&&y[1].y+g>=0){var v=u.map(function(t){return s.getTilePoint(t)}),_=l.map(function(t){return s.getTilePoint(t)});o.push({tile:i,tileID:s,queryGeometry:v,cameraQueryGeometry:_,scale:m})}}},_=0;_<c.length;_++)v(_);return o},n.prototype.getVisibleCoordinates=function(t){for(var e=this,n=this.getRenderableIds(t).map(function(t){return e._tiles[t].tileID}),i=0,r=n;i<r.length;i+=1){var o=r[i];o.posMatrix=this.transform.calculatePosMatrix(o.toUnwrapped())}return n},n.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Dt(this._source.type))for(var e in this._tiles){var n=this._tiles[e];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=t.browser.now())return!0}return!1},n.prototype.setFeatureState=function(t,e,n){this._state.updateState(t=t||"_geojsonTileLayer",e,n)},n.prototype.removeFeatureState=function(t,e,n){this._state.removeFeatureState(t=t||"_geojsonTileLayer",e,n)},n.prototype.getFeatureState=function(t,e){return this._state.getState(t=t||"_geojsonTileLayer",e)},n.prototype.setDependencies=function(t,e,n){var i=this._tiles[t];i&&i.setDependencies(e,n)},n.prototype.reloadTilesForDependencies=function(t,e){for(var n in this._tiles)this._tiles[n].hasDependency(t,e)&&this._reloadTile(n,"reloading");this._cache.filter(function(n){return!n.hasDependency(t,e)})},n}(t.Evented);function Pt(t,e){var n=Math.abs(2*t.wrap)-+(t.wrap<0),i=Math.abs(2*e.wrap)-+(e.wrap<0);return t.overscaledZ-e.overscaledZ||i-n||e.canonical.y-t.canonical.y||e.canonical.x-t.canonical.x}function Dt(t){return"raster"===t||"image"===t||"video"===t}function Ot(){return new t.window.Worker(Kr.workerUrl)}It.maxOverzooming=10,It.maxUnderzooming=3;var At="mapboxgl_preloaded_worker_pool",Rt=function(){this.active={}};Rt.prototype.acquire=function(t){if(!this.workers)for(this.workers=[];this.workers.length<Rt.workerCount;)this.workers.push(new Ot);return this.active[t]=!0,this.workers.slice()},Rt.prototype.release=function(t){delete this.active[t],0===this.numActive()&&(this.workers.forEach(function(t){t.terminate()}),this.workers=null)},Rt.prototype.isPreloaded=function(){return!!this.active[At]},Rt.prototype.numActive=function(){return Object.keys(this.active).length};var Nt,Ft=Math.floor(t.browser.hardwareConcurrency/2);function Yt(){return Nt||(Nt=new Rt),Nt}function zt(e,n){var i={};for(var r in e)"ref"!==r&&(i[r]=e[r]);return t.refProperties.forEach(function(t){t in n&&(i[t]=n[t])}),i}function jt(t){t=t.slice();for(var e=Object.create(null),n=0;n<t.length;n++)e[t[n].id]=t[n];for(var i=0;i<t.length;i++)"ref"in t[i]&&(t[i]=zt(t[i],e[t[i].ref]));return t}Rt.workerCount=Math.max(Math.min(Ft,6),1);var Bt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Ht(t,e,n){n.push({command:Bt.addSource,args:[t,e[t]]})}function Ut(t,e,n){e.push({command:Bt.removeSource,args:[t]}),n[t]=!0}function Vt(t,e,n,i){Ut(t,n,i),Ht(t,e,n)}function qt(e,n,i){var r;for(r in e[i])if(e[i].hasOwnProperty(r)&&"data"!==r&&!t.deepEqual(e[i][r],n[i][r]))return!1;for(r in n[i])if(n[i].hasOwnProperty(r)&&"data"!==r&&!t.deepEqual(e[i][r],n[i][r]))return!1;return!0}function Gt(e,n,i,r,o,a){var s;for(s in n=n||{},e=e||{})e.hasOwnProperty(s)&&(t.deepEqual(e[s],n[s])||i.push({command:a,args:[r,s,n[s],o]}));for(s in n)n.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t.deepEqual(e[s],n[s])||i.push({command:a,args:[r,s,n[s],o]}))}function Wt(t){return t.id}function Xt(t,e){return t[e.id]=e,t}var Kt=function(t,e){this.reset(t,e)};Kt.prototype.reset=function(t,e){this.points=t||[],this._distances=[0];for(var n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(e||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Kt.prototype.lerp=function(e){if(1===this.points.length)return this.points[0];e=t.clamp(e,0,1);for(var n=1,i=this._distances[n],r=e*this.paddedLength+this.padding;i<r&&n<this._distances.length;)i=this._distances[++n];var o=n-1,a=this._distances[o],s=i-a,u=s>0?(r-a)/s:0;return this.points[o].mult(1-u).add(this.points[n].mult(u))};var Zt=function(t,e,n){var i=this.boxCells=[],r=this.circleCells=[];this.xCellCount=Math.ceil(t/n),this.yCellCount=Math.ceil(e/n);for(var o=0;o<this.xCellCount*this.yCellCount;o++)i.push([]),r.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};function Qt(e,n,i,r,o){var a=t.create();return n?(t.scale(a,a,[1/o,1/o,1]),i||t.rotateZ(a,a,r.angle)):t.multiply(a,r.labelPlaneMatrix,e),a}function Jt(e,n,i,r,o){if(n){var a=t.clone(e);return t.scale(a,a,[o,o,1]),i||t.rotateZ(a,a,-r.angle),a}return r.glCoordMatrix}function $t(e,n){var i=[e.x,e.y,0,1];ce(i,i,n);var r=i[3];return{point:new t.Point(i[0]/r,i[1]/r),signedDistanceFromCamera:r}}function te(t,e){return.5+t/e*.5}function ee(t,e){var n=t[0]/t[3],i=t[1]/t[3];return n>=-e[0]&&n<=e[0]&&i>=-e[1]&&i<=e[1]}function ne(e,n,i,r,o,a,s,u){var l=r?e.textSizeData:e.iconSizeData,c=t.evaluateSizeForZoom(l,i.transform.zoom),h=[256/i.width*2+1,256/i.height*2+1],d=r?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;d.clear();for(var f=e.lineVertexArray,p=r?e.text.placedSymbolArray:e.icon.placedSymbolArray,m=i.transform.width/i.transform.height,g=!1,y=0;y<p.length;y++){var v=p.get(y);if(v.hidden||v.writingMode===t.WritingMode.vertical&&!g)le(v.numGlyphs,d);else{g=!1;var _=[v.anchorX,v.anchorY,0,1];if(t.transformMat4(_,_,n),ee(_,h)){var b=te(i.transform.cameraToCenterDistance,_[3]),x=t.evaluateSizeForFeature(l,c,v),w=s?x/b:x*b,k=new t.Point(v.anchorX,v.anchorY),M=$t(k,o).point,S={},E=oe(v,w,!1,u,n,o,a,e.glyphOffsetArray,f,d,M,k,S,m);g=E.useVertical,(E.notEnoughRoom||g||E.needsFlipping&&oe(v,w,!0,u,n,o,a,e.glyphOffsetArray,f,d,M,k,S,m).notEnoughRoom)&&le(v.numGlyphs,d)}else le(v.numGlyphs,d)}}r?e.text.dynamicLayoutVertexBuffer.updateData(d):e.icon.dynamicLayoutVertexBuffer.updateData(d)}function ie(t,e,n,i,r,o,a,s,u,l,c){var h=s.glyphStartIndex+s.numGlyphs,d=s.lineStartIndex,f=s.lineStartIndex+s.lineLength,p=e.getoffsetX(s.glyphStartIndex),m=e.getoffsetX(h-1),g=se(t*p,n,i,r,o,a,s.segment,d,f,u,l,c);if(!g)return null;var y=se(t*m,n,i,r,o,a,s.segment,d,f,u,l,c);return y?{first:g,last:y}:null}function re(e,n,i,r){return e===t.WritingMode.horizontal&&Math.abs(i.y-n.y)>Math.abs(i.x-n.x)*r?{useVertical:!0}:(e===t.WritingMode.vertical?n.y<i.y:n.x>i.x)?{needsFlipping:!0}:null}function oe(e,n,i,r,o,a,s,u,l,c,h,d,f,p){var m,g=n/24,y=e.lineOffsetX*g,v=e.lineOffsetY*g;if(e.numGlyphs>1){var _=e.glyphStartIndex+e.numGlyphs,b=e.lineStartIndex,x=e.lineStartIndex+e.lineLength,w=ie(g,u,y,v,i,h,d,e,l,a,f);if(!w)return{notEnoughRoom:!0};var k=$t(w.first.point,s).point,M=$t(w.last.point,s).point;if(r&&!i){var S=re(e.writingMode,k,M,p);if(S)return S}m=[w.first];for(var E=e.glyphStartIndex+1;E<_-1;E++)m.push(se(g*u.getoffsetX(E),y,v,i,h,d,e.segment,b,x,l,a,f));m.push(w.last)}else{if(r&&!i){var L=$t(d,o).point,T=e.lineStartIndex+e.segment+1,C=new t.Point(l.getx(T),l.gety(T)),I=$t(C,o),P=I.signedDistanceFromCamera>0?I.point:ae(d,C,L,1,o),D=re(e.writingMode,L,P,p);if(D)return D}var O=se(g*u.getoffsetX(e.glyphStartIndex),y,v,i,h,d,e.segment,e.lineStartIndex,e.lineStartIndex+e.lineLength,l,a,f);if(!O)return{notEnoughRoom:!0};m=[O]}for(var A=0,R=m;A<R.length;A+=1){var N=R[A];t.addDynamicAttributes(c,N.point,N.angle)}return{}}function ae(t,e,n,i,r){var o=$t(t.add(t.sub(e)._unit()),r).point,a=n.sub(o);return n.add(a._mult(i/a.mag()))}function se(e,n,i,r,o,a,s,u,l,c,h,d){var f=r?e-n:e+n,p=f>0?1:-1,m=0;r&&(p*=-1,m=Math.PI),p<0&&(m+=Math.PI);for(var g=p>0?u+s:u+s+1,y=o,v=o,_=0,b=0,x=Math.abs(f),w=[];_+b<=x;){if((g+=p)<u||g>=l)return null;if(v=y,w.push(y),void 0===(y=d[g])){var k=new t.Point(c.getx(g),c.gety(g)),M=$t(k,h);if(M.signedDistanceFromCamera>0)y=d[g]=M.point;else{var S=g-p;y=ae(0===_?a:new t.Point(c.getx(S),c.gety(S)),k,v,x-_+1,h)}}_+=b,b=v.dist(y)}var E=(x-_)/b,L=y.sub(v),T=L.mult(E)._add(v);T._add(L._unit()._perp()._mult(i*p));var C=m+Math.atan2(y.y-v.y,y.x-v.x);return w.push(T),{point:T,angle:C,path:w}}Zt.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Zt.prototype.insert=function(t,e,n,i,r){this._forEachCell(e,n,i,r,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(r)},Zt.prototype.insertCircle=function(t,e,n,i){this._forEachCell(e-i,n-i,e+i,n+i,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(n),this.circles.push(i)},Zt.prototype._insertBoxCell=function(t,e,n,i,r,o){this.boxCells[r].push(o)},Zt.prototype._insertCircleCell=function(t,e,n,i,r,o){this.circleCells[r].push(o)},Zt.prototype._query=function(t,e,n,i,r,o){if(n<0||t>this.width||i<0||e>this.height)return!r&&[];var a=[];if(t<=0&&e<=0&&this.width<=n&&this.height<=i){if(r)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});for(var u=0;u<this.circleKeys.length;u++){var l=this.circles[3*u],c=this.circles[3*u+1],h=this.circles[3*u+2];a.push({key:this.circleKeys[u],x1:l-h,y1:c-h,x2:l+h,y2:c+h})}return o?a.filter(o):a}return this._forEachCell(t,e,n,i,this._queryCell,a,{hitTest:r,seenUids:{box:{},circle:{}}},o),r?a.length>0:a},Zt.prototype._queryCircle=function(t,e,n,i,r){var o=t-n,a=t+n,s=e-n,u=e+n;if(a<0||o>this.width||u<0||s>this.height)return!i&&[];var l=[];return this._forEachCell(o,s,a,u,this._queryCellCircle,l,{hitTest:i,circle:{x:t,y:e,radius:n},seenUids:{box:{},circle:{}}},r),i?l.length>0:l},Zt.prototype.query=function(t,e,n,i,r){return this._query(t,e,n,i,!1,r)},Zt.prototype.hitTest=function(t,e,n,i,r){return this._query(t,e,n,i,!0,r)},Zt.prototype.hitTestCircle=function(t,e,n,i){return this._queryCircle(t,e,n,!0,i)},Zt.prototype._queryCell=function(t,e,n,i,r,o,a,s){var u=a.seenUids,l=this.boxCells[r];if(null!==l)for(var c=this.bboxes,h=0,d=l;h<d.length;h+=1){var f=d[h];if(!u.box[f]){u.box[f]=!0;var p=4*f;if(t<=c[p+2]&&e<=c[p+3]&&n>=c[p+0]&&i>=c[p+1]&&(!s||s(this.boxKeys[f]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[f],x1:c[p],y1:c[p+1],x2:c[p+2],y2:c[p+3]})}}}var m=this.circleCells[r];if(null!==m)for(var g=this.circles,y=0,v=m;y<v.length;y+=1){var _=v[y];if(!u.circle[_]){u.circle[_]=!0;var b=3*_;if(this._circleAndRectCollide(g[b],g[b+1],g[b+2],t,e,n,i)&&(!s||s(this.circleKeys[_]))){if(a.hitTest)return o.push(!0),!0;var x=g[b],w=g[b+1],k=g[b+2];o.push({key:this.circleKeys[_],x1:x-k,y1:w-k,x2:x+k,y2:w+k})}}}},Zt.prototype._queryCellCircle=function(t,e,n,i,r,o,a,s){var u=a.circle,l=a.seenUids,c=this.boxCells[r];if(null!==c)for(var h=this.bboxes,d=0,f=c;d<f.length;d+=1){var p=f[d];if(!l.box[p]){l.box[p]=!0;var m=4*p;if(this._circleAndRectCollide(u.x,u.y,u.radius,h[m+0],h[m+1],h[m+2],h[m+3])&&(!s||s(this.boxKeys[p])))return o.push(!0),!0}}var g=this.circleCells[r];if(null!==g)for(var y=this.circles,v=0,_=g;v<_.length;v+=1){var b=_[v];if(!l.circle[b]){l.circle[b]=!0;var x=3*b;if(this._circlesCollide(y[x],y[x+1],y[x+2],u.x,u.y,u.radius)&&(!s||s(this.circleKeys[b])))return o.push(!0),!0}}},Zt.prototype._forEachCell=function(t,e,n,i,r,o,a,s){for(var u=this._convertToXCellCoord(t),l=this._convertToYCellCoord(e),c=this._convertToXCellCoord(n),h=this._convertToYCellCoord(i),d=u;d<=c;d++)for(var f=l;f<=h;f++)if(r.call(this,t,e,n,i,this.xCellCount*f+d,o,a,s))return},Zt.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},Zt.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},Zt.prototype._circlesCollide=function(t,e,n,i,r,o){var a=i-t,s=r-e,u=n+o;return u*u>a*a+s*s},Zt.prototype._circleAndRectCollide=function(t,e,n,i,r,o,a){var s=(o-i)/2,u=Math.abs(t-(i+s));if(u>s+n)return!1;var l=(a-r)/2,c=Math.abs(e-(r+l));if(c>l+n)return!1;if(u<=s||c<=l)return!0;var h=u-s,d=c-l;return h*h+d*d<=n*n};var ue=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function le(t,e){for(var n=0;n<t;n++){var i=e.length;e.resize(i+4),e.float32.set(ue,3*i)}}function ce(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[4]*r+n[12],t[1]=n[1]*i+n[5]*r+n[13],t[3]=n[3]*i+n[7]*r+n[15],t}var he=function(t,e,n){void 0===e&&(e=new Zt(t.width+200,t.height+200,25)),void 0===n&&(n=new Zt(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=n,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100,this.gridRightBoundary=t.width+200,this.gridBottomBoundary=t.height+200};function de(e,n,i){return n*(t.EXTENT/(e.tileSize*Math.pow(2,i-e.tileID.overscaledZ)))}he.prototype.placeCollisionBox=function(t,e,n,i,r){var o=this.projectAndGetPerspectiveRatio(i,t.anchorPointX,t.anchorPointY),a=n*o.perspectiveRatio,s=t.x1*a+o.point.x,u=t.y1*a+o.point.y,l=t.x2*a+o.point.x,c=t.y2*a+o.point.y;return!this.isInsideGrid(s,u,l,c)||!e&&this.grid.hitTest(s,u,l,c,r)?{box:[],offscreen:!1}:{box:[s,u,l,c],offscreen:this.isOffscreen(s,u,l,c)}},he.prototype.placeCollisionCircles=function(e,n,i,r,o,a,s,u,l,c,h,d,f){var p=[],m=new t.Point(n.anchorX,n.anchorY),g=$t(m,a),y=te(this.transform.cameraToCenterDistance,g.signedDistanceFromCamera),v=(c?o/y:o*y)/t.ONE_EM,_=$t(m,s).point,b=ie(v,r,n.lineOffsetX*v,n.lineOffsetY*v,!1,_,m,n,i,s,{}),x=!1,w=!1,k=!0;if(b){for(var M=.5*d*y+f,S=new t.Point(-100,-100),E=new t.Point(this.screenRightBoundary,this.screenBottomBoundary),L=new Kt,T=b.first,C=b.last,I=[],P=T.path.length-1;P>=1;P--)I.push(T.path[P]);for(var D=1;D<C.path.length;D++)I.push(C.path[D]);var O=2.5*M;if(u){var A=I.map(function(t){return $t(t,u)});I=A.some(function(t){return t.signedDistanceFromCamera<=0})?[]:A.map(function(t){return t.point})}var R=[];if(I.length>0){for(var N=I[0].clone(),F=I[0].clone(),Y=1;Y<I.length;Y++)N.x=Math.min(N.x,I[Y].x),N.y=Math.min(N.y,I[Y].y),F.x=Math.max(F.x,I[Y].x),F.y=Math.max(F.y,I[Y].y);R=N.x>=S.x&&F.x<=E.x&&N.y>=S.y&&F.y<=E.y?[I]:F.x<S.x||N.x>E.x||F.y<S.y||N.y>E.y?[]:t.clipLine([I],S.x,S.y,E.x,E.y)}for(var z=0,j=R;z<j.length;z+=1){var B;L.reset(j[z],.25*M),B=L.length<=.5*M?1:Math.ceil(L.paddedLength/O)+1;for(var H=0;H<B;H++){var U=H/Math.max(B-1,1),V=L.lerp(U),q=V.x+100,G=V.y+100;p.push(q,G,M,0);var W=q-M,X=G-M,K=q+M,Z=G+M;if(k=k&&this.isOffscreen(W,X,K,Z),w=w||this.isInsideGrid(W,X,K,Z),!e&&this.grid.hitTestCircle(q,G,M,h)&&(x=!0,!l))return{circles:[],offscreen:!1,collisionDetected:x}}}}return{circles:!l&&x||!w?[]:p,offscreen:k,collisionDetected:x}},he.prototype.queryRenderedSymbols=function(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};for(var n=[],i=1/0,r=1/0,o=-1/0,a=-1/0,s=0,u=e;s<u.length;s+=1){var l=u[s],c=new t.Point(l.x+100,l.y+100);i=Math.min(i,c.x),r=Math.min(r,c.y),o=Math.max(o,c.x),a=Math.max(a,c.y),n.push(c)}for(var h={},d={},f=0,p=this.grid.query(i,r,o,a).concat(this.ignoredGrid.query(i,r,o,a));f<p.length;f+=1){var m=p[f],g=m.key;if(void 0===h[g.bucketInstanceId]&&(h[g.bucketInstanceId]={}),!h[g.bucketInstanceId][g.featureIndex]){var y=[new t.Point(m.x1,m.y1),new t.Point(m.x2,m.y1),new t.Point(m.x2,m.y2),new t.Point(m.x1,m.y2)];t.polygonIntersectsPolygon(n,y)&&(h[g.bucketInstanceId][g.featureIndex]=!0,void 0===d[g.bucketInstanceId]&&(d[g.bucketInstanceId]=[]),d[g.bucketInstanceId].push(g.featureIndex))}}return d},he.prototype.insertCollisionBox=function(t,e,n,i,r){(e?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:i,collisionGroupID:r},t[0],t[1],t[2],t[3])},he.prototype.insertCollisionCircles=function(t,e,n,i,r){for(var o=e?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:i,collisionGroupID:r},s=0;s<t.length;s+=4)o.insertCircle(a,t[s],t[s+1],t[s+2])},he.prototype.projectAndGetPerspectiveRatio=function(e,n,i){var r=[n,i,0,1];return ce(r,r,e),{point:new t.Point((r[0]/r[3]+1)/2*this.transform.width+100,(-r[1]/r[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/r[3]*.5}},he.prototype.isOffscreen=function(t,e,n,i){return n<100||t>=this.screenRightBoundary||i<100||e>this.screenBottomBoundary},he.prototype.isInsideGrid=function(t,e,n,i){return n>=0&&t<this.gridRightBoundary&&i>=0&&e<this.gridBottomBoundary},he.prototype.getViewportMatrix=function(){var e=t.identity([]);return t.translate(e,e,[-100,-100,0]),e};var fe=function(t,e,n,i){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):i&&n?1:0,this.placed=n};fe.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var pe=function(t,e,n,i,r){this.text=new fe(t?t.text:null,e,n,r),this.icon=new fe(t?t.icon:null,e,i,r)};pe.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var me=function(t,e,n){this.text=t,this.icon=e,this.skipFade=n},ge=function(){this.invProjMatrix=t.create(),this.viewportMatrix=t.create(),this.circles=[]},ye=function(t,e,n,i,r){this.bucketInstanceId=t,this.featureIndex=e,this.sourceLayerIndex=n,this.bucketIndex=i,this.tileID=r},ve=function(t){this.crossSourceCollisions=t,this.maxGroupID=0,this.collisionGroups={}};function _e(e,n,i,r,o){var a=t.getAnchorAlignment(e),s=-(a.horizontalAlign-.5)*n,u=-(a.verticalAlign-.5)*i,l=t.evaluateVariableOffset(e,r);return new t.Point(s+l[0]*o,u+l[1]*o)}function be(e,n,i,r,o,a){var s=e.x1,u=e.x2,l=e.y1,c=e.y2,h=e.anchorPointX,d=e.anchorPointY,f=new t.Point(n,i);return r&&f._rotate(o?a:-a),{x1:s+f.x,y1:l+f.y,x2:u+f.x,y2:c+f.y,anchorPointX:h,anchorPointY:d}}ve.prototype.get=function(t){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[t]){var e=++this.maxGroupID;this.collisionGroups[t]={ID:e,predicate:function(t){return t.collisionGroupID===e}}}return this.collisionGroups[t]};var xe=function(t,e,n,i){this.transform=t.clone(),this.collisionIndex=new he(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=e,this.retainedQueryData={},this.collisionGroups=new ve(n),this.collisionCircleArrays={},this.prevPlacement=i,i&&(i.prevPlacement=void 0),this.placedOrientations={}};function we(t,e,n,i,r){t.emplaceBack(e?1:0,n?1:0,i||0,r||0),t.emplaceBack(e?1:0,n?1:0,i||0,r||0),t.emplaceBack(e?1:0,n?1:0,i||0,r||0),t.emplaceBack(e?1:0,n?1:0,i||0,r||0)}xe.prototype.getBucketParts=function(e,n,i,r){var o=i.getBucket(n),a=i.latestFeatureIndex;if(o&&a&&n.id===o.layerIds[0]){var s=i.collisionBoxArray,u=o.layers[0].layout,l=Math.pow(2,this.transform.zoom-i.tileID.overscaledZ),c=i.tileSize/t.EXTENT,h=this.transform.calculatePosMatrix(i.tileID.toUnwrapped()),d="map"===u.get("text-pitch-alignment"),f="map"===u.get("text-rotation-alignment"),p=de(i,1,this.transform.zoom),m=Qt(h,d,f,this.transform,p),g=null;if(d){var y=Jt(h,d,f,this.transform,p);g=t.multiply([],this.transform.labelPlaneMatrix,y)}this.retainedQueryData[o.bucketInstanceId]=new ye(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,i.tileID);var v={bucket:o,layout:u,posMatrix:h,textLabelPlaneMatrix:m,labelToScreenMatrix:g,scale:l,textPixelRatio:c,holdingForFade:i.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:t.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(r)for(var _=0,b=o.sortKeyRanges;_<b.length;_+=1){var x=b[_];e.push({sortKey:x.sortKey,symbolInstanceStart:x.symbolInstanceStart,symbolInstanceEnd:x.symbolInstanceEnd,parameters:v})}else e.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:v})}},xe.prototype.attemptAnchorPlacement=function(t,e,n,i,r,o,a,s,u,l,c,h,d,f,p){var m,g=[h.textOffset0,h.textOffset1],y=_e(t,n,i,g,r),v=this.collisionIndex.placeCollisionBox(be(e,y.x,y.y,o,a,this.transform.angle),c,s,u,l.predicate);if(!p||0!==this.collisionIndex.placeCollisionBox(be(p,y.x,y.y,o,a,this.transform.angle),c,s,u,l.predicate).box.length)return v.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID].text&&(m=this.prevPlacement.variableOffsets[h.crossTileID].anchor),this.variableOffsets[h.crossTileID]={textOffset:g,width:n,height:i,anchor:t,textBoxScale:r,prevAnchor:m},this.markUsedJustification(d,t,h,f),d.allowVerticalPlacement&&(this.markUsedOrientation(d,f,h),this.placedOrientations[h.crossTileID]=f),{shift:y,placedGlyphBoxes:v}):void 0},xe.prototype.placeLayerBucketPart=function(e,n,i){var r=this,o=e.parameters,a=o.bucket,s=o.layout,u=o.posMatrix,l=o.textLabelPlaneMatrix,c=o.labelToScreenMatrix,h=o.textPixelRatio,d=o.holdingForFade,f=o.collisionBoxArray,p=o.partiallyEvaluatedTextSize,m=o.collisionGroup,g=s.get("text-optional"),y=s.get("icon-optional"),v=s.get("text-allow-overlap"),_=s.get("icon-allow-overlap"),b="map"===s.get("text-rotation-alignment"),x="map"===s.get("text-pitch-alignment"),w="none"!==s.get("icon-text-fit"),k="viewport-y"===s.get("symbol-z-order"),M=v&&(_||!a.hasIconData()||y),S=_&&(v||!a.hasTextData()||g);!a.collisionArrays&&f&&a.deserializeCollisionBoxes(f);var E=function(e,o){if(!n[e.crossTileID])if(d)r.placements[e.crossTileID]=new me(!1,!1,!1);else{var f,k=!1,E=!1,L=!0,T=null,C={box:null,offscreen:null},I={box:null,offscreen:null},P=null,D=null,O=0,A=0,R=0;o.textFeatureIndex?O=o.textFeatureIndex:e.useRuntimeCollisionCircles&&(O=e.featureIndex),o.verticalTextFeatureIndex&&(A=o.verticalTextFeatureIndex);var N=o.textBox;if(N){var F=function(n){var i=t.WritingMode.horizontal;if(a.allowVerticalPlacement&&!n&&r.prevPlacement){var o=r.prevPlacement.placedOrientations[e.crossTileID];o&&(r.placedOrientations[e.crossTileID]=o,r.markUsedOrientation(a,i=o,e))}return i},Y=function(n,i){if(a.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&o.verticalTextBox)for(var r=0,s=a.writingModes;r<s.length&&(s[r]===t.WritingMode.vertical?(C=i(),I=C):C=n(),!(C&&C.box&&C.box.length));r+=1);else C=n()};if(s.get("text-variable-anchor")){var z=s.get("text-variable-anchor");if(r.prevPlacement&&r.prevPlacement.variableOffsets[e.crossTileID]){var j=r.prevPlacement.variableOffsets[e.crossTileID];z.indexOf(j.anchor)>0&&(z=z.filter(function(t){return t!==j.anchor})).unshift(j.anchor)}var B=function(t,n,i){for(var o=t.x2-t.x1,s=t.y2-t.y1,l=e.textBoxScale,c=w&&!_?n:null,d={box:[],offscreen:!1},f=v?2*z.length:z.length,p=0;p<f;++p){var g=r.attemptAnchorPlacement(z[p%z.length],t,o,s,l,b,x,h,u,m,p>=z.length,e,a,i,c);if(g&&(d=g.placedGlyphBoxes)&&d.box&&d.box.length){k=!0,T=g.shift;break}}return d};Y(function(){return B(N,o.iconBox,t.WritingMode.horizontal)},function(){var n=o.verticalTextBox;return a.allowVerticalPlacement&&!(C&&C.box&&C.box.length)&&e.numVerticalGlyphVertices>0&&n?B(n,o.verticalIconBox,t.WritingMode.vertical):{box:null,offscreen:null}}),C&&(k=C.box,L=C.offscreen);var H=F(C&&C.box);if(!k&&r.prevPlacement){var U=r.prevPlacement.variableOffsets[e.crossTileID];U&&(r.variableOffsets[e.crossTileID]=U,r.markUsedJustification(a,U.anchor,e,H))}}else{var V=function(t,n){var i=r.collisionIndex.placeCollisionBox(t,v,h,u,m.predicate);return i&&i.box&&i.box.length&&(r.markUsedOrientation(a,n,e),r.placedOrientations[e.crossTileID]=n),i};Y(function(){return V(N,t.WritingMode.horizontal)},function(){var n=o.verticalTextBox;return a.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&n?V(n,t.WritingMode.vertical):{box:null,offscreen:null}}),F(C&&C.box&&C.box.length)}}if(k=(f=C)&&f.box&&f.box.length>0,L=f&&f.offscreen,e.useRuntimeCollisionCircles){var q=a.text.placedSymbolArray.get(e.centerJustifiedTextSymbolIndex),G=t.evaluateSizeForFeature(a.textSizeData,p,q),W=s.get("text-padding");P=r.collisionIndex.placeCollisionCircles(v,q,a.lineVertexArray,a.glyphOffsetArray,G,u,l,c,i,x,m.predicate,e.collisionCircleDiameter,W),k=v||P.circles.length>0&&!P.collisionDetected,L=L&&P.offscreen}if(o.iconFeatureIndex&&(R=o.iconFeatureIndex),o.iconBox){var X=function(t){var e=w&&T?be(t,T.x,T.y,b,x,r.transform.angle):t;return r.collisionIndex.placeCollisionBox(e,_,h,u,m.predicate)};E=I&&I.box&&I.box.length&&o.verticalIconBox?(D=X(o.verticalIconBox)).box.length>0:(D=X(o.iconBox)).box.length>0,L=L&&D.offscreen}var K=g||0===e.numHorizontalGlyphVertices&&0===e.numVerticalGlyphVertices,Z=y||0===e.numIconVertices;if(K||Z?Z?K||(E=E&&k):k=E&&k:E=k=E&&k,k&&f&&f.box&&r.collisionIndex.insertCollisionBox(f.box,s.get("text-ignore-placement"),a.bucketInstanceId,I&&I.box&&A?A:O,m.ID),E&&D&&r.collisionIndex.insertCollisionBox(D.box,s.get("icon-ignore-placement"),a.bucketInstanceId,R,m.ID),P&&(k&&r.collisionIndex.insertCollisionCircles(P.circles,s.get("text-ignore-placement"),a.bucketInstanceId,O,m.ID),i)){var Q=a.bucketInstanceId,J=r.collisionCircleArrays[Q];void 0===J&&(J=r.collisionCircleArrays[Q]=new ge);for(var $=0;$<P.circles.length;$+=4)J.circles.push(P.circles[$+0]),J.circles.push(P.circles[$+1]),J.circles.push(P.circles[$+2]),J.circles.push(P.collisionDetected?1:0)}r.placements[e.crossTileID]=new me(k||M,E||S,L||a.justReloaded),n[e.crossTileID]=!0}};if(k)for(var L=a.getSortedSymbolIndexes(this.transform.angle),T=L.length-1;T>=0;--T){var C=L[T];E(a.symbolInstances.get(C),a.collisionArrays[C])}else for(var I=e.symbolInstanceStart;I<e.symbolInstanceEnd;I++)E(a.symbolInstances.get(I),a.collisionArrays[I]);if(i&&a.bucketInstanceId in this.collisionCircleArrays){var P=this.collisionCircleArrays[a.bucketInstanceId];t.invert(P.invProjMatrix,u),P.viewportMatrix=this.collisionIndex.getViewportMatrix()}a.justReloaded=!1},xe.prototype.markUsedJustification=function(e,n,i,r){var o;o=r===t.WritingMode.vertical?i.verticalPlacedTextSymbolIndex:{left:i.leftJustifiedTextSymbolIndex,center:i.centerJustifiedTextSymbolIndex,right:i.rightJustifiedTextSymbolIndex}[t.getAnchorJustification(n)];for(var a=0,s=[i.leftJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.rightJustifiedTextSymbolIndex,i.verticalPlacedTextSymbolIndex];a<s.length;a+=1){var u=s[a];u>=0&&(e.text.placedSymbolArray.get(u).crossTileID=o>=0&&u!==o?0:i.crossTileID)}},xe.prototype.markUsedOrientation=function(e,n,i){for(var r=n===t.WritingMode.horizontal||n===t.WritingMode.horizontalOnly?n:0,o=n===t.WritingMode.vertical?n:0,a=0,s=[i.leftJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.rightJustifiedTextSymbolIndex];a<s.length;a+=1)e.text.placedSymbolArray.get(s[a]).placedOrientation=r;i.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(i.verticalPlacedTextSymbolIndex).placedOrientation=o)},xe.prototype.commit=function(t){this.commitTime=t,this.zoomAtLastRecencyCheck=this.transform.zoom;var e=this.prevPlacement,n=!1;this.prevZoomAdjustment=e?e.zoomAdjustment(this.transform.zoom):0;var i=e?e.symbolFadeChange(t):1,r=e?e.opacities:{},o=e?e.variableOffsets:{},a=e?e.placedOrientations:{};for(var s in this.placements){var u=this.placements[s],l=r[s];l?(this.opacities[s]=new pe(l,i,u.text,u.icon),n=n||u.text!==l.text.placed||u.icon!==l.icon.placed):(this.opacities[s]=new pe(null,i,u.text,u.icon,u.skipFade),n=n||u.text||u.icon)}for(var c in r){var h=r[c];if(!this.opacities[c]){var d=new pe(h,i,!1,!1);d.isHidden()||(this.opacities[c]=d,n=n||h.text.placed||h.icon.placed)}}for(var f in o)this.variableOffsets[f]||!this.opacities[f]||this.opacities[f].isHidden()||(this.variableOffsets[f]=o[f]);for(var p in a)this.placedOrientations[p]||!this.opacities[p]||this.opacities[p].isHidden()||(this.placedOrientations[p]=a[p]);n?this.lastPlacementChangeTime=t:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=e?e.lastPlacementChangeTime:t)},xe.prototype.updateLayerOpacities=function(t,e){for(var n={},i=0,r=e;i<r.length;i+=1){var o=r[i],a=o.getBucket(t);a&&o.latestFeatureIndex&&t.id===a.layerIds[0]&&this.updateBucketOpacities(a,n,o.collisionBoxArray)}},xe.prototype.updateBucketOpacities=function(e,n,i){var r=this;e.hasTextData()&&e.text.opacityVertexArray.clear(),e.hasIconData()&&e.icon.opacityVertexArray.clear(),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear();var o=e.layers[0].layout,a=new pe(null,0,!1,!1,!0),s=o.get("text-allow-overlap"),u=o.get("icon-allow-overlap"),l=o.get("text-variable-anchor"),c="map"===o.get("text-rotation-alignment"),h="map"===o.get("text-pitch-alignment"),d="none"!==o.get("icon-text-fit"),f=new pe(null,0,s&&(u||!e.hasIconData()||o.get("icon-optional")),u&&(s||!e.hasTextData()||o.get("text-optional")),!0);!e.collisionArrays&&i&&(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData())&&e.deserializeCollisionBoxes(i);for(var p=function(t,e,n){for(var i=0;i<e/4;i++)t.opacityVertexArray.emplaceBack(n)},m=function(i){var o=e.symbolInstances.get(i),s=o.numHorizontalGlyphVertices,u=o.numVerticalGlyphVertices,m=o.crossTileID,g=r.opacities[m];n[m]?g=a:g||(r.opacities[m]=g=f),n[m]=!0;var y=o.numIconVertices>0,v=r.placedOrientations[o.crossTileID],_=v===t.WritingMode.vertical,b=v===t.WritingMode.horizontal||v===t.WritingMode.horizontalOnly;if(s>0||u>0){var x=Ie(g.text);p(e.text,s,_?Pe:x),p(e.text,u,b?Pe:x);var w=g.text.isHidden();[o.rightJustifiedTextSymbolIndex,o.centerJustifiedTextSymbolIndex,o.leftJustifiedTextSymbolIndex].forEach(function(t){t>=0&&(e.text.placedSymbolArray.get(t).hidden=w||_?1:0)}),o.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(o.verticalPlacedTextSymbolIndex).hidden=w||b?1:0);var k=r.variableOffsets[o.crossTileID];k&&r.markUsedJustification(e,k.anchor,o,v);var M=r.placedOrientations[o.crossTileID];M&&(r.markUsedJustification(e,"left",o,M),r.markUsedOrientation(e,M,o))}if(y){var S=Ie(g.icon),E=!(d&&o.verticalPlacedIconSymbolIndex&&_);o.placedIconSymbolIndex>=0&&(p(e.icon,o.numIconVertices,E?S:Pe),e.icon.placedSymbolArray.get(o.placedIconSymbolIndex).hidden=g.icon.isHidden()),o.verticalPlacedIconSymbolIndex>=0&&(p(e.icon,o.numVerticalIconVertices,E?Pe:S),e.icon.placedSymbolArray.get(o.verticalPlacedIconSymbolIndex).hidden=g.icon.isHidden())}if(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData()){var L=e.collisionArrays[i];if(L){var T=new t.Point(0,0);if(L.textBox||L.verticalTextBox){var C=!0;if(l){var I=r.variableOffsets[m];I?(T=_e(I.anchor,I.width,I.height,I.textOffset,I.textBoxScale),c&&T._rotate(h?r.transform.angle:-r.transform.angle)):C=!1}L.textBox&&we(e.textCollisionBox.collisionVertexArray,g.text.placed,!C||_,T.x,T.y),L.verticalTextBox&&we(e.textCollisionBox.collisionVertexArray,g.text.placed,!C||b,T.x,T.y)}var P=Boolean(!b&&L.verticalIconBox);L.iconBox&&we(e.iconCollisionBox.collisionVertexArray,g.icon.placed,P,d?T.x:0,d?T.y:0),L.verticalIconBox&&we(e.iconCollisionBox.collisionVertexArray,g.icon.placed,!P,d?T.x:0,d?T.y:0)}}},g=0;g<e.symbolInstances.length;g++)m(g);if(e.sortFeatures(this.transform.angle),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.bucketInstanceId in this.collisionCircleArrays){var y=this.collisionCircleArrays[e.bucketInstanceId];e.placementInvProjMatrix=y.invProjMatrix,e.placementViewportMatrix=y.viewportMatrix,e.collisionCircleArray=y.circles,delete this.collisionCircleArrays[e.bucketInstanceId]}},xe.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},xe.prototype.zoomAdjustment=function(t){return Math.max(0,(this.transform.zoom-t)/1.5)},xe.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},xe.prototype.stillRecent=function(t,e){var n=this.zoomAtLastRecencyCheck===e?1-this.zoomAdjustment(e):1;return this.zoomAtLastRecencyCheck=e,this.commitTime+this.fadeDuration*n>t},xe.prototype.setStale=function(){this.stale=!0};var ke=Math.pow(2,25),Me=Math.pow(2,24),Se=Math.pow(2,17),Ee=Math.pow(2,16),Le=Math.pow(2,9),Te=Math.pow(2,8),Ce=Math.pow(2,1);function Ie(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,n=Math.floor(127*t.opacity);return n*ke+e*Me+n*Se+e*Ee+n*Le+e*Te+n*Ce+e}var Pe=0,De=function(t){this._sortAcrossTiles="viewport-y"!==t.layout.get("symbol-z-order")&&void 0!==t.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};De.prototype.continuePlacement=function(t,e,n,i,r){for(var o=this._bucketParts;this._currentTileIndex<t.length;)if(e.getBucketParts(o,i,t[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,r())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort(function(t,e){return t.sortKey-e.sortKey}));this._currentPartIndex<o.length;)if(e.placeLayerBucketPart(o[this._currentPartIndex],this._seenCrossTileIDs,n),this._currentPartIndex++,r())return!0;return!1};var Oe=function(t,e,n,i,r,o,a){this.placement=new xe(t,r,o,a),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=i,this._done=!1};Oe.prototype.isDone=function(){return this._done},Oe.prototype.continuePlacement=function(e,n,i){for(var r=this,o=t.browser.now(),a=function(){var e=t.browser.now()-o;return!r._forceFullPlacement&&e>2};this._currentPlacementIndex>=0;){var s=n[e[this._currentPlacementIndex]],u=this.placement.collisionIndex.transform.zoom;if("symbol"===s.type&&(!s.minzoom||s.minzoom<=u)&&(!s.maxzoom||s.maxzoom>u)){if(this._inProgressLayer||(this._inProgressLayer=new De(s)),this._inProgressLayer.continuePlacement(i[s.source],this.placement,this._showCollisionBoxes,s,a))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Oe.prototype.commit=function(t){return this.placement.commit(t),this.placement};var Ae=512/t.EXTENT/2,Re=function(t,e,n){this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var i=0;i<e.length;i++){var r=e.get(i),o=r.key;this.indexedSymbolInstances[o]||(this.indexedSymbolInstances[o]=[]),this.indexedSymbolInstances[o].push({crossTileID:r.crossTileID,coord:this.getScaledCoordinates(r,t)})}};Re.prototype.getScaledCoordinates=function(e,n){var i=Ae/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*t.EXTENT+e.anchorX)*i),y:Math.floor((n.canonical.y*t.EXTENT+e.anchorY)*i)}},Re.prototype.findMatches=function(t,e,n){for(var i=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),r=0;r<t.length;r++){var o=t.get(r);if(!o.crossTileID){var a=this.indexedSymbolInstances[o.key];if(a)for(var s=this.getScaledCoordinates(o,e),u=0,l=a;u<l.length;u+=1){var c=l[u];if(Math.abs(c.coord.x-s.x)<=i&&Math.abs(c.coord.y-s.y)<=i&&!n[c.crossTileID]){n[c.crossTileID]=!0,o.crossTileID=c.crossTileID;break}}}}};var Ne=function(){this.maxCrossTileID=0};Ne.prototype.generate=function(){return++this.maxCrossTileID};var Fe=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};Fe.prototype.handleWrapJump=function(t){var e=Math.round((t-this.lng)/360);if(0!==e)for(var n in this.indexes){var i=this.indexes[n],r={};for(var o in i){var a=i[o];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+e),r[a.tileID.key]=a}this.indexes[n]=r}this.lng=t},Fe.prototype.addBucket=function(t,e,n){if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var i=0;i<e.symbolInstances.length;i++)e.symbolInstances.get(i).crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var r=this.usedCrossTileIDs[t.overscaledZ];for(var o in this.indexes){var a=this.indexes[o];if(Number(o)>t.overscaledZ)for(var s in a){var u=a[s];u.tileID.isChildOf(t)&&u.findMatches(e.symbolInstances,t,r)}else{var l=a[t.scaledTo(Number(o)).key];l&&l.findMatches(e.symbolInstances,t,r)}}for(var c=0;c<e.symbolInstances.length;c++){var h=e.symbolInstances.get(c);h.crossTileID||(h.crossTileID=n.generate(),r[h.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new Re(t,e.symbolInstances,e.bucketInstanceId),!0},Fe.prototype.removeBucketCrossTileIDs=function(t,e){for(var n in e.indexedSymbolInstances)for(var i=0,r=e.indexedSymbolInstances[n];i<r.length;i+=1)delete this.usedCrossTileIDs[t][r[i].crossTileID]},Fe.prototype.removeStaleBuckets=function(t){var e=!1;for(var n in this.indexes){var i=this.indexes[n];for(var r in i)t[i[r].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,i[r]),delete i[r],e=!0)}return e};var Ye=function(){this.layerIndexes={},this.crossTileIDs=new Ne,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Ye.prototype.addLayer=function(t,e,n){var i=this.layerIndexes[t.id];void 0===i&&(i=this.layerIndexes[t.id]=new Fe);var r=!1,o={};i.handleWrapJump(n);for(var a=0,s=e;a<s.length;a+=1){var u=s[a],l=u.getBucket(t);l&&t.id===l.layerIds[0]&&(l.bucketInstanceId||(l.bucketInstanceId=++this.maxBucketInstanceId),i.addBucket(u.tileID,l,this.crossTileIDs)&&(r=!0),o[l.bucketInstanceId]=!0)}return i.removeStaleBuckets(o)&&(r=!0),r},Ye.prototype.pruneUnusedLayers=function(t){var e={};for(var n in t.forEach(function(t){e[t]=!0}),this.layerIndexes)e[n]||delete this.layerIndexes[n]};var ze=function(e,n){return t.emitValidationErrors(e,n&&n.filter(function(t){return"source.canvas"!==t.identifier}))},je=t.pick(Bt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Be=t.pick(Bt,["setCenter","setZoom","setBearing","setPitch"]),He=function(){var e={},n=t.styleSpec.$version;for(var i in t.styleSpec.$root){var r,o=t.styleSpec.$root[i];o.required&&null!=(r="version"===i?n:"array"===o.type?[]:{})&&(e[i]=r)}return e}(),Ue=function(e){function n(i,r){var o=this;void 0===r&&(r={}),e.call(this),this.map=i,this.dispatcher=new M(Yt(),this),this.imageManager=new d,this.imageManager.setEventedParent(this),this.glyphManager=new _(i._requestManager,r.localIdeographFontFamily),this.lineAtlas=new k(256,512),this.crossTileSymbolIndex=new Ye,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new t.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",t.getReferrer());var a=this;this._rtlTextPluginCallback=n.registerForPluginStateChange(function(e){a.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:e.pluginStatus,pluginURL:e.pluginURL},function(e,n){if(t.triggerPluginCompletionEvent(e),n&&n.every(function(t){return t}))for(var i in a.sourceCaches)a.sourceCaches[i].reload()})}),this.on("data",function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=o.sourceCaches[t.sourceId];if(e){var n=e.getSource();if(n&&n.vectorLayerIds)for(var i in o._layers){var r=o._layers[i];r.source===n.id&&o._validateLayer(r)}}}})}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.loadURL=function(e,n){var i=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"}));var r="boolean"==typeof n.validate?n.validate:!t.isMapboxURL(e);e=this.map._requestManager.normalizeStyleURL(e,n.accessToken);var o=this.map._requestManager.transformRequest(e,t.ResourceType.Style);this._request=t.getJSON(o,function(e,n){i._request=null,e?i.fire(new t.ErrorEvent(e)):n&&i._load(n,r)})},n.prototype.loadJSON=function(e,n){var i=this;void 0===n&&(n={}),this.fire(new t.Event("dataloading",{dataType:"style"})),this._request=t.browser.frame(function(){i._request=null,i._load(e,!1!==n.validate)})},n.prototype.loadEmpty=function(){this.fire(new t.Event("dataloading",{dataType:"style"})),this._load(He,!1)},n.prototype._load=function(e,n){if(!n||!ze(this,t.validateStyle(e))){for(var i in this._loaded=!0,this.stylesheet=e,e.sources)this.addSource(i,e.sources[i],{validate:!1});e.sprite?this._loadSprite(e.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(e.glyphs);var r=jt(this.stylesheet.layers);this._order=r.map(function(t){return t.id}),this._layers={},this._serializedLayers={};for(var o=0,a=r;o<a.length;o+=1){var s=a[o];(s=t.createStyleLayer(s)).setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s,this._serializedLayers[s.id]=s.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new w(this.stylesheet.light),this.fire(new t.Event("data",{dataType:"style"})),this.fire(new t.Event("style.load"))}},n.prototype._loadSprite=function(e){var n=this;this._spriteRequest=function(e,n,i){var r,o,a,s=t.browser.devicePixelRatio>1?"@2x":"",u=t.getJSON(n.transformRequest(n.normalizeSpriteURL(e,s,".json"),t.ResourceType.SpriteJSON),function(t,e){u=null,a||(a=t,r=e,c())}),l=t.getImage(n.transformRequest(n.normalizeSpriteURL(e,s,".png"),t.ResourceType.SpriteImage),function(t,e){l=null,a||(a=t,o=e,c())});function c(){if(a)i(a);else if(r&&o){var e=t.browser.getImageData(o),n={};for(var s in r){var u=r[s],l=u.width,c=u.height,h=u.x,d=u.y,f=u.sdf,p=u.pixelRatio,m=u.stretchX,g=u.stretchY,y=u.content,v=new t.RGBAImage({width:l,height:c});t.RGBAImage.copy(e,v,{x:h,y:d},{x:0,y:0},{width:l,height:c}),n[s]={data:v,pixelRatio:p,sdf:f,stretchX:m,stretchY:g,content:y}}i(null,n)}}return{cancel:function(){u&&(u.cancel(),u=null),l&&(l.cancel(),l=null)}}}(e,this.map._requestManager,function(e,i){if(n._spriteRequest=null,e)n.fire(new t.ErrorEvent(e));else if(i)for(var r in i)n.imageManager.addImage(r,i[r]);n.imageManager.setLoaded(!0),n._availableImages=n.imageManager.listImages(),n.dispatcher.broadcast("setImages",n._availableImages),n.fire(new t.Event("data",{dataType:"style"}))})},n.prototype._validateLayer=function(e){var n=this.sourceCaches[e.source];if(n){var i=e.sourceLayer;if(i){var r=n.getSource();("geojson"===r.type||r.vectorLayerIds&&-1===r.vectorLayerIds.indexOf(i))&&this.fire(new t.ErrorEvent(new Error('Source layer "'+i+'" does not exist on source "'+r.id+'" as specified by style layer "'+e.id+'"')))}}},n.prototype.loaded=function(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var t in this.sourceCaches)if(!this.sourceCaches[t].loaded())return!1;return!!this.imageManager.isLoaded()},n.prototype._serializeLayers=function(t){for(var e=[],n=0,i=t;n<i.length;n+=1){var r=this._layers[i[n]];"custom"!==r.type&&e.push(r.serialize())}return e},n.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var t in this.sourceCaches)if(this.sourceCaches[t].hasTransition())return!0;for(var e in this._layers)if(this._layers[e].hasTransition())return!0;return!1},n.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},n.prototype.update=function(e){if(this._loaded){var n=this._changed;if(this._changed){var i=Object.keys(this._updatedLayers),r=Object.keys(this._removedLayers);for(var o in(i.length||r.length)&&this._updateWorkerLayers(i,r),this._updatedSources){var a=this._updatedSources[o];"reload"===a?this._reloadSource(o):"clear"===a&&this._clearSource(o)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(e);this.light.updateTransitions(e),this._resetUpdates()}var u={};for(var l in this.sourceCaches){var c=this.sourceCaches[l];u[l]=c.used,c.used=!1}for(var h=0,d=this._order;h<d.length;h+=1){var f=this._layers[d[h]];f.recalculate(e,this._availableImages),!f.isHidden(e.zoom)&&f.source&&(this.sourceCaches[f.source].used=!0)}for(var p in u){var m=this.sourceCaches[p];u[p]!==m.used&&m.fire(new t.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:p}))}this.light.recalculate(e),this.z=e.zoom,n&&this.fire(new t.Event("data",{dataType:"style"}))}},n.prototype._updateTilesForChangedImages=function(){var t=Object.keys(this._changedImages);if(t.length){for(var e in this.sourceCaches)this.sourceCaches[e].reloadTilesForDependencies(["icons","patterns"],t);this._changedImages={}}},n.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},n.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},n.prototype.setState=function(e){var n=this;if(this._checkLoaded(),ze(this,t.validateStyle(e)))return!1;(e=t.clone$1(e)).layers=jt(e.layers);var i=function(e,n){if(!e)return[{command:Bt.setStyle,args:[n]}];var i=[];try{if(!t.deepEqual(e.version,n.version))return[{command:Bt.setStyle,args:[n]}];t.deepEqual(e.center,n.center)||i.push({command:Bt.setCenter,args:[n.center]}),t.deepEqual(e.zoom,n.zoom)||i.push({command:Bt.setZoom,args:[n.zoom]}),t.deepEqual(e.bearing,n.bearing)||i.push({command:Bt.setBearing,args:[n.bearing]}),t.deepEqual(e.pitch,n.pitch)||i.push({command:Bt.setPitch,args:[n.pitch]}),t.deepEqual(e.sprite,n.sprite)||i.push({command:Bt.setSprite,args:[n.sprite]}),t.deepEqual(e.glyphs,n.glyphs)||i.push({command:Bt.setGlyphs,args:[n.glyphs]}),t.deepEqual(e.transition,n.transition)||i.push({command:Bt.setTransition,args:[n.transition]}),t.deepEqual(e.light,n.light)||i.push({command:Bt.setLight,args:[n.light]});var r={},o=[];!function(e,n,i,r){var o;for(o in n=n||{},e=e||{})e.hasOwnProperty(o)&&(n.hasOwnProperty(o)||Ut(o,i,r));for(o in n)n.hasOwnProperty(o)&&(e.hasOwnProperty(o)?t.deepEqual(e[o],n[o])||("geojson"===e[o].type&&"geojson"===n[o].type&&qt(e,n,o)?i.push({command:Bt.setGeoJSONSourceData,args:[o,n[o].data]}):Vt(o,n,i,r)):Ht(o,n,i))}(e.sources,n.sources,o,r);var a=[];e.layers&&e.layers.forEach(function(t){r[t.source]?i.push({command:Bt.removeLayer,args:[t.id]}):a.push(t)}),i=i.concat(o),function(e,n,i){n=n||[];var r,o,a,s,u,l,c,h=(e=e||[]).map(Wt),d=n.map(Wt),f=e.reduce(Xt,{}),p=n.reduce(Xt,{}),m=h.slice(),g=Object.create(null);for(r=0,o=0;r<h.length;r++)p.hasOwnProperty(a=h[r])?o++:(i.push({command:Bt.removeLayer,args:[a]}),m.splice(m.indexOf(a,o),1));for(r=0,o=0;r<d.length;r++)m[m.length-1-r]!==(a=d[d.length-1-r])&&(f.hasOwnProperty(a)?(i.push({command:Bt.removeLayer,args:[a]}),m.splice(m.lastIndexOf(a,m.length-o),1)):o++,i.push({command:Bt.addLayer,args:[p[a],l=m[m.length-r]]}),m.splice(m.length-r,0,a),g[a]=!0);for(r=0;r<d.length;r++)if(s=f[a=d[r]],u=p[a],!g[a]&&!t.deepEqual(s,u))if(t.deepEqual(s.source,u.source)&&t.deepEqual(s["source-layer"],u["source-layer"])&&t.deepEqual(s.type,u.type)){for(c in Gt(s.layout,u.layout,i,a,null,Bt.setLayoutProperty),Gt(s.paint,u.paint,i,a,null,Bt.setPaintProperty),t.deepEqual(s.filter,u.filter)||i.push({command:Bt.setFilter,args:[a,u.filter]}),t.deepEqual(s.minzoom,u.minzoom)&&t.deepEqual(s.maxzoom,u.maxzoom)||i.push({command:Bt.setLayerZoomRange,args:[a,u.minzoom,u.maxzoom]}),s)s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Gt(s[c],u[c],i,a,c.slice(6),Bt.setPaintProperty):t.deepEqual(s[c],u[c])||i.push({command:Bt.setLayerProperty,args:[a,c,u[c]]}));for(c in u)u.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&"layout"!==c&&"paint"!==c&&"filter"!==c&&"metadata"!==c&&"minzoom"!==c&&"maxzoom"!==c&&(0===c.indexOf("paint.")?Gt(s[c],u[c],i,a,c.slice(6),Bt.setPaintProperty):t.deepEqual(s[c],u[c])||i.push({command:Bt.setLayerProperty,args:[a,c,u[c]]}))}else i.push({command:Bt.removeLayer,args:[a]}),l=m[m.lastIndexOf(a)+1],i.push({command:Bt.addLayer,args:[u,l]})}(a,n.layers,i)}catch(t){console.warn("Unable to compute style diff:",t),i=[{command:Bt.setStyle,args:[n]}]}return i}(this.serialize(),e).filter(function(t){return!(t.command in Be)});if(0===i.length)return!1;var r=i.filter(function(t){return!(t.command in je)});if(r.length>0)throw new Error("Unimplemented: "+r.map(function(t){return t.command}).join(", ")+".");return i.forEach(function(t){"setTransition"!==t.command&&n[t.command].apply(n,t.args)}),this.stylesheet=e,!0},n.prototype.addImage=function(e,n){if(this.getImage(e))return this.fire(new t.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(e,n),this._afterImageUpdated(e)},n.prototype.updateImage=function(t,e){this.imageManager.updateImage(t,e)},n.prototype.getImage=function(t){return this.imageManager.getImage(t)},n.prototype.removeImage=function(e){if(!this.getImage(e))return this.fire(new t.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(e),this._afterImageUpdated(e)},n.prototype._afterImageUpdated=function(e){this._availableImages=this.imageManager.listImages(),this._changedImages[e]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new t.Event("data",{dataType:"style"}))},n.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},n.prototype.addSource=function(e,n,i){var r=this;if(void 0===i&&(i={}),this._checkLoaded(),void 0!==this.sourceCaches[e])throw new Error("There is already a source with this ID");if(!n.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(n).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(t.validateStyle.source,"sources."+e,n,null,i))){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var o=this.sourceCaches[e]=new It(e,n,this.dispatcher);o.style=this,o.setEventedParent(this,function(){return{isSourceLoaded:r.loaded(),source:o.serialize(),sourceId:e}}),o.onAdd(this.map),this._changed=!0}},n.prototype.removeSource=function(e){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID");for(var n in this._layers)if(this._layers[n].source===e)return this.fire(new t.ErrorEvent(new Error('Source "'+e+'" cannot be removed while layer "'+n+'" is using it.')));var i=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],i.fire(new t.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),i.setEventedParent(null),i.clearTiles(),i.onRemove&&i.onRemove(this.map),this._changed=!0},n.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},n.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},n.prototype.addLayer=function(e,n,i){void 0===i&&(i={}),this._checkLoaded();var r=e.id;if(this.getLayer(r))this.fire(new t.ErrorEvent(new Error('Layer with id "'+r+'" already exists on this map')));else{var o;if("custom"===e.type){if(ze(this,t.validateCustomStyleLayer(e)))return;o=t.createStyleLayer(e)}else{if("object"==typeof e.source&&(this.addSource(r,e.source),e=t.clone$1(e),e=t.extend(e,{source:r})),this._validate(t.validateStyle.layer,"layers."+r,e,{arrayIndex:-1},i))return;o=t.createStyleLayer(e),this._validateLayer(o),o.setEventedParent(this,{layer:{id:r}}),this._serializedLayers[o.id]=o.serialize()}var a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.')));else{if(this._order.splice(a,0,r),this._layerOrderChanged=!0,this._layers[r]=o,this._removedLayers[r]&&o.source&&"custom"!==o.type){var s=this._removedLayers[r];delete this._removedLayers[r],s.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map)}}},n.prototype.moveLayer=function(e,n){if(this._checkLoaded(),this._changed=!0,this._layers[e]){if(e!==n){var i=this._order.indexOf(e);this._order.splice(i,1);var r=n?this._order.indexOf(n):this._order.length;n&&-1===r?this.fire(new t.ErrorEvent(new Error('Layer with id "'+n+'" does not exist on this map.'))):(this._order.splice(r,0,e),this._layerOrderChanged=!0)}}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be moved.")))},n.prototype.removeLayer=function(e){this._checkLoaded();var n=this._layers[e];if(n){n.setEventedParent(null);var i=this._order.indexOf(e);this._order.splice(i,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=n,delete this._layers[e],delete this._serializedLayers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],n.onRemove&&n.onRemove(this.map)}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be removed.")))},n.prototype.getLayer=function(t){return this._layers[t]},n.prototype.hasLayer=function(t){return t in this._layers},n.prototype.setLayerZoomRange=function(e,n,i){this._checkLoaded();var r=this.getLayer(e);r?r.minzoom===n&&r.maxzoom===i||(null!=n&&(r.minzoom=n),null!=i&&(r.maxzoom=i),this._updateLayer(r)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot have zoom extent.")))},n.prototype.setFilter=function(e,n,i){void 0===i&&(i={}),this._checkLoaded();var r=this.getLayer(e);if(r){if(!t.deepEqual(r.filter,n))return null==n?(r.filter=void 0,void this._updateLayer(r)):void(this._validate(t.validateStyle.filter,"layers."+r.id+".filter",n,null,i)||(r.filter=t.clone$1(n),this._updateLayer(r)))}else this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be filtered.")))},n.prototype.getFilter=function(e){return t.clone$1(this.getLayer(e).filter)},n.prototype.setLayoutProperty=function(e,n,i,r){void 0===r&&(r={}),this._checkLoaded();var o=this.getLayer(e);o?t.deepEqual(o.getLayoutProperty(n),i)||(o.setLayoutProperty(n,i,r),this._updateLayer(o)):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getLayoutProperty=function(e,n){var i=this.getLayer(e);if(i)return i.getLayoutProperty(n);this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style.")))},n.prototype.setPaintProperty=function(e,n,i,r){void 0===r&&(r={}),this._checkLoaded();var o=this.getLayer(e);o?t.deepEqual(o.getPaintProperty(n),i)||(o.setPaintProperty(n,i,r)&&this._updateLayer(o),this._changed=!0,this._updatedPaintProps[e]=!0):this.fire(new t.ErrorEvent(new Error("The layer '"+e+"' does not exist in the map's style and cannot be styled.")))},n.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},n.prototype.setFeatureState=function(e,n){this._checkLoaded();var i=e.source,r=e.sourceLayer,o=this.sourceCaches[i];if(void 0!==o){var a=o.getSource().type;"geojson"===a&&r?this.fire(new t.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==a||r?(void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),o.setFeatureState(r,e.id,n)):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+i+"' does not exist in the map's style.")))},n.prototype.removeFeatureState=function(e,n){this._checkLoaded();var i=e.source,r=this.sourceCaches[i];if(void 0!==r){var o=r.getSource().type,a="vector"===o?e.sourceLayer:void 0;"vector"!==o||a?n&&"string"!=typeof e.id&&"number"!=typeof e.id?this.fire(new t.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):r.removeFeatureState(a,e.id,n):this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+i+"' does not exist in the map's style.")))},n.prototype.getFeatureState=function(e){this._checkLoaded();var n=e.source,i=e.sourceLayer,r=this.sourceCaches[n];if(void 0!==r){if("vector"!==r.getSource().type||i)return void 0===e.id&&this.fire(new t.ErrorEvent(new Error("The feature id parameter must be provided."))),r.getFeatureState(i,e.id);this.fire(new t.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new t.ErrorEvent(new Error("The source '"+n+"' does not exist in the map's style.")))},n.prototype.getTransition=function(){return t.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},n.prototype.serialize=function(){return t.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:t.mapObject(this.sourceCaches,function(t){return t.serialize()}),layers:this._serializeLayers(this._order)},function(t){return void 0!==t})},n.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&"raster"!==this.sourceCaches[t.source].getSource().type&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},n.prototype._flattenAndSortRenderedFeatures=function(t){for(var e=this,n=function(t){return"fill-extrusion"===e._layers[t].type},i={},r=[],o=this._order.length-1;o>=0;o--){var a=this._order[o];if(n(a)){i[a]=o;for(var s=0,u=t;s<u.length;s+=1){var l=u[s][a];if(l)for(var c=0,h=l;c<h.length;c+=1)r.push(h[c])}}}r.sort(function(t,e){return e.intersectionZ-t.intersectionZ});for(var d=[],f=this._order.length-1;f>=0;f--){var p=this._order[f];if(n(p))for(var m=r.length-1;m>=0;m--){var g=r[m].feature;if(i[g.layer.id]<f)break;d.push(g),r.pop()}else for(var y=0,v=t;y<v.length;y+=1){var _=v[y][p];if(_)for(var b=0,x=_;b<x.length;b+=1)d.push(x[b].feature)}}return d},n.prototype.queryRenderedFeatures=function(e,n,i){n&&n.filter&&this._validate(t.validateStyle.filter,"queryRenderedFeatures.filter",n.filter,null,n);var r={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new t.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var o=0,a=n.layers;o<a.length;o+=1){var s=a[o],u=this._layers[s];if(!u)return this.fire(new t.ErrorEvent(new Error("The layer '"+s+"' does not exist in the map's style and cannot be queried for features."))),[];r[u.source]=!0}}var l=[];for(var c in n.availableImages=this._availableImages,this.sourceCaches)n.layers&&!r[c]||l.push(F(this.sourceCaches[c],this._layers,this._serializedLayers,e,n,i));return this.placement&&l.push(function(t,e,n,i,r,o,a){for(var s={},u=o.queryRenderedSymbols(i),l=[],c=0,h=Object.keys(u).map(Number);c<h.length;c+=1)l.push(a[h[c]]);l.sort(Y);for(var d=function(){var n=p[f],i=n.featureIndex.lookupSymbolFeatures(u[n.bucketInstanceId],e,n.bucketIndex,n.sourceLayerIndex,r.filter,r.layers,r.availableImages,t);for(var o in i){var a=s[o]=s[o]||[],l=i[o];l.sort(function(t,e){var i=n.featureSortOrder;if(i){var r=i.indexOf(t.featureIndex);return i.indexOf(e.featureIndex)-r}return e.featureIndex-t.featureIndex});for(var c=0,h=l;c<h.length;c+=1)a.push(h[c])}},f=0,p=l;f<p.length;f+=1)d();var m=function(e){s[e].forEach(function(i){var r=i.feature,o=n[t[e].source].getFeatureState(r.layer["source-layer"],r.id);r.source=r.layer.source,r.layer["source-layer"]&&(r.sourceLayer=r.layer["source-layer"]),r.state=o})};for(var g in s)m(g);return s}(this._layers,this._serializedLayers,this.sourceCaches,e,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(l)},n.prototype.querySourceFeatures=function(e,n){n&&n.filter&&this._validate(t.validateStyle.filter,"querySourceFeatures.filter",n.filter,null,n);var i=this.sourceCaches[e];return i?function(t,e){for(var n=t.getRenderableIds().map(function(e){return t.getTileByID(e)}),i=[],r={},o=0;o<n.length;o++){var a=n[o],s=a.tileID.canonical.key;r[s]||(r[s]=!0,a.querySourceFeatures(i,e))}return i}(i,n):[]},n.prototype.addSourceType=function(t,e,i){return n.getSourceType(t)?i(new Error('A source type called "'+t+'" already exists.')):(n.setSourceType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},i):i(null,null))},n.prototype.getLight=function(){return this.light.getLight()},n.prototype.setLight=function(e,n){void 0===n&&(n={}),this._checkLoaded();var i=this.light.getLight(),r=!1;for(var o in e)if(!t.deepEqual(e[o],i[o])){r=!0;break}if(r){var a={now:t.browser.now(),transition:t.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,n),this.light.updateTransitions(a)}},n.prototype._validate=function(e,n,i,r,o){return void 0===o&&(o={}),(!o||!1!==o.validate)&&ze(this,e.call(t.validateStyle,t.extend({key:n,style:this.serialize(),value:i,styleSpec:t.styleSpec},r)))},n.prototype._remove=function(){for(var e in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),t.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[e].setEventedParent(null);for(var n in this.sourceCaches)this.sourceCaches[n].clearTiles(),this.sourceCaches[n].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},n.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},n.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},n.prototype._updateSources=function(t){for(var e in this.sourceCaches)this.sourceCaches[e].update(t)},n.prototype._generateCollisionBoxes=function(){for(var t in this.sourceCaches)this._reloadSource(t)},n.prototype._updatePlacement=function(e,n,i,r,o){void 0===o&&(o=!1);for(var a=!1,s=!1,u={},l=0,c=this._order;l<c.length;l+=1){var h=this._layers[c[l]];if("symbol"===h.type){if(!u[h.source]){var d=this.sourceCaches[h.source];u[h.source]=d.getRenderableIds(!0).map(function(t){return d.getTileByID(t)}).sort(function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)})}var f=this.crossTileSymbolIndex.addLayer(h,u[h.source],e.center.lng);a=a||f}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((o=o||this._layerOrderChanged||0===i)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(t.browser.now(),e.zoom))&&(this.pauseablePlacement=new Oe(e,this._order,o,n,i,r,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,u),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(t.browser.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(var p=0,m=this._order;p<m.length;p+=1){var g=this._layers[m[p]];"symbol"===g.type&&this.placement.updateLayerOpacities(g,u[g.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(t.browser.now())},n.prototype._releaseSymbolFadeTiles=function(){for(var t in this.sourceCaches)this.sourceCaches[t].releaseSymbolFadeTiles()},n.prototype.getImages=function(t,e,n){this.imageManager.getImages(e.icons,n),this._updateTilesForChangedImages();var i=this.sourceCaches[e.source];i&&i.setDependencies(e.tileID.key,e.type,e.icons)},n.prototype.getGlyphs=function(t,e,n){this.glyphManager.getGlyphs(e.stacks,n)},n.prototype.getResource=function(e,n,i){return t.makeRequest(n,i)},n}(t.Evented);Ue.getSourceType=function(t){return R[t]},Ue.setSourceType=function(t,e){R[t]=e},Ue.registerForPluginStateChange=t.registerForPluginStateChange;var Ve=t.createLayout([{name:"a_pos",type:"Int16",components:2}]),qe=vn("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}"),Ge=vn("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),We=vn("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),Xe=vn("varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),Ke=vn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Ze=vn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),Qe=vn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Je=vn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),$e=vn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),tn=vn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),en=vn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),nn=vn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),rn=vn("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),on=vn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),an=vn("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),sn=vn("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),un=vn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),ln=vn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),cn=vn("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),hn=vn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}"),dn=vn("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),fn=vn("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),pn=vn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),mn=vn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}"),gn=vn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),yn=vn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}");function vn(t,e){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,i=e.match(/attribute ([\w]+) ([\w]+)/g),r=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=o?o.concat(r):r,s={};return{fragmentSource:t=t.replace(n,function(t,e,n,i,r){return s[r]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+r+"\nvarying "+n+" "+i+" "+r+";\n#else\nuniform "+n+" "+i+" u_"+r+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+r+"\n    "+n+" "+i+" "+r+" = u_"+r+";\n#endif\n"}),vertexSource:e=e.replace(n,function(t,e,n,i,r){var o="float"===i?"vec2":"vec4",a=r.match(/color/)?"color":o;return s[r]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+r+"\nuniform lowp float u_"+r+"_t;\nattribute "+n+" "+o+" a_"+r+";\nvarying "+n+" "+i+" "+r+";\n#else\nuniform "+n+" "+i+" u_"+r+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+r+" = a_"+r+";\n#else\n    "+n+" "+i+" "+r+" = u_"+r+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+r+" = unpack_mix_"+a+"(a_"+r+", u_"+r+"_t);\n#else\n    "+n+" "+i+" "+r+" = u_"+r+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+r+"\nuniform lowp float u_"+r+"_t;\nattribute "+n+" "+o+" a_"+r+";\n#else\nuniform "+n+" "+i+" u_"+r+";\n#endif\n":"vec4"===a?"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+n+" "+i+" "+r+" = a_"+r+";\n#else\n    "+n+" "+i+" "+r+" = u_"+r+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+r+"\n    "+n+" "+i+" "+r+" = unpack_mix_"+a+"(a_"+r+", u_"+r+"_t);\n#else\n    "+n+" "+i+" "+r+" = u_"+r+";\n#endif\n"}),staticAttributes:i,staticUniforms:a}}var _n=Object.freeze({__proto__:null,prelude:qe,background:Ge,backgroundPattern:We,circle:Xe,clippingMask:Ke,heatmap:Ze,heatmapTexture:Qe,collisionBox:Je,collisionCircle:$e,debug:tn,fill:en,fillOutline:nn,fillOutlinePattern:rn,fillPattern:on,fillExtrusion:an,fillExtrusionPattern:sn,hillshadePrepare:un,hillshade:ln,line:cn,lineGradient:hn,linePattern:dn,lineSDF:fn,raster:pn,symbolIcon:mn,symbolSDF:gn,symbolTextAndIcon:yn}),bn=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function xn(t){for(var e=[],n=0;n<t.length;n++)if(null!==t[n]){var i=t[n].split(" ");e.push(i.pop())}return e}bn.prototype.bind=function(t,e,n,i,r,o,a,s){this.context=t;for(var u=this.boundPaintVertexBuffers.length!==i.length,l=0;!u&&l<i.length;l++)this.boundPaintVertexBuffers[l]!==i[l]&&(u=!0);t.extVertexArrayObject&&this.vao&&this.boundProgram===e&&this.boundLayoutVertexBuffer===n&&!u&&this.boundIndexBuffer===r&&this.boundVertexOffset===o&&this.boundDynamicVertexBuffer===a&&this.boundDynamicVertexBuffer2===s?(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),r&&r.dynamicDraw&&r.bind(),s&&s.bind()):this.freshBind(e,n,i,r,o,a,s)},bn.prototype.freshBind=function(t,e,n,i,r,o,a){var s,u=t.numAttributes,l=this.context,c=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=i,this.boundVertexOffset=r,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=l.currentNumAttributes||0;for(var h=u;h<s;h++)c.disableVertexAttribArray(h)}e.enableAttributes(c,t);for(var d=0,f=n;d<f.length;d+=1)f[d].enableAttributes(c,t);o&&o.enableAttributes(c,t),a&&a.enableAttributes(c,t),e.bind(),e.setVertexAttribPointers(c,t,r);for(var p=0,m=n;p<m.length;p+=1){var g=m[p];g.bind(),g.setVertexAttribPointers(c,t,r)}o&&(o.bind(),o.setVertexAttribPointers(c,t,r)),i&&i.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,t,r)),l.currentNumAttributes=u},bn.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var wn=function(t,e,n,i,r,o){var a=t.gl;this.program=a.createProgram();for(var s=xn(n.staticAttributes),u=i?i.getBinderAttributes():[],l=s.concat(u),c=n.staticUniforms?xn(n.staticUniforms):[],h=i?i.getBinderUniforms():[],d=[],f=0,p=c.concat(h);f<p.length;f+=1){var m=p[f];d.indexOf(m)<0&&d.push(m)}var g=i?i.defines():[];o&&g.push("#define OVERDRAW_INSPECTOR;");var y=g.concat(qe.fragmentSource,n.fragmentSource).join("\n"),v=g.concat(qe.vertexSource,n.vertexSource).join("\n"),_=a.createShader(a.FRAGMENT_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(_,y),a.compileShader(_),a.attachShader(this.program,_);var b=a.createShader(a.VERTEX_SHADER);if(a.isContextLost())this.failedToCreate=!0;else{a.shaderSource(b,v),a.compileShader(b),a.attachShader(this.program,b),this.attributes={};var x={};this.numAttributes=l.length;for(var w=0;w<this.numAttributes;w++)l[w]&&(a.bindAttribLocation(this.program,w,l[w]),this.attributes[l[w]]=w);a.linkProgram(this.program),a.deleteShader(b),a.deleteShader(_);for(var k=0;k<d.length;k++){var M=d[k];if(M&&!x[M]){var S=a.getUniformLocation(this.program,M);S&&(x[M]=S)}}this.fixedUniforms=r(t,x),this.binderUniforms=i?i.getUniforms(t,x):[]}}};function kn(t,e,n){var i=1/de(n,1,e.transform.tileZoom),r=Math.pow(2,n.tileID.overscaledZ),o=n.tileSize*Math.pow(2,e.transform.tileZoom)/r,a=o*(n.tileID.canonical.x+n.tileID.wrap*r),s=o*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[i,t.fromScale,t.toScale],u_fade:t.t,u_pixel_coord_upper:[a>>16,s>>16],u_pixel_coord_lower:[65535&a,65535&s]}}wn.prototype.draw=function(t,e,n,i,r,o,a,s,u,l,c,h,d,f,p,m){var g,y=t.gl;if(!this.failedToCreate){for(var v in t.program.set(this.program),t.setDepthMode(n),t.setStencilMode(i),t.setColorMode(r),t.setCullFace(o),this.fixedUniforms)this.fixedUniforms[v].set(a[v]);f&&f.setUniforms(t,this.binderUniforms,h,{zoom:d});for(var _=(g={},g[y.LINES]=2,g[y.TRIANGLES]=3,g[y.LINE_STRIP]=1,g)[e],b=0,x=c.get();b<x.length;b+=1){var w=x[b],k=w.vaos||(w.vaos={});(k[s]||(k[s]=new bn)).bind(t,this,u,f?f.getPaintVertexBuffers():[],l,w.vertexOffset,p,m),y.drawElements(e,w.primitiveLength*_,y.UNSIGNED_SHORT,w.primitiveOffset*_*2)}}};var Mn=function(e,n,i,r){var o=n.style.light,a=o.properties.get("position"),s=[a.x,a.y,a.z],u=t.create$1();"viewport"===o.properties.get("anchor")&&t.fromRotation(u,-n.transform.angle),t.transformMat3(s,s,u);var l=o.properties.get("color");return{u_matrix:e,u_lightpos:s,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[l.r,l.g,l.b],u_vertical_gradient:+i,u_opacity:r}},Sn=function(e,n,i,r,o,a,s){return t.extend(Mn(e,n,i,r),kn(a,n,s),{u_height_factor:-Math.pow(2,o.overscaledZ)/s.tileSize/8})},En=function(t){return{u_matrix:t}},Ln=function(e,n,i,r){return t.extend(En(e),kn(i,n,r))},Tn=function(t,e){return{u_matrix:t,u_world:e}},Cn=function(e,n,i,r,o){return t.extend(Ln(e,n,i,r),{u_world:o})},In=function(e,n,i,r){var o,a,s=e.transform;if("map"===r.paint.get("circle-pitch-alignment")){var u=de(i,1,s.zoom);o=!0,a=[u,u]}else o=!1,a=s.pixelsToGLUnits;return{u_camera_to_center_distance:s.cameraToCenterDistance,u_scale_with_map:+("map"===r.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(n.posMatrix,i,r.paint.get("circle-translate"),r.paint.get("circle-translate-anchor")),u_pitch_with_map:+o,u_device_pixel_ratio:t.browser.devicePixelRatio,u_extrude_scale:a}},Pn=function(t,e,n){var i=de(n,1,e.zoom),r=Math.pow(2,e.zoom-n.tileID.overscaledZ),o=n.tileID.overscaleFactor();return{u_matrix:t,u_camera_to_center_distance:e.cameraToCenterDistance,u_pixels_to_tile_units:i,u_extrude_scale:[e.pixelsToGLUnits[0]/(i*r),e.pixelsToGLUnits[1]/(i*r)],u_overscale_factor:o}},Dn=function(t,e,n){return{u_matrix:t,u_inv_matrix:e,u_camera_to_center_distance:n.cameraToCenterDistance,u_viewport_size:[n.width,n.height]}},On=function(t,e,n){return void 0===n&&(n=1),{u_matrix:t,u_color:e,u_overlay:0,u_overlay_scale:n}},An=function(t){return{u_matrix:t}},Rn=function(t,e,n,i){return{u_matrix:t,u_extrude_scale:de(e,1,n),u_intensity:i}},Nn=function(e,n,i){var r=e.transform;return{u_matrix:Bn(e,n,i),u_ratio:1/de(n,1,r.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_units_to_pixels:[1/r.pixelsToGLUnits[0],1/r.pixelsToGLUnits[1]]}},Fn=function(e,n,i,r){return t.extend(Nn(e,n,i),{u_image:0,u_image_height:r})},Yn=function(e,n,i,r){var o=e.transform,a=jn(n,o);return{u_matrix:Bn(e,n,i),u_texsize:n.imageAtlasTexture.size,u_ratio:1/de(n,1,o.zoom),u_device_pixel_ratio:t.browser.devicePixelRatio,u_image:0,u_scale:[a,r.fromScale,r.toScale],u_fade:r.t,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},zn=function(e,n,i,r,o){var a=e.lineAtlas,s=jn(n,e.transform),u="round"===i.layout.get("line-cap"),l=a.getDash(r.from,u),c=a.getDash(r.to,u),h=l.width*o.fromScale,d=c.width*o.toScale;return t.extend(Nn(e,n,i),{u_patternscale_a:[s/h,-l.height/2],u_patternscale_b:[s/d,-c.height/2],u_sdfgamma:a.width/(256*Math.min(h,d)*t.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:l.y,u_tex_y_b:c.y,u_mix:o.t})};function jn(t,e){return 1/de(t,1,e.tileZoom)}function Bn(t,e,n){return t.translatePosMatrix(e.tileID.posMatrix,e,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}var Hn=function(t,e,n,i,r){return{u_matrix:t,u_tl_parent:e,u_scale_parent:n,u_buffer_scale:1,u_fade_t:i.mix,u_opacity:i.opacity*r.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:r.paint.get("raster-brightness-min"),u_brightness_high:r.paint.get("raster-brightness-max"),u_saturation_factor:(a=r.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=r.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:Un(r.paint.get("raster-hue-rotate"))};var o,a};function Un(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}var Vn,qn=function(t,e,n,i,r,o,a,s,u,l){var c=r.transform;return{u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:c.cameraToCenterDistance,u_pitch:c.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:c.width/c.height,u_fade_change:r.options.fadeDuration?r.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_coord_matrix:s,u_is_text:+u,u_pitch_with_map:+i,u_texsize:l,u_texture:0}},Gn=function(e,n,i,r,o,a,s,u,l,c,h){var d=o.transform;return t.extend(qn(e,n,i,r,o,a,s,u,l,c),{u_gamma_scale:r?Math.cos(d._pitch)*d.cameraToCenterDistance:1,u_device_pixel_ratio:t.browser.devicePixelRatio,u_is_halo:+h})},Wn=function(e,n,i,r,o,a,s,u,l,c){return t.extend(Gn(e,n,i,r,o,a,s,u,!0,l,!0),{u_texsize_icon:c,u_texture_icon:1})},Xn=function(t,e,n){return{u_matrix:t,u_opacity:e,u_color:n}},Kn=function(e,n,i,r,o,a){return t.extend(function(t,e,n,i){var r=n.imageManager.getPattern(t.from.toString()),o=n.imageManager.getPattern(t.to.toString()),a=n.imageManager.getPixelSize(),s=a.width,u=a.height,l=Math.pow(2,i.tileID.overscaledZ),c=i.tileSize*Math.pow(2,n.transform.tileZoom)/l,h=c*(i.tileID.canonical.x+i.tileID.wrap*l),d=c*i.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:r.tl,u_pattern_br_a:r.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[s,u],u_mix:e.t,u_pattern_size_a:r.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:e.fromScale,u_scale_b:e.toScale,u_tile_units_to_pixels:1/de(i,1,n.transform.tileZoom),u_pixel_coord_upper:[h>>16,d>>16],u_pixel_coord_lower:[65535&h,65535&d]}}(r,a,i,o),{u_matrix:e,u_opacity:n})},Zn={fillExtrusion:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fillExtrusionPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_lightpos:new t.Uniform3f(e,n.u_lightpos),u_lightintensity:new t.Uniform1f(e,n.u_lightintensity),u_lightcolor:new t.Uniform3f(e,n.u_lightcolor),u_vertical_gradient:new t.Uniform1f(e,n.u_vertical_gradient),u_height_factor:new t.Uniform1f(e,n.u_height_factor),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade),u_opacity:new t.Uniform1f(e,n.u_opacity)}},fill:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},fillPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},fillOutline:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world)}},fillOutlinePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_texsize:new t.Uniform2f(e,n.u_texsize),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},circle:function(e,n){return{u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_scale_with_map:new t.Uniform1i(e,n.u_scale_with_map),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},collisionBox:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pixels_to_tile_units:new t.Uniform1f(e,n.u_pixels_to_tile_units),u_extrude_scale:new t.Uniform2f(e,n.u_extrude_scale),u_overscale_factor:new t.Uniform1f(e,n.u_overscale_factor)}},collisionCircle:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_inv_matrix:new t.UniformMatrix4f(e,n.u_inv_matrix),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_viewport_size:new t.Uniform2f(e,n.u_viewport_size)}},debug:function(e,n){return{u_color:new t.UniformColor(e,n.u_color),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_overlay:new t.Uniform1i(e,n.u_overlay),u_overlay_scale:new t.Uniform1f(e,n.u_overlay_scale)}},clippingMask:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmap:function(e,n){return{u_extrude_scale:new t.Uniform1f(e,n.u_extrude_scale),u_intensity:new t.Uniform1f(e,n.u_intensity),u_matrix:new t.UniformMatrix4f(e,n.u_matrix)}},heatmapTexture:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_world:new t.Uniform2f(e,n.u_world),u_image:new t.Uniform1i(e,n.u_image),u_color_ramp:new t.Uniform1i(e,n.u_color_ramp),u_opacity:new t.Uniform1f(e,n.u_opacity)}},hillshade:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_latrange:new t.Uniform2f(e,n.u_latrange),u_light:new t.Uniform2f(e,n.u_light),u_shadow:new t.UniformColor(e,n.u_shadow),u_highlight:new t.UniformColor(e,n.u_highlight),u_accent:new t.UniformColor(e,n.u_accent)}},hillshadePrepare:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_image:new t.Uniform1i(e,n.u_image),u_dimension:new t.Uniform2f(e,n.u_dimension),u_zoom:new t.Uniform1f(e,n.u_zoom),u_unpack:new t.Uniform4f(e,n.u_unpack)}},line:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels)}},lineGradient:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_image:new t.Uniform1i(e,n.u_image),u_image_height:new t.Uniform1f(e,n.u_image_height)}},linePattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_texsize:new t.Uniform2f(e,n.u_texsize),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_image:new t.Uniform1i(e,n.u_image),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_scale:new t.Uniform3f(e,n.u_scale),u_fade:new t.Uniform1f(e,n.u_fade)}},lineSDF:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_ratio:new t.Uniform1f(e,n.u_ratio),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.Uniform2f(e,n.u_units_to_pixels),u_patternscale_a:new t.Uniform2f(e,n.u_patternscale_a),u_patternscale_b:new t.Uniform2f(e,n.u_patternscale_b),u_sdfgamma:new t.Uniform1f(e,n.u_sdfgamma),u_image:new t.Uniform1i(e,n.u_image),u_tex_y_a:new t.Uniform1f(e,n.u_tex_y_a),u_tex_y_b:new t.Uniform1f(e,n.u_tex_y_b),u_mix:new t.Uniform1f(e,n.u_mix)}},raster:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_tl_parent:new t.Uniform2f(e,n.u_tl_parent),u_scale_parent:new t.Uniform1f(e,n.u_scale_parent),u_buffer_scale:new t.Uniform1f(e,n.u_buffer_scale),u_fade_t:new t.Uniform1f(e,n.u_fade_t),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image0:new t.Uniform1i(e,n.u_image0),u_image1:new t.Uniform1i(e,n.u_image1),u_brightness_low:new t.Uniform1f(e,n.u_brightness_low),u_brightness_high:new t.Uniform1f(e,n.u_brightness_high),u_saturation_factor:new t.Uniform1f(e,n.u_saturation_factor),u_contrast_factor:new t.Uniform1f(e,n.u_contrast_factor),u_spin_weights:new t.Uniform3f(e,n.u_spin_weights)}},symbolIcon:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture)}},symbolSDF:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texture:new t.Uniform1i(e,n.u_texture),u_gamma_scale:new t.Uniform1f(e,n.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_is_halo:new t.Uniform1i(e,n.u_is_halo)}},symbolTextAndIcon:function(e,n){return{u_is_size_zoom_constant:new t.Uniform1i(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.Uniform1i(e,n.u_is_size_feature_constant),u_size_t:new t.Uniform1f(e,n.u_size_t),u_size:new t.Uniform1f(e,n.u_size),u_camera_to_center_distance:new t.Uniform1f(e,n.u_camera_to_center_distance),u_pitch:new t.Uniform1f(e,n.u_pitch),u_rotate_symbol:new t.Uniform1i(e,n.u_rotate_symbol),u_aspect_ratio:new t.Uniform1f(e,n.u_aspect_ratio),u_fade_change:new t.Uniform1f(e,n.u_fade_change),u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_label_plane_matrix:new t.UniformMatrix4f(e,n.u_label_plane_matrix),u_coord_matrix:new t.UniformMatrix4f(e,n.u_coord_matrix),u_is_text:new t.Uniform1i(e,n.u_is_text),u_pitch_with_map:new t.Uniform1i(e,n.u_pitch_with_map),u_texsize:new t.Uniform2f(e,n.u_texsize),u_texsize_icon:new t.Uniform2f(e,n.u_texsize_icon),u_texture:new t.Uniform1i(e,n.u_texture),u_texture_icon:new t.Uniform1i(e,n.u_texture_icon),u_gamma_scale:new t.Uniform1f(e,n.u_gamma_scale),u_device_pixel_ratio:new t.Uniform1f(e,n.u_device_pixel_ratio),u_is_halo:new t.Uniform1i(e,n.u_is_halo)}},background:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_color:new t.UniformColor(e,n.u_color)}},backgroundPattern:function(e,n){return{u_matrix:new t.UniformMatrix4f(e,n.u_matrix),u_opacity:new t.Uniform1f(e,n.u_opacity),u_image:new t.Uniform1i(e,n.u_image),u_pattern_tl_a:new t.Uniform2f(e,n.u_pattern_tl_a),u_pattern_br_a:new t.Uniform2f(e,n.u_pattern_br_a),u_pattern_tl_b:new t.Uniform2f(e,n.u_pattern_tl_b),u_pattern_br_b:new t.Uniform2f(e,n.u_pattern_br_b),u_texsize:new t.Uniform2f(e,n.u_texsize),u_mix:new t.Uniform1f(e,n.u_mix),u_pattern_size_a:new t.Uniform2f(e,n.u_pattern_size_a),u_pattern_size_b:new t.Uniform2f(e,n.u_pattern_size_b),u_scale_a:new t.Uniform1f(e,n.u_scale_a),u_scale_b:new t.Uniform1f(e,n.u_scale_b),u_pixel_coord_upper:new t.Uniform2f(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.Uniform2f(e,n.u_pixel_coord_lower),u_tile_units_to_pixels:new t.Uniform1f(e,n.u_tile_units_to_pixels)}}};function Qn(e,n,i,r,o,a,s){for(var u=e.context,l=u.gl,c=e.useProgram("collisionBox"),h=[],d=0,f=0,p=0;p<r.length;p++){var m=r[p],g=n.getTile(m),y=g.getBucket(i);if(y){var v=m.posMatrix;0===o[0]&&0===o[1]||(v=e.translatePosMatrix(m.posMatrix,g,o,a));var _=s?y.textCollisionBox:y.iconCollisionBox,b=y.collisionCircleArray;if(b.length>0){var x=t.create(),w=v;t.mul(x,y.placementInvProjMatrix,e.transform.glCoordMatrix),t.mul(x,x,y.placementViewportMatrix),h.push({circleArray:b,circleOffset:f,transform:w,invTransform:x}),f=d+=b.length/4}_&&c.draw(u,l.LINES,St.disabled,Et.disabled,e.colorModeForRenderPass(),Tt.disabled,Pn(v,e.transform,g),i.id,_.layoutVertexBuffer,_.indexBuffer,_.segments,null,e.transform.zoom,null,null,_.collisionVertexBuffer)}}if(s&&h.length){var k=e.useProgram("collisionCircle"),M=new t.StructArrayLayout2f1f2i16;M.resize(4*d),M._trim();for(var S=0,E=0,L=h;E<L.length;E+=1)for(var T=L[E],C=0;C<T.circleArray.length/4;C++){var I=4*C,P=T.circleArray[I+0],D=T.circleArray[I+1],O=T.circleArray[I+2],A=T.circleArray[I+3];M.emplace(S++,P,D,O,A,0),M.emplace(S++,P,D,O,A,1),M.emplace(S++,P,D,O,A,2),M.emplace(S++,P,D,O,A,3)}(!Vn||Vn.length<2*d)&&(Vn=function(e){var n=2*e,i=new t.StructArrayLayout3ui6;i.resize(n),i._trim();for(var r=0;r<n;r++){var o=6*r;i.uint16[o+0]=4*r+0,i.uint16[o+1]=4*r+1,i.uint16[o+2]=4*r+2,i.uint16[o+3]=4*r+2,i.uint16[o+4]=4*r+3,i.uint16[o+5]=4*r+0}return i}(d));for(var R=u.createIndexBuffer(Vn,!0),N=u.createVertexBuffer(M,t.collisionCircleLayout.members,!0),F=0,Y=h;F<Y.length;F+=1){var z=Y[F],j=Dn(z.transform,z.invTransform,e.transform);k.draw(u,l.TRIANGLES,St.disabled,Et.disabled,e.colorModeForRenderPass(),Tt.disabled,j,i.id,N,R,t.SegmentVector.simpleSegment(0,2*z.circleOffset,z.circleArray.length,z.circleArray.length/2),null,e.transform.zoom,null,null,null)}N.destroy(),R.destroy()}}var Jn=t.identity(new Float32Array(16));function $n(e,n,i,r,o,a){var s=t.getAnchorAlignment(e),u=-(s.horizontalAlign-.5)*n,l=-(s.verticalAlign-.5)*i,c=t.evaluateVariableOffset(e,r);return new t.Point((u/o+c[0])*a,(l/o+c[1])*a)}function ti(e,n,i,r,o,a,s,u,l,c,h){var d=e.text.placedSymbolArray,f=e.text.dynamicLayoutVertexArray,p=e.icon.dynamicLayoutVertexArray,m={};f.clear();for(var g=0;g<d.length;g++){var y=d.get(g),v=y.hidden||!y.crossTileID||e.allowVerticalPlacement&&!y.placedOrientation?null:r[y.crossTileID];if(v){var _=new t.Point(y.anchorX,y.anchorY),b=$t(_,i?u:s),x=te(a.cameraToCenterDistance,b.signedDistanceFromCamera),w=o.evaluateSizeForFeature(e.textSizeData,c,y)*x/t.ONE_EM;i&&(w*=e.tilePixelRatio/l);for(var k=$n(v.anchor,v.width,v.height,v.textOffset,v.textBoxScale,w),M=i?$t(_.add(k),s).point:b.point.add(n?k.rotate(-a.angle):k),S=e.allowVerticalPlacement&&y.placedOrientation===t.WritingMode.vertical?Math.PI/2:0,E=0;E<y.numGlyphs;E++)t.addDynamicAttributes(f,M,S);h&&y.associatedIconIndex>=0&&(m[y.associatedIconIndex]={shiftedAnchor:M,angle:S})}else le(y.numGlyphs,f)}if(h){p.clear();for(var L=e.icon.placedSymbolArray,T=0;T<L.length;T++){var C=L.get(T);if(C.hidden)le(C.numGlyphs,p);else{var I=m[T];if(I)for(var P=0;P<C.numGlyphs;P++)t.addDynamicAttributes(p,I.shiftedAnchor,I.angle);else le(C.numGlyphs,p)}}e.icon.dynamicLayoutVertexBuffer.updateData(p)}e.text.dynamicLayoutVertexBuffer.updateData(f)}function ei(t,e,n){return n.iconsInText&&e?"symbolTextAndIcon":t?"symbolSDF":"symbolIcon"}function ni(e,n,i,r,o,a,s,u,l,c,h,d){for(var f=e.context,p=f.gl,m=e.transform,g="map"===u,y="map"===l,v=g&&"point"!==i.layout.get("symbol-placement"),_=g&&!y&&!v,b=void 0!==i.layout.get("symbol-sort-key").constantOr(1),x=!1,w=e.depthModeForSublayer(0,St.ReadOnly),k=i.layout.get("text-variable-anchor"),M=[],S=0,E=r;S<E.length;S+=1){var L=E[S],T=n.getTile(L),C=T.getBucket(i);if(C){var I=o?C.text:C.icon;if(I&&I.segments.get().length){var P=I.programConfigurations.get(i.id),D=o||C.sdfIcons,O=o?C.textSizeData:C.iconSizeData,A=y||0!==m.pitch,R=e.useProgram(ei(D,o,C),P),N=t.evaluateSizeForZoom(O,m.zoom),F=void 0,Y=[0,0],z=void 0,j=void 0,B=null,H=void 0;if(o)z=T.glyphAtlasTexture,j=p.LINEAR,F=T.glyphAtlasTexture.size,C.iconsInText&&(Y=T.imageAtlasTexture.size,B=T.imageAtlasTexture,H=A||e.options.rotating||e.options.zooming||"composite"===O.kind||"camera"===O.kind?p.LINEAR:p.NEAREST);else{var U=1!==i.layout.get("icon-size").constantOr(0)||C.iconsNeedLinear;z=T.imageAtlasTexture,j=D||e.options.rotating||e.options.zooming||U||A?p.LINEAR:p.NEAREST,F=T.imageAtlasTexture.size}var V=de(T,1,e.transform.zoom),q=Qt(L.posMatrix,y,g,e.transform,V),G=Jt(L.posMatrix,y,g,e.transform,V),W=k&&C.hasTextData(),X="none"!==i.layout.get("icon-text-fit")&&W&&C.hasIconData();v&&ne(C,L.posMatrix,e,o,q,G,y,c);var K=e.translatePosMatrix(L.posMatrix,T,a,s),Z=v||o&&k||X?Jn:q,Q=e.translatePosMatrix(G,T,a,s,!0),J=D&&0!==i.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1),$={program:R,buffers:I,uniformValues:D?C.iconsInText?Wn(O.kind,N,_,y,e,K,Z,Q,F,Y):Gn(O.kind,N,_,y,e,K,Z,Q,o,F,!0):qn(O.kind,N,_,y,e,K,Z,Q,o,F),atlasTexture:z,atlasTextureIcon:B,atlasInterpolation:j,atlasInterpolationIcon:H,isSDF:D,hasHalo:J};if(b&&C.canOverlap){x=!0;for(var tt=0,et=I.segments.get();tt<et.length;tt+=1){var nt=et[tt];M.push({segments:new t.SegmentVector([nt]),sortKey:nt.sortKey,state:$})}}else M.push({segments:I.segments,sortKey:0,state:$})}}}x&&M.sort(function(t,e){return t.sortKey-e.sortKey});for(var it=0,rt=M;it<rt.length;it+=1){var ot=rt[it],at=ot.state;if(f.activeTexture.set(p.TEXTURE0),at.atlasTexture.bind(at.atlasInterpolation,p.CLAMP_TO_EDGE),at.atlasTextureIcon&&(f.activeTexture.set(p.TEXTURE1),at.atlasTextureIcon&&at.atlasTextureIcon.bind(at.atlasInterpolationIcon,p.CLAMP_TO_EDGE)),at.isSDF){var st=at.uniformValues;at.hasHalo&&(st.u_is_halo=1,ii(at.buffers,ot.segments,i,e,at.program,w,h,d,st)),st.u_is_halo=0}ii(at.buffers,ot.segments,i,e,at.program,w,h,d,at.uniformValues)}}function ii(t,e,n,i,r,o,a,s,u){var l=i.context;r.draw(l,l.gl.TRIANGLES,o,a,s,Tt.disabled,u,n.id,t.layoutVertexBuffer,t.indexBuffer,e,n.paint,i.transform.zoom,t.programConfigurations.get(n.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}function ri(t,e,n,i,r,o,a){var s,u,l,c,h,d=t.context.gl,f=n.paint.get("fill-pattern"),p=f&&f.constantOr(1),m=n.getCrossfadeParameters();a?(u=p&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",s=d.LINES):(u=p?"fillPattern":"fill",s=d.TRIANGLES);for(var g=0,y=i;g<y.length;g+=1){var v=y[g],_=e.getTile(v);if(!p||_.patternsLoaded()){var b=_.getBucket(n);if(b){var x=b.programConfigurations.get(n.id),w=t.useProgram(u,x);p&&(t.context.activeTexture.set(d.TEXTURE0),_.imageAtlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE),x.updatePaintBuffers(m));var k=f.constantOr(null);if(k&&_.imageAtlas){var M=_.imageAtlas,S=M.patternPositions[k.to.toString()],E=M.patternPositions[k.from.toString()];S&&E&&x.setConstantPatternPositions(S,E)}var L=t.translatePosMatrix(v.posMatrix,_,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(a){c=b.indexBuffer2,h=b.segments2;var T=[d.drawingBufferWidth,d.drawingBufferHeight];l="fillOutlinePattern"===u&&p?Cn(L,t,m,_,T):Tn(L,T)}else c=b.indexBuffer,h=b.segments,l=p?Ln(L,t,m,_):En(L);w.draw(t.context,s,r,t.stencilModeForClipping(v),o,Tt.disabled,l,n.id,b.layoutVertexBuffer,c,h,n.paint,t.transform.zoom,x)}}}}function oi(t,e,n,i,r,o,a){for(var s=t.context,u=s.gl,l=n.paint.get("fill-extrusion-pattern"),c=l.constantOr(1),h=n.getCrossfadeParameters(),d=n.paint.get("fill-extrusion-opacity"),f=0,p=i;f<p.length;f+=1){var m=p[f],g=e.getTile(m),y=g.getBucket(n);if(y){var v=y.programConfigurations.get(n.id),_=t.useProgram(c?"fillExtrusionPattern":"fillExtrusion",v);c&&(t.context.activeTexture.set(u.TEXTURE0),g.imageAtlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE),v.updatePaintBuffers(h));var b=l.constantOr(null);if(b&&g.imageAtlas){var x=g.imageAtlas,w=x.patternPositions[b.to.toString()],k=x.patternPositions[b.from.toString()];w&&k&&v.setConstantPatternPositions(w,k)}var M=t.translatePosMatrix(m.posMatrix,g,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),S=n.paint.get("fill-extrusion-vertical-gradient"),E=c?Sn(M,t,S,d,m,h,g):Mn(M,t,S,d);_.draw(s,s.gl.TRIANGLES,r,o,a,Tt.backCCW,E,n.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,n.paint,t.transform.zoom,v)}}}function ai(e,n,i,r,o,a){var s=e.context,u=s.gl,l=n.fbo;if(l){var c=e.useProgram("hillshade");s.activeTexture.set(u.TEXTURE0),u.bindTexture(u.TEXTURE_2D,l.colorAttachment.get());var h=function(e,n,i){var r=i.paint.get("hillshade-shadow-color"),o=i.paint.get("hillshade-highlight-color"),a=i.paint.get("hillshade-accent-color"),s=i.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===i.paint.get("hillshade-illumination-anchor")&&(s-=e.transform.angle);var u,l,c,h=!e.options.moving;return{u_matrix:e.transform.calculatePosMatrix(n.tileID.toUnwrapped(),h),u_image:0,u_latrange:(u=n.tileID,l=Math.pow(2,u.canonical.z),c=u.canonical.y,[new t.MercatorCoordinate(0,c/l).toLngLat().lat,new t.MercatorCoordinate(0,(c+1)/l).toLngLat().lat]),u_light:[i.paint.get("hillshade-exaggeration"),s],u_shadow:r,u_highlight:o,u_accent:a}}(e,n,i);c.draw(s,u.TRIANGLES,r,o,a,Tt.disabled,h,i.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}}function si(e,n,i,r,o,a){var s=e.context,u=s.gl,l=n.dem;if(l&&l.data){var c=l.dim,h=l.stride,d=l.getPixels();if(s.activeTexture.set(u.TEXTURE1),s.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||e.getTileTexture(h),n.demTexture){var f=n.demTexture;f.update(d,{premultiply:!1}),f.bind(u.NEAREST,u.CLAMP_TO_EDGE)}else n.demTexture=new t.Texture(s,d,u.RGBA,{premultiply:!1}),n.demTexture.bind(u.NEAREST,u.CLAMP_TO_EDGE);s.activeTexture.set(u.TEXTURE0);var p=n.fbo;if(!p){var m=new t.Texture(s,{width:c,height:c,data:null},u.RGBA);m.bind(u.LINEAR,u.CLAMP_TO_EDGE),(p=n.fbo=s.createFramebuffer(c,c,!0)).colorAttachment.set(m.texture)}s.bindFramebuffer.set(p.framebuffer),s.viewport.set([0,0,c,c]),e.useProgram("hillshadePrepare").draw(s,u.TRIANGLES,r,o,a,Tt.disabled,function(e,n){var i=n.stride,r=t.create();return t.ortho(r,0,t.EXTENT,-t.EXTENT,0,0,1),t.translate(r,r,[0,-t.EXTENT,0]),{u_matrix:r,u_image:1,u_dimension:[i,i],u_zoom:e.overscaledZ,u_unpack:n.getUnpackVector()}}(n.tileID,l),i.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function ui(e,n,i,r,o){var a=r.paint.get("raster-fade-duration");if(a>0){var s=t.browser.now(),u=(s-e.timeAdded)/a,l=n?(s-n.timeAdded)/a:-1,c=i.getSource(),h=o.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),d=!n||Math.abs(n.tileID.overscaledZ-h)>Math.abs(e.tileID.overscaledZ-h),f=d&&e.refreshedUponExpiration?1:t.clamp(d?u:1-l,0,1);return e.refreshedUponExpiration&&u>=1&&(e.refreshedUponExpiration=!1),n?{opacity:1,mix:1-f}:{opacity:f,mix:0}}return{opacity:1,mix:0}}var li=new t.Color(1,0,0,1),ci=new t.Color(0,1,0,1),hi=new t.Color(0,0,1,1),di=new t.Color(1,0,1,1),fi=new t.Color(0,1,1,1);function pi(t,e,n,i){gi(t,0,e+n/2,t.transform.width,n,i)}function mi(t,e,n,i){gi(t,e-n/2,0,n,t.transform.height,i)}function gi(e,n,i,r,o,a){var s=e.context,u=s.gl;u.enable(u.SCISSOR_TEST),u.scissor(n*t.browser.devicePixelRatio,i*t.browser.devicePixelRatio,r*t.browser.devicePixelRatio,o*t.browser.devicePixelRatio),s.clear({color:a}),u.disable(u.SCISSOR_TEST)}function yi(e,n,i){var r=e.context,o=r.gl,a=i.posMatrix,s=e.useProgram("debug"),u=St.disabled,l=Et.disabled,c=e.colorModeForRenderPass();r.activeTexture.set(o.TEXTURE0),e.emptyTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE),s.draw(r,o.LINE_STRIP,u,l,c,Tt.disabled,On(a,t.Color.red),"$debug",e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments);var h=n.getTileByID(i.key).latestRawTileData,d=Math.floor((h&&h.byteLength||0)/1024),f=n.getTile(i).tileSize,p=512/Math.min(f,512)*(i.overscaledZ/e.transform.zoom)*.5,m=i.canonical.toString();i.overscaledZ!==i.canonical.z&&(m+=" => "+i.overscaledZ),function(t,e){t.initDebugOverlayCanvas();var n=t.debugOverlayCanvas,i=t.context.gl,r=t.debugOverlayCanvas.getContext("2d");r.clearRect(0,0,n.width,n.height),r.shadowColor="white",r.shadowBlur=2,r.lineWidth=1.5,r.strokeStyle="white",r.textBaseline="top",r.font="bold 36px Open Sans, sans-serif",r.fillText(e,5,5),r.strokeText(e,5,5),t.debugOverlayTexture.update(n),t.debugOverlayTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE)}(e,m+" "+d+"kb"),s.draw(r,o.TRIANGLES,u,l,Lt.alphaBlended,Tt.disabled,On(a,t.Color.transparent,p),"$debug",e.debugBuffer,e.quadTriangleIndexBuffer,e.debugSegments)}var vi={symbol:function(e,n,i,r,o){if("translucent"===e.renderPass){var a=Et.disabled,s=e.colorModeForRenderPass();i.layout.get("text-variable-anchor")&&function(e,n,i,r,o,a,s){for(var u=n.transform,l="map"===o,c="map"===a,h=0,d=e;h<d.length;h+=1){var f=d[h],p=r.getTile(f),m=p.getBucket(i);if(m&&m.text&&m.text.segments.get().length){var g=t.evaluateSizeForZoom(m.textSizeData,u.zoom),y=de(p,1,n.transform.zoom),v=Qt(f.posMatrix,c,l,n.transform,y),_="none"!==i.layout.get("icon-text-fit")&&m.hasIconData();if(g){var b=Math.pow(2,u.zoom-p.tileID.overscaledZ);ti(m,l,c,s,t.symbolSize,u,v,f.posMatrix,b,g,_)}}}}(r,e,i,n,i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),o),0!==i.paint.get("icon-opacity").constantOr(1)&&ni(e,n,i,r,!1,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),i.layout.get("icon-rotation-alignment"),i.layout.get("icon-pitch-alignment"),i.layout.get("icon-keep-upright"),a,s),0!==i.paint.get("text-opacity").constantOr(1)&&ni(e,n,i,r,!0,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),i.layout.get("text-keep-upright"),a,s),n.map.showCollisionBoxes&&(Qn(e,n,i,r,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),!0),Qn(e,n,i,r,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),!1))}},circle:function(e,n,i,r){if("translucent"===e.renderPass){var o=i.paint.get("circle-opacity"),a=i.paint.get("circle-stroke-width"),s=i.paint.get("circle-stroke-opacity"),u=void 0!==i.layout.get("circle-sort-key").constantOr(1);if(0!==o.constantOr(1)||0!==a.constantOr(1)&&0!==s.constantOr(1)){for(var l=e.context,c=l.gl,h=e.depthModeForSublayer(0,St.ReadOnly),d=Et.disabled,f=e.colorModeForRenderPass(),p=[],m=0;m<r.length;m++){var g=r[m],y=n.getTile(g),v=y.getBucket(i);if(v){var _=v.programConfigurations.get(i.id),b={programConfiguration:_,program:e.useProgram("circle",_),layoutVertexBuffer:v.layoutVertexBuffer,indexBuffer:v.indexBuffer,uniformValues:In(e,g,y,i)};if(u)for(var x=0,w=v.segments.get();x<w.length;x+=1){var k=w[x];p.push({segments:new t.SegmentVector([k]),sortKey:k.sortKey,state:b})}else p.push({segments:v.segments,sortKey:0,state:b})}}u&&p.sort(function(t,e){return t.sortKey-e.sortKey});for(var M=0,S=p;M<S.length;M+=1){var E=S[M],L=E.state;L.program.draw(l,c.TRIANGLES,h,d,f,Tt.disabled,L.uniformValues,i.id,L.layoutVertexBuffer,L.indexBuffer,E.segments,i.paint,e.transform.zoom,L.programConfiguration)}}}},heatmap:function(e,n,i,r){if(0!==i.paint.get("heatmap-opacity"))if("offscreen"===e.renderPass){var o=e.context,a=o.gl,s=Et.disabled,u=new Lt([a.ONE,a.ONE],t.Color.transparent,[!0,!0,!0,!0]);!function(t,e,n){var i=t.gl;t.activeTexture.set(i.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var r=n.heatmapFbo;if(r)i.bindTexture(i.TEXTURE_2D,r.colorAttachment.get()),t.bindFramebuffer.set(r.framebuffer);else{var o=i.createTexture();i.bindTexture(i.TEXTURE_2D,o),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),r=n.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4,!1),function(t,e,n,i){var r=t.gl;r.texImage2D(r.TEXTURE_2D,0,r.RGBA,e.width/4,e.height/4,0,r.RGBA,t.extRenderToTextureHalfFloat?t.extTextureHalfFloat.HALF_FLOAT_OES:r.UNSIGNED_BYTE,null),i.colorAttachment.set(n)}(t,e,o,r)}}(o,e,i),o.clear({color:t.Color.transparent});for(var l=0;l<r.length;l++){var c=r[l];if(!n.hasRenderableParent(c)){var h=n.getTile(c),d=h.getBucket(i);if(d){var f=d.programConfigurations.get(i.id);e.useProgram("heatmap",f).draw(o,a.TRIANGLES,St.disabled,s,u,Tt.disabled,Rn(c.posMatrix,h,e.transform.zoom,i.paint.get("heatmap-intensity")),i.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,i.paint,e.transform.zoom,f)}}}o.viewport.set([0,0,e.width,e.height])}else"translucent"===e.renderPass&&(e.context.setColorMode(e.colorModeForRenderPass()),function(e,n){var i=e.context,r=i.gl,o=n.heatmapFbo;if(o){i.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,o.colorAttachment.get()),i.activeTexture.set(r.TEXTURE1);var a=n.colorRampTexture;a||(a=n.colorRampTexture=new t.Texture(i,n.colorRamp,r.RGBA)),a.bind(r.LINEAR,r.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(i,r.TRIANGLES,St.disabled,Et.disabled,e.colorModeForRenderPass(),Tt.disabled,function(e,n,i,r){var o=t.create();t.ortho(o,0,e.width,e.height,0,0,1);var a=e.context.gl;return{u_matrix:o,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:n.paint.get("heatmap-opacity")}}(e,n),n.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,n.paint,e.transform.zoom)}}(e,i))},line:function(e,n,i,r){if("translucent"===e.renderPass){var o=i.paint.get("line-opacity"),a=i.paint.get("line-width");if(0!==o.constantOr(1)&&0!==a.constantOr(1))for(var s=e.depthModeForSublayer(0,St.ReadOnly),u=e.colorModeForRenderPass(),l=i.paint.get("line-dasharray"),c=i.paint.get("line-pattern"),h=c.constantOr(1),d=i.paint.get("line-gradient"),f=i.getCrossfadeParameters(),p=h?"linePattern":l?"lineSDF":d?"lineGradient":"line",m=e.context,g=m.gl,y=!0,v=0,_=r;v<_.length;v+=1){var b=_[v],x=n.getTile(b);if(!h||x.patternsLoaded()){var w=x.getBucket(i);if(w){var k=w.programConfigurations.get(i.id),M=e.context.program.get(),S=e.useProgram(p,k),E=y||S.program!==M,L=c.constantOr(null);if(L&&x.imageAtlas){var T=x.imageAtlas,C=T.patternPositions[L.to.toString()],I=T.patternPositions[L.from.toString()];C&&I&&k.setConstantPatternPositions(C,I)}var P=h?Yn(e,x,i,f):l?zn(e,x,i,l,f):d?Fn(e,x,i,w.lineClipsArray.length):Nn(e,x,i);if(h)m.activeTexture.set(g.TEXTURE0),x.imageAtlasTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE),k.updatePaintBuffers(f);else if(l&&(E||e.lineAtlas.dirty))m.activeTexture.set(g.TEXTURE0),e.lineAtlas.bind(m);else if(d){var D=w.gradients[i.id],O=D.texture;if(i.gradientVersion!==D.version){var A=256;if(i.stepInterpolant){var R=n.getSource().maxzoom,N=b.canonical.z===R?Math.ceil(1<<e.transform.maxZoom-b.canonical.z):1;A=t.clamp(t.nextPowerOfTwo(w.maxLineLength/t.EXTENT*1024*N),256,m.maxTextureSize)}D.gradient=t.renderColorRamp({expression:i.gradientExpression(),evaluationKey:"lineProgress",resolution:A,image:D.gradient||void 0,clips:w.lineClipsArray}),D.texture?D.texture.update(D.gradient):D.texture=new t.Texture(m,D.gradient,g.RGBA),D.version=i.gradientVersion,O=D.texture}m.activeTexture.set(g.TEXTURE0),O.bind(i.stepInterpolant?g.NEAREST:g.LINEAR,g.CLAMP_TO_EDGE)}S.draw(m,g.TRIANGLES,s,e.stencilModeForClipping(b),u,Tt.disabled,P,i.id,w.layoutVertexBuffer,w.indexBuffer,w.segments,i.paint,e.transform.zoom,k,w.layoutVertexBuffer2),y=!1}}}}},fill:function(e,n,i,r){var o=i.paint.get("fill-color"),a=i.paint.get("fill-opacity");if(0!==a.constantOr(1)){var s=e.colorModeForRenderPass(),u=i.paint.get("fill-pattern"),l=e.opaquePassEnabledForLayer()&&!u.constantOr(1)&&1===o.constantOr(t.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(e.renderPass===l){var c=e.depthModeForSublayer(1,"opaque"===e.renderPass?St.ReadWrite:St.ReadOnly);ri(e,n,i,r,c,s,!1)}if("translucent"===e.renderPass&&i.paint.get("fill-antialias")){var h=e.depthModeForSublayer(i.getPaintProperty("fill-outline-color")?2:0,St.ReadOnly);ri(e,n,i,r,h,s,!0)}}},"fill-extrusion":function(t,e,n,i){var r=n.paint.get("fill-extrusion-opacity");if(0!==r&&"translucent"===t.renderPass){var o=new St(t.context.gl.LEQUAL,St.ReadWrite,t.depthRangeFor3D);if(1!==r||n.paint.get("fill-extrusion-pattern").constantOr(1))oi(t,e,n,i,o,Et.disabled,Lt.disabled),oi(t,e,n,i,o,t.stencilModeFor3D(),t.colorModeForRenderPass());else{var a=t.colorModeForRenderPass();oi(t,e,n,i,o,Et.disabled,a)}}},hillshade:function(t,e,n,i){if("offscreen"===t.renderPass||"translucent"===t.renderPass){for(var r=t.context,o=t.depthModeForSublayer(0,St.ReadOnly),a=t.colorModeForRenderPass(),s="translucent"===t.renderPass?t.stencilConfigForOverlap(i):[{},i],u=s[0],l=0,c=s[1];l<c.length;l+=1){var h=c[l],d=e.getTile(h);d.needsHillshadePrepare&&"offscreen"===t.renderPass?si(t,d,n,o,Et.disabled,a):"translucent"===t.renderPass&&ai(t,d,n,o,u[h.overscaledZ],a)}r.viewport.set([0,0,t.width,t.height])}},raster:function(t,e,n,i){if("translucent"===t.renderPass&&0!==n.paint.get("raster-opacity")&&i.length)for(var r=t.context,o=r.gl,a=e.getSource(),s=t.useProgram("raster"),u=t.colorModeForRenderPass(),l=a instanceof D?[{},i]:t.stencilConfigForOverlap(i),c=l[0],h=l[1],d=h[h.length-1].overscaledZ,f=!t.options.moving,p=0,m=h;p<m.length;p+=1){var g=m[p],y=t.depthModeForSublayer(g.overscaledZ-d,1===n.paint.get("raster-opacity")?St.ReadWrite:St.ReadOnly,o.LESS),v=e.getTile(g),_=t.transform.calculatePosMatrix(g.toUnwrapped(),f);v.registerFadeDuration(n.paint.get("raster-fade-duration"));var b=e.findLoadedParent(g,0),x=ui(v,b,e,n,t.transform),w=void 0,k=void 0,M="nearest"===n.paint.get("raster-resampling")?o.NEAREST:o.LINEAR;r.activeTexture.set(o.TEXTURE0),v.texture.bind(M,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),r.activeTexture.set(o.TEXTURE1),b?(b.texture.bind(M,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),w=Math.pow(2,b.tileID.overscaledZ-v.tileID.overscaledZ),k=[v.tileID.canonical.x*w%1,v.tileID.canonical.y*w%1]):v.texture.bind(M,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST);var S=Hn(_,k||[0,0],w||1,x,n);a instanceof D?s.draw(r,o.TRIANGLES,y,Et.disabled,u,Tt.disabled,S,n.id,a.boundsBuffer,t.quadTriangleIndexBuffer,a.boundsSegments):s.draw(r,o.TRIANGLES,y,c[g.overscaledZ],u,Tt.disabled,S,n.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments)}},background:function(t,e,n){var i=n.paint.get("background-color"),r=n.paint.get("background-opacity");if(0!==r){var o=t.context,a=o.gl,s=t.transform,u=s.tileSize,l=n.paint.get("background-pattern");if(!t.isPatternMissing(l)){var c=!l&&1===i.a&&1===r&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass===c){var h=Et.disabled,d=t.depthModeForSublayer(0,"opaque"===c?St.ReadWrite:St.ReadOnly),f=t.colorModeForRenderPass(),p=t.useProgram(l?"backgroundPattern":"background"),m=s.coveringTiles({tileSize:u});l&&(o.activeTexture.set(a.TEXTURE0),t.imageManager.bind(t.context));for(var g=n.getCrossfadeParameters(),y=0,v=m;y<v.length;y+=1){var _=v[y],b=t.transform.calculatePosMatrix(_.toUnwrapped()),x=l?Kn(b,r,t,l,{tileID:_,tileSize:u},g):Xn(b,r,i);p.draw(o,a.TRIANGLES,d,h,f,Tt.disabled,x,n.id,t.tileExtentBuffer,t.quadTriangleIndexBuffer,t.tileExtentSegments)}}}}},debug:function(t,e,n){for(var i=0;i<n.length;i++)yi(t,e,n[i])},custom:function(t,e,n){var i=t.context,r=n.implementation;if("offscreen"===t.renderPass){var o=r.prerender;o&&(t.setCustomLayerDefaults(),i.setColorMode(t.colorModeForRenderPass()),o.call(r,i.gl,t.transform.customLayerMatrix()),i.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),i.setColorMode(t.colorModeForRenderPass()),i.setStencilMode(Et.disabled);var a="3d"===r.renderingMode?new St(t.context.gl.LEQUAL,St.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,St.ReadOnly);i.setDepthMode(a),r.render(i.gl,t.transform.customLayerMatrix()),i.setDirty(),t.setBaseState(),i.bindFramebuffer.set(null)}}},_i=function(t,e){this.context=new Ct(t),this.transform=e,this._tileTextures={},this.setup(),this.numSublayers=It.maxUnderzooming+It.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ye,this.gpuTimers={}};_i.prototype.resize=function(e,n){if(this.width=e*t.browser.devicePixelRatio,this.height=n*t.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var i=0,r=this.style._order;i<r.length;i+=1)this.style._layers[r[i]].resize()},_i.prototype.setup=function(){var e=this.context,n=new t.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(t.EXTENT,0),n.emplaceBack(0,t.EXTENT),n.emplaceBack(t.EXTENT,t.EXTENT),this.tileExtentBuffer=e.createVertexBuffer(n,Ve.members),this.tileExtentSegments=t.SegmentVector.simpleSegment(0,0,4,2);var i=new t.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(t.EXTENT,0),i.emplaceBack(0,t.EXTENT),i.emplaceBack(t.EXTENT,t.EXTENT),this.debugBuffer=e.createVertexBuffer(i,Ve.members),this.debugSegments=t.SegmentVector.simpleSegment(0,0,4,5);var r=new t.StructArrayLayout4i8;r.emplaceBack(0,0,0,0),r.emplaceBack(t.EXTENT,0,t.EXTENT,0),r.emplaceBack(0,t.EXTENT,0,t.EXTENT),r.emplaceBack(t.EXTENT,t.EXTENT,t.EXTENT,t.EXTENT),this.rasterBoundsBuffer=e.createVertexBuffer(r,P.members),this.rasterBoundsSegments=t.SegmentVector.simpleSegment(0,0,4,2);var o=new t.StructArrayLayout2i4;o.emplaceBack(0,0),o.emplaceBack(1,0),o.emplaceBack(0,1),o.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(o,Ve.members),this.viewportSegments=t.SegmentVector.simpleSegment(0,0,4,2);var a=new t.StructArrayLayout1ui2;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(a);var s=new t.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(s),this.emptyTexture=new t.Texture(e,{width:1,height:1,data:new Uint8Array([0,0,0,0])},e.gl.RGBA);var u=this.context.gl;this.stencilClearMode=new Et({func:u.ALWAYS,mask:0},0,255,u.ZERO,u.ZERO,u.ZERO)},_i.prototype.clearStencil=function(){var e=this.context,n=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var i=t.create();t.ortho(i,0,this.width,this.height,0,0,1),t.scale(i,i,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(e,n.TRIANGLES,St.disabled,this.stencilClearMode,Lt.disabled,Tt.disabled,An(i),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},_i.prototype._renderTileClippingMasks=function(t,e){if(this.currentStencilSource!==t.source&&t.isTileClipped()&&e&&e.length){this.currentStencilSource=t.source;var n=this.context,i=n.gl;this.nextStencilID+e.length>256&&this.clearStencil(),n.setColorMode(Lt.disabled),n.setDepthMode(St.disabled);var r=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var o=0,a=e;o<a.length;o+=1){var s=a[o],u=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;r.draw(n,i.TRIANGLES,St.disabled,new Et({func:i.ALWAYS,mask:0},u,255,i.KEEP,i.KEEP,i.REPLACE),Lt.disabled,Tt.disabled,An(s.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},_i.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var t=this.nextStencilID++,e=this.context.gl;return new Et({func:e.NOTEQUAL,mask:255},t,255,e.KEEP,e.KEEP,e.REPLACE)},_i.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new Et({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},_i.prototype.stencilConfigForOverlap=function(t){var e,n=this.context.gl,i=t.sort(function(t,e){return e.overscaledZ-t.overscaledZ}),r=i[i.length-1].overscaledZ,o=i[0].overscaledZ-r+1;if(o>1){this.currentStencilSource=void 0,this.nextStencilID+o>256&&this.clearStencil();for(var a={},s=0;s<o;s++)a[s+r]=new Et({func:n.GEQUAL,mask:255},s+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=o,[a,i]}return[(e={},e[r]=Et.disabled,e),i]},_i.prototype.colorModeForRenderPass=function(){var e=this.context.gl;return this._showOverdrawInspector?new Lt([e.CONSTANT_COLOR,e.ONE],new t.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?Lt.unblended:Lt.alphaBlended},_i.prototype.depthModeForSublayer=function(t,e,n){if(!this.opaquePassEnabledForLayer())return St.disabled;var i=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new St(n||this.context.gl.LEQUAL,e,[i,i])},_i.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},_i.prototype.render=function(e,n){var i=this;this.style=e,this.options=n,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(t.browser.now()),this.imageManager.beginFrame();var r=this.style._order,o=this.style.sourceCaches;for(var a in o){var s=o[a];s.used&&s.prepare(this.context)}var u,l,c={},h={},d={};for(var f in o){var p=o[f];c[f]=p.getVisibleCoordinates(),h[f]=c[f].slice().reverse(),d[f]=p.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var m=0;m<r.length;m++)if(this.style._layers[r[m]].is3D()){this.opaquePassCutoff=m;break}this.renderPass="offscreen";for(var g=0,y=r;g<y.length;g+=1){var v=this.style._layers[y[g]];if(v.hasOffscreenPass()&&!v.isHidden(this.transform.zoom)){var _=h[v.source];("custom"===v.type||_.length)&&this.renderLayer(this,o[v.source],v,_)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?t.Color.black:t.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(e._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=r.length-1;this.currentLayer>=0;this.currentLayer--){var b=this.style._layers[r[this.currentLayer]],x=o[b.source],w=c[b.source];this._renderTileClippingMasks(b,w),this.renderLayer(this,x,b,w)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<r.length;this.currentLayer++){var k=this.style._layers[r[this.currentLayer]],M=o[k.source],S=("symbol"===k.type?d:h)[k.source];this._renderTileClippingMasks(k,c[k.source]),this.renderLayer(this,M,k,S)}this.options.showTileBoundaries&&(t.values(this.style._layers).forEach(function(t){t.source&&!t.isHidden(i.transform.zoom)&&(t.source!==(l&&l.id)&&(l=i.style.sourceCaches[t.source]),(!u||u.getSource().maxzoom<l.getSource().maxzoom)&&(u=l))}),u&&vi.debug(this,u,u.getVisibleCoordinates())),this.options.showPadding&&function(t){var e=t.transform.padding;pi(t,t.transform.height-(e.top||0),3,li),pi(t,e.bottom||0,3,ci),mi(t,e.left||0,3,hi),mi(t,t.transform.width-(e.right||0),3,di);var n=t.transform.centerPoint;!function(t,e,n,i){gi(t,e-1,n-10,2,20,i),gi(t,e-10,n-1,20,2,i)}(t,n.x,t.transform.height-n.y,fi)}(this),this.context.setDefault()},_i.prototype.renderLayer=function(t,e,n,i){n.isHidden(this.transform.zoom)||("background"===n.type||"custom"===n.type||i.length)&&(this.id=n.id,this.gpuTimingStart(n),vi[n.type](t,e,n,i,this.style.placement.variableOffsets),this.gpuTimingEnd())},_i.prototype.gpuTimingStart=function(t){if(this.options.gpuTiming){var e=this.context.extTimerQuery,n=this.gpuTimers[t.id];n||(n=this.gpuTimers[t.id]={calls:0,cpuTime:0,query:e.createQueryEXT()}),n.calls++,e.beginQueryEXT(e.TIME_ELAPSED_EXT,n.query)}},_i.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var t=this.context.extTimerQuery;t.endQueryEXT(t.TIME_ELAPSED_EXT)}},_i.prototype.collectGpuTimers=function(){var t=this.gpuTimers;return this.gpuTimers={},t},_i.prototype.queryGpuTimers=function(t){var e={};for(var n in t){var i=t[n],r=this.context.extTimerQuery,o=r.getQueryObjectEXT(i.query,r.QUERY_RESULT_EXT)/1e6;r.deleteQueryEXT(i.query),e[n]=o}return e},_i.prototype.translatePosMatrix=function(e,n,i,r,o){if(!i[0]&&!i[1])return e;var a=o?"map"===r?this.transform.angle:0:"viewport"===r?-this.transform.angle:0;if(a){var s=Math.sin(a),u=Math.cos(a);i=[i[0]*u-i[1]*s,i[0]*s+i[1]*u]}var l=[o?i[0]:de(n,i[0],this.transform.zoom),o?i[1]:de(n,i[1],this.transform.zoom),0],c=new Float32Array(16);return t.translate(c,e,l),c},_i.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},_i.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},_i.prototype.isPatternMissing=function(t){if(!t)return!1;if(!t.from||!t.to)return!0;var e=this.imageManager.getPattern(t.from.toString()),n=this.imageManager.getPattern(t.to.toString());return!e||!n},_i.prototype.useProgram=function(t,e){this.cache=this.cache||{};var n=""+t+(e?e.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new wn(this.context,t,_n[t],e,Zn[t],this._showOverdrawInspector)),this.cache[n]},_i.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},_i.prototype.setBaseState=function(){var t=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(t.FUNC_ADD)},_i.prototype.initDebugOverlayCanvas=function(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=t.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new t.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},_i.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var bi=function(t,e){this.points=t,this.planes=e};bi.fromInvProjectionMatrix=function(e,n,i){var r=Math.pow(2,i),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(n){return t.transformMat4([],n,e)}).map(function(e){return t.scale$1([],e,1/e[3]/n*r)}),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(e){var n=t.sub([],o[e[0]],o[e[1]]),i=t.sub([],o[e[2]],o[e[1]]),r=t.normalize([],t.cross([],n,i)),a=-t.dot(r,o[e[1]]);return r.concat(a)});return new bi(o,a)};var xi=function(e,n){this.min=e,this.max=n,this.center=t.scale$2([],t.add([],this.min,this.max),.5)};xi.prototype.quadrant=function(e){for(var n=[e%2==0,e<2],i=t.clone$2(this.min),r=t.clone$2(this.max),o=0;o<n.length;o++)i[o]=n[o]?this.min[o]:this.center[o],r[o]=n[o]?this.center[o]:this.max[o];return r[2]=this.max[2],new xi(i,r)},xi.prototype.distanceX=function(t){return Math.max(Math.min(this.max[0],t[0]),this.min[0])-t[0]},xi.prototype.distanceY=function(t){return Math.max(Math.min(this.max[1],t[1]),this.min[1])-t[1]},xi.prototype.intersects=function(e){for(var n=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],i=!0,r=0;r<e.planes.length;r++){for(var o=e.planes[r],a=0,s=0;s<n.length;s++)a+=t.dot$1(o,n[s])>=0;if(0===a)return 0;a!==n.length&&(i=!1)}if(i)return 2;for(var u=0;u<3;u++){for(var l=Number.MAX_VALUE,c=-Number.MAX_VALUE,h=0;h<e.points.length;h++){var d=e.points[h][u]-this.min[u];l=Math.min(l,d),c=Math.max(c,d)}if(c<0||l>this.max[u]-this.min[u])return 0}return 1};var wi=function(t,e,n,i){if(void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),isNaN(t)||t<0||isNaN(e)||e<0||isNaN(n)||n<0||isNaN(i)||i<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=t,this.bottom=e,this.left=n,this.right=i};wi.prototype.interpolate=function(e,n,i){return null!=n.top&&null!=e.top&&(this.top=t.number(e.top,n.top,i)),null!=n.bottom&&null!=e.bottom&&(this.bottom=t.number(e.bottom,n.bottom,i)),null!=n.left&&null!=e.left&&(this.left=t.number(e.left,n.left,i)),null!=n.right&&null!=e.right&&(this.right=t.number(e.right,n.right,i)),this},wi.prototype.getCenter=function(e,n){var i=t.clamp((this.left+e-this.right)/2,0,e),r=t.clamp((this.top+n-this.bottom)/2,0,n);return new t.Point(i,r)},wi.prototype.equals=function(t){return this.top===t.top&&this.bottom===t.bottom&&this.left===t.left&&this.right===t.right},wi.prototype.clone=function(){return new wi(this.top,this.bottom,this.left,this.right)},wi.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var ki=function(e,n,i,r,o){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===o||o,this._minZoom=e||0,this._maxZoom=n||22,this._minPitch=null==i?0:i,this._maxPitch=null==r?60:r,this.setMaxBounds(),this.width=0,this.height=0,this._center=new t.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new wi,this._posMatrixCache={},this._alignedPosMatrixCache={}},Mi={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};ki.prototype.clone=function(){var t=new ki(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._edgeInsets=this._edgeInsets.clone(),t._calcMatrices(),t},Mi.minZoom.get=function(){return this._minZoom},Mi.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},Mi.maxZoom.get=function(){return this._maxZoom},Mi.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},Mi.minPitch.get=function(){return this._minPitch},Mi.minPitch.set=function(t){this._minPitch!==t&&(this._minPitch=t,this.pitch=Math.max(this.pitch,t))},Mi.maxPitch.get=function(){return this._maxPitch},Mi.maxPitch.set=function(t){this._maxPitch!==t&&(this._maxPitch=t,this.pitch=Math.min(this.pitch,t))},Mi.renderWorldCopies.get=function(){return this._renderWorldCopies},Mi.renderWorldCopies.set=function(t){void 0===t?t=!0:null===t&&(t=!1),this._renderWorldCopies=t},Mi.worldSize.get=function(){return this.tileSize*this.scale},Mi.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Mi.size.get=function(){return new t.Point(this.width,this.height)},Mi.bearing.get=function(){return-this.angle/Math.PI*180},Mi.bearing.set=function(e){var n=-t.wrap(e,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=t.create$2(),t.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Mi.pitch.get=function(){return this._pitch/Math.PI*180},Mi.pitch.set=function(e){var n=t.clamp(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())},Mi.fov.get=function(){return this._fov/Math.PI*180},Mi.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},Mi.zoom.get=function(){return this._zoom},Mi.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},Mi.center.get=function(){return this._center},Mi.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},Mi.padding.get=function(){return this._edgeInsets.toJSON()},Mi.padding.set=function(t){this._edgeInsets.equals(t)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,t,1),this._calcMatrices())},Mi.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},ki.prototype.isPaddingEqual=function(t){return this._edgeInsets.equals(t)},ki.prototype.interpolatePadding=function(t,e,n){this._unmodified=!1,this._edgeInsets.interpolate(t,e,n),this._constrain(),this._calcMatrices()},ki.prototype.coveringZoomLevel=function(t){var e=(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize));return Math.max(0,e)},ki.prototype.getVisibleUnwrappedCoordinates=function(e){var n=[new t.UnwrappedTileID(0,e)];if(this._renderWorldCopies)for(var i=this.pointCoordinate(new t.Point(0,0)),r=this.pointCoordinate(new t.Point(this.width,0)),o=this.pointCoordinate(new t.Point(this.width,this.height)),a=this.pointCoordinate(new t.Point(0,this.height)),s=Math.floor(Math.min(i.x,r.x,o.x,a.x)),u=Math.floor(Math.max(i.x,r.x,o.x,a.x)),l=s-1;l<=u+1;l++)0!==l&&n.push(new t.UnwrappedTileID(l,e));return n},ki.prototype.coveringTiles=function(e){var n=this.coveringZoomLevel(e),i=n;if(void 0!==e.minzoom&&n<e.minzoom)return[];void 0!==e.maxzoom&&n>e.maxzoom&&(n=e.maxzoom);var r=t.MercatorCoordinate.fromLngLat(this.center),o=Math.pow(2,n),a=[o*r.x,o*r.y,0],s=bi.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n),u=e.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(u=n);var l=function(t){return{aabb:new xi([t*o,0,0],[(t+1)*o,o,0]),zoom:0,x:0,y:0,wrap:t,fullyVisible:!1}},c=[],h=[],d=n,f=e.reparseOverscaled?i:n;if(this._renderWorldCopies)for(var p=1;p<=3;p++)c.push(l(-p)),c.push(l(p));for(c.push(l(0));c.length>0;){var m=c.pop(),g=m.x,y=m.y,v=m.fullyVisible;if(!v){var _=m.aabb.intersects(s);if(0===_)continue;v=2===_}var b=m.aabb.distanceX(a),x=m.aabb.distanceY(a),w=Math.max(Math.abs(b),Math.abs(x));if(m.zoom===d||w>3+(1<<d-m.zoom)-2&&m.zoom>=u)h.push({tileID:new t.OverscaledTileID(m.zoom===d?f:m.zoom,m.wrap,m.zoom,g,y),distanceSq:t.sqrLen([a[0]-.5-g,a[1]-.5-y])});else for(var k=0;k<4;k++){var M=(g<<1)+k%2,S=(y<<1)+(k>>1);c.push({aabb:m.aabb.quadrant(k),zoom:m.zoom+1,x:M,y:S,wrap:m.wrap,fullyVisible:v})}}return h.sort(function(t,e){return t.distanceSq-e.distanceSq}).map(function(t){return t.tileID})},ki.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},Mi.unmodified.get=function(){return this._unmodified},ki.prototype.zoomScale=function(t){return Math.pow(2,t)},ki.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},ki.prototype.project=function(e){var n=t.clamp(e.lat,-this.maxValidLatitude,this.maxValidLatitude);return new t.Point(t.mercatorXfromLng(e.lng)*this.worldSize,t.mercatorYfromLat(n)*this.worldSize)},ki.prototype.unproject=function(e){return new t.MercatorCoordinate(e.x/this.worldSize,e.y/this.worldSize).toLngLat()},Mi.point.get=function(){return this.project(this.center)},ki.prototype.setLocationAtPoint=function(e,n){var i=this.pointCoordinate(n),r=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(e),a=new t.MercatorCoordinate(o.x-(i.x-r.x),o.y-(i.y-r.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())},ki.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},ki.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},ki.prototype.locationCoordinate=function(e){return t.MercatorCoordinate.fromLngLat(e)},ki.prototype.coordinateLocation=function(t){return t.toLngLat()},ki.prototype.pointCoordinate=function(e){var n=[e.x,e.y,0,1],i=[e.x,e.y,1,1];t.transformMat4(n,n,this.pixelMatrixInverse),t.transformMat4(i,i,this.pixelMatrixInverse);var r=n[3],o=i[3],a=n[1]/r,s=i[1]/o,u=n[2]/r,l=i[2]/o,c=u===l?0:(0-u)/(l-u);return new t.MercatorCoordinate(t.number(n[0]/r,i[0]/o,c)/this.worldSize,t.number(a,s,c)/this.worldSize)},ki.prototype.coordinatePoint=function(e){var n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(n,n,this.pixelMatrix),new t.Point(n[0]/n[3],n[1]/n[3])},ki.prototype.getBounds=function(){return(new t.LngLatBounds).extend(this.pointLocation(new t.Point(0,0))).extend(this.pointLocation(new t.Point(this.width,0))).extend(this.pointLocation(new t.Point(this.width,this.height))).extend(this.pointLocation(new t.Point(0,this.height)))},ki.prototype.getMaxBounds=function(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new t.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},ki.prototype.setMaxBounds=function(t){t?(this.lngRange=[t.getWest(),t.getEast()],this.latRange=[t.getSouth(),t.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},ki.prototype.calculatePosMatrix=function(e,n){void 0===n&&(n=!1);var i=e.key,r=n?this._alignedPosMatrixCache:this._posMatrixCache;if(r[i])return r[i];var o=e.canonical,a=this.worldSize/this.zoomScale(o.z),s=o.x+Math.pow(2,o.z)*e.wrap,u=t.identity(new Float64Array(16));return t.translate(u,u,[s*a,o.y*a,0]),t.scale(u,u,[a/t.EXTENT,a/t.EXTENT,1]),t.multiply(u,n?this.alignedProjMatrix:this.projMatrix,u),r[i]=new Float32Array(u),r[i]},ki.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},ki.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var e,n,i,r,o=-90,a=90,s=-180,u=180,l=this.size,c=this._unmodified;if(this.latRange){var h=this.latRange;o=t.mercatorYfromLat(h[1])*this.worldSize,e=(a=t.mercatorYfromLat(h[0])*this.worldSize)-o<l.y?l.y/(a-o):0}if(this.lngRange){var d=this.lngRange;s=t.mercatorXfromLng(d[0])*this.worldSize,n=(u=t.mercatorXfromLng(d[1])*this.worldSize)-s<l.x?l.x/(u-s):0}var f=this.point,p=Math.max(n||0,e||0);if(p)return this.center=this.unproject(new t.Point(n?(u+s)/2:f.x,e?(a+o)/2:f.y)),this.zoom+=this.scaleZoom(p),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var m=f.y,g=l.y/2;m-g<o&&(r=o+g),m+g>a&&(r=a-g)}if(this.lngRange){var y=f.x,v=l.x/2;y-v<s&&(i=s+v),y+v>u&&(i=u-v)}void 0===i&&void 0===r||(this.center=this.unproject(new t.Point(void 0!==i?i:f.x,void 0!==r?r:f.y))),this._unmodified=c,this._constraining=!1}},ki.prototype._calcMatrices=function(){if(this.height){var e=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var n=Math.PI/2+this._pitch,i=this._fov*(.5+e.y/this.height),r=Math.sin(i)*this.cameraToCenterDistance/Math.sin(t.clamp(Math.PI-n-i,.01,Math.PI-.01)),o=this.point,a=o.x,s=o.y,u=1.01*(Math.cos(Math.PI/2-this._pitch)*r+this.cameraToCenterDistance),l=this.height/50,c=new Float64Array(16);t.perspective(c,this._fov,this.width/this.height,l,u),c[8]=2*-e.x/this.width,c[9]=2*e.y/this.height,t.scale(c,c,[1,-1,1]),t.translate(c,c,[0,0,-this.cameraToCenterDistance]),t.rotateX(c,c,this._pitch),t.rotateZ(c,c,this.angle),t.translate(c,c,[-a,-s,0]),this.mercatorMatrix=t.scale([],c,[this.worldSize,this.worldSize,this.worldSize]),t.scale(c,c,[1,1,t.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=c,this.invProjMatrix=t.invert([],this.projMatrix);var h=this.width%2/2,d=this.height%2/2,f=Math.cos(this.angle),p=Math.sin(this.angle),m=a-Math.round(a)+f*h+p*d,g=s-Math.round(s)+f*d+p*h,y=new Float64Array(c);if(t.translate(y,y,[m>.5?m-1:m,g>.5?g-1:g,0]),this.alignedProjMatrix=y,c=t.create(),t.scale(c,c,[this.width/2,-this.height/2,1]),t.translate(c,c,[1,-1,0]),this.labelPlaneMatrix=c,c=t.create(),t.scale(c,c,[1,-1,1]),t.translate(c,c,[-1,-1,0]),t.scale(c,c,[2/this.width,2/this.height,1]),this.glCoordMatrix=c,this.pixelMatrix=t.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(c=t.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=c,this._posMatrixCache={},this._alignedPosMatrixCache={}}},ki.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var e=this.pointCoordinate(new t.Point(0,0)),n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance},ki.prototype.getCameraPoint=function(){var e=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new t.Point(0,e))},ki.prototype.getCameraQueryGeometry=function(e){var n=this.getCameraPoint();if(1===e.length)return[e[0],n];for(var i=n.x,r=n.y,o=n.x,a=n.y,s=0,u=e;s<u.length;s+=1){var l=u[s];i=Math.min(i,l.x),r=Math.min(r,l.y),o=Math.max(o,l.x),a=Math.max(a,l.y)}return[new t.Point(i,r),new t.Point(o,r),new t.Point(o,a),new t.Point(i,a),new t.Point(i,r)]},Object.defineProperties(ki.prototype,Mi);var Si=function(e){var n,i,r,o;this._hashName=e&&encodeURIComponent(e),t.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(n=this._updateHashUnthrottled.bind(this),i=!1,r=null,o=function(){r=null,i&&(n(),r=setTimeout(o,300),i=!1)},function(){return i=!0,r||o(),r})};Si.prototype.addTo=function(e){return this._map=e,t.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Si.prototype.remove=function(){return t.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Si.prototype.getHashString=function(e){var n=this._map.getCenter(),i=Math.round(100*this._map.getZoom())/100,r=Math.ceil((i*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,r),a=Math.round(n.lng*o)/o,s=Math.round(n.lat*o)/o,u=this._map.getBearing(),l=this._map.getPitch(),c="";if(c+=e?"/"+a+"/"+s+"/"+i:i+"/"+s+"/"+a,(u||l)&&(c+="/"+Math.round(10*u)/10),l&&(c+="/"+Math.round(l)),this._hashName){var h=this._hashName,d=!1,f=t.window.location.hash.slice(1).split("&").map(function(t){var e=t.split("=")[0];return e===h?(d=!0,e+"="+c):t}).filter(function(t){return t});return d||f.push(h+"="+c),"#"+f.join("&")}return"#"+c},Si.prototype._getCurrentHash=function(){var e,n=this,i=t.window.location.hash.replace("#","");return this._hashName?(i.split("&").map(function(t){return t.split("=")}).forEach(function(t){t[0]===n._hashName&&(e=t)}),(e&&e[1]||"").split("/")):i.split("/")},Si.prototype._onHashChange=function(){var t=this._getCurrentHash();if(t.length>=3&&!t.some(function(t){return isNaN(t)})){var e=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(t[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:e,pitch:+(t[4]||0)}),!0}return!1},Si.prototype._updateHashUnthrottled=function(){var e=t.window.location.href.replace(/(#.+)?$/,this.getHashString());try{t.window.history.replaceState(t.window.history.state,null,e)}catch(t){}};var Ei={linearity:.3,easing:t.bezier(0,0,.3,1)},Li=t.extend({deceleration:2500,maxSpeed:1400},Ei),Ti=t.extend({deceleration:20,maxSpeed:1400},Ei),Ci=t.extend({deceleration:1e3,maxSpeed:360},Ei),Ii=t.extend({deceleration:1e3,maxSpeed:90},Ei),Pi=function(t){this._map=t,this.clear()};function Di(t,e){(!t.duration||t.duration<e.duration)&&(t.duration=e.duration,t.easing=e.easing)}function Oi(e,n,i){var r=i.maxSpeed,o=i.linearity,a=i.deceleration,s=t.clamp(e*o/(n/1e3),-r,r),u=Math.abs(s)/(a*o);return{easing:i.easing,duration:1e3*u,amount:s*(u/2)}}Pi.prototype.clear=function(){this._inertiaBuffer=[]},Pi.prototype.record=function(e){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:t.browser.now(),settings:e})},Pi.prototype._drainInertiaBuffer=function(){for(var e=this._inertiaBuffer,n=t.browser.now();e.length>0&&n-e[0].time>160;)e.shift()},Pi.prototype._onMoveEnd=function(e){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var n={zoom:0,bearing:0,pitch:0,pan:new t.Point(0,0),pinchAround:void 0,around:void 0},i=0,r=this._inertiaBuffer;i<r.length;i+=1){var o=r[i].settings;n.zoom+=o.zoomDelta||0,n.bearing+=o.bearingDelta||0,n.pitch+=o.pitchDelta||0,o.panDelta&&n.pan._add(o.panDelta),o.around&&(n.around=o.around),o.pinchAround&&(n.pinchAround=o.pinchAround)}var a=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(n.pan.mag()){var u=Oi(n.pan.mag(),a,t.extend({},Li,e||{}));s.offset=n.pan.mult(u.amount/n.pan.mag()),s.center=this._map.transform.center,Di(s,u)}if(n.zoom){var l=Oi(n.zoom,a,Ti);s.zoom=this._map.transform.zoom+l.amount,Di(s,l)}if(n.bearing){var c=Oi(n.bearing,a,Ci);s.bearing=this._map.transform.bearing+t.clamp(c.amount,-179,179),Di(s,c)}if(n.pitch){var h=Oi(n.pitch,a,Ii);s.pitch=this._map.transform.pitch+h.amount,Di(s,h)}if(s.zoom||s.bearing){var d=void 0===n.pinchAround?n.around:n.pinchAround;s.around=d?this._map.unproject(d):this._map.getCenter()}return this.clear(),t.extend(s,{noMoveStart:!0})}};var Ai=function(e){function i(i,r,o,a){void 0===a&&(a={});var s=n.mousePos(r.getCanvasContainer(),o),u=r.unproject(s);e.call(this,i,t.extend({point:s,lngLat:u,originalEvent:o},a)),this._defaultPrevented=!1,this.target=r}e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i;var r={defaultPrevented:{configurable:!0}};return i.prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(i.prototype,r),i}(t.Event),Ri=function(e){function i(i,r,o){var a="touchend"===i?o.changedTouches:o.touches,s=n.touchPos(r.getCanvasContainer(),a),u=s.map(function(t){return r.unproject(t)}),l=s.reduce(function(t,e,n,i){return t.add(e.div(i.length))},new t.Point(0,0)),c=r.unproject(l);e.call(this,i,{points:s,point:l,lngLats:u,lngLat:c,originalEvent:o}),this._defaultPrevented=!1}e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i;var r={defaultPrevented:{configurable:!0}};return i.prototype.preventDefault=function(){this._defaultPrevented=!0},r.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(i.prototype,r),i}(t.Event),Ni=function(t){function e(e,n,i){t.call(this,e,{originalEvent:i}),this._defaultPrevented=!1}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={defaultPrevented:{configurable:!0}};return e.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(e.prototype,n),e}(t.Event),Fi=function(t,e){this._map=t,this._clickTolerance=e.clickTolerance};Fi.prototype.reset=function(){delete this._mousedownPos},Fi.prototype.wheel=function(t){return this._firePreventable(new Ni(t.type,this._map,t))},Fi.prototype.mousedown=function(t,e){return this._mousedownPos=e,this._firePreventable(new Ai(t.type,this._map,t))},Fi.prototype.mouseup=function(t){this._map.fire(new Ai(t.type,this._map,t))},Fi.prototype.click=function(t,e){this._mousedownPos&&this._mousedownPos.dist(e)>=this._clickTolerance||this._map.fire(new Ai(t.type,this._map,t))},Fi.prototype.dblclick=function(t){return this._firePreventable(new Ai(t.type,this._map,t))},Fi.prototype.mouseover=function(t){this._map.fire(new Ai(t.type,this._map,t))},Fi.prototype.mouseout=function(t){this._map.fire(new Ai(t.type,this._map,t))},Fi.prototype.touchstart=function(t){return this._firePreventable(new Ri(t.type,this._map,t))},Fi.prototype.touchmove=function(t){this._map.fire(new Ri(t.type,this._map,t))},Fi.prototype.touchend=function(t){this._map.fire(new Ri(t.type,this._map,t))},Fi.prototype.touchcancel=function(t){this._map.fire(new Ri(t.type,this._map,t))},Fi.prototype._firePreventable=function(t){if(this._map.fire(t),t.defaultPrevented)return{}},Fi.prototype.isEnabled=function(){return!0},Fi.prototype.isActive=function(){return!1},Fi.prototype.enable=function(){},Fi.prototype.disable=function(){};var Yi=function(t){this._map=t};Yi.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Yi.prototype.mousemove=function(t){this._map.fire(new Ai(t.type,this._map,t))},Yi.prototype.mousedown=function(){this._delayContextMenu=!0},Yi.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ai("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Yi.prototype.contextmenu=function(t){this._delayContextMenu?this._contextMenuEvent=t:this._map.fire(new Ai(t.type,this._map,t)),this._map.listens("contextmenu")&&t.preventDefault()},Yi.prototype.isEnabled=function(){return!0},Yi.prototype.isActive=function(){return!1},Yi.prototype.enable=function(){},Yi.prototype.disable=function(){};var zi=function(t,e){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),this._clickTolerance=e.clickTolerance||1};function ji(t,e){for(var n={},i=0;i<t.length;i++)n[t[i].identifier]=e[i];return n}zi.prototype.isEnabled=function(){return!!this._enabled},zi.prototype.isActive=function(){return!!this._active},zi.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},zi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},zi.prototype.mousedown=function(t,e){this.isEnabled()&&t.shiftKey&&0===t.button&&(n.disableDrag(),this._startPos=this._lastPos=e,this._active=!0)},zi.prototype.mousemoveWindow=function(t,e){if(this._active){var i=e;if(!(this._lastPos.equals(i)||!this._box&&i.dist(this._startPos)<this._clickTolerance)){var r=this._startPos;this._lastPos=i,this._box||(this._box=n.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var o=Math.min(r.x,i.x),a=Math.max(r.x,i.x),s=Math.min(r.y,i.y),u=Math.max(r.y,i.y);n.setTransform(this._box,"translate("+o+"px,"+s+"px)"),this._box.style.width=a-o+"px",this._box.style.height=u-s+"px"}}},zi.prototype.mouseupWindow=function(e,i){var r=this;if(this._active&&0===e.button){var o=this._startPos,a=i;if(this.reset(),n.suppressClick(),o.x!==a.x||o.y!==a.y)return this._map.fire(new t.Event("boxzoomend",{originalEvent:e})),{cameraAnimation:function(t){return t.fitScreenCoordinates(o,a,r._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",e)}},zi.prototype.keydown=function(t){this._active&&27===t.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",t))},zi.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(n.remove(this._box),this._box=null),n.enableDrag(),delete this._startPos,delete this._lastPos},zi.prototype._fireEvent=function(e,n){return this._map.fire(new t.Event(e,{originalEvent:n}))};var Bi=function(t){this.reset(),this.numTouches=t.numTouches};Bi.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Bi.prototype.touchstart=function(e,n,i){(this.centroid||i.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=e.timeStamp),i.length===this.numTouches&&(this.centroid=function(e){for(var n=new t.Point(0,0),i=0,r=e;i<r.length;i+=1)n._add(r[i]);return n.div(e.length)}(n),this.touches=ji(i,n)))},Bi.prototype.touchmove=function(t,e,n){if(!this.aborted&&this.centroid){var i=ji(n,e);for(var r in this.touches){var o=i[r];(!o||o.dist(this.touches[r])>30)&&(this.aborted=!0)}}},Bi.prototype.touchend=function(t,e,n){if((!this.centroid||t.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){var i=!this.aborted&&this.centroid;if(this.reset(),i)return i}};var Hi=function(t){this.singleTap=new Bi(t),this.numTaps=t.numTaps,this.reset()};Hi.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},Hi.prototype.touchstart=function(t,e,n){this.singleTap.touchstart(t,e,n)},Hi.prototype.touchmove=function(t,e,n){this.singleTap.touchmove(t,e,n)},Hi.prototype.touchend=function(t,e,n){var i=this.singleTap.touchend(t,e,n);if(i){var r=t.timeStamp-this.lastTime<500,o=!this.lastTap||this.lastTap.dist(i)<30;if(r&&o||this.reset(),this.count++,this.lastTime=t.timeStamp,this.lastTap=i,this.count===this.numTaps)return this.reset(),i}};var Ui=function(){this._zoomIn=new Hi({numTouches:1,numTaps:2}),this._zoomOut=new Hi({numTouches:2,numTaps:1}),this.reset()};Ui.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Ui.prototype.touchstart=function(t,e,n){this._zoomIn.touchstart(t,e,n),this._zoomOut.touchstart(t,e,n)},Ui.prototype.touchmove=function(t,e,n){this._zoomIn.touchmove(t,e,n),this._zoomOut.touchmove(t,e,n)},Ui.prototype.touchend=function(t,e,n){var i=this,r=this._zoomIn.touchend(t,e,n),o=this._zoomOut.touchend(t,e,n);return r?(this._active=!0,t.preventDefault(),setTimeout(function(){return i.reset()},0),{cameraAnimation:function(e){return e.easeTo({duration:300,zoom:e.getZoom()+1,around:e.unproject(r)},{originalEvent:t})}}):o?(this._active=!0,t.preventDefault(),setTimeout(function(){return i.reset()},0),{cameraAnimation:function(e){return e.easeTo({duration:300,zoom:e.getZoom()-1,around:e.unproject(o)},{originalEvent:t})}}):void 0},Ui.prototype.touchcancel=function(){this.reset()},Ui.prototype.enable=function(){this._enabled=!0},Ui.prototype.disable=function(){this._enabled=!1,this.reset()},Ui.prototype.isEnabled=function(){return this._enabled},Ui.prototype.isActive=function(){return this._active};var Vi={0:1,2:2},qi=function(t){this.reset(),this._clickTolerance=t.clickTolerance||1};qi.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},qi.prototype._correctButton=function(t,e){return!1},qi.prototype._move=function(t,e){return{}},qi.prototype.mousedown=function(t,e){if(!this._lastPoint){var i=n.mouseButton(t);this._correctButton(t,i)&&(this._lastPoint=e,this._eventButton=i)}},qi.prototype.mousemoveWindow=function(t,e){var n=this._lastPoint;if(n)if(t.preventDefault(),function(t,e){var n=Vi[e];return void 0===t.buttons||(t.buttons&n)!==n}(t,this._eventButton))this.reset();else if(this._moved||!(e.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=e,this._move(n,e)},qi.prototype.mouseupWindow=function(t){this._lastPoint&&n.mouseButton(t)===this._eventButton&&(this._moved&&n.suppressClick(),this.reset())},qi.prototype.enable=function(){this._enabled=!0},qi.prototype.disable=function(){this._enabled=!1,this.reset()},qi.prototype.isEnabled=function(){return this._enabled},qi.prototype.isActive=function(){return this._active};var Gi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.mousedown=function(e,n){t.prototype.mousedown.call(this,e,n),this._lastPoint&&(this._active=!0)},e.prototype._correctButton=function(t,e){return 0===e&&!t.ctrlKey},e.prototype._move=function(t,e){return{around:e,panDelta:e.sub(t)}},e}(qi),Wi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._correctButton=function(t,e){return 0===e&&t.ctrlKey||2===e},e.prototype._move=function(t,e){var n=.8*(e.x-t.x);if(n)return this._active=!0,{bearingDelta:n}},e.prototype.contextmenu=function(t){t.preventDefault()},e}(qi),Xi=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype._correctButton=function(t,e){return 0===e&&t.ctrlKey||2===e},e.prototype._move=function(t,e){var n=-.5*(e.y-t.y);if(n)return this._active=!0,{pitchDelta:n}},e.prototype.contextmenu=function(t){t.preventDefault()},e}(qi),Ki=function(t){this._minTouches=1,this._clickTolerance=t.clickTolerance||1,this.reset()};Ki.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new t.Point(0,0)},Ki.prototype.touchstart=function(t,e,n){return this._calculateTransform(t,e,n)},Ki.prototype.touchmove=function(t,e,n){if(this._active&&!(n.length<this._minTouches))return t.preventDefault(),this._calculateTransform(t,e,n)},Ki.prototype.touchend=function(t,e,n){this._calculateTransform(t,e,n),this._active&&n.length<this._minTouches&&this.reset()},Ki.prototype.touchcancel=function(){this.reset()},Ki.prototype._calculateTransform=function(e,n,i){i.length>0&&(this._active=!0);var r=ji(i,n),o=new t.Point(0,0),a=new t.Point(0,0),s=0;for(var u in r){var l=r[u],c=this._touches[u];c&&(o._add(l),a._add(l.sub(c)),s++,r[u]=l)}if(this._touches=r,!(s<this._minTouches)&&a.mag()){var h=a.div(s);if(this._sum._add(h),!(this._sum.mag()<this._clickTolerance))return{around:o.div(s),panDelta:h}}},Ki.prototype.enable=function(){this._enabled=!0},Ki.prototype.disable=function(){this._enabled=!1,this.reset()},Ki.prototype.isEnabled=function(){return this._enabled},Ki.prototype.isActive=function(){return this._active};var Zi=function(){this.reset()};function Qi(t,e,n){for(var i=0;i<t.length;i++)if(t[i].identifier===n)return e[i]}function Ji(t,e){return Math.log(t/e)/Math.LN2}Zi.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},Zi.prototype._start=function(t){},Zi.prototype._move=function(t,e,n){return{}},Zi.prototype.touchstart=function(t,e,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([e[0],e[1]]))},Zi.prototype.touchmove=function(t,e,n){if(this._firstTwoTouches){t.preventDefault();var i=this._firstTwoTouches,r=i[1],o=Qi(n,e,i[0]),a=Qi(n,e,r);if(o&&a){var s=this._aroundCenter?null:o.add(a).div(2);return this._move([o,a],s,t)}}},Zi.prototype.touchend=function(t,e,i){if(this._firstTwoTouches){var r=this._firstTwoTouches,o=r[1],a=Qi(i,e,r[0]),s=Qi(i,e,o);a&&s||(this._active&&n.suppressClick(),this.reset())}},Zi.prototype.touchcancel=function(){this.reset()},Zi.prototype.enable=function(t){this._enabled=!0,this._aroundCenter=!!t&&"center"===t.around},Zi.prototype.disable=function(){this._enabled=!1,this.reset()},Zi.prototype.isEnabled=function(){return this._enabled},Zi.prototype.isActive=function(){return this._active};var $i=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.reset=function(){t.prototype.reset.call(this),delete this._distance,delete this._startDistance},e.prototype._start=function(t){this._startDistance=this._distance=t[0].dist(t[1])},e.prototype._move=function(t,e){var n=this._distance;if(this._distance=t[0].dist(t[1]),this._active||!(Math.abs(Ji(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Ji(this._distance,n),pinchAround:e}},e}(Zi);function tr(t,e){return 180*t.angleWith(e)/Math.PI}var er=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.reset=function(){t.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},e.prototype._start=function(t){this._startVector=this._vector=t[0].sub(t[1]),this._minDiameter=t[0].dist(t[1])},e.prototype._move=function(t,e){var n=this._vector;if(this._vector=t[0].sub(t[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:tr(this._vector,n),pinchAround:e}},e.prototype._isBelowThreshold=function(t){this._minDiameter=Math.min(this._minDiameter,t.mag());var e=25/(Math.PI*this._minDiameter)*360,n=tr(t,this._startVector);return Math.abs(n)<e},e}(Zi);function nr(t){return Math.abs(t.y)>Math.abs(t.x)}var ir=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.reset=function(){t.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},e.prototype._start=function(t){this._lastPoints=t,nr(t[0].sub(t[1]))&&(this._valid=!1)},e.prototype._move=function(t,e,n){var i=t[0].sub(this._lastPoints[0]),r=t[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(i,r,n.timeStamp),this._valid)return this._lastPoints=t,this._active=!0,{pitchDelta:(i.y+r.y)/2*-.5}},e.prototype.gestureBeginsVertically=function(t,e,n){if(void 0!==this._valid)return this._valid;var i=t.mag()>=2,r=e.mag()>=2;if(i||r){if(!i||!r)return void 0===this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;var o=t.y>0==e.y>0;return nr(t)&&nr(e)&&o}},e}(Zi),rr={panStep:100,bearingStep:15,pitchStep:10},or=function(){var t=rr;this._panStep=t.panStep,this._bearingStep=t.bearingStep,this._pitchStep=t.pitchStep,this._rotationDisabled=!1};function ar(t){return t*(2-t)}or.prototype.reset=function(){this._active=!1},or.prototype.keydown=function(t){var e=this;if(!(t.altKey||t.ctrlKey||t.metaKey)){var n=0,i=0,r=0,o=0,a=0;switch(t.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:t.shiftKey?i=-1:(t.preventDefault(),o=-1);break;case 39:t.shiftKey?i=1:(t.preventDefault(),o=1);break;case 38:t.shiftKey?r=1:(t.preventDefault(),a=-1);break;case 40:t.shiftKey?r=-1:(t.preventDefault(),a=1);break;default:return}return this._rotationDisabled&&(i=0,r=0),{cameraAnimation:function(s){var u=s.getZoom();s.easeTo({duration:300,easeId:"keyboardHandler",easing:ar,zoom:n?Math.round(u)+n*(t.shiftKey?2:1):u,bearing:s.getBearing()+i*e._bearingStep,pitch:s.getPitch()+r*e._pitchStep,offset:[-o*e._panStep,-a*e._panStep],center:s.getCenter()},{originalEvent:t})}}}},or.prototype.enable=function(){this._enabled=!0},or.prototype.disable=function(){this._enabled=!1,this.reset()},or.prototype.isEnabled=function(){return this._enabled},or.prototype.isActive=function(){return this._active},or.prototype.disableRotation=function(){this._rotationDisabled=!0},or.prototype.enableRotation=function(){this._rotationDisabled=!1};var sr=function(e,n){this._map=e,this._el=e.getCanvasContainer(),this._handler=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,t.bindAll(["_onTimeout"],this)};sr.prototype.setZoomRate=function(t){this._defaultZoomRate=t},sr.prototype.setWheelZoomRate=function(t){this._wheelZoomRate=t},sr.prototype.isEnabled=function(){return!!this._enabled},sr.prototype.isActive=function(){return!!this._active||void 0!==this._finishTimeout},sr.prototype.isZooming=function(){return!!this._zooming},sr.prototype.enable=function(t){this.isEnabled()||(this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},sr.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},sr.prototype.wheel=function(e){if(this.isEnabled()){var n=e.deltaMode===t.window.WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY,i=t.browser.now(),r=i-(this._lastWheelEventTime||0);this._lastWheelEventTime=i,0!==n&&n%4.000244140625==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(r*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),e.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=e,this._delta-=n,this._active||this._start(e)),e.preventDefault()}},sr.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(t)},sr.prototype._start=function(e){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var i=n.mousePos(this._el,e);this._around=t.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(i)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},sr.prototype.renderFrame=function(){var e=this;if(this._frameId&&(this._frameId=null,this.isActive())){var n=this._map.transform;if(0!==this._delta){var i="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,r=2/(1+Math.exp(-Math.abs(this._delta*i)));this._delta<0&&0!==r&&(r=1/r);var o="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(o*r))),"wheel"===this._type&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var a,s="number"==typeof this._targetZoom?this._targetZoom:n.zoom,u=this._startZoom,l=this._easing,c=!1;if("wheel"===this._type&&u&&l){var h=Math.min((t.browser.now()-this._lastWheelEventTime)/200,1),d=l(h);a=t.number(u,s,d),h<1?this._frameId||(this._frameId=!0):c=!0}else a=s,c=!0;return this._active=!0,c&&(this._active=!1,this._finishTimeout=setTimeout(function(){e._zooming=!1,e._handler._triggerRenderFrame(),delete e._targetZoom,delete e._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!c,zoomDelta:a-n.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},sr.prototype._smoothOutEasing=function(e){var n=t.ease;if(this._prevEase){var i=this._prevEase,r=(t.browser.now()-i.start)/i.duration,o=i.easing(r+.01)-i.easing(r),a=.27/Math.sqrt(o*o+1e-4)*.01,s=Math.sqrt(.0729-a*a);n=t.bezier(a,s,.25,1)}return this._prevEase={start:t.browser.now(),duration:e,easing:n},n},sr.prototype.reset=function(){this._active=!1};var ur=function(t,e){this._clickZoom=t,this._tapZoom=e};ur.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},ur.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},ur.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},ur.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var lr=function(){this.reset()};lr.prototype.reset=function(){this._active=!1},lr.prototype.dblclick=function(t,e){return t.preventDefault(),{cameraAnimation:function(n){n.easeTo({duration:300,zoom:n.getZoom()+(t.shiftKey?-1:1),around:n.unproject(e)},{originalEvent:t})}}},lr.prototype.enable=function(){this._enabled=!0},lr.prototype.disable=function(){this._enabled=!1,this.reset()},lr.prototype.isEnabled=function(){return this._enabled},lr.prototype.isActive=function(){return this._active};var cr=function(){this._tap=new Hi({numTouches:1,numTaps:1}),this.reset()};cr.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},cr.prototype.touchstart=function(t,e,n){this._swipePoint||(this._tapTime&&t.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=e[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(t,e,n))},cr.prototype.touchmove=function(t,e,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;var i=e[0],r=i.y-this._swipePoint.y;return this._swipePoint=i,t.preventDefault(),this._active=!0,{zoomDelta:r/128}}}else this._tap.touchmove(t,e,n)},cr.prototype.touchend=function(t,e,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(t,e,n)&&(this._tapTime=t.timeStamp)},cr.prototype.touchcancel=function(){this.reset()},cr.prototype.enable=function(){this._enabled=!0},cr.prototype.disable=function(){this._enabled=!1,this.reset()},cr.prototype.isEnabled=function(){return this._enabled},cr.prototype.isActive=function(){return this._active};var hr=function(t,e,n){this._el=t,this._mousePan=e,this._touchPan=n};hr.prototype.enable=function(t){this._inertiaOptions=t||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},hr.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},hr.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},hr.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var dr=function(t,e,n){this._pitchWithRotate=t.pitchWithRotate,this._mouseRotate=e,this._mousePitch=n};dr.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},dr.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},dr.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},dr.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var fr=function(t,e,n,i){this._el=t,this._touchZoom=e,this._touchRotate=n,this._tapDragZoom=i,this._rotationDisabled=!1,this._enabled=!0};fr.prototype.enable=function(t){this._touchZoom.enable(t),this._rotationDisabled||this._touchRotate.enable(t),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},fr.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},fr.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},fr.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},fr.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},fr.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var pr=function(t){return t.zoom||t.drag||t.pitch||t.rotate},mr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(t.Event);function gr(t){return t.panDelta&&t.panDelta.mag()||t.zoomDelta||t.bearingDelta||t.pitchDelta}var yr=function(e,i){this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Pi(e),this._bearingSnap=i.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(i),t.bindAll(["handleEvent","handleWindowEvent"],this);var r=this._el;this._listeners=[[r,"touchstart",{passive:!0}],[r,"touchmove",{passive:!1}],[r,"touchend",void 0],[r,"touchcancel",void 0],[r,"mousedown",void 0],[r,"mousemove",void 0],[r,"mouseup",void 0],[t.window.document,"mousemove",{capture:!0}],[t.window.document,"mouseup",void 0],[r,"mouseover",void 0],[r,"mouseout",void 0],[r,"dblclick",void 0],[r,"click",void 0],[r,"keydown",{capture:!1}],[r,"keyup",void 0],[r,"wheel",{passive:!1}],[r,"contextmenu",void 0],[t.window,"blur",void 0]];for(var o=0,a=this._listeners;o<a.length;o+=1){var s=a[o],u=s[0];n.addEventListener(u,s[1],u===t.window.document?this.handleWindowEvent:this.handleEvent,s[2])}};yr.prototype.destroy=function(){for(var e=0,i=this._listeners;e<i.length;e+=1){var r=i[e],o=r[0];n.removeEventListener(o,r[1],o===t.window.document?this.handleWindowEvent:this.handleEvent,r[2])}},yr.prototype._addDefaultHandlers=function(t){var e=this._map,n=e.getCanvasContainer();this._add("mapEvent",new Fi(e,t));var i=e.boxZoom=new zi(e,t);this._add("boxZoom",i);var r=new Ui,o=new lr;e.doubleClickZoom=new ur(o,r),this._add("tapZoom",r),this._add("clickZoom",o);var a=new cr;this._add("tapDragZoom",a);var s=e.touchPitch=new ir;this._add("touchPitch",s);var u=new Wi(t),l=new Xi(t);e.dragRotate=new dr(t,u,l),this._add("mouseRotate",u,["mousePitch"]),this._add("mousePitch",l,["mouseRotate"]);var c=new Gi(t),h=new Ki(t);e.dragPan=new hr(n,c,h),this._add("mousePan",c),this._add("touchPan",h,["touchZoom","touchRotate"]);var d=new er,f=new $i;e.touchZoomRotate=new fr(n,f,d,a),this._add("touchRotate",d,["touchPan","touchZoom"]),this._add("touchZoom",f,["touchPan","touchRotate"]);var p=e.scrollZoom=new sr(e,this);this._add("scrollZoom",p,["mousePan"]);var m=e.keyboard=new or;this._add("keyboard",m),this._add("blockableMapEvent",new Yi(e));for(var g=0,y=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];g<y.length;g+=1){var v=y[g];t.interactive&&t[v]&&e[v].enable(t[v])}},yr.prototype._add=function(t,e,n){this._handlers.push({handlerName:t,handler:e,allowed:n}),this._handlersById[t]=e},yr.prototype.stop=function(t){if(!this._updatingCamera){for(var e=0,n=this._handlers;e<n.length;e+=1)n[e].handler.reset();this._inertia.clear(),this._fireEvents({},{},t),this._changes=[]}},yr.prototype.isActive=function(){for(var t=0,e=this._handlers;t<e.length;t+=1)if(e[t].handler.isActive())return!0;return!1},yr.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},yr.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},yr.prototype.isMoving=function(){return Boolean(pr(this._eventsInProgress))||this.isZooming()},yr.prototype._blockedByActive=function(t,e,n){for(var i in t)if(i!==n&&(!e||e.indexOf(i)<0))return!0;return!1},yr.prototype.handleWindowEvent=function(t){this.handleEvent(t,t.type+"Window")},yr.prototype._getMapTouches=function(t){for(var e=[],n=0,i=t;n<i.length;n+=1){var r=i[n];this._el.contains(r.target)&&e.push(r)}return e},yr.prototype.handleEvent=function(t,e){if("blur"!==t.type){this._updatingCamera=!0;for(var i="renderFrame"===t.type?void 0:t,r={needsRenderFrame:!1},o={},a={},s=t.touches?this._getMapTouches(t.touches):void 0,u=s?n.touchPos(this._el,s):n.mousePos(this._el,t),l=0,c=this._handlers;l<c.length;l+=1){var h=c[l],d=h.handlerName,f=h.handler,p=h.allowed;if(f.isEnabled()){var m=void 0;this._blockedByActive(a,p,d)?f.reset():f[e||t.type]&&(m=f[e||t.type](t,u,s),this.mergeHandlerResult(r,o,m,d,i),m&&m.needsRenderFrame&&this._triggerRenderFrame()),(m||f.isActive())&&(a[d]=f)}}var g={};for(var y in this._previousActiveHandlers)a[y]||(g[y]=i);this._previousActiveHandlers=a,(Object.keys(g).length||gr(r))&&(this._changes.push([r,o,g]),this._triggerRenderFrame()),(Object.keys(a).length||gr(r))&&this._map._stop(!0),this._updatingCamera=!1;var v=r.cameraAnimation;v&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],v(this._map))}else this.stop(!0)},yr.prototype.mergeHandlerResult=function(e,n,i,r,o){if(i){t.extend(e,i);var a={handlerName:r,originalEvent:i.originalEvent||o};void 0!==i.zoomDelta&&(n.zoom=a),void 0!==i.panDelta&&(n.drag=a),void 0!==i.pitchDelta&&(n.pitch=a),void 0!==i.bearingDelta&&(n.rotate=a)}},yr.prototype._applyChanges=function(){for(var e={},n={},i={},r=0,o=this._changes;r<o.length;r+=1){var a=o[r],s=a[0],u=a[1],l=a[2];s.panDelta&&(e.panDelta=(e.panDelta||new t.Point(0,0))._add(s.panDelta)),s.zoomDelta&&(e.zoomDelta=(e.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(e.bearingDelta=(e.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(e.pitchDelta=(e.pitchDelta||0)+s.pitchDelta),void 0!==s.around&&(e.around=s.around),void 0!==s.pinchAround&&(e.pinchAround=s.pinchAround),s.noInertia&&(e.noInertia=s.noInertia),t.extend(n,u),t.extend(i,l)}this._updateMapTransform(e,n,i),this._changes=[]},yr.prototype._updateMapTransform=function(t,e,n){var i=this._map,r=i.transform;if(!gr(t))return this._fireEvents(e,n,!0);var o=t.panDelta,a=t.zoomDelta,s=t.bearingDelta,u=t.pitchDelta,l=t.around,c=t.pinchAround;void 0!==c&&(l=c),i._stop(!0),l=l||i.transform.centerPoint;var h=r.pointLocation(o?l.sub(o):l);s&&(r.bearing+=s),u&&(r.pitch+=u),a&&(r.zoom+=a),r.setLocationAtPoint(h,l),this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(e,n,!0)},yr.prototype._fireEvents=function(e,n,i){var r=this,o=pr(this._eventsInProgress),a=pr(e),s={};for(var u in e)this._eventsInProgress[u]||(s[u+"start"]=e[u].originalEvent),this._eventsInProgress[u]=e[u];for(var l in!o&&a&&this._fireEvent("movestart",a.originalEvent),s)this._fireEvent(l,s[l]);for(var c in a&&this._fireEvent("move",a.originalEvent),e)this._fireEvent(c,e[c].originalEvent);var h,d={};for(var f in this._eventsInProgress){var p=this._eventsInProgress[f],m=p.handlerName,g=p.originalEvent;this._handlersById[m].isActive()||(delete this._eventsInProgress[f],d[f+"end"]=h=n[m]||g)}for(var y in d)this._fireEvent(y,d[y]);var v=pr(this._eventsInProgress);if(i&&(o||a)&&!v){this._updatingCamera=!0;var _=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),b=function(t){return 0!==t&&-r._bearingSnap<t&&t<r._bearingSnap};_?(b(_.bearing||this._map.getBearing())&&(_.bearing=0),this._map.easeTo(_,{originalEvent:h})):(this._map.fire(new t.Event("moveend",{originalEvent:h})),b(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},yr.prototype._fireEvent=function(e,n){this._map.fire(new t.Event(e,n?{originalEvent:n}:{}))},yr.prototype._requestFrame=function(){var t=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(e){delete t._frameId,t.handleEvent(new mr("renderFrame",{timeStamp:e})),t._applyChanges()})},yr.prototype._triggerRenderFrame=function(){void 0===this._frameId&&(this._frameId=this._requestFrame())};var vr=function(e){function n(n,i){e.call(this),this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=i.bearingSnap,t.bindAll(["_renderFrameCallback"],this)}return e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n,n.prototype.getCenter=function(){return new t.LngLat(this.transform.center.lng,this.transform.center.lat)},n.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},n.prototype.panBy=function(e,n,i){return e=t.Point.convert(e).mult(-1),this.panTo(this.transform.center,t.extend({offset:e},n),i)},n.prototype.panTo=function(e,n,i){return this.easeTo(t.extend({center:e},n),i)},n.prototype.getZoom=function(){return this.transform.zoom},n.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},n.prototype.zoomTo=function(e,n,i){return this.easeTo(t.extend({zoom:e},n),i)},n.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},n.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},n.prototype.getBearing=function(){return this.transform.bearing},n.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},n.prototype.getPadding=function(){return this.transform.padding},n.prototype.setPadding=function(t,e){return this.jumpTo({padding:t},e),this},n.prototype.rotateTo=function(e,n,i){return this.easeTo(t.extend({bearing:e},n),i)},n.prototype.resetNorth=function(e,n){return this.rotateTo(0,t.extend({duration:1e3},e),n),this},n.prototype.resetNorthPitch=function(e,n){return this.easeTo(t.extend({bearing:0,pitch:0,duration:1e3},e),n),this},n.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},n.prototype.getPitch=function(){return this.transform.pitch},n.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},n.prototype.cameraForBounds=function(e,n){e=t.LngLatBounds.convert(e);var i=n&&n.bearing||0;return this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),i,n)},n.prototype._cameraForBoxAndBearing=function(e,n,i,r){var o={top:0,bottom:0,right:0,left:0};if("number"==typeof(r=t.extend({padding:o,offset:[0,0],maxZoom:this.transform.maxZoom},r)).padding){var a=r.padding;r.padding={top:a,bottom:a,right:a,left:a}}r.padding=t.extend(o,r.padding);var s=this.transform,u=s.padding,l=s.project(t.LngLat.convert(e)),c=s.project(t.LngLat.convert(n)),h=l.rotate(-i*Math.PI/180),d=c.rotate(-i*Math.PI/180),f=new t.Point(Math.max(h.x,d.x),Math.max(h.y,d.y)),p=new t.Point(Math.min(h.x,d.x),Math.min(h.y,d.y)),m=f.sub(p),g=(s.width-(u.left+u.right+r.padding.left+r.padding.right))/m.x,y=(s.height-(u.top+u.bottom+r.padding.top+r.padding.bottom))/m.y;if(!(y<0||g<0)){var v=Math.min(s.scaleZoom(s.scale*Math.min(g,y)),r.maxZoom),_="number"==typeof r.offset.x?new t.Point(r.offset.x,r.offset.y):t.Point.convert(r.offset),b=new t.Point((r.padding.left-r.padding.right)/2,(r.padding.top-r.padding.bottom)/2).rotate(i*Math.PI/180),x=_.add(b).mult(s.scale/s.zoomScale(v));return{center:s.unproject(l.add(c).div(2).sub(x)),zoom:v,bearing:i}}t.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},n.prototype.fitBounds=function(t,e,n){return this._fitInternal(this.cameraForBounds(t,e),e,n)},n.prototype.fitScreenCoordinates=function(e,n,i,r,o){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(t.Point.convert(e)),this.transform.pointLocation(t.Point.convert(n)),i,r),r,o)},n.prototype._fitInternal=function(e,n,i){return e?(delete(n=t.extend(e,n)).padding,n.linear?this.easeTo(n,i):this.flyTo(n,i)):this},n.prototype.jumpTo=function(e,n){this.stop();var i=this.transform,r=!1,o=!1,a=!1;return"zoom"in e&&i.zoom!==+e.zoom&&(r=!0,i.zoom=+e.zoom),void 0!==e.center&&(i.center=t.LngLat.convert(e.center)),"bearing"in e&&i.bearing!==+e.bearing&&(o=!0,i.bearing=+e.bearing),"pitch"in e&&i.pitch!==+e.pitch&&(a=!0,i.pitch=+e.pitch),null==e.padding||i.isPaddingEqual(e.padding)||(i.padding=e.padding),this.fire(new t.Event("movestart",n)).fire(new t.Event("move",n)),r&&this.fire(new t.Event("zoomstart",n)).fire(new t.Event("zoom",n)).fire(new t.Event("zoomend",n)),o&&this.fire(new t.Event("rotatestart",n)).fire(new t.Event("rotate",n)).fire(new t.Event("rotateend",n)),a&&this.fire(new t.Event("pitchstart",n)).fire(new t.Event("pitch",n)).fire(new t.Event("pitchend",n)),this.fire(new t.Event("moveend",n))},n.prototype.easeTo=function(e,n){var i=this;this._stop(!1,e.easeId),(!1===(e=t.extend({offset:[0,0],duration:500,easing:t.ease},e)).animate||!e.essential&&t.browser.prefersReducedMotion)&&(e.duration=0);var r=this.transform,o=this.getZoom(),a=this.getBearing(),s=this.getPitch(),u=this.getPadding(),l="zoom"in e?+e.zoom:o,c="bearing"in e?this._normalizeBearing(e.bearing,a):a,h="pitch"in e?+e.pitch:s,d="padding"in e?e.padding:r.padding,f=t.Point.convert(e.offset),p=r.centerPoint.add(f),m=r.pointLocation(p),g=t.LngLat.convert(e.center||m);this._normalizeCenter(g);var y,v,_=r.project(m),b=r.project(g).sub(_),x=r.zoomScale(l-o);e.around&&(y=t.LngLat.convert(e.around),v=r.locationPoint(y));var w={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||l!==o,this._rotating=this._rotating||a!==c,this._pitching=this._pitching||h!==s,this._padding=!r.isPaddingEqual(d),this._easeId=e.easeId,this._prepareEase(n,e.noMoveStart,w),this._ease(function(e){if(i._zooming&&(r.zoom=t.number(o,l,e)),i._rotating&&(r.bearing=t.number(a,c,e)),i._pitching&&(r.pitch=t.number(s,h,e)),i._padding&&(r.interpolatePadding(u,d,e),p=r.centerPoint.add(f)),y)r.setLocationAtPoint(y,v);else{var m=r.zoomScale(r.zoom-o),g=l>o?Math.min(2,x):Math.max(.5,x),w=Math.pow(g,1-e),k=r.unproject(_.add(b.mult(e*w)).mult(m));r.setLocationAtPoint(r.renderWorldCopies?k.wrap():k,p)}i._fireMoveEvents(n)},function(t){i._afterEase(n,t)},e),this},n.prototype._prepareEase=function(e,n,i){void 0===i&&(i={}),this._moving=!0,n||i.moving||this.fire(new t.Event("movestart",e)),this._zooming&&!i.zooming&&this.fire(new t.Event("zoomstart",e)),this._rotating&&!i.rotating&&this.fire(new t.Event("rotatestart",e)),this._pitching&&!i.pitching&&this.fire(new t.Event("pitchstart",e))},n.prototype._fireMoveEvents=function(e){this.fire(new t.Event("move",e)),this._zooming&&this.fire(new t.Event("zoom",e)),this._rotating&&this.fire(new t.Event("rotate",e)),this._pitching&&this.fire(new t.Event("pitch",e))},n.prototype._afterEase=function(e,n){if(!this._easeId||!n||this._easeId!==n){delete this._easeId;var i=this._zooming,r=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,i&&this.fire(new t.Event("zoomend",e)),r&&this.fire(new t.Event("rotateend",e)),o&&this.fire(new t.Event("pitchend",e)),this.fire(new t.Event("moveend",e))}},n.prototype.flyTo=function(e,n){var i=this;if(!e.essential&&t.browser.prefersReducedMotion){var r=t.pick(e,["center","zoom","bearing","pitch","around"]);return this.jumpTo(r,n)}this.stop(),e=t.extend({offset:[0,0],speed:1.2,curve:1.42,easing:t.ease},e);var o=this.transform,a=this.getZoom(),s=this.getBearing(),u=this.getPitch(),l=this.getPadding(),c="zoom"in e?t.clamp(+e.zoom,o.minZoom,o.maxZoom):a,h="bearing"in e?this._normalizeBearing(e.bearing,s):s,d="pitch"in e?+e.pitch:u,f="padding"in e?e.padding:o.padding,p=o.zoomScale(c-a),m=t.Point.convert(e.offset),g=o.centerPoint.add(m),y=o.pointLocation(g),v=t.LngLat.convert(e.center||y);this._normalizeCenter(v);var _=o.project(y),b=o.project(v).sub(_),x=e.curve,w=Math.max(o.width,o.height),k=w/p,M=b.mag();if("minZoom"in e){var S=t.clamp(Math.min(e.minZoom,a,c),o.minZoom,o.maxZoom),E=w/o.zoomScale(S-a);x=Math.sqrt(E/M*2)}var L=x*x;function T(t){var e=(k*k-w*w+(t?-1:1)*L*L*M*M)/(2*(t?k:w)*L*M);return Math.log(Math.sqrt(e*e+1)-e)}function C(t){return(Math.exp(t)-Math.exp(-t))/2}function I(t){return(Math.exp(t)+Math.exp(-t))/2}var P=T(0),D=function(t){return I(P)/I(P+x*t)},O=function(t){return w*((I(P)*(C(e=P+x*t)/I(e))-C(P))/L)/M;var e},A=(T(1)-P)/x;if(Math.abs(M)<1e-6||!isFinite(A)){if(Math.abs(w-k)<1e-6)return this.easeTo(e,n);var R=k<w?-1:1;A=Math.abs(Math.log(k/w))/x,O=function(){return 0},D=function(t){return Math.exp(R*x*t)}}return e.duration="duration"in e?+e.duration:1e3*A/("screenSpeed"in e?+e.screenSpeed/x:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=s!==h,this._pitching=d!==u,this._padding=!o.isPaddingEqual(f),this._prepareEase(n,!1),this._ease(function(e){var r=e*A,p=1/D(r);o.zoom=1===e?c:a+o.scaleZoom(p),i._rotating&&(o.bearing=t.number(s,h,e)),i._pitching&&(o.pitch=t.number(u,d,e)),i._padding&&(o.interpolatePadding(l,f,e),g=o.centerPoint.add(m));var y=1===e?v:o.unproject(_.add(b.mult(O(r))).mult(p));o.setLocationAtPoint(o.renderWorldCopies?y.wrap():y,g),i._fireMoveEvents(n)},function(){return i._afterEase(n)},e),this},n.prototype.isEasing=function(){return!!this._easeFrameId},n.prototype.stop=function(){return this._stop()},n.prototype._stop=function(t,e){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var n=this._onEaseEnd;delete this._onEaseEnd,n.call(this,e)}if(!t){var i=this.handlers;i&&i.stop(!1)}return this},n.prototype._ease=function(e,n,i){!1===i.animate||0===i.duration?(e(1),n()):(this._easeStart=t.browser.now(),this._easeOptions=i,this._onEaseFrame=e,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},n.prototype._renderFrameCallback=function(){var e=Math.min((t.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},n.prototype._normalizeBearing=function(e,n){e=t.wrap(e,-180,180);var i=Math.abs(e-n);return Math.abs(e-360-n)<i&&(e-=360),Math.abs(e+360-n)<i&&(e+=360),e},n.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var n=t.lng-e.center.lng;t.lng+=n>180?-360:n<-180?360:0}},n}(t.Evented),_r=function(e){void 0===e&&(e={}),this.options=e,t.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};_r.prototype.getDefaultPosition=function(){return"bottom-right"},_r.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=n.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=n.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},_r.prototype.onRemove=function(){n.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},_r.prototype._setElementTitle=function(t,e){var n=this._map._getUIString("AttributionControl."+e);t.title=n,t.setAttribute("aria-label",n)},_r.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},_r.prototype._updateEditLink=function(){var e=this._editLink;e||(e=this._editLink=this._container.querySelector(".mapbox-improve-map"));var n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||t.config.ACCESS_TOKEN}];if(e){var i=n.reduce(function(t,e,i){return e.value&&(t+=e.key+"="+e.value+(i<n.length-1?"&":"")),t},"?");e.href=t.config.FEEDBACK_URL+"/"+i+(this._map._hash?this._map._hash.getHashString(!0):""),e.rel="noopener nofollow",this._setElementTitle(e,"MapFeedback")}},_r.prototype._updateData=function(t){!t||"metadata"!==t.sourceDataType&&"visibility"!==t.sourceDataType&&"style"!==t.dataType||(this._updateAttributions(),this._updateEditLink())},_r.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?t=t.concat(this.options.customAttribution.map(function(t){return"string"!=typeof t?"":t})):"string"==typeof this.options.customAttribution&&t.push(this.options.customAttribution)),this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var n=this._map.style.sourceCaches;for(var i in n){var r=n[i];if(r.used){var o=r.getSource();o.attribution&&t.indexOf(o.attribution)<0&&t.push(o.attribution)}}t.sort(function(t,e){return t.length-e.length});var a=(t=t.filter(function(e,n){for(var i=n+1;i<t.length;i++)if(t[i].indexOf(e)>=0)return!1;return!0})).join(" | ");a!==this._attribHTML&&(this._attribHTML=a,t.length?(this._innerContainer.innerHTML=a,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},_r.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var br=function(){t.bindAll(["_updateLogo"],this),t.bindAll(["_updateCompact"],this)};br.prototype.onAdd=function(t){this._map=t,this._container=n.create("div","mapboxgl-ctrl");var e=n.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.rel="noopener nofollow",e.href="https://www.mapbox.com/",e.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),e.setAttribute("rel","noopener nofollow"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},br.prototype.onRemove=function(){n.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},br.prototype.getDefaultPosition=function(){return"bottom-left"},br.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},br.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t)if(t[e].getSource().mapbox_logo)return!0;return!1}},br.prototype._updateCompact=function(){var t=this._container.children;if(t.length){var e=t[0];this._map.getCanvasContainer().offsetWidth<250?e.classList.add("mapboxgl-compact"):e.classList.remove("mapboxgl-compact")}};var xr=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};xr.prototype.add=function(t){var e=++this._id;return this._queue.push({callback:t,id:e,cancelled:!1}),e},xr.prototype.remove=function(t){for(var e=this._currentlyRunning,n=0,i=e?this._queue.concat(e):this._queue;n<i.length;n+=1){var r=i[n];if(r.id===t)return void(r.cancelled=!0)}},xr.prototype.run=function(t){void 0===t&&(t=0);var e=this._currentlyRunning=this._queue;this._queue=[];for(var n=0,i=e;n<i.length;n+=1){var r=i[n];if(!r.cancelled&&(r.callback(t),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},xr.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var wr={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},kr=t.window.HTMLImageElement,Mr=t.window.HTMLElement,Sr=t.window.ImageBitmap,Er={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Lr=function(i){function r(e){var n=this;if(null!=(e=t.extend({},Er,e)).minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=e.minPitch&&null!=e.maxPitch&&e.minPitch>e.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=e.minPitch&&e.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=e.maxPitch&&e.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var r=new ki(e.minZoom,e.maxZoom,e.minPitch,e.maxPitch,e.renderWorldCopies);if(i.call(this,r,e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._antialias=e.antialias,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._crossSourceCollisions=e.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=e.collectResourceTiming,this._renderTaskQueue=new xr,this._controls=[],this._mapId=t.uniqueId(),this._locale=t.extend({},wr,e.locale),this._clickTolerance=e.clickTolerance,this._requestManager=new t.RequestManager(e.transformRequest,e.accessToken),"string"==typeof e.container){if(this._container=t.window.document.getElementById(e.container),!this._container)throw new Error("Container '"+e.container+"' not found.")}else{if(!(e.container instanceof Mr))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=e.container}if(e.maxBounds&&this.setMaxBounds(e.maxBounds),t.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return n._update(!1)}),this.on("moveend",function(){return n._update(!1)}),this.on("zoom",function(){return n._update(!0)}),void 0!==t.window&&(t.window.addEventListener("online",this._onWindowOnline,!1),t.window.addEventListener("resize",this._onWindowResize,!1),t.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new yr(this,e),this._hash=e.hash&&new Si("string"==typeof e.hash&&e.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),e.bounds&&(this.resize(),this.fitBounds(e.bounds,t.extend({},e.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=e.localIdeographFontFamily,e.style&&this.setStyle(e.style,{localIdeographFontFamily:e.localIdeographFontFamily}),e.attributionControl&&this.addControl(new _r({customAttribution:e.customAttribution})),this.addControl(new br,e.logoPosition),this.on("style.load",function(){n.transform.unmodified&&n.jumpTo(n.style.stylesheet)}),this.on("data",function(e){n._update("style"===e.dataType),n.fire(new t.Event(e.dataType+"data",e))}),this.on("dataloading",function(e){n.fire(new t.Event(e.dataType+"dataloading",e))})}i&&(r.__proto__=i),(r.prototype=Object.create(i&&i.prototype)).constructor=r;var o={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return r.prototype._getMapId=function(){return this._mapId},r.prototype.addControl=function(e,n){if(void 0===n&&(n=e.getDefaultPosition?e.getDefaultPosition():"top-right"),!e||!e.onAdd)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var i=e.onAdd(this);this._controls.push(e);var r=this._controlPositions[n];return-1!==n.indexOf("bottom")?r.insertBefore(i,r.firstChild):r.appendChild(i),this},r.prototype.removeControl=function(e){if(!e||!e.onRemove)return this.fire(new t.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var n=this._controls.indexOf(e);return n>-1&&this._controls.splice(n,1),e.onRemove(this),this},r.prototype.hasControl=function(t){return this._controls.indexOf(t)>-1},r.prototype.resize=function(e){var n=this._containerDimensions(),i=n[0],r=n[1];this._resizeCanvas(i,r),this.transform.resize(i,r),this.painter.resize(i,r);var o=!this._moving;return o&&(this.stop(),this.fire(new t.Event("movestart",e)).fire(new t.Event("move",e))),this.fire(new t.Event("resize",e)),o&&this.fire(new t.Event("moveend",e)),this},r.prototype.getBounds=function(){return this.transform.getBounds()},r.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},r.prototype.setMaxBounds=function(e){return this.transform.setMaxBounds(t.LngLatBounds.convert(e)),this._update()},r.prototype.setMinZoom=function(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},r.prototype.getMinZoom=function(){return this.transform.minZoom},r.prototype.setMaxZoom=function(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},r.prototype.getMaxZoom=function(){return this.transform.maxZoom},r.prototype.setMinPitch=function(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to 0");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t&&this.setPitch(t),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},r.prototype.getMinPitch=function(){return this.transform.minPitch},r.prototype.setMaxPitch=function(t){if((t=null==t?60:t)>60)throw new Error("maxPitch must be less than or equal to 60");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t&&this.setPitch(t),this;throw new Error("maxPitch must be greater than the current minPitch")},r.prototype.getMaxPitch=function(){return this.transform.maxPitch},r.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},r.prototype.setRenderWorldCopies=function(t){return this.transform.renderWorldCopies=t,this._update()},r.prototype.project=function(e){return this.transform.locationPoint(t.LngLat.convert(e))},r.prototype.unproject=function(e){return this.transform.pointLocation(t.Point.convert(e))},r.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},r.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},r.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},r.prototype._createDelegatedListener=function(t,e,n){var i,r=this;if("mouseenter"===t||"mouseover"===t){var o=!1;return{layer:e,listener:n,delegates:{mousemove:function(i){var a=r.getLayer(e)?r.queryRenderedFeatures(i.point,{layers:[e]}):[];a.length?o||(o=!0,n.call(r,new Ai(t,r,i.originalEvent,{features:a}))):o=!1},mouseout:function(){o=!1}}}}if("mouseleave"===t||"mouseout"===t){var a=!1;return{layer:e,listener:n,delegates:{mousemove:function(i){(r.getLayer(e)?r.queryRenderedFeatures(i.point,{layers:[e]}):[]).length?a=!0:a&&(a=!1,n.call(r,new Ai(t,r,i.originalEvent)))},mouseout:function(e){a&&(a=!1,n.call(r,new Ai(t,r,e.originalEvent)))}}}}return{layer:e,listener:n,delegates:(i={},i[t]=function(t){var i=r.getLayer(e)?r.queryRenderedFeatures(t.point,{layers:[e]}):[];i.length&&(t.features=i,n.call(r,t),delete t.features)},i)}},r.prototype.on=function(t,e,n){if(void 0===n)return i.prototype.on.call(this,t,e);var r=this._createDelegatedListener(t,e,n);for(var o in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[t]=this._delegatedListeners[t]||[],this._delegatedListeners[t].push(r),r.delegates)this.on(o,r.delegates[o]);return this},r.prototype.once=function(t,e,n){if(void 0===n)return i.prototype.once.call(this,t,e);var r=this._createDelegatedListener(t,e,n);for(var o in r.delegates)this.once(o,r.delegates[o]);return this},r.prototype.off=function(t,e,n){var r=this;return void 0===n?i.prototype.off.call(this,t,e):(this._delegatedListeners&&this._delegatedListeners[t]&&function(i){for(var o=i[t],a=0;a<o.length;a++){var s=o[a];if(s.layer===e&&s.listener===n){for(var u in s.delegates)r.off(u,s.delegates[u]);return o.splice(a,1),r}}}(this._delegatedListeners),this)},r.prototype.queryRenderedFeatures=function(e,n){if(!this.style)return[];var i;if(void 0!==n||void 0===e||e instanceof t.Point||Array.isArray(e)||(n=e,e=void 0),n=n||{},(e=e||[[0,0],[this.transform.width,this.transform.height]])instanceof t.Point||"number"==typeof e[0])i=[t.Point.convert(e)];else{var r=t.Point.convert(e[0]),o=t.Point.convert(e[1]);i=[r,new t.Point(o.x,r.y),o,new t.Point(r.x,o.y),r]}return this.style.queryRenderedFeatures(i,n,this.transform)},r.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},r.prototype.setStyle=function(e,n){return!1!==(n=t.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&e?(this._diffStyle(e,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(e,n))},r.prototype._getUIString=function(t){var e=this._locale[t];if(null==e)throw new Error("Missing UI string '"+t+"'");return e},r.prototype._updateStyle=function(t,e){return this.style&&(this.style.setEventedParent(null),this.style._remove()),t?(this.style=new Ue(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t):this.style.loadJSON(t),this):(delete this.style,this)},r.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Ue(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},r.prototype._diffStyle=function(e,n){var i=this;if("string"==typeof e){var r=this._requestManager.normalizeStyleURL(e),o=this._requestManager.transformRequest(r,t.ResourceType.Style);t.getJSON(o,function(e,r){e?i.fire(new t.ErrorEvent(e)):r&&i._updateDiff(r,n)})}else"object"==typeof e&&this._updateDiff(e,n)},r.prototype._updateDiff=function(e,n){try{this.style.setState(e)&&this._update(!0)}catch(i){t.warnOnce("Unable to perform style diff: "+(i.message||i.error||i)+".  Rebuilding the style from scratch."),this._updateStyle(e,n)}},r.prototype.getStyle=function(){if(this.style)return this.style.serialize()},r.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():t.warnOnce("There is no style added to the map.")},r.prototype.addSource=function(t,e){return this._lazyInitEmptyStyle(),this.style.addSource(t,e),this._update(!0)},r.prototype.isSourceLoaded=function(e){var n=this.style&&this.style.sourceCaches[e];if(void 0!==n)return n.loaded();this.fire(new t.ErrorEvent(new Error("There is no source with ID '"+e+"'")))},r.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var n=t[e]._tiles;for(var i in n){var r=n[i];if("loaded"!==r.state&&"errored"!==r.state)return!1}}return!0},r.prototype.addSourceType=function(t,e,n){return this._lazyInitEmptyStyle(),this.style.addSourceType(t,e,n)},r.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0)},r.prototype.getSource=function(t){return this.style.getSource(t)},r.prototype.addImage=function(e,n,i){void 0===i&&(i={});var r=i.pixelRatio;void 0===r&&(r=1);var o=i.sdf;void 0===o&&(o=!1);var a=i.stretchX,s=i.stretchY,u=i.content;if(this._lazyInitEmptyStyle(),n instanceof kr||Sr&&n instanceof Sr){var l=t.browser.getImageData(n);this.style.addImage(e,{data:new t.RGBAImage({width:l.width,height:l.height},l.data),pixelRatio:r,stretchX:a,stretchY:s,content:u,sdf:o,version:0})}else{if(void 0===n.width||void 0===n.height)return this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var c=n;this.style.addImage(e,{data:new t.RGBAImage({width:n.width,height:n.height},new Uint8Array(n.data)),pixelRatio:r,stretchX:a,stretchY:s,content:u,sdf:o,version:0,userImage:c}),c.onAdd&&c.onAdd(this,e)}},r.prototype.updateImage=function(e,n){var i=this.style.getImage(e);if(!i)return this.fire(new t.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var r=n instanceof kr||Sr&&n instanceof Sr?t.browser.getImageData(n):n,o=r.width,a=r.height,s=r.data;return void 0===o||void 0===a?this.fire(new t.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):o!==i.data.width||a!==i.data.height?this.fire(new t.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(i.data.replace(s,!(n instanceof kr||Sr&&n instanceof Sr)),void this.style.updateImage(e,i))},r.prototype.hasImage=function(e){return e?!!this.style.getImage(e):(this.fire(new t.ErrorEvent(new Error("Missing required image id"))),!1)},r.prototype.removeImage=function(t){this.style.removeImage(t)},r.prototype.loadImage=function(e,n){t.getImage(this._requestManager.transformRequest(e,t.ResourceType.Image),n)},r.prototype.listImages=function(){return this.style.listImages()},r.prototype.addLayer=function(t,e){return this._lazyInitEmptyStyle(),this.style.addLayer(t,e),this._update(!0)},r.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0)},r.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0)},r.prototype.getLayer=function(t){return this.style.getLayer(t)},r.prototype.setLayerZoomRange=function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0)},r.prototype.setFilter=function(t,e,n){return void 0===n&&(n={}),this.style.setFilter(t,e,n),this._update(!0)},r.prototype.getFilter=function(t){return this.style.getFilter(t)},r.prototype.setPaintProperty=function(t,e,n,i){return void 0===i&&(i={}),this.style.setPaintProperty(t,e,n,i),this._update(!0)},r.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},r.prototype.setLayoutProperty=function(t,e,n,i){return void 0===i&&(i={}),this.style.setLayoutProperty(t,e,n,i),this._update(!0)},r.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},r.prototype.setLight=function(t,e){return void 0===e&&(e={}),this._lazyInitEmptyStyle(),this.style.setLight(t,e),this._update(!0)},r.prototype.getLight=function(){return this.style.getLight()},r.prototype.setFeatureState=function(t,e){return this.style.setFeatureState(t,e),this._update()},r.prototype.removeFeatureState=function(t,e){return this.style.removeFeatureState(t,e),this._update()},r.prototype.getFeatureState=function(t){return this.style.getFeatureState(t)},r.prototype.getContainer=function(){return this._container},r.prototype.getCanvasContainer=function(){return this._canvasContainer},r.prototype.getCanvas=function(){return this._canvas},r.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.clientWidth||400,e=this._container.clientHeight||300),[t,e]},r.prototype._detectMissingCSS=function(){"rgb(250, 128, 114)"!==t.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&t.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},r.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSCanary=n.create("div","mapboxgl-canary",t)).style.visibility="hidden",this._detectMissingCSS();var e=this._canvasContainer=n.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=n.create("canvas","mapboxgl-canvas",e),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var i=this._containerDimensions();this._resizeCanvas(i[0],i[1]);var r=this._controlContainer=n.create("div","mapboxgl-control-container",t),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){o[t]=n.create("div","mapboxgl-ctrl-"+t,r)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},r.prototype._resizeCanvas=function(e,n){var i=t.browser.devicePixelRatio||1;this._canvas.width=i*e,this._canvas.height=i*n,this._canvas.style.width=e+"px",this._canvas.style.height=n+"px"},r.prototype._setupPainter=function(){var n=t.extend({},e.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),i=this._canvas.getContext("webgl",n)||this._canvas.getContext("experimental-webgl",n);i?(this.painter=new _i(i,this.transform),t.webpSupported.testSupport(i)):this.fire(new t.ErrorEvent(new Error("Failed to initialize WebGL")))},r.prototype._contextLost=function(e){e.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new t.Event("webglcontextlost",{originalEvent:e}))},r.prototype._contextRestored=function(e){this._setupPainter(),this.resize(),this._update(),this.fire(new t.Event("webglcontextrestored",{originalEvent:e}))},r.prototype._onMapScroll=function(t){if(t.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},r.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},r.prototype._update=function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this.triggerRepaint(),this):this},r.prototype._requestRenderFrame=function(t){return this._update(),this._renderTaskQueue.add(t)},r.prototype._cancelRenderFrame=function(t){this._renderTaskQueue.remove(t)},r.prototype._render=function(e){var n,i=this,r=0,o=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(n=o.createQueryEXT(),o.beginQueryEXT(o.TIME_ELAPSED_EXT,n),r=t.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(e),!this._removed){var a=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var s=this.transform.zoom,u=t.browser.now();this.style.zoomHistory.update(s,u);var l=new t.EvaluationParameters(s,{now:u,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),c=l.crossFadingFactor();1===c&&c===this._crossFadingFactor||(a=!0,this._crossFadingFactor=c),this.style.update(l)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new t.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new t.Event("load"))),this.style&&(this.style.hasTransitions()||a)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var h=t.browser.now()-r;o.endQueryEXT(o.TIME_ELAPSED_EXT,n),setTimeout(function(){var e=o.getQueryObjectEXT(n,o.QUERY_RESULT_EXT)/1e6;o.deleteQueryEXT(n),i.fire(new t.Event("gpu-timing-frame",{cpuTime:h,gpuTime:e}))},50)}if(this.listens("gpu-timing-layer")){var d=this.painter.collectGpuTimers();setTimeout(function(){var e=i.painter.queryGpuTimers(d);i.fire(new t.Event("gpu-timing-layer",{layerTimes:e}))},50)}var f=this._sourcesDirty||this._styleDirty||this._placementDirty;return f||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new t.Event("idle")),!this._loaded||this._fullyLoaded||f||(this._fullyLoaded=!0),this}},r.prototype.remove=function(){this._hash&&this._hash.remove();for(var e=0,n=this._controls;e<n.length;e+=1)n[e].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),void 0!==t.window&&(t.window.removeEventListener("resize",this._onWindowResize,!1),t.window.removeEventListener("orientationchange",this._onWindowResize,!1),t.window.removeEventListener("online",this._onWindowOnline,!1));var i=this.painter.context.gl.getExtension("WEBGL_lose_context");i&&i.loseContext(),Tr(this._canvasContainer),Tr(this._controlContainer),Tr(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new t.Event("remove"))},r.prototype.triggerRepaint=function(){var e=this;this.style&&!this._frame&&(this._frame=t.browser.frame(function(t){e._frame=null,e._render(t)}))},r.prototype._onWindowOnline=function(){this._update()},r.prototype._onWindowResize=function(t){this._trackResize&&this.resize({originalEvent:t})._update()},o.showTileBoundaries.get=function(){return!!this._showTileBoundaries},o.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},o.showPadding.get=function(){return!!this._showPadding},o.showPadding.set=function(t){this._showPadding!==t&&(this._showPadding=t,this._update())},o.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},o.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},o.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},o.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},o.repaint.get=function(){return!!this._repaint},o.repaint.set=function(t){this._repaint!==t&&(this._repaint=t,this.triggerRepaint())},o.vertices.get=function(){return!!this._vertices},o.vertices.set=function(t){this._vertices=t,this._update()},r.prototype._setCacheLimits=function(e,n){t.setCacheLimits(e,n)},o.version.get=function(){return t.version},Object.defineProperties(r.prototype,o),r}(vr);function Tr(t){t.parentNode&&t.parentNode.removeChild(t)}var Cr={showCompass:!0,showZoom:!0,visualizePitch:!1},Ir=function(e){var i=this;this.options=t.extend({},Cr,e),this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this.options.showZoom&&(t.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(t){return i._map.zoomIn({},{originalEvent:t})}),n.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(t){return i._map.zoomOut({},{originalEvent:t})}),n.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(t.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(t){i.options.visualizePitch?i._map.resetNorthPitch({},{originalEvent:t}):i._map.resetNorth({},{originalEvent:t})}),this._compassIcon=n.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Ir.prototype._updateZoomButtons=function(){var t=this._map.getZoom(),e=t===this._map.getMaxZoom(),n=t===this._map.getMinZoom();this._zoomInButton.disabled=e,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",e.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())},Ir.prototype._rotateCompassArrow=function(){var t=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=t},Ir.prototype.onAdd=function(t){return this._map=t,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Pr(this._map,this._compass,this.options.visualizePitch)),this._container},Ir.prototype.onRemove=function(){n.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Ir.prototype._createButton=function(t,e){var i=n.create("button",t,this._container);return i.type="button",i.addEventListener("click",e),i},Ir.prototype._setButtonTitle=function(t,e){var n=this._map._getUIString("NavigationControl."+e);t.title=n,t.setAttribute("aria-label",n)};var Pr=function(e,i,r){void 0===r&&(r=!1),this._clickTolerance=10,this.element=i,this.mouseRotate=new Wi({clickTolerance:e.dragRotate._mouseRotate._clickTolerance}),this.map=e,r&&(this.mousePitch=new Xi({clickTolerance:e.dragRotate._mousePitch._clickTolerance})),t.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),n.addEventListener(i,"mousedown",this.mousedown),n.addEventListener(i,"touchstart",this.touchstart,{passive:!1}),n.addEventListener(i,"touchmove",this.touchmove),n.addEventListener(i,"touchend",this.touchend),n.addEventListener(i,"touchcancel",this.reset)};function Dr(e,n,i){if(e=new t.LngLat(e.lng,e.lat),n){var r=new t.LngLat(e.lng-360,e.lat),o=new t.LngLat(e.lng+360,e.lat),a=i.locationPoint(e).distSqr(n);i.locationPoint(r).distSqr(n)<a?e=r:i.locationPoint(o).distSqr(n)<a&&(e=o)}for(;Math.abs(e.lng-i.center.lng)>180;){var s=i.locationPoint(e);if(s.x>=0&&s.y>=0&&s.x<=i.width&&s.y<=i.height)break;e.lng>i.center.lng?e.lng-=360:e.lng+=360}return e}Pr.prototype.down=function(t,e){this.mouseRotate.mousedown(t,e),this.mousePitch&&this.mousePitch.mousedown(t,e),n.disableDrag()},Pr.prototype.move=function(t,e){var n=this.map,i=this.mouseRotate.mousemoveWindow(t,e);if(i&&i.bearingDelta&&n.setBearing(n.getBearing()+i.bearingDelta),this.mousePitch){var r=this.mousePitch.mousemoveWindow(t,e);r&&r.pitchDelta&&n.setPitch(n.getPitch()+r.pitchDelta)}},Pr.prototype.off=function(){var t=this.element;n.removeEventListener(t,"mousedown",this.mousedown),n.removeEventListener(t,"touchstart",this.touchstart,{passive:!1}),n.removeEventListener(t,"touchmove",this.touchmove),n.removeEventListener(t,"touchend",this.touchend),n.removeEventListener(t,"touchcancel",this.reset),this.offTemp()},Pr.prototype.offTemp=function(){n.enableDrag(),n.removeEventListener(t.window,"mousemove",this.mousemove),n.removeEventListener(t.window,"mouseup",this.mouseup)},Pr.prototype.mousedown=function(e){this.down(t.extend({},e,{ctrlKey:!0,preventDefault:function(){return e.preventDefault()}}),n.mousePos(this.element,e)),n.addEventListener(t.window,"mousemove",this.mousemove),n.addEventListener(t.window,"mouseup",this.mouseup)},Pr.prototype.mousemove=function(t){this.move(t,n.mousePos(this.element,t))},Pr.prototype.mouseup=function(t){this.mouseRotate.mouseupWindow(t),this.mousePitch&&this.mousePitch.mouseupWindow(t),this.offTemp()},Pr.prototype.touchstart=function(t){1!==t.targetTouches.length?this.reset():(this._startPos=this._lastPos=n.touchPos(this.element,t.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return t.preventDefault()}},this._startPos))},Pr.prototype.touchmove=function(t){1!==t.targetTouches.length?this.reset():(this._lastPos=n.touchPos(this.element,t.targetTouches)[0],this.move({preventDefault:function(){return t.preventDefault()}},this._lastPos))},Pr.prototype.touchend=function(t){0===t.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Pr.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Or={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Ar(t,e,n){var i=t.classList;for(var r in Or)i.remove("mapboxgl-"+n+"-anchor-"+r);i.add("mapboxgl-"+n+"-anchor-"+e)}var Rr,Nr=function(e){function i(i,r){if(e.call(this),(i instanceof t.window.HTMLElement||r)&&(i=t.extend({element:i},r)),t.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=i&&i.anchor||"center",this._color=i&&i.color||"#3FB1CE",this._scale=i&&i.scale||1,this._draggable=i&&i.draggable||!1,this._clickTolerance=i&&i.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=i&&i.rotation||0,this._rotationAlignment=i&&i.rotationAlignment||"auto",this._pitchAlignment=i&&i.pitchAlignment&&"auto"!==i.pitchAlignment?i.pitchAlignment:this._rotationAlignment,i&&i.element)this._element=i.element,this._offset=t.Point.convert(i&&i.offset||[0,0]);else{this._defaultMarker=!0,this._element=n.create("div"),this._element.setAttribute("aria-label","Map marker");var o=n.createNS("http://www.w3.org/2000/svg","svg");o.setAttributeNS(null,"display","block"),o.setAttributeNS(null,"height","41px"),o.setAttributeNS(null,"width","27px"),o.setAttributeNS(null,"viewBox","0 0 27 41");var a=n.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"stroke-width","1"),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"fill-rule","evenodd");var s=n.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");var u=n.createNS("http://www.w3.org/2000/svg","g");u.setAttributeNS(null,"transform","translate(3.0, 29.0)"),u.setAttributeNS(null,"fill","#000000");for(var l=0,c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];l<c.length;l+=1){var h=c[l],d=n.createNS("http://www.w3.org/2000/svg","ellipse");d.setAttributeNS(null,"opacity","0.04"),d.setAttributeNS(null,"cx","10.5"),d.setAttributeNS(null,"cy","5.80029008"),d.setAttributeNS(null,"rx",h.rx),d.setAttributeNS(null,"ry",h.ry),u.appendChild(d)}var f=n.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"fill",this._color);var p=n.createNS("http://www.w3.org/2000/svg","path");p.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),f.appendChild(p);var m=n.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"opacity","0.25"),m.setAttributeNS(null,"fill","#000000");var g=n.createNS("http://www.w3.org/2000/svg","path");g.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),m.appendChild(g);var y=n.createNS("http://www.w3.org/2000/svg","g");y.setAttributeNS(null,"transform","translate(6.0, 7.0)"),y.setAttributeNS(null,"fill","#FFFFFF");var v=n.createNS("http://www.w3.org/2000/svg","g");v.setAttributeNS(null,"transform","translate(8.0, 8.0)");var _=n.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#000000"),_.setAttributeNS(null,"opacity","0.25"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962");var b=n.createNS("http://www.w3.org/2000/svg","circle");b.setAttributeNS(null,"fill","#FFFFFF"),b.setAttributeNS(null,"cx","5.5"),b.setAttributeNS(null,"cy","5.5"),b.setAttributeNS(null,"r","5.4999962"),v.appendChild(_),v.appendChild(b),s.appendChild(u),s.appendChild(f),s.appendChild(m),s.appendChild(y),s.appendChild(v),o.appendChild(s),o.setAttributeNS(null,"height",41*this._scale+"px"),o.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(o),this._offset=t.Point.convert(i&&i.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(t){t.preventDefault()}),this._element.addEventListener("mousedown",function(t){t.preventDefault()}),Ar(this._element,this._anchor,"marker"),this._popup=null}return e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i,i.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},i.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this},i.prototype.getLngLat=function(){return this._lngLat},i.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},i.prototype.getElement=function(){return this._element},i.prototype.setPopup=function(t){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),t){if(!("offset"in t.options)){var e=Math.sqrt(Math.pow(13.5,2)/2);t.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[e,-1*(24.6+e)],"bottom-right":[-e,-1*(24.6+e)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},i.prototype._onKeyPress=function(t){var e=t.code,n=t.charCode||t.keyCode;"Space"!==e&&"Enter"!==e&&32!==n&&13!==n||this.togglePopup()},i.prototype._onMapClick=function(t){var e=t.originalEvent.target,n=this._element;this._popup&&(e===n||n.contains(e))&&this.togglePopup()},i.prototype.getPopup=function(){return this._popup},i.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},i.prototype._update=function(t){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Dr(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var e="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?e="rotateZ("+this._rotation+"deg)":"map"===this._rotationAlignment&&(e="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var i="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?i="rotateX(0deg)":"map"===this._pitchAlignment&&(i="rotateX("+this._map.getPitch()+"deg)"),t&&"moveend"!==t.type||(this._pos=this._pos.round()),n.setTransform(this._element,Or[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+i+" "+e)}},i.prototype.getOffset=function(){return this._offset},i.prototype.setOffset=function(e){return this._offset=t.Point.convert(e),this._update(),this},i.prototype._onMove=function(e){if(!this._isDragging){var n=this._clickTolerance||this._map._clickTolerance;this._isDragging=e.point.dist(this._pointerdownPos)>=n}this._isDragging&&(this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.Event("dragstart"))),this.fire(new t.Event("drag")))},i.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.Event("dragend")),this._state="inactive"},i.prototype._addDragHandler=function(t){this._element.contains(t.originalEvent.target)&&(t.preventDefault(),this._positionDelta=t.point.sub(this._pos).add(this._offset),this._pointerdownPos=t.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},i.prototype.setDraggable=function(t){return this._draggable=!!t,this._map&&(t?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},i.prototype.isDraggable=function(){return this._draggable},i.prototype.setRotation=function(t){return this._rotation=t||0,this._update(),this},i.prototype.getRotation=function(){return this._rotation},i.prototype.setRotationAlignment=function(t){return this._rotationAlignment=t||"auto",this._update(),this},i.prototype.getRotationAlignment=function(){return this._rotationAlignment},i.prototype.setPitchAlignment=function(t){return this._pitchAlignment=t&&"auto"!==t?t:this._rotationAlignment,this._update(),this},i.prototype.getPitchAlignment=function(){return this._pitchAlignment},i}(t.Evented),Fr={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Yr=0,zr=!1,jr=function(e){function i(n){e.call(this),this.options=t.extend({},Fr,n),t.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i,i.prototype.onAdd=function(e){var i;return this._map=e,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),i=this._setupUI,void 0!==Rr?i(Rr):void 0!==t.window.navigator.permissions?t.window.navigator.permissions.query({name:"geolocation"}).then(function(t){i(Rr="denied"!==t.state)}):i(Rr=!!t.window.navigator.geolocation),this._container},i.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),n.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Yr=0,zr=!1},i.prototype._isOutOfMapMaxBounds=function(t){var e=this._map.getMaxBounds(),n=t.coords;return e&&(n.longitude<e.getWest()||n.longitude>e.getEast()||n.latitude<e.getSouth()||n.latitude>e.getNorth())},i.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},i.prototype._onSuccess=function(e){if(this._map){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new t.Event("outofmaxbounds",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("geolocate",e)),this._finish()}},i.prototype._updateCamera=function(e){var n=new t.LngLat(e.coords.longitude,e.coords.latitude),i=e.coords.accuracy,r=this._map.getBearing(),o=t.extend({bearing:r},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(i),o,{geolocateSource:!0})},i.prototype._updateMarker=function(e){if(e){var n=new t.LngLat(e.coords.longitude,e.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=e.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},i.prototype._updateCircleRadius=function(){var t=this._map._container.clientHeight/2,e=this._map.unproject([0,t]),n=this._map.unproject([1,t]),i=e.distanceTo(n),r=Math.ceil(2*this._accuracy/i);this._circleElement.style.width=r+"px",this._circleElement.style.height=r+"px"},i.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},i.prototype._onError=function(e){if(this._map){if(this.options.trackUserLocation)if(1===e.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=n,this._geolocateButton.setAttribute("aria-label",n),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===e.code&&zr)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new t.Event("error",e)),this._finish()}},i.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},i.prototype._setupUI=function(e){var i=this;if(this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._geolocateButton=n.create("button","mapboxgl-ctrl-geolocate",this._container),n.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",!1===e){t.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var r=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=r,this._geolocateButton.setAttribute("aria-label",r)}else{var o=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=o,this._geolocateButton.setAttribute("aria-label",o)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=n.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new Nr(this._dotElement),this._circleElement=n.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Nr({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(e){e.geolocateSource||"ACTIVE_LOCK"!==i._watchState||e.originalEvent&&"resize"===e.originalEvent.type||(i._watchState="BACKGROUND",i._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),i._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),i.fire(new t.Event("trackuserlocationend")))})},i.prototype.trigger=function(){if(!this._setup)return t.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Yr--,zr=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new t.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){var e;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Yr>1?(e={maximumAge:6e5,timeout:0},zr=!0):(e=this.options.positionOptions,zr=!1),this._geolocationWatchID=t.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e)}}else t.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},i.prototype._clearWatch=function(){t.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},i}(t.Evented),Br={maxWidth:100,unit:"metric"},Hr=function(e){this.options=t.extend({},Br,e),t.bindAll(["_onMove","setUnit"],this)};function Ur(t,e,n){var i=n&&n.maxWidth||100,r=t._container.clientHeight/2,o=t.unproject([0,r]),a=t.unproject([i,r]),s=o.distanceTo(a);if(n&&"imperial"===n.unit){var u=3.2808*s;u>5280?Vr(e,i,u/5280,t._getUIString("ScaleControl.Miles")):Vr(e,i,u,t._getUIString("ScaleControl.Feet"))}else n&&"nautical"===n.unit?Vr(e,i,s/1852,t._getUIString("ScaleControl.NauticalMiles")):s>=1e3?Vr(e,i,s/1e3,t._getUIString("ScaleControl.Kilometers")):Vr(e,i,s,t._getUIString("ScaleControl.Meters"))}function Vr(t,e,n,i){var r,o,a,s=(r=n,(o=Math.pow(10,(""+Math.floor(r)).length-1))*(a=(a=r/o)>=10?10:a>=5?5:a>=3?3:a>=2?2:a>=1?1:function(t){var e=Math.pow(10,Math.ceil(-Math.log(t)/Math.LN10));return Math.round(t*e)/e}(a)));t.style.width=e*(s/n)+"px",t.innerHTML=s+"&nbsp;"+i}Hr.prototype.getDefaultPosition=function(){return"bottom-left"},Hr.prototype._onMove=function(){Ur(this._map,this._container,this.options)},Hr.prototype.onAdd=function(t){return this._map=t,this._container=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Hr.prototype.onRemove=function(){n.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Hr.prototype.setUnit=function(t){this.options.unit=t,Ur(this._map,this._container,this.options)};var qr=function(e){this._fullscreen=!1,e&&e.container&&(e.container instanceof t.window.HTMLElement?this._container=e.container:t.warnOnce("Full screen control 'container' must be a DOM element.")),t.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in t.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in t.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in t.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in t.window.document&&(this._fullscreenchange="MSFullscreenChange")};qr.prototype.onAdd=function(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=n.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",t.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},qr.prototype.onRemove=function(){n.remove(this._controlContainer),this._map=null,t.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},qr.prototype._checkFullscreenSupport=function(){return!!(t.window.document.fullscreenEnabled||t.window.document.mozFullScreenEnabled||t.window.document.msFullscreenEnabled||t.window.document.webkitFullscreenEnabled)},qr.prototype._setupUI=function(){var e=this._fullscreenButton=n.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);n.create("span","mapboxgl-ctrl-icon",e).setAttribute("aria-hidden",!0),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),t.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},qr.prototype._updateTitle=function(){var t=this._getTitle();this._fullscreenButton.setAttribute("aria-label",t),this._fullscreenButton.title=t},qr.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},qr.prototype._isFullscreen=function(){return this._fullscreen},qr.prototype._changeIcon=function(){(t.window.document.fullscreenElement||t.window.document.mozFullScreenElement||t.window.document.webkitFullscreenElement||t.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},qr.prototype._onClickFullscreen=function(){this._isFullscreen()?t.window.document.exitFullscreen?t.window.document.exitFullscreen():t.window.document.mozCancelFullScreen?t.window.document.mozCancelFullScreen():t.window.document.msExitFullscreen?t.window.document.msExitFullscreen():t.window.document.webkitCancelFullScreen&&t.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Gr={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Wr=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),Xr=function(e){function i(n){e.call(this),this.options=t.extend(Object.create(Gr),n),t.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return e&&(i.__proto__=e),(i.prototype=Object.create(e&&e.prototype)).constructor=i,i.prototype.addTo=function(e){return this._map&&this.remove(),this._map=e,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new t.Event("open")),this},i.prototype.isOpen=function(){return!!this._map},i.prototype.remove=function(){return this._content&&n.remove(this._content),this._container&&(n.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new t.Event("close")),this},i.prototype.getLngLat=function(){return this._lngLat},i.prototype.setLngLat=function(e){return this._lngLat=t.LngLat.convert(e),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},i.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},i.prototype.getElement=function(){return this._container},i.prototype.setText=function(e){return this.setDOMContent(t.window.document.createTextNode(e))},i.prototype.setHTML=function(e){var n,i=t.window.document.createDocumentFragment(),r=t.window.document.createElement("body");for(r.innerHTML=e;n=r.firstChild;)i.appendChild(n);return this.setDOMContent(i)},i.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},i.prototype.setMaxWidth=function(t){return this.options.maxWidth=t,this._update(),this},i.prototype.setDOMContent=function(t){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=n.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(t),this._createCloseButton(),this._update(),this._focusFirstElement(),this},i.prototype.addClassName=function(t){this._container&&this._container.classList.add(t)},i.prototype.removeClassName=function(t){this._container&&this._container.classList.remove(t)},i.prototype.setOffset=function(t){return this.options.offset=t,this._update(),this},i.prototype.toggleClassName=function(t){if(this._container)return this._container.classList.toggle(t)},i.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=n.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},i.prototype._onMouseUp=function(t){this._update(t.point)},i.prototype._onMouseMove=function(t){this._update(t.point)},i.prototype._onDrag=function(t){this._update(t.point)},i.prototype._update=function(e){var i=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=n.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=n.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(t){return i._container.classList.add(t)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Dr(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||e)){var r=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat),o=this.options.anchor,a=function e(n){if(n){if("number"==typeof n){var i=Math.round(Math.sqrt(.5*Math.pow(n,2)));return{center:new t.Point(0,0),top:new t.Point(0,n),"top-left":new t.Point(i,i),"top-right":new t.Point(-i,i),bottom:new t.Point(0,-n),"bottom-left":new t.Point(i,-i),"bottom-right":new t.Point(-i,-i),left:new t.Point(n,0),right:new t.Point(-n,0)}}if(n instanceof t.Point||Array.isArray(n)){var r=t.Point.convert(n);return{center:r,top:r,"top-left":r,"top-right":r,bottom:r,"bottom-left":r,"bottom-right":r,left:r,right:r}}return{center:t.Point.convert(n.center||[0,0]),top:t.Point.convert(n.top||[0,0]),"top-left":t.Point.convert(n["top-left"]||[0,0]),"top-right":t.Point.convert(n["top-right"]||[0,0]),bottom:t.Point.convert(n.bottom||[0,0]),"bottom-left":t.Point.convert(n["bottom-left"]||[0,0]),"bottom-right":t.Point.convert(n["bottom-right"]||[0,0]),left:t.Point.convert(n.left||[0,0]),right:t.Point.convert(n.right||[0,0])}}return e(new t.Point(0,0))}(this.options.offset);if(!o){var s,u=this._container.offsetWidth,l=this._container.offsetHeight;s=r.y+a.bottom.y<l?["top"]:r.y>this._map.transform.height-l?["bottom"]:[],r.x<u/2?s.push("left"):r.x>this._map.transform.width-u/2&&s.push("right"),o=0===s.length?"bottom":s.join("-")}var c=r.add(a[o]).round();n.setTransform(this._container,Or[o]+" translate("+c.x+"px,"+c.y+"px)"),Ar(this._container,o,"popup")}},i.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var t=this._container.querySelector(Wr);t&&t.focus()}},i.prototype._onClose=function(){this.remove()},i}(t.Evented),Kr={version:t.version,supported:e,setRTLTextPlugin:t.setRTLTextPlugin,getRTLTextPluginStatus:t.getRTLTextPluginStatus,Map:Lr,NavigationControl:Ir,GeolocateControl:jr,AttributionControl:_r,ScaleControl:Hr,FullscreenControl:qr,Popup:Xr,Marker:Nr,Style:Ue,LngLat:t.LngLat,LngLatBounds:t.LngLatBounds,Point:t.Point,MercatorCoordinate:t.MercatorCoordinate,Evented:t.Evented,config:t.config,prewarm:function(){Yt().acquire(At)},clearPrewarmedResources:function(){var t=Nt;t&&(t.isPreloaded()&&1===t.numActive()?(t.release(At),Nt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return t.config.ACCESS_TOKEN},set accessToken(e){t.config.ACCESS_TOKEN=e},get baseApiUrl(){return t.config.API_URL},set baseApiUrl(e){t.config.API_URL=e},get workerCount(){return Rt.workerCount},set workerCount(t){Rt.workerCount=t},get maxParallelImageRequests(){return t.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(e){t.config.MAX_PARALLEL_IMAGE_REQUESTS=e},clearStorage:function(e){t.clearTileCache(e)},workerUrl:""};return Kr}),n}()},"4dOw":function(t,e,n){!function(t){"use strict";t.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n("wd/R"))},"6+QB":function(t,e,n){!function(t){"use strict";t.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n("wd/R"))},"6B0Y":function(t,e,n){!function(t){"use strict";var e={1:"\u17e1",2:"\u17e2",3:"\u17e3",4:"\u17e4",5:"\u17e5",6:"\u17e6",7:"\u17e7",8:"\u17e8",9:"\u17e9",0:"\u17e0"},n={"\u17e1":"1","\u17e2":"2","\u17e3":"3","\u17e4":"4","\u17e5":"5","\u17e6":"6","\u17e7":"7","\u17e8":"8","\u17e9":"9","\u17e0":"0"};t.defineLocale("km",{months:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),monthsShort:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),weekdays:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysShort:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysMin:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(t){return"\u179b\u17d2\u1784\u17b6\u1785"===t},meridiem:function(t,e,n){return t<12?"\u1796\u17d2\u179a\u17b9\u1780":"\u179b\u17d2\u1784\u17b6\u1785"},calendar:{sameDay:"[\u1790\u17d2\u1784\u17c3\u1793\u17c1\u17c7 \u1798\u17c9\u17c4\u1784] LT",nextDay:"[\u179f\u17d2\u17a2\u17c2\u1780 \u1798\u17c9\u17c4\u1784] LT",nextWeek:"dddd [\u1798\u17c9\u17c4\u1784] LT",lastDay:"[\u1798\u17d2\u179f\u17b7\u179b\u1798\u17b7\u1789 \u1798\u17c9\u17c4\u1784] LT",lastWeek:"dddd [\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd\u1798\u17bb\u1793] [\u1798\u17c9\u17c4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17c0\u178f",past:"%s\u1798\u17bb\u1793",s:"\u1794\u17c9\u17bb\u1793\u17d2\u1798\u17b6\u1793\u179c\u17b7\u1793\u17b6\u1791\u17b8",ss:"%d \u179c\u17b7\u1793\u17b6\u1791\u17b8",m:"\u1798\u17bd\u1799\u1793\u17b6\u1791\u17b8",mm:"%d \u1793\u17b6\u1791\u17b8",h:"\u1798\u17bd\u1799\u1798\u17c9\u17c4\u1784",hh:"%d \u1798\u17c9\u17c4\u1784",d:"\u1798\u17bd\u1799\u1790\u17d2\u1784\u17c3",dd:"%d \u1790\u17d2\u1784\u17c3",M:"\u1798\u17bd\u1799\u1781\u17c2",MM:"%d \u1781\u17c2",y:"\u1798\u17bd\u1799\u1786\u17d2\u1793\u17b6\u17c6",yy:"%d \u1786\u17d2\u1793\u17b6\u17c6"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"\u1791\u17b8%d",preparse:function(t){return t.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},week:{dow:1,doy:4}})}(n("wd/R"))},"7BjC":function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r={s:["m\xf5ne sekundi","m\xf5ni sekund","paar sekundit"],ss:[t+"sekundi",t+"sekundit"],m:["\xfche minuti","\xfcks minut"],mm:[t+" minuti",t+" minutit"],h:["\xfche tunni","tund aega","\xfcks tund"],hh:[t+" tunni",t+" tundi"],d:["\xfche p\xe4eva","\xfcks p\xe4ev"],M:["kuu aja","kuu aega","\xfcks kuu"],MM:[t+" kuu",t+" kuud"],y:["\xfche aasta","aasta","\xfcks aasta"],yy:[t+" aasta",t+" aastat"]};return e?r[n][2]?r[n][2]:r[n][1]:i?r[n][0]:r[n][1]}t.defineLocale("et",{months:"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xe4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xe4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xe4rast",past:"%s tagasi",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:"%d p\xe4eva",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},"7C5Q":function(t,e,n){!function(t){"use strict";t.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:0,doy:6}})}(n("wd/R"))},"7aV9":function(t,e,n){!function(t){"use strict";t.defineLocale("si",{months:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2_\u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2_\u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4_\u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4_\u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca_\u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split("_"),monthsShort:"\u0da2\u0db1_\u0db4\u0dd9\u0db6_\u0db8\u0dcf\u0dbb\u0dca_\u0d85\u0db4\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd_\u0dc3\u0dd0\u0db4\u0dca_\u0d94\u0d9a\u0dca_\u0db1\u0ddc\u0dc0\u0dd0_\u0daf\u0dd9\u0dc3\u0dd0".split("_"),weekdays:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf_\u0dc3\u0db3\u0dd4\u0daf\u0dcf_\u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf_\u0db6\u0daf\u0dcf\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf_\u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf_\u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split("_"),weekdaysShort:"\u0d89\u0dbb\u0dd2_\u0dc3\u0db3\u0dd4_\u0d85\u0d9f_\u0db6\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4_\u0dc3\u0dd2\u0d9a\u0dd4_\u0dc3\u0dd9\u0db1".split("_"),weekdaysMin:"\u0d89_\u0dc3_\u0d85_\u0db6_\u0db6\u0dca\u200d\u0dbb_\u0dc3\u0dd2_\u0dc3\u0dd9".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0dc0\u0dd0\u0db1\u0dd2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0d85\u0daf] LT[\u0da7]",nextDay:"[\u0dc4\u0dd9\u0da7] LT[\u0da7]",nextWeek:"dddd LT[\u0da7]",lastDay:"[\u0d8a\u0dba\u0dda] LT[\u0da7]",lastWeek:"[\u0db4\u0dc3\u0dd4\u0d9c\u0dd2\u0dba] dddd LT[\u0da7]",sameElse:"L"},relativeTime:{future:"%s\u0d9a\u0dd2\u0db1\u0dca",past:"%s\u0d9a\u0da7 \u0db4\u0dd9\u0dbb",s:"\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba",ss:"\u0dad\u0dad\u0dca\u0db4\u0dbb %d",m:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0",mm:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d",h:"\u0db4\u0dd0\u0dba",hh:"\u0db4\u0dd0\u0dba %d",d:"\u0daf\u0dd2\u0db1\u0dba",dd:"\u0daf\u0dd2\u0db1 %d",M:"\u0db8\u0dcf\u0dc3\u0dba",MM:"\u0db8\u0dcf\u0dc3 %d",y:"\u0dc0\u0dc3\u0dbb",yy:"\u0dc0\u0dc3\u0dbb %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(t){return t+" \u0dc0\u0dd0\u0db1\u0dd2"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(t){return"\u0db4.\u0dc0."===t||"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4"===t},meridiem:function(t,e,n){return t>11?n?"\u0db4.\u0dc0.":"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4":n?"\u0db4\u0dd9.\u0dc0.":"\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4"}})}(n("wd/R"))},"8/+R":function(t,e,n){!function(t){"use strict";var e={1:"\u0a67",2:"\u0a68",3:"\u0a69",4:"\u0a6a",5:"\u0a6b",6:"\u0a6c",7:"\u0a6d",8:"\u0a6e",9:"\u0a6f",0:"\u0a66"},n={"\u0a67":"1","\u0a68":"2","\u0a69":"3","\u0a6a":"4","\u0a6b":"5","\u0a6c":"6","\u0a6d":"7","\u0a6e":"8","\u0a6f":"9","\u0a66":"0"};t.defineLocale("pa-in",{months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),longDateFormat:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},calendar:{sameDay:"[\u0a05\u0a1c] LT",nextDay:"[\u0a15\u0a32] LT",nextWeek:"[\u0a05\u0a17\u0a32\u0a3e] dddd, LT",lastDay:"[\u0a15\u0a32] LT",lastWeek:"[\u0a2a\u0a3f\u0a1b\u0a32\u0a47] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",ss:"%d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"},preparse:function(t){return t.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0a30\u0a3e\u0a24"===e?t<4?t:t+12:"\u0a38\u0a35\u0a47\u0a30"===e?t:"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30"===e?t>=10?t:t+12:"\u0a38\u0a3c\u0a3e\u0a2e"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0a30\u0a3e\u0a24":t<10?"\u0a38\u0a35\u0a47\u0a30":t<17?"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30":t<20?"\u0a38\u0a3c\u0a3e\u0a2e":"\u0a30\u0a3e\u0a24"},week:{dow:0,doy:6}})}(n("wd/R"))},"8mBD":function(t,e,n){!function(t){"use strict";t.defineLocale("pt",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n("wd/R"))},"9rRi":function(t,e,n){!function(t){"use strict";t.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am M\xe0rt","An Giblean","An C\xe8itean","An t-\xd2gmhios","An t-Iuchar","An L\xf9nastal","An t-Sultain","An D\xe0mhair","An t-Samhain","An D\xf9bhlachd"],monthsShort:["Faoi","Gear","M\xe0rt","Gibl","C\xe8it","\xd2gmh","Iuch","L\xf9n","Sult","D\xe0mh","Samh","D\xf9bh"],monthsParseExact:!0,weekdays:["Did\xf2mhnaich","Diluain","Dim\xe0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D\xf2","Lu","M\xe0","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xe0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xe8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xecos",MM:"%d m\xecosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n("wd/R"))},"A+xa":function(t,e,n){!function(t){"use strict";t.defineLocale("cv",{months:"\u043a\u04d1\u0440\u043b\u0430\u0447_\u043d\u0430\u0440\u04d1\u0441_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440\u0442\u043c\u0435_\u0443\u0442\u04d1_\u04ab\u0443\u0440\u043b\u0430_\u0430\u0432\u04d1\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448\u0442\u0430\u0432".split("_"),monthsShort:"\u043a\u04d1\u0440_\u043d\u0430\u0440_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440_\u0443\u0442\u04d1_\u04ab\u0443\u0440_\u0430\u0432\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448".split("_"),weekdays:"\u0432\u044b\u0440\u0441\u0430\u0440\u043d\u0438\u043a\u0443\u043d_\u0442\u0443\u043d\u0442\u0438\u043a\u0443\u043d_\u044b\u0442\u043b\u0430\u0440\u0438\u043a\u0443\u043d_\u044e\u043d\u043a\u0443\u043d_\u043a\u04d7\u04ab\u043d\u0435\u0440\u043d\u0438\u043a\u0443\u043d_\u044d\u0440\u043d\u0435\u043a\u0443\u043d_\u0448\u04d1\u043c\u0430\u0442\u043a\u0443\u043d".split("_"),weekdaysShort:"\u0432\u044b\u0440_\u0442\u0443\u043d_\u044b\u0442\u043b_\u044e\u043d_\u043a\u04d7\u04ab_\u044d\u0440\u043d_\u0448\u04d1\u043c".split("_"),weekdaysMin:"\u0432\u0440_\u0442\u043d_\u044b\u0442_\u044e\u043d_\u043a\u04ab_\u044d\u0440_\u0448\u043c".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7]",LLL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm",LLLL:"dddd, YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm"},calendar:{sameDay:"[\u041f\u0430\u044f\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042b\u0440\u0430\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04d6\u043d\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04aa\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043d\u04d7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(t){return t+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(t)?"\u0440\u0435\u043d":/\u04ab\u0443\u043b$/i.exec(t)?"\u0442\u0430\u043d":"\u0440\u0430\u043d")},past:"%s \u043a\u0430\u044f\u043b\u043b\u0430",s:"\u043f\u04d7\u0440-\u0438\u043a \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",ss:"%d \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",m:"\u043f\u04d7\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u043f\u04d7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043f\u04d7\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u043f\u04d7\u0440 \u0443\u0439\u04d1\u0445",MM:"%d \u0443\u0439\u04d1\u0445",y:"\u043f\u04d7\u0440 \u04ab\u0443\u043b",yy:"%d \u04ab\u0443\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043c\u04d7\u0448",week:{dow:1,doy:7}})}(n("wd/R"))},AQ68:function(t,e,n){!function(t){"use strict";t.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(n("wd/R"))},AvvY:function(t,e,n){!function(t){"use strict";t.defineLocale("ml",{months:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f_\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f_\u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d_\u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d_\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48_\u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d_\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c_\u0d12\u0d15\u0d4d\u0d1f\u0d4b\u0d2c\u0d7c_\u0d28\u0d35\u0d02\u0d2c\u0d7c_\u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split("_"),monthsShort:"\u0d1c\u0d28\u0d41._\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41._\u0d2e\u0d3e\u0d7c._\u0d0f\u0d2a\u0d4d\u0d30\u0d3f._\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48._\u0d13\u0d17._\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31._\u0d12\u0d15\u0d4d\u0d1f\u0d4b._\u0d28\u0d35\u0d02._\u0d21\u0d3f\u0d38\u0d02.".split("_"),monthsParseExact:!0,weekdays:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u0d1a_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u0d1a_\u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a_\u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a_\u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a".split("_"),weekdaysShort:"\u0d1e\u0d3e\u0d2f\u0d7c_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e_\u0d1a\u0d4a\u0d35\u0d4d\u0d35_\u0d2c\u0d41\u0d27\u0d7b_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f_\u0d36\u0d28\u0d3f".split("_"),weekdaysMin:"\u0d1e\u0d3e_\u0d24\u0d3f_\u0d1a\u0d4a_\u0d2c\u0d41_\u0d35\u0d4d\u0d2f\u0d3e_\u0d35\u0d46_\u0d36".split("_"),longDateFormat:{LT:"A h:mm -\u0d28\u0d41",LTS:"A h:mm:ss -\u0d28\u0d41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0d28\u0d41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0d28\u0d41"},calendar:{sameDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d4d] LT",nextDay:"[\u0d28\u0d3e\u0d33\u0d46] LT",nextWeek:"dddd, LT",lastDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d32\u0d46] LT",lastWeek:"[\u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d",past:"%s \u0d2e\u0d41\u0d7b\u0d2a\u0d4d",s:"\u0d05\u0d7d\u0d2a \u0d28\u0d3f\u0d2e\u0d3f\u0d37\u0d19\u0d4d\u0d19\u0d7e",ss:"%d \u0d38\u0d46\u0d15\u0d4d\u0d15\u0d7b\u0d21\u0d4d",m:"\u0d12\u0d30\u0d41 \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",mm:"%d \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",h:"\u0d12\u0d30\u0d41 \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",hh:"%d \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",d:"\u0d12\u0d30\u0d41 \u0d26\u0d3f\u0d35\u0d38\u0d02",dd:"%d \u0d26\u0d3f\u0d35\u0d38\u0d02",M:"\u0d12\u0d30\u0d41 \u0d2e\u0d3e\u0d38\u0d02",MM:"%d \u0d2e\u0d3e\u0d38\u0d02",y:"\u0d12\u0d30\u0d41 \u0d35\u0d7c\u0d37\u0d02",yy:"%d \u0d35\u0d7c\u0d37\u0d02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"===e&&t>=4||"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d"===e||"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02"===e?t+12:t},meridiem:function(t,e,n){return t<4?"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f":t<12?"\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46":t<17?"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d":t<20?"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02":"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"}})}(n("wd/R"))},B55N:function(t,e,n){!function(t){"use strict";t.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"\u4ee4\u548c",narrow:"\u32ff",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"\u5e73\u6210",narrow:"\u337b",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"\u662d\u548c",narrow:"\u337c",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"\u5927\u6b63",narrow:"\u337d",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"\u660e\u6cbb",narrow:"\u337e",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"\u897f\u66a6",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"\u7d00\u5143\u524d",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(\u5143|\d+)\u5e74/,eraYearOrdinalParse:function(t,e){return"\u5143"===e[1]?1:parseInt(e[1]||t,10)},months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(t){return"\u5348\u5f8c"===t},meridiem:function(t,e,n){return t<12?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:function(t){return t.week()!==this.week()?"[\u6765\u9031]dddd LT":"dddd LT"},lastDay:"[\u6628\u65e5] LT",lastWeek:function(t){return this.week()!==t.week()?"[\u5148\u9031]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(t,e){switch(e){case"y":return 1===t?"\u5143\u5e74":t+"\u5e74";case"d":case"D":case"DDD":return t+"\u65e5";default:return t}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",ss:"%d\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}})}(n("wd/R"))},BVg3:function(t,e,n){!function(t){"use strict";function e(t){return t%100==11||t%10!=1}function n(t,n,i,r){var o=t+" ";switch(i){case"s":return n||r?"nokkrar sek\xfandur":"nokkrum sek\xfandum";case"ss":return e(t)?o+(n||r?"sek\xfandur":"sek\xfandum"):o+"sek\xfanda";case"m":return n?"m\xedn\xfata":"m\xedn\xfatu";case"mm":return e(t)?o+(n||r?"m\xedn\xfatur":"m\xedn\xfatum"):n?o+"m\xedn\xfata":o+"m\xedn\xfatu";case"hh":return e(t)?o+(n||r?"klukkustundir":"klukkustundum"):o+"klukkustund";case"d":return n?"dagur":r?"dag":"degi";case"dd":return e(t)?n?o+"dagar":o+(r?"daga":"d\xf6gum"):n?o+"dagur":o+(r?"dag":"degi");case"M":return n?"m\xe1nu\xf0ur":r?"m\xe1nu\xf0":"m\xe1nu\xf0i";case"MM":return e(t)?n?o+"m\xe1nu\xf0ir":o+(r?"m\xe1nu\xf0i":"m\xe1nu\xf0um"):n?o+"m\xe1nu\xf0ur":o+(r?"m\xe1nu\xf0":"m\xe1nu\xf0i");case"y":return n||r?"\xe1r":"\xe1ri";case"yy":return e(t)?o+(n||r?"\xe1r":"\xe1rum"):o+(n||r?"\xe1r":"\xe1ri")}}t.defineLocale("is",{months:"jan\xfaar_febr\xfaar_mars_apr\xedl_ma\xed_j\xfan\xed_j\xfal\xed_\xe1g\xfast_september_okt\xf3ber_n\xf3vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma\xed_j\xfan_j\xfal_\xe1g\xfa_sep_okt_n\xf3v_des".split("_"),weekdays:"sunnudagur_m\xe1nudagur_\xferi\xf0judagur_mi\xf0vikudagur_fimmtudagur_f\xf6studagur_laugardagur".split("_"),weekdaysShort:"sun_m\xe1n_\xferi_mi\xf0_fim_f\xf6s_lau".split("_"),weekdaysMin:"Su_M\xe1_\xder_Mi_Fi_F\xf6_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xed dag kl.] LT",nextDay:"[\xe1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xed g\xe6r kl.] LT",lastWeek:"[s\xed\xf0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xed\xf0an",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},ByF4:function(t,e,n){!function(t){"use strict";t.defineLocale("fo",{months:"januar_februar_mars_apr\xedl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_m\xe1nadagur_t\xfdsdagur_mikudagur_h\xf3sdagur_fr\xedggjadagur_leygardagur".split("_"),weekdaysShort:"sun_m\xe1n_t\xfds_mik_h\xf3s_fr\xed_ley".split("_"),weekdaysMin:"su_m\xe1_t\xfd_mi_h\xf3_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xcd dag kl.] LT",nextDay:"[\xcd morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xcd gj\xe1r kl.] LT",lastWeek:"[s\xed\xf0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xed\xf0ani",s:"f\xe1 sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein t\xedmi",hh:"%d t\xedmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xe1na\xf0ur",MM:"%d m\xe1na\xf0ir",y:"eitt \xe1r",yy:"%d \xe1r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},CjzT:function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n("wd/R"))},CoRJ:function(t,e,n){!function(t){"use strict";t.defineLocale("ar-ma",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(n("wd/R"))},"D/JM":function(t,e,n){!function(t){"use strict";t.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n("wd/R"))},"DKr+":function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r={s:["thoddea sekondamni","thodde sekond"],ss:[t+" sekondamni",t+" sekond"],m:["eka mintan","ek minut"],mm:[t+" mintamni",t+" mintam"],h:["eka voran","ek vor"],hh:[t+" voramni",t+" voram"],d:["eka disan","ek dis"],dd:[t+" disamni",t+" dis"],M:["eka mhoinean","ek mhoino"],MM:[t+" mhoineamni",t+" mhoine"],y:["eka vorsan","ek voros"],yy:[t+" vorsamni",t+" vorsam"]};return i?r[n][0]:r[n][1]}t.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(t,e){switch(e){case"D":return t+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return t}},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(t,e){return 12===t&&(t=0),"rati"===e?t<4?t:t+12:"sokallim"===e?t:"donparam"===e?t>12?t:t+12:"sanje"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"rati":t<12?"sokallim":t<16?"donparam":t<20?"sanje":"rati"}})}(n("wd/R"))},Dkky:function(t,e,n){!function(t){"use strict";t.defineLocale("fr-ch",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}})}(n("wd/R"))},Dmvi:function(t,e,n){!function(t){"use strict";t.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:0,doy:4}})}(n("wd/R"))},DoHr:function(t,e,n){!function(t){"use strict";var e={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};t.defineLocale("tr",{months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_\xc7ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),meridiem:function(t,e,n){return t<12?n?"\xf6\xf6":"\xd6\xd6":n?"\xf6s":"\xd6S"},meridiemParse:/\xf6\xf6|\xd6\xd6|\xf6s|\xd6S/,isPM:function(t){return"\xf6s"===t||"\xd6S"===t},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[d\xfcn] LT",lastWeek:"[ge\xe7en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(t,n){switch(n){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'\u0131nc\u0131";var i=t%10;return t+(e[i]||e[t%100-i]||e[t>=100?100:null])}},week:{dow:1,doy:7}})}(n("wd/R"))},DxQv:function(t,e,n){!function(t){"use strict";t.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tir_ons_tor_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p\xe5 dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},Dzi0:function(t,e,n){!function(t){"use strict";t.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}(n("wd/R"))},"E+lV":function(t,e,n){!function(t){"use strict";var e={words:{ss:["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0435","\u0441\u0435\u043a\u0443\u043d\u0434\u0438"],m:["\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442","\u0458\u0435\u0434\u043d\u0435 \u043c\u0438\u043d\u0443\u0442\u0435"],mm:["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0435","\u043c\u0438\u043d\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],dd:["\u0434\u0430\u043d","\u0434\u0430\u043d\u0430","\u0434\u0430\u043d\u0430"],MM:["\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446\u0438"],yy:["\u0433\u043e\u0434\u0438\u043d\u0430","\u0433\u043e\u0434\u0438\u043d\u0435","\u0433\u043e\u0434\u0438\u043d\u0430"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,i){var r=e.words[i];return 1===i.length?n?r[0]:r[1]:t+" "+e.correctGrammaticalCase(t,r)}};t.defineLocale("sr-cyrl",{months:"\u0458\u0430\u043d\u0443\u0430\u0440_\u0444\u0435\u0431\u0440\u0443\u0430\u0440_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440_\u043e\u043a\u0442\u043e\u0431\u0430\u0440_\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440_\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440".split("_"),monthsShort:"\u0458\u0430\u043d._\u0444\u0435\u0431._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433._\u0441\u0435\u043f._\u043e\u043a\u0442._\u043d\u043e\u0432._\u0434\u0435\u0446.".split("_"),monthsParseExact:!0,weekdays:"\u043d\u0435\u0434\u0435\u0459\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a_\u0443\u0442\u043e\u0440\u0430\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a_\u043f\u0435\u0442\u0430\u043a_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434._\u043f\u043e\u043d._\u0443\u0442\u043e._\u0441\u0440\u0435._\u0447\u0435\u0442._\u043f\u0435\u0442._\u0441\u0443\u0431.".split("_"),weekdaysMin:"\u043d\u0435_\u043f\u043e_\u0443\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441\u0443".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[\u0434\u0430\u043d\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043d\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043e\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT"}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){return["[\u043f\u0440\u043e\u0448\u043b\u0435] [\u043d\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0443\u0442\u043e\u0440\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u0435\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0443\u0431\u043e\u0442\u0435] [\u0443] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435 %s",s:"\u043d\u0435\u043a\u043e\u043b\u0438\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"\u0434\u0430\u043d",dd:e.translate,M:"\u043c\u0435\u0441\u0435\u0446",MM:e.translate,y:"\u0433\u043e\u0434\u0438\u043d\u0443",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n("wd/R"))},EOgW:function(t,e,n){!function(t){"use strict";t.defineLocale("th",{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(t){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===t},meridiem:function(t,e,n){return t<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",w:"1 \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",ww:"%d \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"}})}(n("wd/R"))},Fnuy:function(t,e,n){!function(t){"use strict";t.defineLocale("oc-lnc",{months:{standalone:"geni\xe8r_febri\xe8r_mar\xe7_abril_mai_junh_julhet_agost_setembre_oct\xf2bre_novembre_decembre".split("_"),format:"de geni\xe8r_de febri\xe8r_de mar\xe7_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'oct\xf2bre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dim\xe8cres_dij\xf2us_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[u\xe8i a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[i\xe8r a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(t,e){var n=1===t?"r":2===t?"n":3===t?"r":4===t?"t":"\xe8";return"w"!==e&&"W"!==e||(n="a"),t+n},week:{dow:1,doy:4}})}(n("wd/R"))},G0Uy:function(t,e,n){!function(t){"use strict";t.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_\u0120unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Di\u010bembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_\u0120un_Lul_Aww_Set_Ott_Nov_Di\u010b".split("_"),weekdays:"Il-\u0126add_It-Tnejn_It-Tlieta_L-Erbg\u0127a_Il-\u0126amis_Il-\u0120img\u0127a_Is-Sibt".split("_"),weekdaysShort:"\u0126ad_Tne_Tli_Erb_\u0126am_\u0120im_Sib".split("_"),weekdaysMin:"\u0126a_Tn_Tl_Er_\u0126a_\u0120i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[G\u0127ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera\u0127 fil-]LT",lastWeek:"dddd [li g\u0127adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f\u2019 %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"sieg\u0127a",hh:"%d sieg\u0127at",d:"\u0121urnata",dd:"%d \u0121ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n("wd/R"))},H8ED:function(t,e,n){!function(t){"use strict";function e(t,e,n){return"m"===n?e?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443":"h"===n?e?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443":t+" "+(i=+t,r={ss:e?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:e?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d",hh:e?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d",dd:"\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e",yy:"\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e"}[n].split("_"),i%10==1&&i%100!=11?r[0]:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?r[1]:r[2]);var i,r}t.defineLocale("be",{months:{format:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f".split("_"),standalone:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c".split("_")},monthsShort:"\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436".split("_"),weekdays:{format:"\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),standalone:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043d\u043d\u044f \u045e] LT",nextDay:"[\u0417\u0430\u045e\u0442\u0440\u0430 \u045e] LT",lastDay:"[\u0423\u0447\u043e\u0440\u0430 \u045e] LT",nextWeek:function(){return"[\u0423] dddd [\u045e] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u0443\u044e] dddd [\u045e] LT";case 1:case 2:case 4:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u044b] dddd [\u045e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043c\u0443",s:"\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434",m:e,mm:e,h:e,hh:e,d:"\u0434\u0437\u0435\u043d\u044c",dd:e,M:"\u043c\u0435\u0441\u044f\u0446",MM:e,y:"\u0433\u043e\u0434",yy:e},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(t){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(t)},meridiem:function(t,e,n){return t<4?"\u043d\u043e\u0447\u044b":t<12?"\u0440\u0430\u043d\u0456\u0446\u044b":t<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0430\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t%10!=2&&t%10!=3||t%100==12||t%100==13?t+"-\u044b":t+"-\u0456";case"D":return t+"-\u0433\u0430";default:return t}},week:{dow:1,doy:7}})}(n("wd/R"))},HP3h:function(t,e,n){!function(t){"use strict";var e={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},i={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},r=function(t){return function(e,r,o,a){var s=n(e),u=i[t][n(e)];return 2===s&&(u=u[r?0:1]),u.replace(/%d/i,e)}},o=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];t.defineLocale("ar-ly",{months:o,monthsShort:o,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return"\u0645"===t},meridiem:function(t,e,n){return t<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(n("wd/R"))},IBtZ:function(t,e,n){!function(t){"use strict";t.defineLocale("ka",{months:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),monthsShort:"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),weekdays:{standalone:"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),format:"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),weekdaysMin:"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u10d3\u10e6\u10d4\u10e1] LT[-\u10d6\u10d4]",nextDay:"[\u10ee\u10d5\u10d0\u10da] LT[-\u10d6\u10d4]",lastDay:"[\u10d2\u10e3\u10e8\u10d8\u10dc] LT[-\u10d6\u10d4]",nextWeek:"[\u10e8\u10d4\u10db\u10d3\u10d4\u10d2] dddd LT[-\u10d6\u10d4]",lastWeek:"[\u10ec\u10d8\u10dc\u10d0] dddd LT-\u10d6\u10d4",sameElse:"L"},relativeTime:{future:function(t){return t.replace(/(\u10ec\u10d0\u10db|\u10ec\u10e3\u10d7|\u10e1\u10d0\u10d0\u10d7|\u10ec\u10d4\u10da|\u10d3\u10e6|\u10d7\u10d5)(\u10d8|\u10d4)/,function(t,e,n){return"\u10d8"===n?e+"\u10e8\u10d8":e+n+"\u10e8\u10d8"})},past:function(t){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(t)?t.replace(/(\u10d8|\u10d4)$/,"\u10d8\u10e1 \u10ec\u10d8\u10dc"):/\u10ec\u10d4\u10da\u10d8/.test(t)?t.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10ec\u10da\u10d8\u10e1 \u10ec\u10d8\u10dc"):t},s:"\u10e0\u10d0\u10db\u10d3\u10d4\u10dc\u10d8\u10db\u10d4 \u10ec\u10d0\u10db\u10d8",ss:"%d \u10ec\u10d0\u10db\u10d8",m:"\u10ec\u10e3\u10d7\u10d8",mm:"%d \u10ec\u10e3\u10d7\u10d8",h:"\u10e1\u10d0\u10d0\u10d7\u10d8",hh:"%d \u10e1\u10d0\u10d0\u10d7\u10d8",d:"\u10d3\u10e6\u10d4",dd:"%d \u10d3\u10e6\u10d4",M:"\u10d7\u10d5\u10d4",MM:"%d \u10d7\u10d5\u10d4",y:"\u10ec\u10d4\u10da\u10d8",yy:"%d \u10ec\u10d4\u10da\u10d8"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(t){return 0===t?t:1===t?t+"-\u10da\u10d8":t<20||t<=100&&t%20==0||t%100==0?"\u10db\u10d4-"+t:t+"-\u10d4"},week:{dow:1,doy:7}})}(n("wd/R"))},"Ivi+":function(t,e,n){!function(t){"use strict";t.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"\uc77c";case"M":return t+"\uc6d4";case"w":case"W":return t+"\uc8fc";default:return t}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(t){return"\uc624\ud6c4"===t},meridiem:function(t,e,n){return t<12?"\uc624\uc804":"\uc624\ud6c4"}})}(n("wd/R"))},"JCF/":function(t,e,n){!function(t){"use strict";var e={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},n={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},i=["\u06a9\u0627\u0646\u0648\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0634\u0648\u0628\u0627\u062a","\u0626\u0627\u0632\u0627\u0631","\u0646\u06cc\u0633\u0627\u0646","\u0626\u0627\u06cc\u0627\u0631","\u062d\u0648\u0632\u06d5\u06cc\u0631\u0627\u0646","\u062a\u06d5\u0645\u0645\u0648\u0632","\u0626\u0627\u0628","\u0626\u06d5\u06cc\u0644\u0648\u0648\u0644","\u062a\u0634\u0631\u06cc\u0646\u06cc \u06cc\u06d5\u0643\u06d5\u0645","\u062a\u0634\u0631\u06cc\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0643\u0627\u0646\u0648\u0646\u06cc \u06cc\u06d5\u06a9\u06d5\u0645"];t.defineLocale("ku",{months:i,monthsShort:i,weekdays:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u062f\u0648\u0648\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0633\u06ce\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysShort:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645_\u062f\u0648\u0648\u0634\u0647\u200c\u0645_\u0633\u06ce\u0634\u0647\u200c\u0645_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u0647_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(t){return/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(t)},meridiem:function(t,e,n){return t<12?"\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc":"\u0626\u06ce\u0648\u0627\u0631\u0647\u200c"},calendar:{sameDay:"[\u0626\u0647\u200c\u0645\u0631\u06c6 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextDay:"[\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastDay:"[\u062f\u0648\u06ce\u0646\u06ce \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",sameElse:"L"},relativeTime:{future:"\u0644\u0647\u200c %s",past:"%s",s:"\u0686\u0647\u200c\u0646\u062f \u0686\u0631\u0643\u0647\u200c\u06cc\u0647\u200c\u0643",ss:"\u0686\u0631\u0643\u0647\u200c %d",m:"\u06cc\u0647\u200c\u0643 \u062e\u0648\u0644\u0647\u200c\u0643",mm:"%d \u062e\u0648\u0644\u0647\u200c\u0643",h:"\u06cc\u0647\u200c\u0643 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",hh:"%d \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",d:"\u06cc\u0647\u200c\u0643 \u0695\u06c6\u0698",dd:"%d \u0695\u06c6\u0698",M:"\u06cc\u0647\u200c\u0643 \u0645\u0627\u0646\u06af",MM:"%d \u0645\u0627\u0646\u06af",y:"\u06cc\u0647\u200c\u0643 \u0633\u0627\u06b5",yy:"%d \u0633\u0627\u06b5"},preparse:function(t){return t.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(t){return n[t]}).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(n("wd/R"))},JVSJ:function(t,e,n){!function(t){"use strict";function e(t,e,n){var i=t+" ";switch(n){case"ss":return i+(1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi");case"m":return e?"jedna minuta":"jedne minute";case"mm":return i+(1===t?"minuta":2===t||3===t||4===t?"minute":"minuta");case"h":return e?"jedan sat":"jednog sata";case"hh":return i+(1===t?"sat":2===t||3===t||4===t?"sata":"sati");case"dd":return i+(1===t?"dan":"dana");case"MM":return i+(1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci");case"yy":return i+(1===t?"godina":2===t||3===t||4===t?"godine":"godina")}}t.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n("wd/R"))},JvlW:function(t,e,n){!function(t){"use strict";var e={ss:"sekund\u0117_sekund\u017ei\u0173_sekundes",m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012f",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"};function n(t,e,n,i){return e?r(n)[0]:i?r(n)[1]:r(n)[2]}function i(t){return t%10==0||t>10&&t<20}function r(t){return e[t].split("_")}function o(t,e,o,a){var s=t+" ";return 1===t?s+n(0,e,o[0],a):e?s+(i(t)?r(o)[1]:r(o)[0]):a?s+r(o)[1]:s+(i(t)?r(o)[1]:r(o)[2])}t.defineLocale("lt",{months:{format:"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),weekdaysMin:"S_P_A_T_K_Pn_\u0160".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012f] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:function(t,e,n,i){return e?"kelios sekund\u0117s":i?"keli\u0173 sekund\u017ei\u0173":"kelias sekundes"},ss:o,m:n,mm:o,h:n,hh:o,d:n,dd:o,M:n,MM:o,y:n,yy:o},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(t){return t+"-oji"},week:{dow:1,doy:4}})}(n("wd/R"))},"K/tc":function(t,e,n){!function(t){"use strict";t.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(t){return/^nm$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xf4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n("wd/R"))},KSF8:function(t,e,n){!function(t){"use strict";t.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(t){return/^ch$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n tr\u01b0\u1edbc l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",w:"m\u1ed9t tu\u1ea7n",ww:"%d tu\u1ea7n",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}(n("wd/R"))},KTz0:function(t,e,n){!function(t){"use strict";var e={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,i){var r=e.words[i];return 1===i.length?n?r[0]:r[1]:t+" "+e.correctGrammaticalCase(t,r)}};t.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mjesec",MM:e.translate,y:"godinu",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n("wd/R"))},Loxo:function(t,e,n){!function(t){"use strict";t.defineLocale("uz",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u042f\u043a\u0448\u0430\u043d\u0431\u0430_\u0414\u0443\u0448\u0430\u043d\u0431\u0430_\u0421\u0435\u0448\u0430\u043d\u0431\u0430_\u0427\u043e\u0440\u0448\u0430\u043d\u0431\u0430_\u041f\u0430\u0439\u0448\u0430\u043d\u0431\u0430_\u0416\u0443\u043c\u0430_\u0428\u0430\u043d\u0431\u0430".split("_"),weekdaysShort:"\u042f\u043a\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043e\u0440_\u041f\u0430\u0439_\u0416\u0443\u043c_\u0428\u0430\u043d".split("_"),weekdaysMin:"\u042f\u043a_\u0414\u0443_\u0421\u0435_\u0427\u043e_\u041f\u0430_\u0416\u0443_\u0428\u0430".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043d \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042d\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041a\u0435\u0447\u0430 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043d] dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042f\u043a\u0438\u043d %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043d\u0435\u0447\u0430 %s \u043e\u043b\u0434\u0438\u043d",s:"\u0444\u0443\u0440\u0441\u0430\u0442",ss:"%d \u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043a\u0438\u043a\u0430",mm:"%d \u0434\u0430\u043a\u0438\u043a\u0430",h:"\u0431\u0438\u0440 \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u0431\u0438\u0440 \u043e\u0439",MM:"%d \u043e\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043b",yy:"%d \u0439\u0438\u043b"},week:{dow:1,doy:7}})}(n("wd/R"))},LyFZ:function(t,e,n){var i,r;!function(){var o,a,s,u,l,c,h,d,f,p,m,g,y,v,_,b,x,w,k,M,S,E,L,T,C,I=function t(e){var n=new t.Builder;return n.pipeline.add(t.trimmer,t.stopWordFilter,t.stemmer),n.searchPipeline.add(t.stemmer),e.call(n,n),n.build()};I.version="2.3.9",(I.utils={}).warn=function(t){return function(e){t.console&&console.warn&&console.warn(e)}}(this),I.utils.asString=function(t){return null==t?"":t.toString()},I.utils.clone=function(t){if(null==t)return t;for(var e=Object.create(null),n=Object.keys(t),i=0;i<n.length;i++){var r=n[i],o=t[r];if(Array.isArray(o))e[r]=o.slice();else{if("string"!=typeof o&&"number"!=typeof o&&"boolean"!=typeof o)throw new TypeError("clone is not deep and does not support nested objects");e[r]=o}}return e},(I.FieldRef=function(t,e,n){this.docRef=t,this.fieldName=e,this._stringValue=n}).joiner="/",I.FieldRef.fromString=function(t){var e=t.indexOf(I.FieldRef.joiner);if(-1===e)throw"malformed field ref string";var n=t.slice(0,e),i=t.slice(e+1);return new I.FieldRef(i,n,t)},I.FieldRef.prototype.toString=function(){return null==this._stringValue&&(this._stringValue=this.fieldName+I.FieldRef.joiner+this.docRef),this._stringValue},(I.Set=function(t){if(this.elements=Object.create(null),t){this.length=t.length;for(var e=0;e<this.length;e++)this.elements[t[e]]=!0}else this.length=0}).complete={intersect:function(t){return t},union:function(){return this},contains:function(){return!0}},I.Set.empty={intersect:function(){return this},union:function(t){return t},contains:function(){return!1}},I.Set.prototype.contains=function(t){return!!this.elements[t]},I.Set.prototype.intersect=function(t){var e,n,i,r=[];if(t===I.Set.complete)return this;if(t===I.Set.empty)return t;this.length<t.length?(e=this,n=t):(e=t,n=this),i=Object.keys(e.elements);for(var o=0;o<i.length;o++){var a=i[o];a in n.elements&&r.push(a)}return new I.Set(r)},I.Set.prototype.union=function(t){return t===I.Set.complete?I.Set.complete:t===I.Set.empty?this:new I.Set(Object.keys(this.elements).concat(Object.keys(t.elements)))},I.idf=function(t,e){var n=0;for(var i in t)"_index"!=i&&(n+=Object.keys(t[i]).length);return Math.log(1+Math.abs((e-n+.5)/(n+.5)))},(I.Token=function(t,e){this.str=t||"",this.metadata=e||{}}).prototype.toString=function(){return this.str},I.Token.prototype.update=function(t){return this.str=t(this.str,this.metadata),this},I.Token.prototype.clone=function(t){return new I.Token((t=t||function(t){return t})(this.str,this.metadata),this.metadata)},(I.tokenizer=function(t,e){if(null==t||null==t)return[];if(Array.isArray(t))return t.map(function(t){return new I.Token(I.utils.asString(t).toLowerCase(),I.utils.clone(e))});for(var n=t.toString().toLowerCase(),i=n.length,r=[],o=0,a=0;o<=i;o++){var s=o-a;if(n.charAt(o).match(I.tokenizer.separator)||o==i){if(s>0){var u=I.utils.clone(e)||{};u.position=[a,s],u.index=r.length,r.push(new I.Token(n.slice(a,o),u))}a=o+1}}return r}).separator=/[\s\-]+/,(I.Pipeline=function(){this._stack=[]}).registeredFunctions=Object.create(null),I.Pipeline.registerFunction=function(t,e){e in this.registeredFunctions&&I.utils.warn("Overwriting existing registered function: "+e),t.label=e,I.Pipeline.registeredFunctions[t.label]=t},I.Pipeline.warnIfFunctionNotRegistered=function(t){t.label&&t.label in this.registeredFunctions||I.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",t)},I.Pipeline.load=function(t){var e=new I.Pipeline;return t.forEach(function(t){var n=I.Pipeline.registeredFunctions[t];if(!n)throw new Error("Cannot load unregistered function: "+t);e.add(n)}),e},I.Pipeline.prototype.add=function(){var t=Array.prototype.slice.call(arguments);t.forEach(function(t){I.Pipeline.warnIfFunctionNotRegistered(t),this._stack.push(t)},this)},I.Pipeline.prototype.after=function(t,e){I.Pipeline.warnIfFunctionNotRegistered(e);var n=this._stack.indexOf(t);if(-1==n)throw new Error("Cannot find existingFn");this._stack.splice(n+=1,0,e)},I.Pipeline.prototype.before=function(t,e){I.Pipeline.warnIfFunctionNotRegistered(e);var n=this._stack.indexOf(t);if(-1==n)throw new Error("Cannot find existingFn");this._stack.splice(n,0,e)},I.Pipeline.prototype.remove=function(t){var e=this._stack.indexOf(t);-1!=e&&this._stack.splice(e,1)},I.Pipeline.prototype.run=function(t){for(var e=this._stack.length,n=0;n<e;n++){for(var i=this._stack[n],r=[],o=0;o<t.length;o++){var a=i(t[o],o,t);if(null!=a&&""!==a)if(Array.isArray(a))for(var s=0;s<a.length;s++)r.push(a[s]);else r.push(a)}t=r}return t},I.Pipeline.prototype.runString=function(t,e){var n=new I.Token(t,e);return this.run([n]).map(function(t){return t.toString()})},I.Pipeline.prototype.reset=function(){this._stack=[]},I.Pipeline.prototype.toJSON=function(){return this._stack.map(function(t){return I.Pipeline.warnIfFunctionNotRegistered(t),t.label})},(I.Vector=function(t){this._magnitude=0,this.elements=t||[]}).prototype.positionForIndex=function(t){if(0==this.elements.length)return 0;for(var e=0,n=this.elements.length/2,i=n-e,r=Math.floor(i/2),o=this.elements[2*r];i>1&&(o<t&&(e=r),o>t&&(n=r),o!=t);)i=n-e,r=e+Math.floor(i/2),o=this.elements[2*r];return o==t||o>t?2*r:o<t?2*(r+1):void 0},I.Vector.prototype.insert=function(t,e){this.upsert(t,e,function(){throw"duplicate index"})},I.Vector.prototype.upsert=function(t,e,n){this._magnitude=0;var i=this.positionForIndex(t);this.elements[i]==t?this.elements[i+1]=n(this.elements[i+1],e):this.elements.splice(i,0,t,e)},I.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var t=0,e=this.elements.length,n=1;n<e;n+=2){var i=this.elements[n];t+=i*i}return this._magnitude=Math.sqrt(t)},I.Vector.prototype.dot=function(t){for(var e=0,n=this.elements,i=t.elements,r=n.length,o=i.length,a=0,s=0,u=0,l=0;u<r&&l<o;)(a=n[u])<(s=i[l])?u+=2:a>s?l+=2:a==s&&(e+=n[u+1]*i[l+1],u+=2,l+=2);return e},I.Vector.prototype.similarity=function(t){return this.dot(t)/this.magnitude()||0},I.Vector.prototype.toArray=function(){for(var t=new Array(this.elements.length/2),e=1,n=0;e<this.elements.length;e+=2,n++)t[n]=this.elements[e];return t},I.Vector.prototype.toJSON=function(){return this.elements},I.stemmer=(o={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},a={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},s="[aeiouy]",u="[^aeiou][^aeiouy]*",l=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*"),c=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*"),h=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$"),d=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy]"),f=/^(.+?)(ss|i)es$/,p=/^(.+?)([^s])s$/,m=/^(.+?)eed$/,g=/^(.+?)(ed|ing)$/,y=/.$/,v=/(at|bl|iz)$/,_=new RegExp("([^aeiouylsz])\\1$"),b=new RegExp("^"+u+s+"[^aeiouwxy]$"),x=/^(.+?[^aeiou])y$/,w=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,k=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,M=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,S=/^(.+?)(s|t)(ion)$/,E=/^(.+?)e$/,L=/ll$/,T=new RegExp("^"+u+s+"[^aeiouwxy]$"),C=function(t){var e,n,i,r,s,u,C;if(t.length<3)return t;if("y"==(i=t.substr(0,1))&&(t=i.toUpperCase()+t.substr(1)),s=p,(r=f).test(t)?t=t.replace(r,"$1$2"):s.test(t)&&(t=t.replace(s,"$1$2")),s=g,(r=m).test(t)){var I=r.exec(t);(r=l).test(I[1])&&(t=t.replace(r=y,""))}else s.test(t)&&(I=s.exec(t),(s=d).test(e=I[1])&&(u=_,C=b,(s=v).test(t=e)?t+="e":u.test(t)?t=t.replace(r=y,""):C.test(t)&&(t+="e")));return(r=x).test(t)&&(t=(e=(I=r.exec(t))[1])+"i"),(r=w).test(t)&&(n=(I=r.exec(t))[2],(r=l).test(e=I[1])&&(t=e+o[n])),(r=k).test(t)&&(n=(I=r.exec(t))[2],(r=l).test(e=I[1])&&(t=e+a[n])),s=S,(r=M).test(t)?(I=r.exec(t),(r=c).test(e=I[1])&&(t=e)):s.test(t)&&(I=s.exec(t),(s=c).test(e=I[1]+I[2])&&(t=e)),(r=E).test(t)&&(I=r.exec(t),s=h,u=T,((r=c).test(e=I[1])||s.test(e)&&!u.test(e))&&(t=e)),s=c,(r=L).test(t)&&s.test(t)&&(t=t.replace(r=y,"")),"y"==i&&(t=i.toLowerCase()+t.substr(1)),t},function(t){return t.update(C)}),I.Pipeline.registerFunction(I.stemmer,"stemmer"),I.generateStopWordFilter=function(t){var e=t.reduce(function(t,e){return t[e]=e,t},{});return function(t){if(t&&e[t.toString()]!==t.toString())return t}},I.stopWordFilter=I.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),I.Pipeline.registerFunction(I.stopWordFilter,"stopWordFilter"),I.trimmer=function(t){return t.update(function(t){return t.replace(/^\W+/,"").replace(/\W+$/,"")})},I.Pipeline.registerFunction(I.trimmer,"trimmer"),(I.TokenSet=function(){this.final=!1,this.edges={},this.id=I.TokenSet._nextId,I.TokenSet._nextId+=1})._nextId=1,I.TokenSet.fromArray=function(t){for(var e=new I.TokenSet.Builder,n=0,i=t.length;n<i;n++)e.insert(t[n]);return e.finish(),e.root},I.TokenSet.fromClause=function(t){return"editDistance"in t?I.TokenSet.fromFuzzyString(t.term,t.editDistance):I.TokenSet.fromString(t.term)},I.TokenSet.fromFuzzyString=function(t,e){for(var n=new I.TokenSet,i=[{node:n,editsRemaining:e,str:t}];i.length;){var r=i.pop();if(r.str.length>0){var o,a=r.str.charAt(0);a in r.node.edges?o=r.node.edges[a]:(o=new I.TokenSet,r.node.edges[a]=o),1==r.str.length&&(o.final=!0),i.push({node:o,editsRemaining:r.editsRemaining,str:r.str.slice(1)})}if(0!=r.editsRemaining){if("*"in r.node.edges)var s=r.node.edges["*"];else s=new I.TokenSet,r.node.edges["*"]=s;if(0==r.str.length&&(s.final=!0),i.push({node:s,editsRemaining:r.editsRemaining-1,str:r.str}),r.str.length>1&&i.push({node:r.node,editsRemaining:r.editsRemaining-1,str:r.str.slice(1)}),1==r.str.length&&(r.node.final=!0),r.str.length>=1){if("*"in r.node.edges)var u=r.node.edges["*"];else u=new I.TokenSet,r.node.edges["*"]=u;1==r.str.length&&(u.final=!0),i.push({node:u,editsRemaining:r.editsRemaining-1,str:r.str.slice(1)})}if(r.str.length>1){var l,c=r.str.charAt(0),h=r.str.charAt(1);h in r.node.edges?l=r.node.edges[h]:(l=new I.TokenSet,r.node.edges[h]=l),1==r.str.length&&(l.final=!0),i.push({node:l,editsRemaining:r.editsRemaining-1,str:c+r.str.slice(2)})}}}return n},I.TokenSet.fromString=function(t){for(var e=new I.TokenSet,n=e,i=0,r=t.length;i<r;i++){var o=t[i],a=i==r-1;if("*"==o)e.edges[o]=e,e.final=a;else{var s=new I.TokenSet;s.final=a,e.edges[o]=s,e=s}}return n},I.TokenSet.prototype.toArray=function(){for(var t=[],e=[{prefix:"",node:this}];e.length;){var n=e.pop(),i=Object.keys(n.node.edges),r=i.length;n.node.final&&(n.prefix.charAt(0),t.push(n.prefix));for(var o=0;o<r;o++){var a=i[o];e.push({prefix:n.prefix.concat(a),node:n.node.edges[a]})}}return t},I.TokenSet.prototype.toString=function(){if(this._str)return this._str;for(var t=this.final?"1":"0",e=Object.keys(this.edges).sort(),n=e.length,i=0;i<n;i++){var r=e[i];t=t+r+this.edges[r].id}return t},I.TokenSet.prototype.intersect=function(t){for(var e=new I.TokenSet,n=void 0,i=[{qNode:t,output:e,node:this}];i.length;){n=i.pop();for(var r=Object.keys(n.qNode.edges),o=r.length,a=Object.keys(n.node.edges),s=a.length,u=0;u<o;u++)for(var l=r[u],c=0;c<s;c++){var h=a[c];if(h==l||"*"==l){var d=n.node.edges[h],f=n.qNode.edges[l],p=d.final&&f.final,m=void 0;h in n.output.edges?(m=n.output.edges[h]).final=m.final||p:((m=new I.TokenSet).final=p,n.output.edges[h]=m),i.push({qNode:f,output:m,node:d})}}}return e},I.TokenSet.Builder=function(){this.previousWord="",this.root=new I.TokenSet,this.uncheckedNodes=[],this.minimizedNodes={}},I.TokenSet.Builder.prototype.insert=function(t){var e,n=0;if(t<this.previousWord)throw new Error("Out of order word insertion");for(var i=0;i<t.length&&i<this.previousWord.length&&t[i]==this.previousWord[i];i++)n++;for(this.minimize(n),e=0==this.uncheckedNodes.length?this.root:this.uncheckedNodes[this.uncheckedNodes.length-1].child,i=n;i<t.length;i++){var r=new I.TokenSet,o=t[i];e.edges[o]=r,this.uncheckedNodes.push({parent:e,char:o,child:r}),e=r}e.final=!0,this.previousWord=t},I.TokenSet.Builder.prototype.finish=function(){this.minimize(0)},I.TokenSet.Builder.prototype.minimize=function(t){for(var e=this.uncheckedNodes.length-1;e>=t;e--){var n=this.uncheckedNodes[e],i=n.child.toString();i in this.minimizedNodes?n.parent.edges[n.char]=this.minimizedNodes[i]:(n.child._str=i,this.minimizedNodes[i]=n.child),this.uncheckedNodes.pop()}},(I.Index=function(t){this.invertedIndex=t.invertedIndex,this.fieldVectors=t.fieldVectors,this.tokenSet=t.tokenSet,this.fields=t.fields,this.pipeline=t.pipeline}).prototype.search=function(t){return this.query(function(e){new I.QueryParser(t,e).parse()})},I.Index.prototype.query=function(t){for(var e=new I.Query(this.fields),n=Object.create(null),i=Object.create(null),r=Object.create(null),o=Object.create(null),a=Object.create(null),s=0;s<this.fields.length;s++)i[this.fields[s]]=new I.Vector;for(t.call(e,e),s=0;s<e.clauses.length;s++){var u,l=e.clauses[s],c=I.Set.empty;u=l.usePipeline?this.pipeline.runString(l.term,{fields:l.fields}):[l.term];for(var h=0;h<u.length;h++){l.term=u[h];var d=I.TokenSet.fromClause(l),f=this.tokenSet.intersect(d).toArray();if(0===f.length&&l.presence===I.Query.presence.REQUIRED){for(var p=0;p<l.fields.length;p++)o[P=l.fields[p]]=I.Set.empty;break}for(var m=0;m<f.length;m++){var g=f[m],y=this.invertedIndex[g],v=y._index;for(p=0;p<l.fields.length;p++){var _=y[P=l.fields[p]],b=Object.keys(_),x=g+"/"+P,w=new I.Set(b);if(l.presence==I.Query.presence.REQUIRED&&(c=c.union(w),void 0===o[P]&&(o[P]=I.Set.complete)),l.presence!=I.Query.presence.PROHIBITED){if(i[P].upsert(v,l.boost,function(t,e){return t+e}),!r[x]){for(var k=0;k<b.length;k++){var M,S=b[k],E=new I.FieldRef(S,P),L=_[S];void 0===(M=n[E])?n[E]=new I.MatchData(g,P,L):M.add(g,P,L)}r[x]=!0}}else void 0===a[P]&&(a[P]=I.Set.empty),a[P]=a[P].union(w)}}}if(l.presence===I.Query.presence.REQUIRED)for(p=0;p<l.fields.length;p++)o[P=l.fields[p]]=o[P].intersect(c)}var T=I.Set.complete,C=I.Set.empty;for(s=0;s<this.fields.length;s++){var P;o[P=this.fields[s]]&&(T=T.intersect(o[P])),a[P]&&(C=C.union(a[P]))}var D=Object.keys(n),O=[],A=Object.create(null);if(e.isNegated())for(D=Object.keys(this.fieldVectors),s=0;s<D.length;s++){var R=I.FieldRef.fromString(E=D[s]);n[E]=new I.MatchData}for(s=0;s<D.length;s++){var N=(R=I.FieldRef.fromString(D[s])).docRef;if(T.contains(N)&&!C.contains(N)){var F,Y=i[R.fieldName].similarity(this.fieldVectors[R]);if(void 0!==(F=A[N]))F.score+=Y,F.matchData.combine(n[R]);else{var z={ref:N,score:Y,matchData:n[R]};A[N]=z,O.push(z)}}}return O.sort(function(t,e){return e.score-t.score})},I.Index.prototype.toJSON=function(){var t=Object.keys(this.invertedIndex).sort().map(function(t){return[t,this.invertedIndex[t]]},this),e=Object.keys(this.fieldVectors).map(function(t){return[t,this.fieldVectors[t].toJSON()]},this);return{version:I.version,fields:this.fields,fieldVectors:e,invertedIndex:t,pipeline:this.pipeline.toJSON()}},I.Index.load=function(t){var e={},n={},i=t.fieldVectors,r=Object.create(null),o=t.invertedIndex,a=new I.TokenSet.Builder,s=I.Pipeline.load(t.pipeline);t.version!=I.version&&I.utils.warn("Version mismatch when loading serialised index. Current version of lunr '"+I.version+"' does not match serialized index '"+t.version+"'");for(var u=0;u<i.length;u++)n[(l=i[u])[0]]=new I.Vector(l[1]);for(u=0;u<o.length;u++){var l,c=(l=o[u])[0],h=l[1];a.insert(c),r[c]=h}return a.finish(),e.fields=t.fields,e.fieldVectors=n,e.invertedIndex=r,e.tokenSet=a.root,e.pipeline=s,new I.Index(e)},(I.Builder=function(){this._ref="id",this._fields=Object.create(null),this._documents=Object.create(null),this.invertedIndex=Object.create(null),this.fieldTermFrequencies={},this.fieldLengths={},this.tokenizer=I.tokenizer,this.pipeline=new I.Pipeline,this.searchPipeline=new I.Pipeline,this.documentCount=0,this._b=.75,this._k1=1.2,this.termIndex=0,this.metadataWhitelist=[]}).prototype.ref=function(t){this._ref=t},I.Builder.prototype.field=function(t,e){if(/\//.test(t))throw new RangeError("Field '"+t+"' contains illegal character '/'");this._fields[t]=e||{}},I.Builder.prototype.b=function(t){this._b=t<0?0:t>1?1:t},I.Builder.prototype.k1=function(t){this._k1=t},I.Builder.prototype.add=function(t,e){var n=t[this._ref],i=Object.keys(this._fields);this._documents[n]=e||{},this.documentCount+=1;for(var r=0;r<i.length;r++){var o=i[r],a=this._fields[o].extractor,s=a?a(t):t[o],u=this.tokenizer(s,{fields:[o]}),l=this.pipeline.run(u),c=new I.FieldRef(n,o),h=Object.create(null);this.fieldTermFrequencies[c]=h,this.fieldLengths[c]=0,this.fieldLengths[c]+=l.length;for(var d=0;d<l.length;d++){var f=l[d];if(null==h[f]&&(h[f]=0),h[f]+=1,null==this.invertedIndex[f]){var p=Object.create(null);p._index=this.termIndex,this.termIndex+=1;for(var m=0;m<i.length;m++)p[i[m]]=Object.create(null);this.invertedIndex[f]=p}null==this.invertedIndex[f][o][n]&&(this.invertedIndex[f][o][n]=Object.create(null));for(var g=0;g<this.metadataWhitelist.length;g++){var y=this.metadataWhitelist[g],v=f.metadata[y];null==this.invertedIndex[f][o][n][y]&&(this.invertedIndex[f][o][n][y]=[]),this.invertedIndex[f][o][n][y].push(v)}}}},I.Builder.prototype.calculateAverageFieldLengths=function(){for(var t=Object.keys(this.fieldLengths),e=t.length,n={},i={},r=0;r<e;r++){var o=I.FieldRef.fromString(t[r]),a=o.fieldName;i[a]||(i[a]=0),i[a]+=1,n[a]||(n[a]=0),n[a]+=this.fieldLengths[o]}var s=Object.keys(this._fields);for(r=0;r<s.length;r++){var u=s[r];n[u]=n[u]/i[u]}this.averageFieldLength=n},I.Builder.prototype.createFieldVectors=function(){for(var t={},e=Object.keys(this.fieldTermFrequencies),n=e.length,i=Object.create(null),r=0;r<n;r++){for(var o=I.FieldRef.fromString(e[r]),a=o.fieldName,s=this.fieldLengths[o],u=new I.Vector,l=this.fieldTermFrequencies[o],c=Object.keys(l),h=c.length,d=this._fields[a].boost||1,f=this._documents[o.docRef].boost||1,p=0;p<h;p++){var m,g,y,v=c[p],_=l[v],b=this.invertedIndex[v]._index;void 0===i[v]?(m=I.idf(this.invertedIndex[v],this.documentCount),i[v]=m):m=i[v],g=m*((this._k1+1)*_)/(this._k1*(1-this._b+this._b*(s/this.averageFieldLength[a]))+_),g*=d,g*=f,y=Math.round(1e3*g)/1e3,u.insert(b,y)}t[o]=u}this.fieldVectors=t},I.Builder.prototype.createTokenSet=function(){this.tokenSet=I.TokenSet.fromArray(Object.keys(this.invertedIndex).sort())},I.Builder.prototype.build=function(){return this.calculateAverageFieldLengths(),this.createFieldVectors(),this.createTokenSet(),new I.Index({invertedIndex:this.invertedIndex,fieldVectors:this.fieldVectors,tokenSet:this.tokenSet,fields:Object.keys(this._fields),pipeline:this.searchPipeline})},I.Builder.prototype.use=function(t){var e=Array.prototype.slice.call(arguments,1);e.unshift(this),t.apply(this,e)},(I.MatchData=function(t,e,n){for(var i=Object.create(null),r=Object.keys(n||{}),o=0;o<r.length;o++){var a=r[o];i[a]=n[a].slice()}this.metadata=Object.create(null),void 0!==t&&(this.metadata[t]=Object.create(null),this.metadata[t][e]=i)}).prototype.combine=function(t){for(var e=Object.keys(t.metadata),n=0;n<e.length;n++){var i=e[n],r=Object.keys(t.metadata[i]);null==this.metadata[i]&&(this.metadata[i]=Object.create(null));for(var o=0;o<r.length;o++){var a=r[o],s=Object.keys(t.metadata[i][a]);null==this.metadata[i][a]&&(this.metadata[i][a]=Object.create(null));for(var u=0;u<s.length;u++){var l=s[u];this.metadata[i][a][l]=null==this.metadata[i][a][l]?t.metadata[i][a][l]:this.metadata[i][a][l].concat(t.metadata[i][a][l])}}}},I.MatchData.prototype.add=function(t,e,n){if(!(t in this.metadata))return this.metadata[t]=Object.create(null),void(this.metadata[t][e]=n);if(e in this.metadata[t])for(var i=Object.keys(n),r=0;r<i.length;r++){var o=i[r];this.metadata[t][e][o]=o in this.metadata[t][e]?this.metadata[t][e][o].concat(n[o]):n[o]}else this.metadata[t][e]=n},(I.Query=function(t){this.clauses=[],this.allFields=t}).wildcard=new String("*"),I.Query.wildcard.NONE=0,I.Query.wildcard.LEADING=1,I.Query.wildcard.TRAILING=2,I.Query.presence={OPTIONAL:1,REQUIRED:2,PROHIBITED:3},I.Query.prototype.clause=function(t){return"fields"in t||(t.fields=this.allFields),"boost"in t||(t.boost=1),"usePipeline"in t||(t.usePipeline=!0),"wildcard"in t||(t.wildcard=I.Query.wildcard.NONE),t.wildcard&I.Query.wildcard.LEADING&&t.term.charAt(0)!=I.Query.wildcard&&(t.term="*"+t.term),t.wildcard&I.Query.wildcard.TRAILING&&t.term.slice(-1)!=I.Query.wildcard&&(t.term=t.term+"*"),"presence"in t||(t.presence=I.Query.presence.OPTIONAL),this.clauses.push(t),this},I.Query.prototype.isNegated=function(){for(var t=0;t<this.clauses.length;t++)if(this.clauses[t].presence!=I.Query.presence.PROHIBITED)return!1;return!0},I.Query.prototype.term=function(t,e){if(Array.isArray(t))return t.forEach(function(t){this.term(t,I.utils.clone(e))},this),this;var n=e||{};return n.term=t.toString(),this.clause(n),this},(I.QueryParseError=function(t,e,n){this.name="QueryParseError",this.message=t,this.start=e,this.end=n}).prototype=new Error,(I.QueryLexer=function(t){this.lexemes=[],this.str=t,this.length=t.length,this.pos=0,this.start=0,this.escapeCharPositions=[]}).prototype.run=function(){for(var t=I.QueryLexer.lexText;t;)t=t(this)},I.QueryLexer.prototype.sliceString=function(){for(var t=[],e=this.start,n=this.pos,i=0;i<this.escapeCharPositions.length;i++)t.push(this.str.slice(e,n=this.escapeCharPositions[i])),e=n+1;return t.push(this.str.slice(e,this.pos)),this.escapeCharPositions.length=0,t.join("")},I.QueryLexer.prototype.emit=function(t){this.lexemes.push({type:t,str:this.sliceString(),start:this.start,end:this.pos}),this.start=this.pos},I.QueryLexer.prototype.escapeCharacter=function(){this.escapeCharPositions.push(this.pos-1),this.pos+=1},I.QueryLexer.prototype.next=function(){if(this.pos>=this.length)return I.QueryLexer.EOS;var t=this.str.charAt(this.pos);return this.pos+=1,t},I.QueryLexer.prototype.width=function(){return this.pos-this.start},I.QueryLexer.prototype.ignore=function(){this.start==this.pos&&(this.pos+=1),this.start=this.pos},I.QueryLexer.prototype.backup=function(){this.pos-=1},I.QueryLexer.prototype.acceptDigitRun=function(){var t,e;do{e=(t=this.next()).charCodeAt(0)}while(e>47&&e<58);t!=I.QueryLexer.EOS&&this.backup()},I.QueryLexer.prototype.more=function(){return this.pos<this.length},I.QueryLexer.EOS="EOS",I.QueryLexer.FIELD="FIELD",I.QueryLexer.TERM="TERM",I.QueryLexer.EDIT_DISTANCE="EDIT_DISTANCE",I.QueryLexer.BOOST="BOOST",I.QueryLexer.PRESENCE="PRESENCE",I.QueryLexer.lexField=function(t){return t.backup(),t.emit(I.QueryLexer.FIELD),t.ignore(),I.QueryLexer.lexText},I.QueryLexer.lexTerm=function(t){if(t.width()>1&&(t.backup(),t.emit(I.QueryLexer.TERM)),t.ignore(),t.more())return I.QueryLexer.lexText},I.QueryLexer.lexEditDistance=function(t){return t.ignore(),t.acceptDigitRun(),t.emit(I.QueryLexer.EDIT_DISTANCE),I.QueryLexer.lexText},I.QueryLexer.lexBoost=function(t){return t.ignore(),t.acceptDigitRun(),t.emit(I.QueryLexer.BOOST),I.QueryLexer.lexText},I.QueryLexer.lexEOS=function(t){t.width()>0&&t.emit(I.QueryLexer.TERM)},I.QueryLexer.termSeparator=I.tokenizer.separator,I.QueryLexer.lexText=function(t){for(;;){var e=t.next();if(e==I.QueryLexer.EOS)return I.QueryLexer.lexEOS;if(92!=e.charCodeAt(0)){if(":"==e)return I.QueryLexer.lexField;if("~"==e)return t.backup(),t.width()>0&&t.emit(I.QueryLexer.TERM),I.QueryLexer.lexEditDistance;if("^"==e)return t.backup(),t.width()>0&&t.emit(I.QueryLexer.TERM),I.QueryLexer.lexBoost;if("+"==e&&1===t.width())return t.emit(I.QueryLexer.PRESENCE),I.QueryLexer.lexText;if("-"==e&&1===t.width())return t.emit(I.QueryLexer.PRESENCE),I.QueryLexer.lexText;if(e.match(I.QueryLexer.termSeparator))return I.QueryLexer.lexTerm}else t.escapeCharacter()}},(I.QueryParser=function(t,e){this.lexer=new I.QueryLexer(t),this.query=e,this.currentClause={},this.lexemeIdx=0}).prototype.parse=function(){this.lexer.run(),this.lexemes=this.lexer.lexemes;for(var t=I.QueryParser.parseClause;t;)t=t(this);return this.query},I.QueryParser.prototype.peekLexeme=function(){return this.lexemes[this.lexemeIdx]},I.QueryParser.prototype.consumeLexeme=function(){var t=this.peekLexeme();return this.lexemeIdx+=1,t},I.QueryParser.prototype.nextClause=function(){this.query.clause(this.currentClause),this.currentClause={}},I.QueryParser.parseClause=function(t){var e=t.peekLexeme();if(null!=e)switch(e.type){case I.QueryLexer.PRESENCE:return I.QueryParser.parsePresence;case I.QueryLexer.FIELD:return I.QueryParser.parseField;case I.QueryLexer.TERM:return I.QueryParser.parseTerm;default:var n="expected either a field or a term, found "+e.type;throw e.str.length>=1&&(n+=" with value '"+e.str+"'"),new I.QueryParseError(n,e.start,e.end)}},I.QueryParser.parsePresence=function(t){var e=t.consumeLexeme();if(null!=e){switch(e.str){case"-":t.currentClause.presence=I.Query.presence.PROHIBITED;break;case"+":t.currentClause.presence=I.Query.presence.REQUIRED;break;default:throw new I.QueryParseError("unrecognised presence operator'"+e.str+"'",e.start,e.end)}var n=t.peekLexeme();if(null==n)throw new I.QueryParseError("expecting term or field, found nothing",e.start,e.end);switch(n.type){case I.QueryLexer.FIELD:return I.QueryParser.parseField;case I.QueryLexer.TERM:return I.QueryParser.parseTerm;default:throw new I.QueryParseError("expecting term or field, found '"+n.type+"'",n.start,n.end)}}},I.QueryParser.parseField=function(t){var e=t.consumeLexeme();if(null!=e){if(-1==t.query.allFields.indexOf(e.str)){var n=t.query.allFields.map(function(t){return"'"+t+"'"}).join(", ");throw new I.QueryParseError("unrecognised field '"+e.str+"', possible fields: "+n,e.start,e.end)}t.currentClause.fields=[e.str];var i=t.peekLexeme();if(null==i)throw new I.QueryParseError("expecting term, found nothing",e.start,e.end);switch(i.type){case I.QueryLexer.TERM:return I.QueryParser.parseTerm;default:throw new I.QueryParseError("expecting term, found '"+i.type+"'",i.start,i.end)}}},I.QueryParser.parseTerm=function(t){var e=t.consumeLexeme();if(null!=e){t.currentClause.term=e.str.toLowerCase(),-1!=e.str.indexOf("*")&&(t.currentClause.usePipeline=!1);var n=t.peekLexeme();if(null!=n)switch(n.type){case I.QueryLexer.TERM:return t.nextClause(),I.QueryParser.parseTerm;case I.QueryLexer.FIELD:return t.nextClause(),I.QueryParser.parseField;case I.QueryLexer.EDIT_DISTANCE:return I.QueryParser.parseEditDistance;case I.QueryLexer.BOOST:return I.QueryParser.parseBoost;case I.QueryLexer.PRESENCE:return t.nextClause(),I.QueryParser.parsePresence;default:throw new I.QueryParseError("Unexpected lexeme type '"+n.type+"'",n.start,n.end)}else t.nextClause()}},I.QueryParser.parseEditDistance=function(t){var e=t.consumeLexeme();if(null!=e){var n=parseInt(e.str,10);if(isNaN(n))throw new I.QueryParseError("edit distance must be numeric",e.start,e.end);t.currentClause.editDistance=n;var i=t.peekLexeme();if(null!=i)switch(i.type){case I.QueryLexer.TERM:return t.nextClause(),I.QueryParser.parseTerm;case I.QueryLexer.FIELD:return t.nextClause(),I.QueryParser.parseField;case I.QueryLexer.EDIT_DISTANCE:return I.QueryParser.parseEditDistance;case I.QueryLexer.BOOST:return I.QueryParser.parseBoost;case I.QueryLexer.PRESENCE:return t.nextClause(),I.QueryParser.parsePresence;default:throw new I.QueryParseError("Unexpected lexeme type '"+i.type+"'",i.start,i.end)}else t.nextClause()}},I.QueryParser.parseBoost=function(t){var e=t.consumeLexeme();if(null!=e){var n=parseInt(e.str,10);if(isNaN(n))throw new I.QueryParseError("boost must be numeric",e.start,e.end);t.currentClause.boost=n;var i=t.peekLexeme();if(null!=i)switch(i.type){case I.QueryLexer.TERM:return t.nextClause(),I.QueryParser.parseTerm;case I.QueryLexer.FIELD:return t.nextClause(),I.QueryParser.parseField;case I.QueryLexer.EDIT_DISTANCE:return I.QueryParser.parseEditDistance;case I.QueryLexer.BOOST:return I.QueryParser.parseBoost;case I.QueryLexer.PRESENCE:return t.nextClause(),I.QueryParser.parsePresence;default:throw new I.QueryParseError("Unexpected lexeme type '"+i.type+"'",i.start,i.end)}else t.nextClause()}},void 0===(r="function"==typeof(i=function(){return I})?i.call(e,n,e,t):i)||(t.exports=r)}()},OIYi:function(t,e,n){!function(t){"use strict";t.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})}(n("wd/R"))},Oaa7:function(t,e,n){!function(t){"use strict";t.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n("wd/R"))},Ob0Z:function(t,e,n){!function(t){"use strict";var e={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},n={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};function i(t,e,n,i){var r="";if(e)switch(n){case"s":r="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926";break;case"ss":r="%d \u0938\u0947\u0915\u0902\u0926";break;case"m":r="\u090f\u0915 \u092e\u093f\u0928\u093f\u091f";break;case"mm":r="%d \u092e\u093f\u0928\u093f\u091f\u0947";break;case"h":r="\u090f\u0915 \u0924\u093e\u0938";break;case"hh":r="%d \u0924\u093e\u0938";break;case"d":r="\u090f\u0915 \u0926\u093f\u0935\u0938";break;case"dd":r="%d \u0926\u093f\u0935\u0938";break;case"M":r="\u090f\u0915 \u092e\u0939\u093f\u0928\u093e";break;case"MM":r="%d \u092e\u0939\u093f\u0928\u0947";break;case"y":r="\u090f\u0915 \u0935\u0930\u094d\u0937";break;case"yy":r="%d \u0935\u0930\u094d\u0937\u0947"}else switch(n){case"s":r="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"ss":r="%d \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"m":r="\u090f\u0915\u093e \u092e\u093f\u0928\u093f\u091f\u093e";break;case"mm":r="%d \u092e\u093f\u0928\u093f\u091f\u093e\u0902";break;case"h":r="\u090f\u0915\u093e \u0924\u093e\u0938\u093e";break;case"hh":r="%d \u0924\u093e\u0938\u093e\u0902";break;case"d":r="\u090f\u0915\u093e \u0926\u093f\u0935\u0938\u093e";break;case"dd":r="%d \u0926\u093f\u0935\u0938\u093e\u0902";break;case"M":r="\u090f\u0915\u093e \u092e\u0939\u093f\u0928\u094d\u092f\u093e";break;case"MM":r="%d \u092e\u0939\u093f\u0928\u094d\u092f\u093e\u0902";break;case"y":r="\u090f\u0915\u093e \u0935\u0930\u094d\u0937\u093e";break;case"yy":r="%d \u0935\u0930\u094d\u0937\u093e\u0902"}return r.replace(/%d/i,t)}t.defineLocale("mr",{months:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u093f\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u0948_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a._\u090f\u092a\u094d\u0930\u093f._\u092e\u0947._\u091c\u0942\u0928._\u091c\u0941\u0932\u0948._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0933\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0933_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u0935\u093e\u091c\u0924\u093e",LTS:"A h:mm:ss \u0935\u093e\u091c\u0924\u093e",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0909\u0926\u094d\u092f\u093e] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092e\u093e\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u0927\u094d\u092f\u0947",past:"%s\u092a\u0942\u0930\u094d\u0935\u0940",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},preparse:function(t){return t.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/\u092a\u0939\u093e\u091f\u0947|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940|\u0930\u093e\u0924\u094d\u0930\u0940/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u092a\u0939\u093e\u091f\u0947"===e||"\u0938\u0915\u093e\u0933\u0940"===e?t:"\u0926\u0941\u092a\u093e\u0930\u0940"===e||"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940"===e||"\u0930\u093e\u0924\u094d\u0930\u0940"===e?t>=12?t:t+12:void 0},meridiem:function(t,e,n){return t>=0&&t<6?"\u092a\u0939\u093e\u091f\u0947":t<12?"\u0938\u0915\u093e\u0933\u0940":t<17?"\u0926\u0941\u092a\u093e\u0930\u0940":t<20?"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940":"\u0930\u093e\u0924\u094d\u0930\u0940"},week:{dow:0,doy:6}})}(n("wd/R"))},OjkT:function(t,e,n){!function(t){"use strict";var e={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},n={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};t.defineLocale("ne",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f\u0932_\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0937\u094d\u091f_\u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930_\u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f._\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908._\u0905\u0917._\u0938\u0947\u092a\u094d\u091f._\u0905\u0915\u094d\u091f\u094b._\u0928\u094b\u092d\u0947._\u0921\u093f\u0938\u0947.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u0907\u0924\u092c\u093e\u0930_\u0938\u094b\u092e\u092c\u093e\u0930_\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930_\u092c\u0941\u0927\u092c\u093e\u0930_\u092c\u093f\u0939\u093f\u092c\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930_\u0936\u0928\u093f\u092c\u093e\u0930".split("_"),weekdaysShort:"\u0906\u0907\u0924._\u0938\u094b\u092e._\u092e\u0919\u094d\u0917\u0932._\u092c\u0941\u0927._\u092c\u093f\u0939\u093f._\u0936\u0941\u0915\u094d\u0930._\u0936\u0928\u093f.".split("_"),weekdaysMin:"\u0906._\u0938\u094b._\u092e\u0902._\u092c\u0941._\u092c\u093f._\u0936\u0941._\u0936.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A\u0915\u094b h:mm \u092c\u091c\u0947",LTS:"A\u0915\u094b h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947"},preparse:function(t){return t.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0930\u093e\u0924\u093f"===e?t<4?t:t+12:"\u092c\u093f\u0939\u093e\u0928"===e?t:"\u0926\u093f\u0909\u0901\u0938\u094b"===e?t>=10?t:t+12:"\u0938\u093e\u0901\u091d"===e?t+12:void 0},meridiem:function(t,e,n){return t<3?"\u0930\u093e\u0924\u093f":t<12?"\u092c\u093f\u0939\u093e\u0928":t<16?"\u0926\u093f\u0909\u0901\u0938\u094b":t<20?"\u0938\u093e\u0901\u091d":"\u0930\u093e\u0924\u093f"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u092d\u094b\u0932\u093f] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094b] dddd[,] LT",lastDay:"[\u0939\u093f\u091c\u094b] LT",lastWeek:"[\u0917\u090f\u0915\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u093e",past:"%s \u0905\u0917\u093e\u0921\u093f",s:"\u0915\u0947\u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0947\u0923\u094d\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u0947\u091f",mm:"%d \u092e\u093f\u0928\u0947\u091f",h:"\u090f\u0915 \u0918\u0923\u094d\u091f\u093e",hh:"%d \u0918\u0923\u094d\u091f\u093e",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u093e",y:"\u090f\u0915 \u092c\u0930\u094d\u0937",yy:"%d \u092c\u0930\u094d\u0937"},week:{dow:0,doy:6}})}(n("wd/R"))},OmwH:function(t,e,n){!function(t){"use strict";t.defineLocale("zh-mo",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"D/M/YYYY",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u51cc\u6668"===e||"\u65e9\u4e0a"===e||"\u4e0a\u5348"===e?t:"\u4e2d\u5348"===e?t>=11?t:t+12:"\u4e0b\u5348"===e||"\u665a\u4e0a"===e?t+12:void 0},meridiem:function(t,e,n){var i=100*t+e;return i<600?"\u51cc\u6668":i<900?"\u65e9\u4e0a":i<1130?"\u4e0a\u5348":i<1230?"\u4e2d\u5348":i<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"\u65e5";case"M":return t+"\u6708";case"w":case"W":return t+"\u9031";default:return t}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(n("wd/R"))},Oxv6:function(t,e,n){!function(t){"use strict";var e={0:"-\u0443\u043c",1:"-\u0443\u043c",2:"-\u044e\u043c",3:"-\u044e\u043c",4:"-\u0443\u043c",5:"-\u0443\u043c",6:"-\u0443\u043c",7:"-\u0443\u043c",8:"-\u0443\u043c",9:"-\u0443\u043c",10:"-\u0443\u043c",12:"-\u0443\u043c",13:"-\u0443\u043c",20:"-\u0443\u043c",30:"-\u044e\u043c",40:"-\u0443\u043c",50:"-\u0443\u043c",60:"-\u0443\u043c",70:"-\u0443\u043c",80:"-\u0443\u043c",90:"-\u0443\u043c",100:"-\u0443\u043c"};t.defineLocale("tg",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0430\u043b\u0438_\u043c\u0430\u0440\u0442\u0438_\u0430\u043f\u0440\u0435\u043b\u0438_\u043c\u0430\u0439\u0438_\u0438\u044e\u043d\u0438_\u0438\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442\u0438_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0438_\u043e\u043a\u0442\u044f\u0431\u0440\u0438_\u043d\u043e\u044f\u0431\u0440\u0438_\u0434\u0435\u043a\u0430\u0431\u0440\u0438".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_")},monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u044f\u043a\u0448\u0430\u043d\u0431\u0435_\u0434\u0443\u0448\u0430\u043d\u0431\u0435_\u0441\u0435\u0448\u0430\u043d\u0431\u0435_\u0447\u043e\u0440\u0448\u0430\u043d\u0431\u0435_\u043f\u0430\u043d\u04b7\u0448\u0430\u043d\u0431\u0435_\u04b7\u0443\u043c\u044a\u0430_\u0448\u0430\u043d\u0431\u0435".split("_"),weekdaysShort:"\u044f\u0448\u0431_\u0434\u0448\u0431_\u0441\u0448\u0431_\u0447\u0448\u0431_\u043f\u0448\u0431_\u04b7\u0443\u043c_\u0448\u043d\u0431".split("_"),weekdaysMin:"\u044f\u0448_\u0434\u0448_\u0441\u0448_\u0447\u0448_\u043f\u0448_\u04b7\u043c_\u0448\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0418\u043c\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextDay:"[\u0424\u0430\u0440\u0434\u043e \u0441\u043e\u0430\u0442\u0438] LT",lastDay:"[\u0414\u0438\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u043e\u044f\u043d\u0434\u0430 \u0441\u043e\u0430\u0442\u0438] LT",lastWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430 \u0441\u043e\u0430\u0442\u0438] LT",sameElse:"L"},relativeTime:{future:"\u0431\u0430\u044a\u0434\u0438 %s",past:"%s \u043f\u0435\u0448",s:"\u044f\u043a\u0447\u0430\u043d\u0434 \u0441\u043e\u043d\u0438\u044f",m:"\u044f\u043a \u0434\u0430\u049b\u0438\u049b\u0430",mm:"%d \u0434\u0430\u049b\u0438\u049b\u0430",h:"\u044f\u043a \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u044f\u043a \u0440\u04ef\u0437",dd:"%d \u0440\u04ef\u0437",M:"\u044f\u043a \u043c\u043e\u04b3",MM:"%d \u043c\u043e\u04b3",y:"\u044f\u043a \u0441\u043e\u043b",yy:"%d \u0441\u043e\u043b"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0448\u0430\u0431"===e?t<4?t:t+12:"\u0441\u0443\u0431\u04b3"===e?t:"\u0440\u04ef\u0437"===e?t>=11?t:t+12:"\u0431\u0435\u0433\u043e\u04b3"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0448\u0430\u0431":t<11?"\u0441\u0443\u0431\u04b3":t<16?"\u0440\u04ef\u0437":t<19?"\u0431\u0435\u0433\u043e\u04b3":"\u0448\u0430\u0431"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(n("wd/R"))},PA2r:function(t,e,n){!function(t){"use strict";var e="leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),n="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),i=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],r=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;function o(t){return t>1&&t<5&&1!=~~(t/10)}function a(t,e,n,i){var r=t+" ";switch(n){case"s":return e||i?"p\xe1r sekund":"p\xe1r sekundami";case"ss":return e||i?r+(o(t)?"sekundy":"sekund"):r+"sekundami";case"m":return e?"minuta":i?"minutu":"minutou";case"mm":return e||i?r+(o(t)?"minuty":"minut"):r+"minutami";case"h":return e?"hodina":i?"hodinu":"hodinou";case"hh":return e||i?r+(o(t)?"hodiny":"hodin"):r+"hodinami";case"d":return e||i?"den":"dnem";case"dd":return e||i?r+(o(t)?"dny":"dn\xed"):r+"dny";case"M":return e||i?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return e||i?r+(o(t)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):r+"m\u011bs\xedci";case"y":return e||i?"rok":"rokem";case"yy":return e||i?r+(o(t)?"roky":"let"):r+"lety"}}t.defineLocale("cs",{months:e,monthsShort:n,monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xedtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010dtvrtek v] LT";case 5:return"[v p\xe1tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v\u010dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011bli v] LT";case 1:case 2:return"[minul\xe9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xfd] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:a,ss:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},PeUW:function(t,e,n){!function(t){"use strict";var e={1:"\u0be7",2:"\u0be8",3:"\u0be9",4:"\u0bea",5:"\u0beb",6:"\u0bec",7:"\u0bed",8:"\u0bee",9:"\u0bef",0:"\u0be6"},n={"\u0be7":"1","\u0be8":"2","\u0be9":"3","\u0bea":"4","\u0beb":"5","\u0bec":"6","\u0bed":"7","\u0bee":"8","\u0bef":"9","\u0be6":"0"};t.defineLocale("ta",{months:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),monthsShort:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),weekdays:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0b9f\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8".split("_"),weekdaysShort:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf_\u0b9a\u0ba9\u0bbf".split("_"),weekdaysMin:"\u0b9e\u0bbe_\u0ba4\u0bbf_\u0b9a\u0bc6_\u0baa\u0bc1_\u0bb5\u0bbf_\u0bb5\u0bc6_\u0b9a".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0b87\u0ba9\u0bcd\u0bb1\u0bc1] LT",nextDay:"[\u0ba8\u0bbe\u0bb3\u0bc8] LT",nextWeek:"dddd, LT",lastDay:"[\u0ba8\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1] LT",lastWeek:"[\u0b95\u0b9f\u0ba8\u0bcd\u0ba4 \u0bb5\u0bbe\u0bb0\u0bae\u0bcd] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0b87\u0bb2\u0bcd",past:"%s \u0bae\u0bc1\u0ba9\u0bcd",s:"\u0b92\u0bb0\u0bc1 \u0b9a\u0bbf\u0bb2 \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",ss:"%d \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",m:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0bae\u0bcd",mm:"%d \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0b99\u0bcd\u0b95\u0bb3\u0bcd",h:"\u0b92\u0bb0\u0bc1 \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",hh:"%d \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",d:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbe\u0bb3\u0bcd",dd:"%d \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd",M:"\u0b92\u0bb0\u0bc1 \u0bae\u0bbe\u0ba4\u0bae\u0bcd",MM:"%d \u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd",y:"\u0b92\u0bb0\u0bc1 \u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd",yy:"%d \u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(t){return t+"\u0bb5\u0ba4\u0bc1"},preparse:function(t){return t.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(t,e,n){return t<2?" \u0baf\u0bbe\u0bae\u0bae\u0bcd":t<6?" \u0bb5\u0bc8\u0b95\u0bb1\u0bc8":t<10?" \u0b95\u0bbe\u0bb2\u0bc8":t<14?" \u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd":t<18?" \u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1":t<22?" \u0bae\u0bbe\u0bb2\u0bc8":" \u0baf\u0bbe\u0bae\u0bae\u0bcd"},meridiemHour:function(t,e){return 12===t&&(t=0),"\u0baf\u0bbe\u0bae\u0bae\u0bcd"===e?t<2?t:t+12:"\u0bb5\u0bc8\u0b95\u0bb1\u0bc8"===e||"\u0b95\u0bbe\u0bb2\u0bc8"===e||"\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd"===e&&t>=10?t:t+12},week:{dow:0,doy:6}})}(n("wd/R"))},PpIw:function(t,e,n){!function(t){"use strict";var e={1:"\u0ce7",2:"\u0ce8",3:"\u0ce9",4:"\u0cea",5:"\u0ceb",6:"\u0cec",7:"\u0ced",8:"\u0cee",9:"\u0cef",0:"\u0ce6"},n={"\u0ce7":"1","\u0ce8":"2","\u0ce9":"3","\u0cea":"4","\u0ceb":"5","\u0cec":"6","\u0ced":"7","\u0cee":"8","\u0cef":"9","\u0ce6":"0"};t.defineLocale("kn",{months:"\u0c9c\u0ca8\u0cb5\u0cb0\u0cbf_\u0cab\u0cc6\u0cac\u0ccd\u0cb0\u0cb5\u0cb0\u0cbf_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5\u0cac\u0cb0\u0ccd_\u0ca8\u0cb5\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82\u0cac\u0cb0\u0ccd".split("_"),monthsShort:"\u0c9c\u0ca8_\u0cab\u0cc6\u0cac\u0ccd\u0cb0_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5_\u0ca8\u0cb5\u0cc6\u0c82_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82".split("_"),monthsParseExact:!0,weekdays:"\u0cad\u0cbe\u0ca8\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae\u0cb5\u0cbe\u0cb0_\u0cae\u0c82\u0c97\u0cb3\u0cb5\u0cbe\u0cb0_\u0cac\u0cc1\u0ca7\u0cb5\u0cbe\u0cb0_\u0c97\u0cc1\u0cb0\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0\u0cb5\u0cbe\u0cb0_\u0cb6\u0ca8\u0cbf\u0cb5\u0cbe\u0cb0".split("_"),weekdaysShort:"\u0cad\u0cbe\u0ca8\u0cc1_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae_\u0cae\u0c82\u0c97\u0cb3_\u0cac\u0cc1\u0ca7_\u0c97\u0cc1\u0cb0\u0cc1_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0_\u0cb6\u0ca8\u0cbf".split("_"),weekdaysMin:"\u0cad\u0cbe_\u0cb8\u0cc6\u0cc2\u0cd5_\u0cae\u0c82_\u0cac\u0cc1_\u0c97\u0cc1_\u0cb6\u0cc1_\u0cb6".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c87\u0c82\u0ca6\u0cc1] LT",nextDay:"[\u0ca8\u0cbe\u0cb3\u0cc6] LT",nextWeek:"dddd, LT",lastDay:"[\u0ca8\u0cbf\u0ca8\u0ccd\u0ca8\u0cc6] LT",lastWeek:"[\u0c95\u0cc6\u0cc2\u0ca8\u0cc6\u0caf] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0ca8\u0c82\u0ca4\u0cb0",past:"%s \u0cb9\u0cbf\u0c82\u0ca6\u0cc6",s:"\u0c95\u0cc6\u0cb2\u0cb5\u0cc1 \u0c95\u0ccd\u0cb7\u0ca3\u0c97\u0cb3\u0cc1",ss:"%d \u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0cc1\u0c97\u0cb3\u0cc1",m:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",mm:"%d \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",h:"\u0c92\u0c82\u0ca6\u0cc1 \u0c97\u0c82\u0c9f\u0cc6",hh:"%d \u0c97\u0c82\u0c9f\u0cc6",d:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca6\u0cbf\u0ca8",dd:"%d \u0ca6\u0cbf\u0ca8",M:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",MM:"%d \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",y:"\u0c92\u0c82\u0ca6\u0cc1 \u0cb5\u0cb0\u0ccd\u0cb7",yy:"%d \u0cb5\u0cb0\u0ccd\u0cb7"},preparse:function(t){return t.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"===e?t<4?t:t+12:"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6"===e?t:"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8"===e?t>=10?t:t+12:"\u0cb8\u0c82\u0c9c\u0cc6"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf":t<10?"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6":t<17?"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8":t<20?"\u0cb8\u0c82\u0c9c\u0cc6":"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(t){return t+"\u0ca8\u0cc6\u0cd5"},week:{dow:0,doy:6}})}(n("wd/R"))},Qj4J:function(t,e,n){!function(t){"use strict";t.defineLocale("ar-kw",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:12}})}(n("wd/R"))},RAwQ:function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return e?r[n][0]:r[n][1]}function n(t){if(t=parseInt(t,10),isNaN(t))return!1;if(t<0)return!0;if(t<10)return 4<=t&&t<=7;if(t<100){var e=t%10;return n(0===e?t/10:e)}if(t<1e4){for(;t>=10;)t/=10;return n(t)}return n(t/=1e3)}t.defineLocale("lb",{months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xebschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(t){return n(t.substr(0,t.indexOf(" ")))?"a "+t:"an "+t},past:function(t){return n(t.substr(0,t.indexOf(" ")))?"viru "+t:"virun "+t},s:"e puer Sekonnen",ss:"%d Sekonnen",m:e,mm:"%d Minutten",h:e,hh:"%d Stonnen",d:e,dd:"%d Deeg",M:e,MM:"%d M\xe9int",y:e,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},RnhZ:function(t,e,n){var i={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn-bd":"loYQ","./bn-bd.js":"loYQ","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-in":"7C5Q","./en-in.js":"7C5Q","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./en-sg":"t+mt","./en-sg.js":"t+mt","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-mx":"tbfe","./es-mx.js":"tbfe","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fil":"1ppg","./fil.js":"1ppg","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./ga":"USCx","./ga.js":"USCx","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-deva":"qvJo","./gom-deva.js":"qvJo","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it-ch":"bxKX","./it-ch.js":"bxKX","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ku":"JCF/","./ku.js":"JCF/","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./oc-lnc":"Fnuy","./oc-lnc.js":"Fnuy","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tk":"Wv91","./tk.js":"Wv91","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-mo":"OmwH","./zh-mo.js":"OmwH","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id="RnhZ"},S6ln:function(t,e,n){!function(t){"use strict";function e(t,e,n){var i=t+" ";switch(n){case"ss":return i+(1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi");case"m":return e?"jedna minuta":"jedne minute";case"mm":return i+(1===t?"minuta":2===t||3===t||4===t?"minute":"minuta");case"h":return e?"jedan sat":"jednog sata";case"hh":return i+(1===t?"sat":2===t||3===t||4===t?"sata":"sati");case"dd":return i+(1===t?"dan":"dana");case"MM":return i+(1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci");case"yy":return i+(1===t?"godina":2===t||3===t||4===t?"godine":"godina")}}t.defineLocale("hr",{months:{format:"sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:return"[pro\u0161lu] [nedjelju] [u] LT";case 3:return"[pro\u0161lu] [srijedu] [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n("wd/R"))},SFxW:function(t,e,n){!function(t){"use strict";var e={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xfcnc\xfc",4:"-\xfcnc\xfc",100:"-\xfcnc\xfc",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"};t.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ert\u0259si_\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131_\xc7\u0259r\u015f\u0259nb\u0259_C\xfcm\u0259 ax\u015fam\u0131_C\xfcm\u0259_\u015e\u0259nb\u0259".split("_"),weekdaysShort:"Baz_BzE_\xc7Ax_\xc7\u0259r_CAx_C\xfcm_\u015e\u0259n".split("_"),weekdaysMin:"Bz_BE_\xc7A_\xc7\u0259_CA_C\xfc_\u015e\u0259".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xfcn\u0259n] LT",lastWeek:"[ke\xe7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"bir ne\xe7\u0259 saniy\u0259",ss:"%d saniy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(t){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(t)},meridiem:function(t,e,n){return t<4?"gec\u0259":t<12?"s\u0259h\u0259r":t<17?"g\xfcnd\xfcz":"ax\u015fam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(t){if(0===t)return t+"-\u0131nc\u0131";var n=t%10;return t+(e[n]||e[t%100-n]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(n("wd/R"))},SatO:function(t,e,n){!function(t){"use strict";t.defineLocale("zh-hk",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u51cc\u6668"===e||"\u65e9\u4e0a"===e||"\u4e0a\u5348"===e?t:"\u4e2d\u5348"===e?t>=11?t:t+12:"\u4e0b\u5348"===e||"\u665a\u4e0a"===e?t+12:void 0},meridiem:function(t,e,n){var i=100*t+e;return i<600?"\u51cc\u6668":i<900?"\u65e9\u4e0a":i<1200?"\u4e0a\u5348":1200===i?"\u4e2d\u5348":i<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"\u65e5";case"M":return t+"\u6708";case"w":case"W":return t+"\u9031";default:return t}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(n("wd/R"))},UDhR:function(t,e,n){!function(t){"use strict";t.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"siang"===e?t>=11?t:t+12:"sore"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"siang":t<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(n("wd/R"))},USCx:function(t,e,n){!function(t){"use strict";t.defineLocale("ga",{months:["Ean\xe1ir","Feabhra","M\xe1rta","Aibre\xe1n","Bealtaine","Meitheamh","I\xfail","L\xfanasa","Me\xe1n F\xf3mhair","Deireadh F\xf3mhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","M\xe1rt","Aib","Beal","Meith","I\xfail","L\xfan","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D\xe9 Domhnaigh","D\xe9 Luain","D\xe9 M\xe1irt","D\xe9 C\xe9adaoin","D\xe9ardaoin","D\xe9 hAoine","D\xe9 Sathairn"],weekdaysShort:["Domh","Luan","M\xe1irt","C\xe9ad","D\xe9ar","Aoine","Sath"],weekdaysMin:["Do","Lu","M\xe1","C\xe9","D\xe9","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Am\xe1rach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn\xe9 ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s \xf3 shin",s:"c\xfapla soicind",ss:"%d soicind",m:"n\xf3im\xe9ad",mm:"%d n\xf3im\xe9ad",h:"uair an chloig",hh:"%d uair an chloig",d:"l\xe1",dd:"%d l\xe1",M:"m\xed",MM:"%d m\xedonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n("wd/R"))},UpQW:function(t,e,n){!function(t){"use strict";var e=["\u062c\u0646\u0648\u0631\u06cc","\u0641\u0631\u0648\u0631\u06cc","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u06cc\u0644","\u0645\u0626\u06cc","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0626\u06cc","\u0627\u06af\u0633\u062a","\u0633\u062a\u0645\u0628\u0631","\u0627\u06a9\u062a\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u062f\u0633\u0645\u0628\u0631"],n=["\u0627\u062a\u0648\u0627\u0631","\u067e\u06cc\u0631","\u0645\u0646\u06af\u0644","\u0628\u062f\u06be","\u062c\u0645\u0639\u0631\u0627\u062a","\u062c\u0645\u0639\u06c1","\u06c1\u0641\u062a\u06c1"];t.defineLocale("ur",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(t){return"\u0634\u0627\u0645"===t},meridiem:function(t,e,n){return t<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0622\u062c \u0628\u0648\u0642\u062a] LT",nextDay:"[\u06a9\u0644 \u0628\u0648\u0642\u062a] LT",nextWeek:"dddd [\u0628\u0648\u0642\u062a] LT",lastDay:"[\u06af\u0630\u0634\u062a\u06c1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062a] LT",lastWeek:"[\u06af\u0630\u0634\u062a\u06c1] dddd [\u0628\u0648\u0642\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0628\u0639\u062f",past:"%s \u0642\u0628\u0644",s:"\u0686\u0646\u062f \u0633\u06cc\u06a9\u0646\u0688",ss:"%d \u0633\u06cc\u06a9\u0646\u0688",m:"\u0627\u06cc\u06a9 \u0645\u0646\u0679",mm:"%d \u0645\u0646\u0679",h:"\u0627\u06cc\u06a9 \u06af\u06be\u0646\u0679\u06c1",hh:"%d \u06af\u06be\u0646\u0679\u06d2",d:"\u0627\u06cc\u06a9 \u062f\u0646",dd:"%d \u062f\u0646",M:"\u0627\u06cc\u06a9 \u0645\u0627\u06c1",MM:"%d \u0645\u0627\u06c1",y:"\u0627\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(n("wd/R"))},Ur1D:function(t,e,n){!function(t){"use strict";t.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(t,e,n){return t<11?"ekuseni":t<15?"emini":t<19?"entsambama":"ebusuku"},meridiemHour:function(t,e){return 12===t&&(t=0),"ekuseni"===e?t:"emini"===e?t>=11?t:t+12:"entsambama"===e||"ebusuku"===e?0===t?0:t+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n("wd/R"))},V2x9:function(t,e,n){!function(t){"use strict";t.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Ju\xf1u_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n("wd/R"))},Vclq:function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}})}(n("wd/R"))},"WVt+":function(t,e,n){!function(t){"use strict";function e(t,e,n){if(!M(n=n||{}))throw new Error("options is invalid");var i=n.bbox,r=n.id;if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");i&&S(i),r&&E(r);var o={type:"Feature"};return r&&(o.id=r),i&&(o.bbox=i),o.properties=e||{},o.geometry=t,o}function n(t,e,n){if(!M(n=n||{}))throw new Error("options is invalid");var r,a=n.bbox;if(!t)throw new Error("type is required");if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");switch(a&&S(a),t){case"Point":r=i(e).geometry;break;case"LineString":r=s(e).geometry;break;case"Polygon":r=o(e).geometry;break;case"MultiPoint":r=h(e).geometry;break;case"MultiLineString":r=c(e).geometry;break;case"MultiPolygon":r=d(e).geometry;break;default:throw new Error(t+" is invalid")}return a&&(r.bbox=a),r}function i(t,n,i){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!k(t[0])||!k(t[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:t},n,i)}function r(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return l(t.map(function(t){return i(t,e)}),n)}function o(t,n,i){if(!t)throw new Error("coordinates is required");for(var r=0;r<t.length;r++){var o=t[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++){if(0===r&&0===a&&!k(o[0][0])||!k(o[0][1]))throw new Error("coordinates must contain numbers");if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}}return e({type:"Polygon",coordinates:t},n,i)}function a(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return l(t.map(function(t){return o(t,e)}),n)}function s(t,n,i){if(!t)throw new Error("coordinates is required");if(t.length<2)throw new Error("coordinates must be an array of two or more positions");if(!k(t[0][1])||!k(t[0][1]))throw new Error("coordinates must contain numbers");return e({type:"LineString",coordinates:t},n,i)}function u(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return l(t.map(function(t){return s(t,e)}),n)}function l(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var n=e.bbox,i=e.id;if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");n&&S(n),i&&E(i);var r={type:"FeatureCollection"};return i&&(r.id=i),n&&(r.bbox=n),r.features=t,r}function c(t,n,i){if(!t)throw new Error("coordinates is required");return e({type:"MultiLineString",coordinates:t},n,i)}function h(t,n,i){if(!t)throw new Error("coordinates is required");return e({type:"MultiPoint",coordinates:t},n,i)}function d(t,n,i){if(!t)throw new Error("coordinates is required");return e({type:"MultiPolygon",coordinates:t},n,i)}function f(t,n,i){if(!t)throw new Error("geometries is required");if(!Array.isArray(t))throw new Error("geometries must be an Array");return e({type:"GeometryCollection",geometries:t},n,i)}function p(t,e){if(null==t||isNaN(t))throw new Error("num is required");if(e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n}function m(t,e){if(null==t)throw new Error("radians is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=Co[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t*n}function g(t,e){if(null==t)throw new Error("distance is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=Co[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t/n}function y(t,e){return _(g(t,e))}function v(t){if(null==t)throw new Error("bearing is required");var e=t%360;return e<0&&(e+=360),e}function _(t){if(null==t)throw new Error("radians is required");return t%(2*Math.PI)*180/Math.PI}function b(t){if(null==t)throw new Error("degrees is required");return t%360*Math.PI/180}function x(t,e,n){if(null==t)throw new Error("length is required");if(!(t>=0))throw new Error("length must be a positive number");return m(g(t,e),n||"kilometers")}function w(t,e,n){if(null==t)throw new Error("area is required");if(!(t>=0))throw new Error("area must be a positive number");var i=Po[e||"meters"];if(!i)throw new Error("invalid original units");var r=Po[n||"kilometers"];if(!r)throw new Error("invalid final units");return t/i*r}function k(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function M(t){return!!t&&t.constructor===Object}function S(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!k(t))throw new Error("bbox must only contain numbers")})}function E(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}function L(t,e,n){if(null!==t)for(var i,r,o,a,s,u,l,c,h=0,d=0,f=t.type,p="FeatureCollection"===f,m="Feature"===f,g=p?t.features.length:1,y=0;y<g;y++){s=(c=!!(l=p?t.features[y].geometry:m?t.geometry:t)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var v=0;v<s;v++){var _=0,b=0;if(null!==(a=c?l.geometries[v]:l)){u=a.coordinates;var x=a.type;switch(h=!n||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":e(u,d,y,_,b),d++,_++;break;case"LineString":case"MultiPoint":for(i=0;i<u.length;i++)e(u[i],d,y,_,b),d++,"MultiPoint"===x&&_++;"LineString"===x&&_++;break;case"Polygon":case"MultiLineString":for(i=0;i<u.length;i++){for(r=0;r<u[i].length-h;r++)e(u[i][r],d,y,_,b),d++;"MultiLineString"===x&&_++,"Polygon"===x&&b++}"Polygon"===x&&_++;break;case"MultiPolygon":for(i=0;i<u.length;i++){for("MultiPolygon"===x&&(b=0),r=0;r<u[i].length;r++){for(o=0;o<u[i][r].length-h;o++)e(u[i][r][o],d,y,_,b),d++;b++}_++}break;case"GeometryCollection":for(i=0;i<a.geometries.length;i++)L(a.geometries[i],e,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function T(t,e,n,i){var r=n;return L(t,function(t,i,o,a,s){r=0===i&&void 0===n?t:e(r,t,i,o,a,s)},i),r}function C(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties,n);break;case"Feature":e(t.properties,0)}}function I(t,e,n){var i=n;return C(t,function(t,r){i=0===r&&void 0===n?t:e(i,t,r)}),i}function P(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function D(t,e,n){var i=n;return P(t,function(t,r){i=0===r&&void 0===n?t:e(i,t,r)}),i}function O(t){var e=[];return L(t,function(t){e.push(t)}),e}function A(t,e){var n,i,r,o,a,s,u,l,c,h,d=0,f="FeatureCollection"===t.type,p="Feature"===t.type,m=f?t.features.length:1;for(n=0;n<m;n++){for(l=f?t.features[n].properties:p?t.properties:{},c=f?t.features[n].bbox:p?t.bbox:void 0,h=f?t.features[n].id:p?t.id:void 0,a=(u=!!(s=f?t.features[n].geometry:p?t.geometry:t)&&"GeometryCollection"===s.type)?s.geometries.length:1,r=0;r<a;r++)if(null!==(o=u?s.geometries[r]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":e(o,d,l,c,h);break;case"GeometryCollection":for(i=0;i<o.geometries.length;i++)e(o.geometries[i],d,l,c,h);break;default:throw new Error("Unknown Geometry Type")}else e(null,d,l,c,h);d++}}function R(t,e,n){var i=n;return A(t,function(t,r,o,a,s){i=0===r&&void 0===n?t:e(i,t,r,o,a,s)}),i}function N(t,n){A(t,function(t,i,r,o,a){var s,u=null===t?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return void n(e(t,r,{bbox:o,id:a}),i,0)}switch(u){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}t.coordinates.forEach(function(t,o){n(e({type:s,coordinates:t},r),i,o)})})}function F(t,e,n){var i=n;return N(t,function(t,r,o){i=0===r&&0===o&&void 0===n?t:e(i,t,r,o)}),i}function Y(t,e){N(t,function(t,n,i){var r=0;if(t.geometry){var o=t.geometry.type;"Point"!==o&&"MultiPoint"!==o&&T(t,function(o,a,u,l,c,h){var d=s([o,a],t.properties);return e(d,n,i,h,r),r++,a})}})}function z(t,e,n){var i=n,r=!1;return Y(t,function(t,o,a,s,u){i=!1===r&&void 0===n?t:e(i,t,o,a,s,u),r=!0}),i}function j(t,e){if(!t)throw new Error("geojson is required");N(t,function(t,n,i){if(null!==t.geometry){var r=t.geometry.coordinates;switch(t.geometry.type){case"LineString":e(t,n,i,0,0);break;case"Polygon":for(var o=0;o<r.length;o++)e(s(r[o],t.properties),n,i,o)}}})}function B(t,e,n){var i=n;return j(t,function(t,r,o,a){i=0===r&&void 0===n?t:e(i,t,r,o,a)}),i}function H(t){var e=[1/0,1/0,-1/0,-1/0];return L(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}function U(t){if(!t)throw new Error("obj is required");var e=V(t);if(e.length>1&&k(e[0])&&k(e[1]))return e;throw new Error("Coordinate is not a valid Point")}function V(t){if(!t)throw new Error("obj is required");var e;if(t.length?e=t:t.coordinates?e=t.coordinates:t.geometry&&t.geometry.coordinates&&(e=t.geometry.coordinates),e)return q(e),e;throw new Error("No valid coordinates")}function q(t){if(t.length>1&&k(t[0])&&k(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return q(t[0]);throw new Error("coordinates must only contain numbers")}function G(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)}function W(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)}function X(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var i=0;i<t.features.length;i++){var r=t.features[i];if(!r||"Feature"!==r.type||!r.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!r.geometry||r.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+r.geometry.type)}}function K(t){if(!t)throw new Error("geojson is required");if(void 0!==t.geometry)return t.geometry;if(t.coordinates||t.geometries)return t;throw new Error("geojson must be a valid Feature or Geometry Object")}function Z(){throw new Error("invariant.getGeomType has been deprecated in v5.0 in favor of invariant.getType")}function Q(t,e){if(!t)throw new Error((e||"geojson")+" is required");if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error((e||"geojson")+" is invalid")}function J(t,e,n){n=n||{};for(var i=Object.keys(Ro),r=0;r<i.length;r++){var o=i[r],a=n[o];No[o]=a=null!=a?a:Ro[o]}No.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+e);var s=function(t){var e=[],n=0;return t.cells.forEach(function(i,r){i.forEach(function(i,o){if(void 0!==i&&!function(t){return 5===t.cval||10===t.cval}(i)&&!tt(i)){var a=function(t,e,n){var i,r,o,a=t.length,s=[],u=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],l=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],c=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],h=t[e][n],d=h.cval,f=nt(h,o=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][d]);s.push([n+f[0],e+f[1]]),f=nt(h,o=c[d]),s.push([n+f[0],e+f[1]]),et(h);for(var p=n+u[d],m=e+l[d],g=d;p>=0&&m>=0&&m<a&&(p!=n||m!=e)&&void 0!==(h=t[m][p]);){if(0===(d=h.cval)||15===d)return{path:s,info:"mergeable"};o=c[d],i=u[d],r=l[d],5!==d&&10!==d||(5===d?h.flipped?-1===l[g]?(o="left",i=-1,r=0):(o="right",i=1,r=0):-1===u[g]&&(o="bottom",i=0,r=-1):10===d&&(h.flipped?-1===u[g]?(o="top",i=0,r=1):(o="bottom",i=0,r=-1):1===l[g]&&(o="left",i=-1,r=0))),f=nt(h,o),s.push([p+f[0],m+f[1]]),et(h),p+=i,m+=r,g=d}return{path:s,info:"closed"}}(t.cells,r,o),s=!1;if("mergeable"===a.info)for(var u=a.path[a.path.length-1][0],l=a.path[a.path.length-1][1],c=n-1;c>=0;c--)if(Math.abs(e[c][0][0]-u)<=1e-7&&Math.abs(e[c][0][1]-l)<=1e-7){for(var h=a.path.length-2;h>=0;--h)e[c].unshift(a.path[h]);s=!0;break}s||(e[n++]=a.path)}})}),e}(function(t,e){for(var n=t.length-1,i=t[0].length-1,r={rows:n,cols:i,cells:[]},o=0;o<n;++o){r.cells[o]=[];for(var a=0;a<i;++a){var s=0,u=t[o+1][a],l=t[o+1][a+1],c=t[o][a+1],h=t[o][a];if(!(isNaN(u)||isNaN(l)||isNaN(c)||isNaN(h))){s|=u>=e?8:0,s|=l>=e?4:0,s|=c>=e?2:0;var d,f,p,m,g=!1;if(5==(s|=h>=e?1:0)||10===s){var y=(u+l+c+h)/4;5===s&&y<e?(s=10,g=!0):10===s&&y<e&&(s=5,g=!0)}0!==s&&15!==s&&(d=f=p=m=.5,1===s?(p=1-$(e,u,h),f=1-$(e,c,h)):2===s?(f=$(e,h,c),m=1-$(e,l,c)):3===s?(p=1-$(e,u,h),m=1-$(e,l,c)):4===s?(d=$(e,u,l),m=$(e,c,l)):5===s?(d=$(e,u,l),m=$(e,c,l),f=1-$(e,c,h),p=1-$(e,u,h)):6===s?(f=$(e,h,c),d=$(e,u,l)):7===s?(p=1-$(e,u,h),d=$(e,u,l)):8===s?(p=$(e,h,u),d=1-$(e,l,u)):9===s?(f=1-$(e,c,h),d=1-$(e,l,u)):10===s?(d=1-$(e,l,u),m=1-$(e,l,c),f=$(e,h,c),p=$(e,h,u)):11===s?(d=1-$(e,l,u),m=1-$(e,l,c)):12===s?(p=$(e,h,u),m=$(e,c,l)):13===s?(f=1-$(e,c,h),m=$(e,c,l)):14===s?(p=$(e,h,u),f=$(e,h,c)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+s),r.cells[o][a]={cval:s,flipped:g,top:d,right:m,bottom:f,left:p})}}}return r}(t,e));return"function"==typeof No.successCallback&&No.successCallback(s),s}function $(t,e,n){return(t-e)/(n-e)}function tt(t){return 0===t.cval||15===t.cval}function et(t){tt(t)||5===t.cval||10===t.cval||(t.cval=15)}function nt(t,e){return"top"===e?[t.top,1]:"bottom"===e?[t.bottom,0]:"right"===e?[1,t.right]:"left"===e?[0,t.left]:void 0}function it(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function rt(t,e){if(!(this instanceof rt))return new rt(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function ot(t,e){at(t,0,t.children.length,e,t)}function at(t,e,n,i,r){r||(r=pt(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,a=e;a<n;a++)o=t.children[a],st(r,t.leaf?i(o):o);return r}function st(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function ut(t,e){return t.minX-e.minX}function lt(t,e){return t.minY-e.minY}function ct(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function ht(t){return t.maxX-t.minX+(t.maxY-t.minY)}function dt(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function ft(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function pt(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function mt(t,e,n,i,r){for(var o,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=i||(o=e+Math.ceil((n-e)/i/2)*i,Fo(t,o,e,n,r),a.push(e,o,o,n))}function gt(t,e){return t(e={exports:{}},e.exports),e.exports}function yt(t,e){if(!(this instanceof yt))return new yt(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||function(t,e){return t<e?-1:t>e?1:0},this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function vt(t,e,n){e=Math.max(0,void 0===e?2:e),n=n||0;for(var i,r=function(t){for(var e=t[0],n=t[0],i=t[0],r=t[0],o=0;o<t.length;o++){var a=t[o];a[0]<e[0]&&(e=a),a[0]>i[0]&&(i=a),a[1]<n[1]&&(n=a),a[1]>r[1]&&(r=a)}var s=[e,n,i,r],u=s.slice();for(o=0;o<t.length;o++)Zo(t[o],s)||u.push(t[o]);var l=Go(u),c=[];for(o=0;o<l.length;o++)c.push(u[l[o]]);return c}(t),o=Yo(16,["[0]","[1]","[0]","[1]"]).load(t),a=[],s=0;s<r.length;s++){var u=r[s];o.remove(u),i=kt(u,i),a.push(i)}var l=Yo(16);for(s=0;s<a.length;s++)l.insert(wt(a[s]));for(var c=e*e,h=n*n;a.length;){var d=a.shift(),f=d.p,p=d.next.p,m=Mt(f,p);if(!(m<h)){var g=m/c;(u=function(t,e,n,i,r,o,a){for(var s=new Xo(null,_t),u=t.data;u;){for(var l=0;l<u.children.length;l++){var c=u.children[l],h=u.leaf?St(c,n,i):function(t,e,n){if(bt(t,n)||bt(e,n))return 0;var i=Et(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(0===i)return 0;var r=Et(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(0===r)return 0;var o=Et(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===o)return 0;var a=Et(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===a?0:Math.min(i,r,o,a)}(n,i,c);h>o||s.push({node:c,dist:h})}for(;s.length&&!s.peek().node.children;){var d=s.pop(),f=d.node,p=St(f,e,n),m=St(f,i,r);if(d.dist<p&&d.dist<m&&xt(n,f,a)&&xt(i,f,a))return f}(u=s.pop())&&(u=u.node)}return null}(o,d.prev.p,f,p,d.next.next.p,g,l))&&Math.min(Mt(u,f),Mt(u,p))<=g&&(a.push(d),a.push(kt(u,d)),o.remove(u),l.remove(d),l.insert(wt(d)),l.insert(wt(d.next)))}}d=i;var y=[];do{y.push(d.p),d=d.next}while(d!==i);return y.push(d.p),y}function _t(t,e){return t.dist-e.dist}function bt(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function xt(t,e,n){for(var i=Math.min(t[0],e[0]),r=Math.min(t[1],e[1]),o=Math.max(t[0],e[0]),a=Math.max(t[1],e[1]),s=n.search({minX:i,minY:r,maxX:o,maxY:a}),u=0;u<s.length;u++)if(function(t,e,n,i){return t!==i&&e!==n&&Qo(t,e,n)>0!=Qo(t,e,i)>0&&Qo(n,i,t)>0!=Qo(n,i,e)>0}(s[u].p,s[u].next.p,t,e))return!1;return!0}function wt(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function kt(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function Mt(t,e){var n=t[0]-e[0],i=t[1]-e[1];return n*n+i*i}function St(t,e,n){var i=e[0],r=e[1],o=n[0]-i,a=n[1]-r;if(0!==o||0!==a){var s=((t[0]-i)*o+(t[1]-r)*a)/(o*o+a*a);s>1?(i=n[0],r=n[1]):s>0&&(i+=o*s,r+=a*s)}return(o=t[0]-i)*o+(a=t[1]-r)*a}function Et(t,e,n,i,r,o,a,s){var u,l,c,h,d=n-t,f=i-e,p=a-r,m=s-o,g=t-r,y=e-o,v=d*d+f*f,_=d*p+f*m,b=p*p+m*m,x=d*g+f*y,w=p*g+m*y,k=v*b-_*_,M=k,S=k;0===k?(l=0,M=1,h=w,S=b):(h=v*w-_*x,(l=_*w-b*x)<0?(l=0,h=w,S=b):l>M&&(l=M,h=w+_,S=b)),h<0?(h=0,-x<0?l=0:-x>v?l=M:(l=-x,M=v)):h>S&&(h=S,-x+_<0?l=0:-x+_>v?l=M:(l=-x+_,M=v));var E=(1-(c=0===h?0:h/S))*r+c*a-((1-(u=0===l?0:l/M))*t+u*n),L=(1-c)*o+c*s-((1-u)*e+u*i);return E*E+L*L}function Lt(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var n=e.concavity||1/0,i=[];if(L(t,function(t){i.push([t[0],t[1]])}),!i.length)return null;var r=Jo(i,n);return r.length>3?o([r]):null}function Tt(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var i=n.ignoreBoundary;if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var r=U(t),o=V(e),a=e.geometry?e.geometry.type:e.type,s=e.bbox;if(s&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(r,s))return!1;"Polygon"===a&&(o=[o]);for(var u=0,l=!1;u<o.length&&!l;u++)if(Ct(r,o[u][0],i)){for(var c=!1,h=1;h<o[u].length&&!c;)Ct(r,o[u][h],!i)&&(c=!0),h++;c||(l=!0)}return l}function Ct(t,e,n){var i=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var r=0,o=e.length-1;r<e.length;o=r++){var a=e[r][0],s=e[r][1],u=e[o][0],l=e[o][1];if(t[1]*(a-u)+s*(u-t[0])+l*(t[0]-a)==0&&(a-t[0])*(u-t[0])<=0&&(s-t[1])*(l-t[1])<=0)return!n;s>t[1]!=l>t[1]&&t[0]<(u-a)*(t[1]-s)/(l-s)+a&&(i=!i)}return i}function It(t,e){var n=[];return A(e,function(e){P(t,function(t){Tt(t,e)&&n.push(t)})}),l(n)}function Pt(t,e){if("FeatureCollection"!==t.type)throw new Error("points must be a FeatureCollection");var n=!1;return l(function(t){if(t.length<3)return[];t.sort(Ot);for(var e,n,i,r=t.length-1,o=t[r].x,a=t[0].x,s=t[r].y,u=s;r--;)t[r].y<s&&(s=t[r].y),t[r].y>u&&(u=t[r].y);var l,c=a-o,h=u-s,d=c>h?c:h,f=.5*(a+o),p=.5*(u+s),m=[new Dt({x:f-20*d,y:p-d,__sentinel:!0},{x:f,y:p+20*d,__sentinel:!0},{x:f+20*d,y:p-d,__sentinel:!0})],g=[],y=[];for(r=t.length;r--;){for(y.length=0,l=m.length;l--;)(c=t[r].x-m[l].x)>0&&c*c>m[l].r?(g.push(m[l]),m.splice(l,1)):c*c+(h=t[r].y-m[l].y)*h>m[l].r||(y.push(m[l].a,m[l].b,m[l].b,m[l].c,m[l].c,m[l].a),m.splice(l,1));for(At(y),l=y.length;l;)n=y[--l],e=y[--l],i=t[r],Math.abs(2*((n.x-e.x)*(i.y-n.y)-(n.y-e.y)*(i.x-n.x)))>1e-12&&m.push(new Dt(e,n,i))}for(Array.prototype.push.apply(g,m),r=g.length;r--;)(g[r].a.__sentinel||g[r].b.__sentinel||g[r].c.__sentinel)&&g.splice(r,1);return g}(t.features.map(function(t){var i={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e?i.z=t.properties[e]:3===t.geometry.coordinates.length&&(n=!0,i.z=t.geometry.coordinates[2]),i})).map(function(t){var e=[t.a.x,t.a.y],i=[t.b.x,t.b.y],r=[t.c.x,t.c.y],a={};return n?(e.push(t.a.z),i.push(t.b.z),r.push(t.c.z)):a={a:t.a.z,b:t.b.z,c:t.c.z},o([[e,i,r,e]],a)}))}function Dt(t,e,n){this.a=t,this.b=e,this.c=n;var i,r,o=e.x-t.x,a=e.y-t.y,s=n.x-t.x,u=n.y-t.y,l=o*(t.x+e.x)+a*(t.y+e.y),c=s*(t.x+n.x)+u*(t.y+n.y),h=2*(o*(n.y-e.y)-a*(n.x-e.x));this.x=(u*l-a*c)/h,this.y=(o*c-s*l)/h,this.r=(i=this.x-t.x)*i+(r=this.y-t.y)*r}function Ot(t,e){return e.x-t.x}function At(t){var e,n,i,r,o,a=t.length;t:for(;a;)for(n=t[--a],e=t[--a],i=a;i;)if(o=t[--i],e===(r=t[--i])&&n===o||e===o&&n===r){t.splice(a,2),t.splice(i,2),a-=2;continue t}}function Rt(t,e,n){if(!M(n=n||{}))throw new Error("options is invalid");var i=n.units,r=U(t),o=U(e),a=b(o[1]-r[1]),s=b(o[0]-r[0]),u=b(r[1]),l=b(o[1]),c=Math.pow(Math.sin(a/2),2)+Math.pow(Math.sin(s/2),2)*Math.cos(u)*Math.cos(l);return m(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),i)}function Nt(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return Ft(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}}),e.features=t.features.map(function(t){return Ft(t)}),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return zt(t);default:throw new Error("unknown GeoJSON type")}}function Ft(t){var e={type:"Feature"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}}),e.properties=Yt(t.properties),e.geometry=zt(t.geometry),e}function Yt(t){var e={};return t?(Object.keys(t).forEach(function(n){var i=t[n];e[n]="object"==typeof i?null===i?null:i.length?i.map(function(t){return t}):Yt(i):i}),e):e}function zt(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map(function(t){return zt(t)}),e):(e.coordinates=jt(t.coordinates),e)}function jt(t){return"object"!=typeof t[0]?t.slice():t.map(function(t){return jt(t)})}function Bt(t,e){function n(t,e){e.length&&e.pop();for(var n=u[t<0?~t:t],i=0,r=n.length;i<r;++i)e.push(s(n[i],i));t<0&&ea(e,r)}function i(t){return s(t)}function r(t){for(var e=[],i=0,r=t.length;i<r;++i)n(t[i],e);return e.length<2&&e.push(e[0]),e}function o(t){for(var e=r(t);e.length<4;)e.push(e[0]);return e}function a(t){return t.map(o)}var s=ta(t.transform),u=t.arcs;return function t(e){var n,o=e.type;switch(o){case"GeometryCollection":return{type:o,geometries:e.geometries.map(t)};case"Point":n=i(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(i);break;case"LineString":n=r(e.arcs);break;case"MultiLineString":n=e.arcs.map(r);break;case"Polygon":n=a(e.arcs);break;case"MultiPolygon":n=e.arcs.map(a);break;default:return null}return{type:o,coordinates:n}}(e)}function Ht(t,e){function n(t){t.forEach(function(e){e.forEach(function(e){(r[e=e<0?~e:e]||(r[e]=[])).push(t)})}),o.push(t)}function i(e){return function(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)o+=(e=r)[0]*(r=t[n])[1]-e[1]*r[0];return Math.abs(o)}(Bt(t,{type:"Polygon",arcs:[e]}).coordinates[0])}var r={},o=[],a=[];return e.forEach(function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":n(e.arcs);break;case"MultiPolygon":e.arcs.forEach(n)}}),o.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,a.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){r[t<0?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),o.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:a.map(function(e){var n,o=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){r[t<0?~t:t].length<2&&o.push(t)})})}),(n=(o=na(t,o)).length)>1)for(var a,s,u=1,l=i(o[0]);u<n;++u)(a=i(o[u]))>l&&(s=o[0],o[0]=o[u],o[u]=s,l=a);return o})}}function Ut(t,e,n){for(var i,r=e+(n---e>>1);e<r;++e,--n)i=t[e],t[e]=t[n],t[n]=i}function Vt(t){return null==t?{type:null}:("FeatureCollection"===t.type?function(t){var e={type:"GeometryCollection",geometries:t.features.map(qt)};return null!=t.bbox&&(e.bbox=t.bbox),e}:"Feature"===t.type?qt:Gt)(t)}function qt(t){var e,n=Gt(t.geometry);for(e in null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),t.properties){n.properties=t.properties;break}return n}function Gt(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(Gt)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}function Wt(t){var e,n=t[0],i=t[1];return i<n&&(e=n,n=i,i=e),n+31*i}function Xt(t,e){var n,i=t[0],r=t[1],o=e[0],a=e[1];return r<i&&(n=i,i=r,r=n),a<o&&(n=o,o=a,a=n),i===o&&r===a}function Kt(t){return t[0].toString()+","+t[1].toString()}function Zt(t,n){var i="object"==typeof n?n.mutate:n;if(!t)throw new Error("geojson is required");var r=Q(t),o=[];switch(r){case"LineString":o=Qt(t);break;case"MultiLineString":case"Polygon":V(t).forEach(function(t){o.push(Qt(t))});break;case"MultiPolygon":V(t).forEach(function(t){var e=[];t.forEach(function(t){e.push(Qt(t))}),o.push(e)});break;case"Point":return t;case"MultiPoint":var a={};V(t).forEach(function(t){var e=t.join("-");a.hasOwnProperty(e)||(o.push(t),a[e]=!0)});break;default:throw new Error(r+" geometry not supported")}return t.coordinates?!0===i?(t.coordinates=o,t):{type:r,coordinates:o}:!0===i?(t.geometry.coordinates=o,t):e({type:r,coordinates:o},t.properties,t.bbox)}function Qt(t){var e=V(t);if(2===e.length&&!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(e[0],e[1]))return e;var n,i,r=[],o=e.length-1;r.push(e[0]);for(var a=1;a<o;a++)(function(t,e,n){var i=n[0],r=n[1],o=t[0],a=t[1],s=e[0],u=e[1],l=s-o,c=u-a;return(i-o)*c-(r-a)*l==0&&(Math.abs(l)>=Math.abs(c)?l>0?o<=i&&i<=s:s<=i&&i<=o:c>0?a<=r&&r<=u:u<=r&&r<=a)})(e[a-1],i=e[a+1],n=e[a])||r.push(n);return r.push(i),r}function Jt(t,e){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i}function $t(t,e,n){var i=e.x,r=e.y,o=n.x-i,a=n.y-r;if(0!==o||0!==a){var s=((t.x-i)*o+(t.y-r)*a)/(o*o+a*a);s>1?(i=n.x,r=n.y):s>0&&(i+=o*s,r+=a*s)}return(o=t.x-i)*o+(a=t.y-r)*a}function te(t,e,n,i,r){for(var o,a=i,s=e+1;s<n;s++){var u=$t(t[s],t[e],t[n]);u>a&&(o=s,a=u)}a>i&&(o-e>1&&te(t,e,o,i,r),r.push(t[o]),n-o>1&&te(t,o,n,i,r))}function ee(t,e,n){if(t.length<=2)return t;var i=void 0!==e?e*e:1;return function(t,e){var n=t.length-1,i=[t[0]];return te(t,0,n,e,i),i.push(t[n]),i}(t=n?t:function(t,e){for(var n,i=t[0],r=[i],o=1,a=t.length;o<a;o++)Jt(n=t[o],i)>e&&(r.push(n),i=n);return i!==n&&r.push(n),r}(t,i),i)}function ne(t,e,n){return ee(t.map(function(t){return{x:t[0],y:t[1],z:t[2]}}),e,n).map(function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]})}function ie(t,e,n){return t.map(function(t){var i=t.map(function(t){return{x:t[0],y:t[1]}});if(i.length<4)throw new Error("invalid polygon");for(var r=ee(i,e,n).map(function(t){return[t.x,t.y]});!function(t){return!(t.length<3||3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}(r);)r=ee(i,e-=.01*e,n).map(function(t){return[t.x,t.y]});return r[r.length-1][0]===r[0][0]&&r[r.length-1][1]===r[0][1]||r.push(r[0]),r})}function re(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var n=e.resolution||1e4,i=e.sharpness||.85;if(!t)throw new Error("line is required");if(!k(n))throw new Error("resolution must be an number");if(!k(i))throw new Error("sharpness must be an number");for(var r=[],o=new la({points:K(t).coordinates.map(function(t){return{x:t[0],y:t[1]}}),duration:n,sharpness:i}),a=0;a<o.duration;a+=10){var u=o.pos(a);Math.floor(a/100)%2==0&&r.push([u.x,u.y])}return s(r,t.properties)}function oe(t){S(t);var e=Number(t[0]),n=Number(t[1]),i=Number(t[2]),r=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var a=[e,n];return o([[a,[i,n],[i,r],[e,r],a]])}function ae(t){return oe(H(t))}function se(t){var e=t[0],n=t[1],i=t[2],r=t[3];if(Rt(t.slice(0,2),[i,n])>=Rt(t.slice(0,2),[e,r])){var o=(n+r)/2;return[e,o-(i-e)/2,i,o+(i-e)/2]}var a=(e+i)/2;return[a-(r-n)/2,n,a+(r-n)/2,r]}function ue(t,e,n,r){if(!M(r=r||{}))throw new Error("options is invalid");var o=r.units,a=r.properties,s=U(t),u=b(s[0]),l=b(s[1]),c=b(n),h=g(e,o),d=Math.asin(Math.sin(l)*Math.cos(h)+Math.cos(l)*Math.sin(h)*Math.cos(c));return i([_(u+Math.atan2(Math.sin(c)*Math.sin(h)*Math.cos(l),Math.cos(h)-Math.sin(l)*Math.sin(d))),_(d)],a)}function le(t,e,n){var i=(n=n||{}).steps||64,r=n.properties;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof i)throw new Error("steps must be a number");i=i||64,r=r||t.properties||{};for(var a=[],s=0;s<i;s++)a.push(ue(t,e,-360*s/i,n).geometry.coordinates);return a.push(a[0]),o([a],r)}function ce(t,e,n){if(!M(n=n||{}))throw new Error("options is invalid");if(!0===n.final)return function(t,e){return(ce(e,t)+180)%360}(t,e);var i=U(t),r=U(e),o=b(i[0]),a=b(r[0]),s=b(i[1]),u=b(r[1]),l=Math.sin(a-o)*Math.cos(u),c=Math.cos(s)*Math.sin(u)-Math.sin(s)*Math.cos(u)*Math.cos(a-o);return _(Math.atan2(l,c))}function he(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var n=e.properties;if(!t)throw new Error("geojson is required");var r=H(t);return i([(r[0]+r[2])/2,(r[1]+r[3])/2],n)}function de(t,e){var n=0,r=0,o=0;return L(t,function(t){n+=t[0],r+=t[1],o++},!0),i([n/o,r/o],e)}function fe(t){var e=[];return"FeatureCollection"===t.type?P(t,function(t){L(t,function(n){e.push(i(n,t.properties))})}):L(t,function(n){e.push(i(n,t.properties))}),l(e)}function pe(t,e,n){n=n||2;var i,r,o,a,s,u,l,c=e&&e.length,h=c?e[0]*n:t.length,d=me(t,0,h,n,!0),f=[];if(!d)return f;if(c&&(d=function(t,e,n,i){var r,o,a,s=[];for(r=0,o=e.length;r<o;r++)(a=me(t,e[r]*i,r<o-1?e[r+1]*i:t.length,i,!1))===a.next&&(a.steiner=!0),s.push(function(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}(a));for(s.sort(ve),r=0;r<s.length;r++)!function(t,e){if(e=function(t,e){var n,i=e,r=t.x,o=t.y,a=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var s=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>a){if(a=s,s===r){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===a)return n.prev;var u,l=n,c=n.x,h=n.y,d=1/0;for(i=n.next;i!==l;)r>=i.x&&i.x>=c&&r!==i.x&&be(o<h?r:a,o,c,h,o<h?a:r,o,i.x,i.y)&&((u=Math.abs(o-i.y)/(r-i.x))<d||u===d&&i.x>n.x)&&Me(i,t)&&(n=i,d=u),i=i.next;return n}(t,e)){var n=Se(e,t);ge(n,n.next)}}(s[r],n),n=ge(n,n.next);return n}(t,e,d,n)),t.length>80*n){i=o=t[0],r=a=t[1];for(var p=n;p<h;p+=n)(s=t[p])<i&&(i=s),(u=t[p+1])<r&&(r=u),s>o&&(o=s),u>a&&(a=u);l=0!==(l=Math.max(o-i,a-r))?1/l:0}return ye(d,f,n,i,r,l),f}function me(t,e,n,i,r){var o,a;if(r===Ce(t,e,n,i)>0)for(o=e;o<n;o+=i)a=Ee(o,t[o],t[o+1],a);else for(o=n-i;o>=e;o-=i)a=Ee(o,t[o],t[o+1],a);return a&&we(a,a.next)&&(Le(a),a=a.next),a}function ge(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!we(i,i.next)&&0!==xe(i.prev,i,i.next))i=i.next;else{if(Le(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function ye(t,e,n,i,r,o,a){if(t){!a&&o&&function(t,e,n,i){var r=t;do{null===r.z&&(r.z=_e(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,n,i,r,o,a,s,u,l=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,i=n,s=0,e=0;e<l&&(s++,i=i.nextZ);e++);for(u=l;s>0||u>0&&i;)0!==s&&(0===u||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,u--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,l*=2}while(a>1)}(r)}(t,i,r,o);for(var s,u,l=t;t.prev!==t.next;)if(s=t.prev,u=t.next,o?function(t,e,n,i){var r=t.prev,o=t,a=t.next;if(xe(r,o,a)>=0)return!1;for(var s=r.x>o.x?r.x>a.x?r.x:a.x:o.x>a.x?o.x:a.x,u=r.y>o.y?r.y>a.y?r.y:a.y:o.y>a.y?o.y:a.y,l=_e(r.x<o.x?r.x<a.x?r.x:a.x:o.x<a.x?o.x:a.x,r.y<o.y?r.y<a.y?r.y:a.y:o.y<a.y?o.y:a.y,e,n,i),c=_e(s,u,e,n,i),h=t.nextZ;h&&h.z<=c;){if(h!==t.prev&&h!==t.next&&be(r.x,r.y,o.x,o.y,a.x,a.y,h.x,h.y)&&xe(h.prev,h,h.next)>=0)return!1;h=h.nextZ}for(h=t.prevZ;h&&h.z>=l;){if(h!==t.prev&&h!==t.next&&be(r.x,r.y,o.x,o.y,a.x,a.y,h.x,h.y)&&xe(h.prev,h,h.next)>=0)return!1;h=h.prevZ}return!0}(t,i,r,o):function(t){var e=t.prev,n=t,i=t.next;if(xe(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(be(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&xe(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}(t))e.push(s.i/n),e.push(t.i/n),e.push(u.i/n),Le(t),t=u.next,l=u.next;else if((t=u)===l){a?1===a?ye(t=function(t,e,n){var i=t;do{var r=i.prev,o=i.next.next;!we(r,o)&&ke(r,i,i.next,o)&&Me(r,o)&&Me(o,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(o.i/n),Le(i),Le(i.next),i=t=o),i=i.next}while(i!==t);return i}(t,e,n),e,n,i,r,o,2):2===a&&function(t,e,n,i,r,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&ke(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&Me(t,e)&&Me(e,t)&&function(t,e){var n=t,i=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)}(a,s)){var u=Se(a,s);return a=ge(a,a.next),u=ge(u,u.next),ye(a,e,n,i,r,o),void ye(u,e,n,i,r,o)}s=s.next}a=a.next}while(a!==t)}(t,e,n,i,r,o):ye(ge(t),e,n,i,r,o,1);break}}}function ve(t,e){return t.x-e.x}function _e(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function be(t,e,n,i,r,o,a,s){return(r-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(i-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(r-a)*(i-s)>=0}function xe(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function we(t,e){return t.x===e.x&&t.y===e.y}function ke(t,e,n,i){return!!(we(t,e)&&we(n,i)||we(t,i)&&we(n,e))||xe(t,e,n)>0!=xe(t,e,i)>0&&xe(n,i,t)>0!=xe(n,i,e)>0}function Me(t,e){return xe(t.prev,t,t.next)<0?xe(t,e,t.next)>=0&&xe(t,t.prev,e)>=0:xe(t,e,t.prev)<0||xe(t,t.next,e)<0}function Se(t,e){var n=new Te(t.i,t.x,t.y),i=new Te(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function Ee(t,e,n,i){var r=new Te(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Le(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Te(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ce(t,e,n,i){for(var r=0,o=e,a=n-i;o<n;o+=i)r+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return r}function Ie(t){var e=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[r][o][a]);r>0&&n.holes.push(i+=t[r-1].length)}return n}(t),n=ca(e.vertices,e.holes,2),i=[],r=[];n.forEach(function(t,i){var o=n[i];r.push([e.vertices[2*o],e.vertices[2*o+1]])});for(var a=0;a<r.length;a+=3){var s=r.slice(a,a+3);s.push(r[a]),i.push(o([s]))}return i}function Pe(t,e){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var n,i=1/0;return P(e,function(e,r){var o=Rt(t,e);o<i&&((n=Nt(e)).properties.featureIndex=r,n.properties.distanceToPoint=o,i=o)}),n}function De(t,e,n,i,r){Oe(t,e,n||0,i||t.length-1,r||function(t,e){return t<e?-1:t>e?1:0})}function Oe(t,e,n,i,r){for(;i>n;){if(i-n>600){var o=i-n+1,a=e-n+1,s=Math.log(o),u=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*u*(o-u)/o)*(a-o/2<0?-1:1);Oe(t,e,Math.max(n,Math.floor(e-a*u/o+l)),Math.min(i,Math.floor(e+(o-a)*u/o+l)),r)}var c=t[e],h=n,d=i;for(Ae(t,n,e),r(t[i],c)>0&&Ae(t,n,i);h<d;){for(Ae(t,h,d),h++,d--;r(t[h],c)<0;)h++;for(;r(t[d],c)>0;)d--}0===r(t[n],c)?Ae(t,n,d):Ae(t,++d,i),d<=e&&(n=d+1),e<=d&&(i=d-1)}}function Ae(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function Re(t,e){if(!(this instanceof Re))return new Re(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function Ne(t,e){Fe(t,0,t.children.length,e,t)}function Fe(t,e,n,i,r){r||(r=qe(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,a=e;a<n;a++)o=t.children[a],Ye(r,t.leaf?i(o):o);return r}function Ye(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function ze(t,e){return t.minX-e.minX}function je(t,e){return t.minY-e.minY}function Be(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function He(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Ue(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Ve(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function qe(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ge(t,e,n,i,r){for(var o,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=i||(De(t,o=e+Math.ceil((n-e)/i/2)*i,e,n,r),a.push(e,o,o,n))}function We(t){var e=Re(t);return e.insert=function(t){if(Array.isArray(t)){var e=t;(t=Xe(e)).bbox=e}else t.bbox=t.bbox?t.bbox:Ke(t);return Re.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach(function(t){var n=Xe(t);n.bbox=t,e.push(n)}):P(t,function(t){t.bbox=t.bbox?t.bbox:Ke(t),e.push(t)}),Re.prototype.load.call(this,e)},e.remove=function(t){if(Array.isArray(t)){var e=t;(t=Xe(e)).bbox=e}return Re.prototype.remove.call(this,t)},e.clear=function(){return Re.prototype.clear.call(this)},e.search=function(t){return{type:"FeatureCollection",features:Re.prototype.search.call(this,this.toBBox(t))}},e.collides=function(t){return Re.prototype.collides.call(this,this.toBBox(t))},e.all=function(){return{type:"FeatureCollection",features:Re.prototype.all.call(this)}},e.toJSON=function(){return Re.prototype.toJSON.call(this)},e.fromJSON=function(t){return Re.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;return{minX:(e=t.bbox?t.bbox:Array.isArray(t)&&4===t.length?t:Ke(t))[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}function Xe(t){var e=[t[0],t[1]];return{type:"Feature",bbox:t,properties:{},geometry:{type:"Polygon",coordinates:[[e,[t[2],t[1]],[t[2],t[3]],[t[0],t[3]],e]]}}}function Ke(t){var e=[1/0,1/0,-1/0,-1/0];return L(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}function Ze(t){if(!t)throw new Error("geojson is required");var e=[];return N(t,function(t){!function(t,e){var n=[],i=t.geometry;switch(i.type){case"Polygon":n=V(i);break;case"LineString":n=[V(i)]}n.forEach(function(n){(function(t,e){var n=[];return t.reduce(function(t,i){var r=s([t,i],e);return r.bbox=function(t,e){var n=t[0],i=t[1],r=e[0],o=e[1];return[n<r?n:r,i<o?i:o,n>r?n:r,i>o?i:o]}(t,i),n.push(r),i}),n})(n,t.properties).forEach(function(t){t.id=e.length,e.push(t)})})}(t,e)}),l(e)}function Qe(t,n){var i={},r=[];if("LineString"===t.type&&(t=e(t)),"LineString"===n.type&&(n=e(n)),"Feature"===t.type&&"Feature"===n.type&&"LineString"===t.geometry.type&&"LineString"===n.geometry.type&&2===t.geometry.coordinates.length&&2===n.geometry.coordinates.length){var o=Je(t,n);return o&&r.push(o),l(r)}var a=We();return a.load(Ze(n)),P(Ze(t),function(t){P(a.search(t),function(e){var n=Je(t,e);if(n){var o=V(n).join(",");i[o]||(i[o]=!0,r.push(n))}})}),l(r)}function Je(t,e){var n=V(t),r=V(e);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==r.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var o=n[0][0],a=n[0][1],s=n[1][0],u=n[1][1],l=r[0][0],c=r[0][1],h=r[1][0],d=r[1][1],f=(d-c)*(s-o)-(h-l)*(u-a);if(0===f)return null;var p=((h-l)*(a-c)-(d-c)*(o-l))/f,m=((s-o)*(a-c)-(u-a)*(o-l))/f;return p>=0&&p<=1&&m>=0&&m<=1?i([o+p*(s-o),a+p*(u-a)]):null}function $e(t,e,n){if(!M(n=n||{}))throw new Error("options is invalid");var r=t.geometry?t.geometry.type:t.type;if("LineString"!==r&&"MultiLineString"!==r)throw new Error("lines must be LineString or MultiLineString");var o=i([1/0,1/0],{dist:1/0}),a=0;return N(t,function(t){for(var r=V(t),u=0;u<r.length-1;u++){var l=i(r[u]);l.properties.dist=Rt(e,l,n);var c=i(r[u+1]);c.properties.dist=Rt(e,c,n);var h=Rt(l,c,n),d=Math.max(l.properties.dist,c.properties.dist),f=ce(l,c),p=ue(e,d,f+90,n),m=ue(e,d,f-90,n),g=Qe(s([p.geometry.coordinates,m.geometry.coordinates]),s([l.geometry.coordinates,c.geometry.coordinates])),y=null;g.features.length>0&&((y=g.features[0]).properties.dist=Rt(e,y,n),y.properties.location=a+Rt(l,y,n)),l.properties.dist<o.properties.dist&&((o=l).properties.index=u,o.properties.location=a),c.properties.dist<o.properties.dist&&((o=c).properties.index=u+1,o.properties.location=a+h),y&&y.properties.dist<o.properties.dist&&((o=y).properties.index=u),a+=h}}),o}function tn(t,e,n){if(!M(n=n||{}))throw new Error("options is invalid");var i,r=n.final;if(!t)throw new Error("start point is required");if(!e)throw new Error("end point is required");return(i=r?en(U(e),U(t)):en(U(t),U(e)))>180?-(360-i):i}function en(t,e){var n=b(t[1]),i=b(e[1]),r=b(e[0]-t[0]);r>Math.PI&&(r-=2*Math.PI),r<-Math.PI&&(r+=2*Math.PI);var o=Math.log(Math.tan(i/2+Math.PI/4)/Math.tan(n/2+Math.PI/4));return(_(Math.atan2(r,o))+360)%360}function nn(t,e,n){if(!M(n=n||{}))throw new Error("options is invalid");var i=n.units;if(!t)throw new Error("from point is required");if(!e)throw new Error("to point is required");var r=U(t),o=U(e);return o[0]+=o[0]-r[0]>180?-360:r[0]-o[0]>180?360:0,x(function(t,e,n){var i=n=void 0===n?To:Number(n),r=t[1]*Math.PI/180,o=e[1]*Math.PI/180,a=o-r,s=Math.abs(e[0]-t[0])*Math.PI/180;s>Math.PI&&(s-=2*Math.PI);var u=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(r/2+Math.PI/4)),l=Math.abs(u)>1e-11?a/u:Math.cos(r);return Math.sqrt(a*a+l*l*s*s)*i}(r,o),"meters",i)}function rn(t,e){return an(t,"mercator",e)}function on(t,e){return an(t,"wgs84",e)}function an(t,e,n){if(!M(n=n||{}))throw new Error("options is invalid");var i=n.mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&k(t[0])?t="mercator"===e?sn(t):un(t):(!0!==i&&(t=Nt(t)),L(t,function(t){var n="mercator"===e?sn(t):un(t);t[0]=n[0],t[1]=n[1]})),t}function sn(t){var e=Math.PI/180,n=20037508.342789244,i=[6378137*(Math.abs(t[0])<=180?t[0]:t[0]-360*function(t){return t<0?-1:t>0?1:0}(t[0]))*e,6378137*Math.log(Math.tan(.25*Math.PI+.5*t[1]*e))];return i[0]>n&&(i[0]=n),i[0]<-n&&(i[0]=-n),i[1]>n&&(i[1]=n),i[1]<-n&&(i[1]=-n),i}function un(t){var e=180/Math.PI;return[t[0]*e/6378137,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/6378137)))*e]}function ln(t,n,r){if(!M(r=r||{}))throw new Error("options is invalid");if(!t)throw new Error("pt is required");if(Array.isArray(t)?t=i(t):"Point"===t.type?t=e(t):W(t,"Point","point"),!n)throw new Error("line is required");Array.isArray(n)?n=s(n):"LineString"===n.type?n=e(n):W(n,"LineString","line");var o=1/0,a=t.geometry.coordinates;return Y(n,function(t){var e=function(t,e,n,r){var o=r.mercator,a=!0!==o?Rt(e,t,r):cn(e,t,r),s=v(!0!==o?ce(e,t):tn(e,t)),u=v(!0!==o?ce(e,n):tn(e,n)),l=Math.abs(s-u);if(l>90)return a;var c=(u+180)%360,h=v(!0!==o?ce(n,t):tn(n,t)),d=Math.abs(h-c);return d>180&&(d=Math.abs(d-360)),d>90?!0!==o?Rt(t,n,r):cn(t,n,r):!0!==o?a*Math.sin(b(l)):function(t,e,n,r){var o=0;(Math.abs(t[0])>=180||Math.abs(e[0])>=180||Math.abs(n[0])>=180)&&(o=t[0]>0||e[0]>0||n[0]>0?-180:180);var a=i(n),s=on(function(t,e,n){var i=t[0],r=t[1],o=e[0]-i,a=e[1]-r,s=((n[0]-i)*o+(n[1]-r)*a)/(o*o+a*a);return[i+s*o,r+s*a]}(rn([t[0]+o,t[1]]),rn([e[0]+o,e[1]]),rn([n[0]+o,n[1]])));return 0!==o&&(s[0]-=o),nn(a,s,r)}(e,n,t,r)}(a,t.geometry.coordinates[0],t.geometry.coordinates[1],r);o>e&&(o=e)}),o}function cn(t,e,n){var i=n.units,r=0;Math.abs(t[0])>=180&&(r=t[0]>0?-180:180),Math.abs(e[0])>=180&&(r=e[0]>0?-180:180);var o=rn([t[0]+r,t[1]]),a=rn([e[0]+r,e[1]]),s=function(t){return t*t},u=s(o[0]-a[0])+s(o[1]-a[1]);return x(Math.sqrt(u),"meters",i)}function hn(t){for(var n=function(t){return"FeatureCollection"!==t.type?l("Feature"!==t.type?[e(t)]:[t]):t}(t),r=he(n),o=!1,a=0;!o&&a<n.features.length;){var s,u=n.features[a].geometry,c=!1;if("Point"===u.type)r.geometry.coordinates[0]===u.coordinates[0]&&r.geometry.coordinates[1]===u.coordinates[1]&&(o=!0);else if("MultiPoint"===u.type){var h=!1;for(s=0;!h&&s<u.coordinates.length;)r.geometry.coordinates[0]===u.coordinates[s][0]&&r.geometry.coordinates[1]===u.coordinates[s][1]&&(o=!0,h=!0),s++}else if("LineString"===u.type)for(s=0;!c&&s<u.coordinates.length-1;)dn(r.geometry.coordinates[0],r.geometry.coordinates[1],u.coordinates[s][0],u.coordinates[s][1],u.coordinates[s+1][0],u.coordinates[s+1][1])&&(c=!0,o=!0),s++;else if("MultiLineString"===u.type)for(var d=0;d<u.coordinates.length;){c=!1,s=0;for(var f=u.coordinates[d];!c&&s<f.length-1;)dn(r.geometry.coordinates[0],r.geometry.coordinates[1],f[s][0],f[s][1],f[s+1][0],f[s+1][1])&&(c=!0,o=!0),s++;d++}else"Polygon"!==u.type&&"MultiPolygon"!==u.type||Tt(r,u)&&(o=!0);a++}if(o)return r;var p=l([]);for(a=0;a<n.features.length;a++)p.features=p.features.concat(fe(n.features[a]).features);return i(Pe(r,p).geometry.coordinates)}function dn(t,e,n,i,r,o){return Math.sqrt((r-n)*(r-n)+(o-i)*(o-i))===Math.sqrt((t-n)*(t-n)+(e-i)*(e-i))+Math.sqrt((r-t)*(r-t)+(o-e)*(o-e))}function fn(t){return R(t,function(t,e){return t+pn(e)},0)}function pn(t){var e,n=0;switch(t.type){case"Polygon":return mn(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)n+=mn(t.coordinates[e]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(e=0;e<t.geometries.length;e++)n+=pn(t.geometries[e]);return n}}function mn(t){var e=0;if(t&&t.length>0){e+=Math.abs(gn(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(gn(t[n]))}return e}function gn(t){var e,n,i,r,o,a,s=0,u=t.length;if(u>2){for(a=0;a<u;a++)a===u-2?(i=u-2,r=u-1,o=0):a===u-1?(i=u-1,r=0,o=1):(i=a,r=a+1,o=a+2),e=t[i],n=t[r],s+=(yn(t[o][0])-yn(e[0]))*Math.sin(yn(n[1]));s=s*fa*fa/2}return s}function yn(t){return t*Math.PI/180}function vn(t,e){if(!M(e=e||{}))throw new Error("options is invalid");if(!t)throw new Error("geojson is required");return z(t,function(t,n){var i=n.geometry.coordinates;return t+Rt(i[0],i[1],e)},0)}function _n(t,e,n,i){if(!M(i=i||{}))throw new Error("options is invalid");var r,o=[];if("Feature"===t.type)r=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");r=t.coordinates}for(var a,u,l,c=0,h=0;h<r.length&&!(e>=c&&h===r.length-1);h++){if(c>e&&0===o.length){if(!(a=e-c))return o.push(r[h]),s(o);u=ce(r[h],r[h-1])-180,l=ue(r[h],a,u,i),o.push(l.geometry.coordinates)}if(c>=n)return(a=n-c)?(u=ce(r[h],r[h-1])-180,l=ue(r[h],a,u,i),o.push(l.geometry.coordinates),s(o)):(o.push(r[h]),s(o));if(c>=e&&o.push(r[h]),h===r.length-1)return s(o);c+=Rt(r[h],r[h+1],i)}return s(r[r.length-1])}function bn(t,e,n){var i=(n=n||{}).ignoreEndVertices;if(!M(n))throw new Error("invalid options");if(!t)throw new Error("pt is required");if(!e)throw new Error("line is required");for(var r=U(t),o=V(e),a=0;a<o.length-1;a++){var s=!1;if(i&&(0===a&&(s="start"),a===o.length-2&&(s="end"),0===a&&a+1===o.length-1&&(s="both")),function(t,e,n,i){var r=n[0],o=n[1],a=t[0],s=t[1],u=e[0],l=e[1],c=u-a,h=l-s;return(n[0]-a)*h-(n[1]-s)*c==0&&(i?"start"===i?Math.abs(c)>=Math.abs(h)?c>0?a<r&&r<=u:u<=r&&r<a:h>0?s<o&&o<=l:l<=o&&o<s:"end"===i?Math.abs(c)>=Math.abs(h)?c>0?a<=r&&r<u:u<r&&r<=a:h>0?s<=o&&o<l:l<o&&o<=s:"both"===i?Math.abs(c)>=Math.abs(h)?c>0?a<r&&r<u:u<r&&r<a:h>0?s<o&&o<l:l<o&&o<s:void 0:Math.abs(c)>=Math.abs(h)?c>0?a<=r&&r<=u:u<=r&&r<=a:h>0?s<=o&&o<=l:l<=o&&o<=s)}(o[a],o[a+1],r,s))return!0}return!1}function xn(t,e){var n=Q(t),i=Q(e),r=K(t),o=K(e);switch(n){case"Point":switch(i){case"MultiPoint":return function(t,e){var n,i=!1;for(n=0;n<e.coordinates.length;n++)if(kn(e.coordinates[n],t.coordinates)){i=!0;break}return i}(r,o);case"LineString":return bn(r,o,{ignoreEndVertices:!0});case"Polygon":return Tt(r,o,{ignoreBoundary:!0});default:throw new Error("feature2 "+i+" geometry not supported")}case"MultiPoint":switch(i){case"MultiPoint":return function(t,e){for(var n=0;n<t.coordinates.length;n++){for(var i=!1,r=0;r<e.coordinates.length;r++)kn(t.coordinates[n],e.coordinates[r])&&(i=!0);if(!i)return!1}return!0}(r,o);case"LineString":return function(t,e){for(var n=!1,i=0;i<t.coordinates.length;i++){if(!bn(t.coordinates[i],e))return!1;n||(n=bn(t.coordinates[i],e,{ignoreEndVertices:!0}))}return n}(r,o);case"Polygon":return function(t,e){for(var n=!0,i=0;i<t.coordinates.length;i++){var r=Tt(t.coordinates[1],e);if(!r){n=!1;break}r=Tt(t.coordinates[1],e,{ignoreBoundary:!0})}return n&&r}(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}case"LineString":switch(i){case"LineString":return function(t,e){for(var n=0;n<t.coordinates.length;n++)if(!bn(t.coordinates[n],e))return!1;return!0}(r,o);case"Polygon":return function(t,e){if(!wn(H(e),H(t)))return!1;for(var n=!1,i=0;i<t.coordinates.length-1;i++){if(!Tt(t.coordinates[i],e))return!1;n||(n=Tt(t.coordinates[i],e,{ignoreBoundary:!0})),n||(n=Tt(function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(t.coordinates[i],t.coordinates[i+1]),e,{ignoreBoundary:!0}))}return n}(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}case"Polygon":switch(i){case"Polygon":return function(t,e){var n=H(t);if(!wn(H(e),n))return!1;for(var i=0;i<t.coordinates[0].length;i++)if(!Tt(t.coordinates[0][i],e))return!1;return!0}(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}function wn(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function kn(t,e){return t[0]===e[0]&&t[1]===e[1]}function Mn(t,e,n){if(!M(n=n||{}))throw new Error("options is invalid");var r=n.mask,o=n.properties,a=[];if(null==e)throw new Error("cellSide is required");if(!k(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(r&&-1===["Polygon","MultiPolygon"].indexOf(Q(r)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=t[0],u=t[1],c=t[2],h=t[3],d=e/Rt([s,u],[c,u],n)*(c-s),f=e/Rt([s,u],[s,h],n)*(h-u),p=c-s,m=h-u,g=Math.floor(p/d),y=(m-Math.floor(m/f)*f)/2,v=s+(p-g*d)/2;v<=c;){for(var _=u+y;_<=h;){var b=i([v,_],o);r?xn(b,r)&&a.push(b):a.push(b),_+=f}v+=d}return l(a)}function Sn(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var n=e.precision,i=e.coordinates,r=e.mutate;if(n=null==n||isNaN(n)?6:n,i=null==i||isNaN(i)?3:i,!t)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof i)throw new Error("<coordinates> must be a number");!1!==r&&void 0!==r||(t=JSON.parse(JSON.stringify(t)));var o=Math.pow(10,n);return L(t,function(t){!function(t,e,n){t.length>n&&t.splice(n,t.length);for(var i=0;i<t.length;i++)t[i]=Math.round(t[i]*e)/e}(t,o,i)}),t}function En(t,e){if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!En(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0}function Ln(t,e){if(void 0===e&&(e=!0),3!=t.length)throw new Error("This function requires an array of three points [x,y]");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==e}function Tn(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!Tn(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}function Cn(t,e){var n=[],i=We();return N(e,function(e){if(n.forEach(function(t,e){t.id=e}),n.length){var r=i.search(e);if(r.features.length){var o=Pn(e,r);n=n.filter(function(t){return t.id!==o.id}),i.remove(o),P(In(o,e),function(t){n.push(t),i.insert(t)})}}else(n=In(t,e).features).forEach(function(t){t.bbox||(t.bbox=se(H(t)))}),i.load(l(n))}),l(n)}function In(t,e){var n=[],i=V(t)[0],r=V(t)[t.geometry.coordinates.length-1];if(Dn(i,U(e))||Dn(r,U(e)))return l([t]);var o=We(),a=Ze(t);o.load(a);var u=o.search(e);if(!u.features.length)return l([t]);var c=Pn(e,u),h=D(a,function(t,i,r){var o=V(i)[1],a=U(e);return r===c.id?(t.push(a),n.push(s(t)),Dn(a,o)?[a]:[a,o]):(t.push(o),t)},[i]);return h.length>1&&n.push(s(h)),l(n)}function Pn(t,e){if(!e.features.length)throw new Error("lines must contain features");if(1===e.features.length)return e.features[0];var n,i=1/0;return P(e,function(e){var r=$e(e,t).properties.dist;r<i&&(n=e,i=r)}),n}function Dn(t,e){return t[0]===e[0]&&t[1]===e[1]}function On(t,e,n,i,r){if(!M(r=r||{}))throw new Error("options is invalid");var o=r.steps,a=r.units;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if(null==n)throw new Error("bearing1 is required");if(null==i)throw new Error("bearing2 is required");if("object"!=typeof r)throw new Error("options must be an object");o=o||64;var u=An(n),l=An(i),c=t.properties;if(u===l)return s(le(t,e,r).geometry.coordinates[0],c);for(var h=u,d=u<l?l:l+360,f=h,p=[],m=0;f<d;)p.push(ue(t,e,f,a).geometry.coordinates),f=h+360*++m/o;return f>d&&p.push(ue(t,e,d,a).geometry.coordinates),s(p,c)}function An(t){var e=t%360;return e<0&&(e+=360),e}function Rn(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var n=e.properties,i=Q(t),r=V(t);if(n=n||t.properties||{},!r.length)throw new Error("polygon must contain coordinates");switch(i){case"Polygon":return Nn(r,n);case"MultiPolygon":var o=[];return r.forEach(function(t){o.push(Nn(t,n))}),l(o);default:throw new Error("geom "+i+" not supported")}}function Nn(t,e){return t.length>1?c(t,e):s(t[0],e)}function Fn(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var n=e.properties,i=e.autoComplete,r=e.orderCoords;if(!t)throw new Error("lines is required");switch(i=void 0===i||i,r=void 0===r||r,Q(t)){case"FeatureCollection":case"GeometryCollection":var o=[];return(t.features?t.features:t.geometries).forEach(function(t){o.push(V(Yn(t,{},i,r)))}),d(o,n)}return Yn(t,n,i,r)}function Yn(t,e,n,i){e=e||t.properties||{};var r=V(t),a=Q(t);if(!r.length)throw new Error("line must contain coordinates");switch(a){case"LineString":return n&&(r=zn(r)),o([r],e);case"MultiLineString":var u=[],l=0;return r.forEach(function(t){if(n&&(t=zn(t)),i){var e=function(t){var e=t[1],n=t[3];return Math.abs(t[0]-t[2])*Math.abs(e-n)}(H(s(t)));e>l?(u.unshift(t),l=e):u.push(t)}else u.push(t)}),o(u,e);default:throw new Error("geometry type "+a+" is not supported")}}function zn(t){var e=t[0],n=t[t.length-1];return e[0]===n[0]&&e[1]===n[1]||t.push(e),t}function jn(t,e,n){var i,r,o,a,s,u=t.length,l=Hn(t[0],e),c=[];for(n||(n=[]),i=1;i<u;i++){for(r=t[i-1],a=s=Hn(o=t[i],e);;){if(!(l|a)){c.push(r),a!==s?(c.push(o),i<u-1&&(n.push(c),c=[])):i===u-1&&c.push(o);break}if(l&a)break;l?l=Hn(r=Bn(r,o,l,e),e):a=Hn(o=Bn(r,o,a,e),e)}l=s}return c.length&&n.push(c),n}function Bn(t,e,n,i){return 8&n?[t[0]+(e[0]-t[0])*(i[3]-t[1])/(e[1]-t[1]),i[3]]:4&n?[t[0]+(e[0]-t[0])*(i[1]-t[1])/(e[1]-t[1]),i[1]]:2&n?[i[2],t[1]+(e[1]-t[1])*(i[2]-t[0])/(e[0]-t[0])]:1&n?[i[0],t[1]+(e[1]-t[1])*(i[0]-t[0])/(e[0]-t[0])]:null}function Hn(t,e){var n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}function Un(t,e){for(var n=[],i=0;i<t.length;i++){var r=wa.polygon(t[i],e);r.length>0&&(r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]||r.push(r[0]),r.length>=4&&n.push(r))}return n}function Vn(t){return"[object Arguments]"===Object.prototype.toString.call(t)}function qn(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?t===e:function(t,e,n){var i,r;if(Gn(t)||Gn(e))return!1;if(t.prototype!==e.prototype)return!1;if(Vn(t))return!!Vn(e)&&qn(t=ka.call(t),e=ka.call(e),n);if(Wn(t)){if(!Wn(e))return!1;if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}try{var o=Object.keys(t),a=Object.keys(e)}catch(t){return!1}if(o.length!==a.length)return!1;for(o.sort(),a.sort(),i=o.length-1;i>=0;i--)if(o[i]!==a[i])return!1;for(i=o.length-1;i>=0;i--)if(!qn(t[r=o[i]],e[r],n))return!1;return typeof t==typeof e}(t,e,n))}function Gn(t){return null==t}function Wn(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}function Xn(t,e,n){if(!M(n=n||{}))throw new Error("options is invalid");var i,r=n.tolerance||0,o=[],a=We();return a.load(Ze(t)),Y(e,function(t){var e=!1;P(a.search(t),function(n){if(!1===e){var o=V(t).sort(),a=V(n).sort();qn(o,a)||(0===r?bn(o[0],n)&&bn(o[1],n):$e(n,o[0]).properties.dist<=r&&$e(n,o[1]).properties.dist<=r)?(e=!0,i=i?Kn(i,t):t):(0===r?bn(a[0],t)&&bn(a[1],t):$e(t,a[0]).properties.dist<=r&&$e(t,a[1]).properties.dist<=r)&&(i=i?Kn(i,n):n)}}),!1===e&&i&&(o.push(i),i=void 0)}),i&&o.push(i),l(o)}function Kn(t,e){var n=V(e),i=V(t),r=i[0],o=i[i.length-1],a=t.geometry.coordinates;return qn(n[0],r)?a.unshift(n[1]):qn(n[0],o)?a.push(n[1]):qn(n[1],r)?a.unshift(n[0]):qn(n[1],o)&&a.push(n[0]),t}function Zn(t){var e=t%360;return e<0&&(e+=360),e}function Qn(t,e,n,r){if(!M(r=r||{}))throw new Error("options is invalid");var o=r.units,a=r.properties;if(!t)throw new Error("origin is required");if(null==e)throw new Error("distance is required");if(null==n)throw new Error("bearing is required");if(!(e>=0))throw new Error("distance must be greater than 0");var s=x(e,o,"meters"),u=U(t),l=function(t,e,n,i){var r=e/(i=void 0===i?To:Number(i)),o=t[0]*Math.PI/180,a=b(t[1]),s=b(n),u=r*Math.cos(s),l=a+u;Math.abs(l)>Math.PI/2&&(l=l>0?Math.PI-l:-Math.PI-l);var c=Math.log(Math.tan(l/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),h=Math.abs(c)>1e-11?u/c:Math.cos(a);return[(180*(o+r*Math.sin(s)/h)/Math.PI+540)%360-180,180*l/Math.PI]}(u,s,n);return l[0]+=l[0]-u[0]>180?-360:u[0]-l[0]>180?360:0,i(l,a)}function Jn(t,e,n,i,r,o){for(var a=0;a<t.length;a++){var s=t[a],u=t[a+1];a===t.length-1&&(u=t[0]),i=$n(s,u,e),n<=0&&i>0?function(t,e,n){return $n(t,e,n)<0}(e,s,r)||(r=s):n>0&&i<=0&&(function(t,e,n){return $n(t,e,n)>0}(e,s,o)||(o=s)),n=i}return[r,o]}function $n(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function ti(t){if(!t)throw new Error("line is required");var e=t.geometry?t.geometry.type:t.type;if(!Array.isArray(t)&&"LineString"!==e)throw new Error("geometry must be a LineString");for(var n,i,r=V(t),o=0,a=1;a<r.length;)n=i||r[0],o+=((i=r[a])[0]-n[0])*(i[1]+n[1]),a++;return o>0}function ei(t,e){switch("Feature"===t.type?t.geometry.type:t.type){case"GeometryCollection":return A(t,function(t){ei(t,e)}),t;case"LineString":return ni(V(t),e),t;case"Polygon":return ii(V(t),e),t;case"MultiLineString":return V(t).forEach(function(t){ni(t,e)}),t;case"MultiPolygon":return V(t).forEach(function(t){ii(t,e)}),t;case"Point":case"MultiPoint":return t}}function ni(t,e){ti(t)===e&&t.reverse()}function ii(t,e){ti(t[0])!==e&&t[0].reverse();for(var n=1;n<t.length;n++)ti(t[n])===e&&t[n].reverse()}function ri(t,e,n,i){i=i||{};for(var r=Object.keys(Ma),o=0;o<r.length;o++){var a=r[o],s=i[a];Sa[a]=s=null!=s?s:Ma[a]}Sa.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+e+":"+(e+n)+"]");var u,l=function(t,e,n){for(var i=t.length-1,r=t[0].length-1,o={rows:i,cols:r,cells:[]},a=e+Math.abs(n),s=0;s<i;++s){o.cells[s]=[];for(var u=0;u<r;++u){var l=0,c=t[s+1][u],h=t[s+1][u+1],d=t[s][u+1],f=t[s][u];if(!(isNaN(c)||isNaN(h)||isNaN(d)||isNaN(f))){l|=c<e?0:c>a?128:64,l|=h<e?0:h>a?32:16,l|=d<e?0:d>a?8:4;var p=+(l|=f<e?0:f>a?2:1),m=0;if(17===l||18===l||33===l||34===l||38===l||68===l||72===l||98===l||102===l||132===l||136===l||137===l||152===l||153===l){var g=(c+h+d+f)/4;m=g>a?2:g<e?0:1,34===l?1===m?l=35:0===m&&(l=136):136===l?1===m?(l=35,m=4):0===m&&(l=34):17===l?1===m?(l=155,m=4):0===m&&(l=153):68===l?1===m?(l=103,m=4):0===m&&(l=102):153===l?1===m&&(l=155):102===l?1===m&&(l=103):152===l?m<2&&(l=156,m=1):137===l?m<2&&(l=139,m=1):98===l?m<2&&(l=99,m=1):38===l?m<2&&(l=39,m=1):18===l?m>0?(l=156,m=4):l=152:33===l?m>0?(l=139,m=4):l=137:72===l?m>0?(l=99,m=4):l=98:132===l&&(m>0?(l=39,m=4):l=38)}if(0!=l&&170!=l){var y,v,_,b,x,w,k,M;y=v=_=b=x=w=k=M=.5;var S=[];1===l?(_=1-oi(e,d,f),M=1-oi(e,c,f),S.push(hs[l])):169===l?(_=oi(a,f,d),M=oi(a,f,c),S.push(hs[l])):4===l?(w=1-oi(e,h,d),b=oi(e,f,d),S.push(ls[l])):166===l?(w=oi(a,d,h),b=1-oi(a,d,f),S.push(ls[l])):16===l?(x=oi(e,d,h),v=oi(e,c,h),S.push(us[l])):154===l?(x=1-oi(a,h,d),v=1-oi(a,h,c),S.push(us[l])):64===l?(k=oi(e,f,c),y=1-oi(e,h,c),S.push(fs[l])):106===l?(k=1-oi(a,c,f),y=oi(a,c,h),S.push(fs[l])):168===l?(b=oi(a,f,d),_=oi(e,f,d),M=oi(e,f,c),k=oi(a,f,c),S.push(cs[l]),S.push(hs[l])):2===l?(b=1-oi(e,d,f),_=1-oi(a,d,f),M=1-oi(a,c,f),k=1-oi(e,c,f),S.push(cs[l]),S.push(hs[l])):162===l?(x=oi(a,d,h),w=oi(e,d,h),b=1-oi(e,d,f),_=1-oi(a,d,f),S.push(cs[l]),S.push(hs[l])):8===l?(x=1-oi(e,h,d),w=1-oi(a,h,d),b=oi(a,f,d),_=oi(e,f,d),S.push(us[l]),S.push(ls[l])):138===l?(x=1-oi(e,h,d),w=1-oi(a,h,d),y=1-oi(a,h,c),v=1-oi(e,h,c),S.push(us[l]),S.push(ls[l])):32===l?(x=oi(a,d,h),w=oi(e,d,h),y=oi(e,c,h),v=oi(a,c,h),S.push(us[l]),S.push(ls[l])):42===l?(M=1-oi(a,c,f),k=1-oi(e,c,f),y=oi(e,c,h),v=oi(a,c,h),S.push(ds[l]),S.push(fs[l])):128===l&&(M=oi(e,f,c),k=oi(a,f,c),y=1-oi(a,h,c),v=1-oi(e,h,c),S.push(ds[l]),S.push(fs[l])),5===l?(w=1-oi(e,h,d),M=1-oi(e,c,f),S.push(ls[l])):165===l?(w=oi(a,d,h),M=oi(a,f,c),S.push(ls[l])):20===l?(b=oi(e,f,d),v=oi(e,c,h),S.push(cs[l])):150===l?(b=1-oi(a,d,f),v=1-oi(a,h,c),S.push(cs[l])):80===l?(x=oi(e,d,h),k=oi(e,f,c),S.push(us[l])):90===l?(x=1-oi(a,h,d),k=1-oi(a,c,f),S.push(us[l])):65===l?(_=1-oi(e,d,f),y=1-oi(e,h,c),S.push(hs[l])):105===l?(_=oi(a,f,d),y=oi(a,c,h),S.push(hs[l])):160===l?(x=oi(a,d,h),w=oi(e,d,h),M=oi(e,f,c),k=oi(a,f,c),S.push(us[l]),S.push(ls[l])):10===l?(x=1-oi(e,h,d),w=1-oi(a,h,d),M=1-oi(a,c,f),k=1-oi(e,c,f),S.push(us[l]),S.push(ls[l])):130===l?(b=1-oi(e,d,f),_=1-oi(a,d,f),y=1-oi(a,h,c),v=1-oi(e,h,c),S.push(cs[l]),S.push(hs[l])):40===l?(b=oi(a,f,d),_=oi(e,f,d),y=oi(e,c,h),v=oi(a,c,h),S.push(cs[l]),S.push(hs[l])):101===l?(w=oi(a,d,h),y=oi(a,c,h),S.push(ls[l])):69===l?(w=1-oi(e,h,d),y=1-oi(e,h,c),S.push(ls[l])):149===l?(M=oi(a,f,c),v=1-oi(a,h,c),S.push(ds[l])):21===l?(M=1-oi(e,c,f),v=oi(e,c,h),S.push(ds[l])):86===l?(b=1-oi(a,d,f),k=1-oi(a,c,f),S.push(cs[l])):84===l?(b=oi(e,f,d),k=oi(e,f,c),S.push(cs[l])):89===l?(x=1-oi(a,h,d),_=oi(a,f,d),S.push(hs[l])):81===l?(x=oi(e,d,h),_=1-oi(e,d,f),S.push(hs[l])):96===l?(x=oi(a,d,h),w=oi(e,d,h),k=oi(e,f,c),y=oi(a,c,h),S.push(us[l]),S.push(ls[l])):74===l?(x=1-oi(e,h,d),w=1-oi(a,h,d),k=1-oi(a,c,f),y=1-oi(e,h,c),S.push(us[l]),S.push(ls[l])):24===l?(x=1-oi(a,h,d),b=oi(a,f,d),_=oi(e,f,d),v=oi(e,c,h),S.push(us[l]),S.push(hs[l])):146===l?(x=oi(e,d,h),b=1-oi(e,d,f),_=1-oi(a,d,f),v=1-oi(a,h,c),S.push(us[l]),S.push(hs[l])):6===l?(w=1-oi(e,h,d),b=1-oi(a,d,f),M=1-oi(a,c,f),k=1-oi(e,c,f),S.push(ls[l]),S.push(cs[l])):164===l?(w=oi(a,d,h),b=oi(e,f,d),M=oi(e,f,c),k=oi(a,f,c),S.push(ls[l]),S.push(cs[l])):129===l?(_=1-oi(e,d,f),M=oi(a,f,c),y=1-oi(a,h,c),v=1-oi(e,h,c),S.push(hs[l]),S.push(ds[l])):41===l?(_=oi(a,f,d),M=1-oi(e,c,f),y=oi(e,c,h),v=oi(a,c,h),S.push(hs[l]),S.push(ds[l])):66===l?(b=1-oi(e,d,f),_=1-oi(a,d,f),k=1-oi(a,c,f),y=1-oi(e,h,c),S.push(cs[l]),S.push(hs[l])):104===l?(b=oi(a,f,d),_=oi(e,f,d),k=oi(e,f,c),y=oi(a,c,h),S.push(hs[l]),S.push(ps[l])):144===l?(x=oi(e,d,h),M=oi(e,f,c),k=oi(a,f,c),v=1-oi(a,h,c),S.push(us[l]),S.push(fs[l])):26===l?(x=1-oi(a,h,d),M=1-oi(a,c,f),k=1-oi(e,c,f),v=oi(e,c,h),S.push(us[l]),S.push(fs[l])):36===l?(w=oi(a,d,h),b=oi(e,f,d),y=oi(e,c,h),v=oi(a,c,h),S.push(ls[l]),S.push(cs[l])):134===l?(w=1-oi(e,h,d),b=1-oi(a,d,f),y=1-oi(a,h,c),v=1-oi(e,h,c),S.push(ls[l]),S.push(cs[l])):9===l?(x=1-oi(e,h,d),w=1-oi(a,h,d),_=oi(a,f,d),M=1-oi(e,c,f),S.push(us[l]),S.push(ls[l])):161===l?(x=oi(a,d,h),w=oi(e,d,h),_=1-oi(e,d,f),M=oi(a,f,c),S.push(us[l]),S.push(ls[l])):37===l?(w=oi(a,d,h),M=1-oi(e,c,f),y=oi(e,c,h),v=oi(a,c,h),S.push(ls[l]),S.push(ds[l])):133===l?(w=1-oi(e,h,d),M=oi(a,f,c),y=1-oi(a,h,c),v=1-oi(e,h,c),S.push(ls[l]),S.push(ds[l])):148===l?(b=oi(e,f,d),M=oi(e,f,c),k=oi(a,f,c),v=1-oi(a,h,c),S.push(cs[l]),S.push(fs[l])):22===l?(b=1-oi(a,d,f),M=1-oi(a,c,f),k=1-oi(e,c,f),v=oi(e,c,h),S.push(cs[l]),S.push(fs[l])):82===l?(x=oi(e,d,h),b=1-oi(e,d,f),_=1-oi(a,d,f),k=1-oi(a,c,f),S.push(us[l]),S.push(hs[l])):88===l?(x=1-oi(a,h,d),b=oi(a,f,d),_=oi(e,f,d),k=oi(e,f,c),S.push(us[l]),S.push(hs[l])):73===l?(x=1-oi(e,h,d),w=1-oi(a,h,d),_=oi(a,f,d),y=1-oi(e,h,c),S.push(us[l]),S.push(ls[l])):97===l?(x=oi(a,d,h),w=oi(e,d,h),_=1-oi(e,d,f),y=oi(a,c,h),S.push(us[l]),S.push(ls[l])):145===l?(x=oi(e,d,h),_=1-oi(e,d,f),M=oi(a,f,c),v=1-oi(a,h,c),S.push(us[l]),S.push(ds[l])):25===l?(x=1-oi(a,h,d),_=oi(a,f,d),M=1-oi(e,c,f),v=oi(e,c,h),S.push(us[l]),S.push(ds[l])):70===l?(w=1-oi(e,h,d),b=1-oi(a,d,f),k=1-oi(a,c,f),y=1-oi(e,h,c),S.push(ls[l]),S.push(cs[l])):100===l?(w=oi(a,d,h),b=oi(e,f,d),k=oi(e,f,c),y=oi(a,c,h),S.push(ls[l]),S.push(cs[l])):34===l?(0===m?(x=1-oi(e,h,d),w=1-oi(a,h,d),b=oi(a,f,d),_=oi(e,f,d),M=oi(e,f,c),k=oi(a,f,c),y=1-oi(a,h,c),v=1-oi(e,h,c)):(x=oi(a,d,h),w=oi(e,d,h),b=1-oi(e,d,f),_=1-oi(a,d,f),M=1-oi(a,c,f),k=1-oi(e,c,f),y=oi(e,c,h),v=oi(a,c,h)),S.push(us[l]),S.push(ls[l]),S.push(ds[l]),S.push(fs[l])):35===l?(4===m?(x=1-oi(e,h,d),w=1-oi(a,h,d),b=oi(a,f,d),_=oi(e,f,d),M=oi(e,f,c),k=oi(a,f,c),y=1-oi(a,h,c),v=1-oi(e,h,c)):(x=oi(a,d,h),w=oi(e,d,h),b=1-oi(e,d,f),_=1-oi(a,d,f),M=1-oi(a,c,f),k=1-oi(e,c,f),y=oi(e,c,h),v=oi(a,c,h)),S.push(us[l]),S.push(ls[l]),S.push(hs[l]),S.push(fs[l])):136===l?(0===m?(x=oi(a,d,h),w=oi(e,d,h),b=1-oi(e,d,f),_=1-oi(a,d,f),M=1-oi(a,c,f),k=1-oi(e,c,f),y=oi(e,c,h),v=oi(a,c,h)):(x=1-oi(e,h,d),w=1-oi(a,h,d),b=oi(a,f,d),_=oi(e,f,d),M=oi(e,f,c),k=oi(a,f,c),y=1-oi(a,h,c),v=1-oi(e,h,c)),S.push(us[l]),S.push(ls[l]),S.push(ds[l]),S.push(fs[l])):153===l?(0===m?(x=oi(e,d,h),_=1-oi(e,d,f),M=1-oi(e,c,f),v=oi(e,c,h)):(x=1-oi(a,h,d),_=oi(a,f,d),M=oi(a,f,c),v=1-oi(a,h,c)),S.push(us[l]),S.push(hs[l])):102===l?(0===m?(w=1-oi(e,h,d),b=oi(e,f,d),k=oi(e,f,c),y=1-oi(e,h,c)):(w=oi(a,d,h),b=1-oi(a,d,f),k=1-oi(a,c,f),y=oi(a,c,h)),S.push(ls[l]),S.push(fs[l])):155===l?(4===m?(x=oi(e,d,h),_=1-oi(e,d,f),M=1-oi(e,c,f),v=oi(e,c,h)):(x=1-oi(a,h,d),_=oi(a,f,d),M=oi(a,f,c),v=1-oi(a,h,c)),S.push(us[l]),S.push(ds[l])):103===l?(4===m?(w=1-oi(e,h,d),b=oi(e,f,d),k=oi(e,f,c),y=1-oi(e,h,c)):(w=oi(a,d,h),b=1-oi(a,d,f),k=1-oi(a,c,f),y=oi(a,c,h)),S.push(ls[l]),S.push(cs[l])):152===l?(0===m?(x=oi(e,d,h),b=1-oi(e,d,f),_=1-oi(a,d,f),M=1-oi(a,c,f),k=1-oi(e,c,f),v=oi(e,c,h)):(x=1-oi(a,h,d),b=oi(a,f,d),_=oi(e,f,d),M=oi(e,f,c),k=oi(a,f,c),v=1-oi(a,h,c)),S.push(us[l]),S.push(cs[l]),S.push(hs[l])):156===l?(4===m?(x=oi(e,d,h),b=1-oi(e,d,f),_=1-oi(a,d,f),M=1-oi(a,c,f),k=1-oi(e,c,f),v=oi(e,c,h)):(x=1-oi(a,h,d),b=oi(a,f,d),_=oi(e,f,d),M=oi(e,f,c),k=oi(a,f,c),v=1-oi(a,h,c)),S.push(us[l]),S.push(hs[l]),S.push(fs[l])):137===l?(0===m?(x=oi(a,d,h),w=oi(e,d,h),_=1-oi(e,d,f),M=1-oi(e,c,f),y=oi(e,c,h),v=oi(a,c,h)):(x=1-oi(e,h,d),w=1-oi(a,h,d),_=oi(a,f,d),M=oi(a,f,c),y=1-oi(a,h,c),v=1-oi(e,h,c)),S.push(us[l]),S.push(ls[l]),S.push(hs[l])):139===l?(4===m?(x=oi(a,d,h),w=oi(e,d,h),_=1-oi(e,d,f),M=1-oi(e,c,f),y=oi(e,c,h),v=oi(a,c,h)):(x=1-oi(e,h,d),w=1-oi(a,h,d),_=oi(a,f,d),M=oi(a,f,c),y=1-oi(a,h,c),v=1-oi(e,h,c)),S.push(us[l]),S.push(ls[l]),S.push(ds[l])):98===l?(0===m?(x=1-oi(e,h,d),w=1-oi(a,h,d),b=oi(a,f,d),_=oi(e,f,d),k=oi(e,f,c),y=1-oi(e,h,c)):(x=oi(a,d,h),w=oi(e,d,h),b=1-oi(e,d,f),_=1-oi(a,d,f),k=1-oi(a,c,f),y=oi(a,c,h)),S.push(us[l]),S.push(ls[l]),S.push(fs[l])):99===l?(4===m?(x=1-oi(e,h,d),w=1-oi(a,h,d),b=oi(a,f,d),_=oi(e,f,d),k=oi(e,f,c),y=1-oi(e,h,c)):(x=oi(a,d,h),w=oi(e,d,h),b=1-oi(e,d,f),_=1-oi(a,d,f),k=1-oi(a,c,f),y=oi(a,c,h)),S.push(us[l]),S.push(ls[l]),S.push(hs[l])):38===l?(0===m?(w=1-oi(e,h,d),b=oi(e,f,d),M=oi(e,f,c),k=oi(a,f,c),y=1-oi(a,h,c),v=1-oi(e,h,c)):(w=oi(a,d,h),b=1-oi(a,d,f),M=1-oi(a,c,f),k=1-oi(e,c,f),y=oi(e,c,h),v=oi(a,c,h)),S.push(ls[l]),S.push(ds[l]),S.push(fs[l])):39===l?(4===m?(w=1-oi(e,h,d),b=oi(e,f,d),M=oi(e,f,c),k=oi(a,f,c),y=1-oi(a,h,c),v=1-oi(e,h,c)):(w=oi(a,d,h),b=1-oi(a,d,f),M=1-oi(a,c,f),k=1-oi(e,c,f),y=oi(e,c,h),v=oi(a,c,h)),S.push(ls[l]),S.push(cs[l]),S.push(fs[l])):85===l&&(x=1,w=0,b=1,_=0,M=0,k=1,y=0,v=1),(y<0||y>1||v<0||v>1||x<0||x>1||b<0||b>1||M<0||M>1||k<0||k>1)&&console.log("MarchingSquaresJS-isoBands: "+l+" "+p+" "+c+","+h+","+d+","+f+" "+m+" "+y+" "+v+" "+x+" "+w+" "+b+" "+_+" "+M+" "+k),o.cells[s][u]={cval:l,cval_real:p,flipped:m,topleft:y,topright:v,righttop:x,rightbottom:w,bottomright:b,bottomleft:_,leftbottom:M,lefttop:k,edges:S}}}}}return o}(t,e,n);return Sa.polygons?(Sa.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),u=function(t){var e=[],n=0;return t.cells.forEach(function(t,i){t.forEach(function(t,r){if(void 0!==t){var o=gs[t.cval](t);"object"==typeof o&&ai(o)?"object"==typeof o[0]&&ai(o[0])?"object"==typeof o[0][0]&&ai(o[0][0])?o.forEach(function(t){t.forEach(function(t){t[0]+=r,t[1]+=i}),e[n++]=t}):(o.forEach(function(t){t[0]+=r,t[1]+=i}),e[n++]=o):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),e}(l)):(Sa.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),u=function(t){for(var e=[],n=t.rows,i=t.cols,r=[],o=0;o<n;o++)for(var a=0;a<i;a++)if(void 0!==t.cells[o][a]&&t.cells[o][a].edges.length>0){var s=function(t){if(t.edges.length>0){var e=t.cval_real;switch(t.edges[t.edges.length-1]){case 0:return e&La?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 1:return e&Ta?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:return e&Ta?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 3:return e&Ca?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:return e&La?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 5:return e&Ta?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:return e&Ta?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 7:return e&Ca?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:return e&Ta?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.righttop],x:-1,y:0,o:1};case 9:return e&Ca?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:return e&Ca?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.righttop],x:-1,y:0,o:1};case 11:return e&Ea?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 12:return e&Ta?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:return e&Ca?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:return e&Ca?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:return e&Ea?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 16:return e&Ta?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:return e&Ea?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 18:return e&Ca?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:return e&Ea?{p:[t.bottomleft,0],x:0,y:1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 20:return e&Ea?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:return e&La?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.topright,1],x:0,y:-1,o:1};case 22:return e&Ea?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 23:return e&La?{p:[0,t.lefttop],x:1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t)}}return null}(t.cells[o][a]),u=null,l=a,c=o;null!==s&&r.push([s.p[0]+l,s.p[1]+c]);do{if(null===(u=function(t,e,n,i){var r,o,a,s,u,l=t.cval;switch(e){case-1:switch(i){case 0:r=ls[l],a=za[l],s=ja[l],u=Ba[l];break;default:r=us[l],a=Na[l],s=Fa[l],u=Ya[l]}break;case 1:switch(i){case 0:r=ds[l],a=Qa[l],s=Ja[l],u=$a[l];break;default:r=fs[l],a=Xa[l],s=Ka[l],u=Za[l]}break;default:switch(n){case-1:switch(i){case 0:r=ps[l],a=Ia[l],s=Pa[l],u=Da[l];break;default:r=ms[l],a=Oa[l],s=Aa[l],u=Ra[l]}break;case 1:switch(i){case 0:r=hs[l],a=Ha[l],s=Ua[l],u=Va[l];break;default:r=cs[l],a=qa[l],s=Ga[l],u=Wa[l]}}}if(o=t.edges.indexOf(r),void 0===t.edges[o])return null;switch(function(t,e){delete t.edges[e];for(var n=e+1;n<t.edges.length;n++)t.edges[n-1]=t.edges[n];t.edges.pop()}(t,o),l=t.cval_real,r){case 0:l&La?(e=t.topleft,n=1):(e=1,n=t.righttop);break;case 1:l&Ta?(e=1,n=t.rightbottom):(e=t.topleft,n=1);break;case 2:l&Ta?(e=t.topleft,n=1):(e=t.bottomright,n=0);break;case 3:l&Ca?(e=t.bottomleft,n=0):(e=t.topleft,n=1);break;case 4:l&La?(e=t.topright,n=1):(e=1,n=t.righttop);break;case 5:l&Ta?(e=1,n=t.rightbottom):(e=t.topright,n=1);break;case 6:l&Ta?(e=t.topright,n=1):(e=t.bottomright,n=0);break;case 7:l&Ca?(e=t.bottomleft,n=0):(e=t.topright,n=1);break;case 8:l&Ta?(e=1,n=t.righttop):(e=t.bottomright,n=0);break;case 9:l&Ca?(e=t.bottomleft,n=0):(e=1,n=t.righttop);break;case 10:l&Ca?(e=1,n=t.righttop):(e=0,n=t.leftbottom);break;case 11:l&Ea?(e=0,n=t.lefttop):(e=1,n=t.righttop);break;case 12:l&Ta?(e=1,n=t.rightbottom):(e=t.bottomright,n=0);break;case 13:l&Ca?(e=t.bottomleft,n=0):(e=1,n=t.rightbottom);break;case 14:l&Ca?(e=1,n=t.rightbottom):(e=0,n=t.leftbottom);break;case 15:l&Ea?(e=0,n=t.lefttop):(e=1,n=t.rightbottom);break;case 16:l&Ta?(e=0,n=t.leftbottom):(e=t.bottomright,n=0);break;case 17:l&Ea?(e=0,n=t.lefttop):(e=t.bottomright,n=0);break;case 18:l&Ca?(e=t.bottomleft,n=0):(e=0,n=t.leftbottom);break;case 19:l&Ea?(e=0,n=t.lefttop):(e=t.bottomleft,n=0);break;case 20:l&Ea?(e=0,n=t.leftbottom):(e=t.topleft,n=1);break;case 21:l&La?(e=t.topright,n=1):(e=0,n=t.leftbottom);break;case 22:l&Ea?(e=0,n=t.lefttop):(e=t.topleft,n=1);break;case 23:l&La?(e=t.topright,n=1):(e=0,n=t.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t),null}return void 0!==e&&void 0!==n&&void 0!==a&&void 0!==s&&void 0!==u||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(t),console.log(e+" "+n+" "+a+" "+s+" "+u)),{p:[e,n],x:a,y:s,o:u}}(t.cells[c][l],s.x,s.y,s.o)))break;if(r.push([u.p[0]+l,u.p[1]+c]),l+=u.x,s=u,(c+=u.y)<0||c>=n||l<0||l>=i||void 0===t.cells[c][l]){var h=function(t,e,n,i,r,o){for(var a=t.cells[n][e],s=a.cval_real,u=e+i,l=n+r,c=[],h=!1;!h;){if(void 0===t.cells[l]||void 0===t.cells[l][u])if(s=(a=t.cells[l-=r][u-=i]).cval_real,-1===r)if(0===o)if(s&Ca)c.push([u,l]),i=-1,r=0,o=0;else{if(!(s&Ta)){c.push([u+a.bottomright,l]),i=0,r=1,o=1,h=!0;break}c.push([u+1,l]),i=1,r=0,o=0}else{if(!(s&Ca)){if(s&Ta){c.push([u+a.bottomright,l]),i=0,r=1,o=1,h=!0;break}c.push([u+a.bottomleft,l]),i=0,r=1,o=0,h=!0;break}c.push([u,l]),i=-1,r=0,o=0}else if(1===r)if(0===o){if(!(s&La)){if(s&Ea){c.push([u+a.topleft,l+1]),i=0,r=-1,o=0,h=!0;break}c.push([u+a.topright,l+1]),i=0,r=-1,o=1,h=!0;break}c.push([u+1,l+1]),i=1,r=0,o=1}else c.push([u+1,l+1]),i=1,r=0,o=1;else if(-1===i)if(0===o){if(!(s&Ea)){if(s&Ca){c.push([u,l+a.leftbottom]),i=1,r=0,o=0,h=!0;break}c.push([u,l+a.lefttop]),i=1,r=0,o=1,h=!0;break}c.push([u,l+1]),i=0,r=1,o=0}else{if(!(s&Ea)){console.log("MarchingSquaresJS-isoBands: wtf");break}c.push([u,l+1]),i=0,r=1,o=0}else{if(1!==i){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===o){if(!(s&Ta)){c.push([u+1,l+a.rightbottom]),i=-1,r=0,o=0,h=!0;break}c.push([u+1,l]),i=0,r=-1,o=1}else{if(!(s&Ta)){if(s&La){c.push([u+1,l+a.righttop]),i=-1,r=0,o=1;break}c.push([u+1,l+a.rightbottom]),i=-1,r=0,o=0,h=!0;break}c.push([u+1,l]),i=0,r=-1,o=1}}else if(s=(a=t.cells[l][u]).cval_real,-1===i)if(0===o)if(void 0!==t.cells[l-1]&&void 0!==t.cells[l-1][u])i=0,r=-1,o=1;else{if(!(s&Ca)){c.push([u+a.bottomright,l]),i=0,r=1,o=1,h=!0;break}c.push([u,l])}else{if(!(s&Ea)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+u+","+l);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===i){if(0===o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l+1]&&void 0!==t.cells[l+1][u])i=0,r=1,o=0;else{if(!(s&La)){c.push([u+a.topleft,l+1]),i=0,r=-1,o=0,h=!0;break}c.push([u+1,l+1]),i=1,r=0,o=1}}else if(-1===r){if(1!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l][u+1])i=1,r=0,o=1;else{if(!(s&Ta)){c.push([u+1,l+a.righttop]),i=-1,r=0,o=1,h=!0;break}c.push([u+1,l]),i=0,r=-1,o=1}}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l][u-1])i=-1,r=0,o=0;else{if(!(s&Ea)){c.push([u,l+a.leftbottom]),i=1,r=0,o=0,h=!0;break}c.push([u,l+1]),i=0,r=1,o=0}}if(l+=r,(u+=i)===e&&l===n)break}return{path:c,i:u,j:l,x:i,y:r,o:o}}(t,l-=u.x,c-=u.y,u.x,u.y,u.o);if(null===h)break;h.path.forEach(function(t){r.push(t)}),l=h.i,c=h.j,s=h}}while(void 0!==t.cells[c][l]&&t.cells[c][l].edges.length>0);e.push(r),r=[],t.cells[o][a].edges.length>0&&a--}return e}(l)),"function"==typeof Sa.successCallback&&Sa.successCallback(u),u}function oi(t,e,n){return(t-e)/(n-e)}function ai(t){return t.constructor.toString().indexOf("Array")>-1}function si(t,e,n){if(!M(n=n||{}))throw new Error("options is invalid");var i=n.pivot,r=n.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("angle is required");return 0===e||(i||(i=de(t)),!1!==r&&void 0!==r||(t=Nt(t)),L(t,function(t){var n=tn(i,t)+e,r=nn(i,t),o=V(Qn(i,r,n));t[0]=o[0],t[1]=o[1]})),t}function ui(t,e,n){if(!M(n=n||{}))throw new Error("options is invalid");var i=n.origin,r=n.mutate;if(!t)throw new Error("geojson required");if("number"!=typeof e||0===e)throw new Error("invalid factor");var o=Array.isArray(i)||"object"==typeof i;return!0!==r&&(t=Nt(t)),"FeatureCollection"!==t.type||o?li(t,e,i):(P(t,function(n,r){t.features[r]=li(n,e,i)}),t)}function li(t,e,n){var r="Point"===Q(t);return n=function(t,e){if(null!=e||(e="centroid"),Array.isArray(e)||"object"==typeof e)return U(e);var n=t.bbox?t.bbox:H(t),r=n[0],o=n[1],a=n[2],s=n[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return i([r,o]);case"se":case"southeast":case"eastsouth":case"bottomright":return i([a,o]);case"nw":case"northwest":case"westnorth":case"topleft":return i([r,s]);case"ne":case"northeast":case"eastnorth":case"topright":return i([a,s]);case"center":return he(t);case void 0:case null:case"centroid":return de(t);default:throw new Error("invalid origin")}}(t,n),1===e||r||L(t,function(t){var i=nn(n,t),r=tn(n,t),o=V(Qn(n,i*e,r));t[0]=o[0],t[1]=o[1],3===t.length&&(t[2]*=e)}),t}function ci(t){var e=t[0],n=t[1];return[n[0]-e[0],n[1]-e[1]]}function hi(t,e){return t[0]*e[1]-e[0]*t[1]}function di(t,e,n){var i=[],r=y(e,n),o=V(t),a=[];return o.forEach(function(t,e){if(e!==o.length-1){var n=function(t,e,n){var i=Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]));return[[t[0]+n*(e[1]-t[1])/i,t[1]+n*(t[0]-e[0])/i],[e[0]+n*(e[1]-t[1])/i,e[1]+n*(t[0]-e[0])/i]]}(t,o[e+1],r);if(i.push(n),e>0){var s=i[e-1],u=function(t,e){return!function(t,e){return 0===hi(ci(t),ci(e))}(t,e)&&function(t,e){var n=t[0],i=ci(t),r=e[0],o=ci(e),a=hi(i,o);return function(t,e){return[t[0]+e[0],t[1]+e[1]]}(n,function(t,e){return[t*e[0],t*e[1]]}(hi(function(t,e){return[t[0]-e[0],t[1]-e[1]]}(r,n),o)/a,i))}(t,e)}(n,s);!1!==u&&(s[1]=u,n[0]=u),a.push(s[0]),e===o.length-2&&(a.push(n[0]),a.push(n[1]))}2===o.length&&(a.push(n[0]),a.push(n[1]))}}),s(a,t.properties)}function fi(t,e,n){return Math.sign((e[0]-t[0])*(n[1]-e[1])-(n[0]-e[0])*(e[1]-t[1]))}function pi(t,e){return e.geometry.coordinates[0].every(function(e){return Tt(i(e),t)})}function mi(t,e){for(var n=0;n<t.coordinates.length-1;n++)if(function(t,e,n){var i=e[0]-t[0],r=e[1]-t[1];return(n[0]-t[0])*r-(n[1]-t[1])*i==0&&(Math.abs(i)>=Math.abs(r)?i>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:r>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1])}(t.coordinates[n],t.coordinates[n+1],e.coordinates))return!0;return!1}function gi(t,e){return Qe(e,Rn(t)).features.length>0}function yi(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function vi(t,e){return t[0]===e[0]&&t[1]===e[1]}function _i(t,e){for(var n=!1,i=!1,r=t.coordinates.length,o=0;o<r&&!n&&!i;){for(var a=0;a<e.coordinates.length-1;a++){var s=!0;0!==a&&a!==e.coordinates.length-2||(s=!1),wi(e.coordinates[a],e.coordinates[a+1],t.coordinates[o],s)?n=!0:i=!0}o++}return n&&i}function bi(t,e){return Qe(t,Rn(e)).features.length>0}function xi(t,e){for(var n=!1,r=!1,o=t.coordinates[0].length,a=0;a<o&&n&&r;)Tt(i(t.coordinates[0][a]),e)?n=!0:r=!0,a++;return r&&r}function wi(t,e,n,i){var r=e[0]-t[0],o=e[1]-t[1];return 0==(n[0]-t[0])*o-(n[1]-t[1])*r&&(i?Math.abs(r)>=Math.abs(o)?r>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:o>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1]:Math.abs(r)>=Math.abs(o)?r>0?t[0]<n[0]&&n[0]<e[0]:e[0]<n[0]&&n[0]<t[0]:o>0?t[1]<n[1]&&n[1]<e[1]:e[1]<n[1]&&n[1]<t[1])}function ki(t){return t.coordinates.map(function(e){return{type:t.type.replace("Multi",""),coordinates:e}})}function Mi(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function Si(t,e){return Ms(t,e,{strict:!0})}function Ei(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");var n=Q(t);if(n!==Q(e))throw new Error("features must be of the same type");if("Point"===n)throw new Error("Point geometry not supported");if(new Es({precision:6}).compare(t,e))return!1;var i=0;switch(n){case"MultiPoint":var r=O(t),o=O(e);r.forEach(function(t){o.forEach(function(e){t[0]===e[0]&&t[1]===e[1]&&i++})});break;case"LineString":case"MultiLineString":Y(t,function(t){Y(e,function(e){Xn(t,e).features.length&&i++})});break;case"Polygon":case"MultiPolygon":Y(t,function(t){Y(e,function(e){Qe(t,e).features.length&&i++})})}return i>0}function Li(t,e,n){n=n||[];for(var i=0;i<t;i++)n[i]=e;return n}function Ti(t,e){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error("Invalid GeoJSON object for "+e)}function Ci(t){for(var e=t,n=[];e.parent;)n.unshift(e),e=e.parent;return n}function Ii(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var n=0;n<t.length;n++){this.grid[n]=[];for(var i=0,r=t[n];i<r.length;i++){var o=new Pi(n,i,r[i]);this.grid[n][i]=o,this.nodes.push(o)}}this.init()}function Pi(t,e,n){this.x=t,this.y=e,this.weight=n}function Di(t){this.content=[],this.scoreFunction=t}function Oi(t){return t[0]}function Ai(t){return t[1]}function Ri(){this._=null}function Ni(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Fi(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Yi(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function zi(t){for(;t.L;)t=t.L;return t}function ji(t,e,n,i){var r=[null,null],o=Hs.push(r)-1;return r.left=t,r.right=e,n&&Hi(r,t,e,n),i&&Hi(r,e,t,i),js[t.index].halfedges.push(o),js[e.index].halfedges.push(o),r}function Bi(t,e,n){var i=[e,n];return i.left=t,i}function Hi(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function Ui(t,e,n,i,r){var o,a=t[0],s=t[1],u=a[0],l=a[1],c=0,h=1,d=s[0]-u,f=s[1]-l;if(o=e-u,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>c&&(c=o)}if(o=i-u,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<h&&(h=o)}if(o=n-l,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=r-l,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(t[0]=[u+c*d,l+c*f]),h<1&&(t[1]=[u+h*d,l+h*f]),!0)}}}}}function Vi(t,e,n,i,r){var o=t[1];if(o)return!0;var a,s,u=t[0],l=t.left,c=t.right,h=l[0],d=l[1],f=c[0],p=c[1],m=(h+f)/2;if(p===d){if(m<e||m>=i)return;if(h>f){if(u){if(u[1]>=r)return}else u=[m,n];o=[m,r]}else{if(u){if(u[1]<n)return}else u=[m,r];o=[m,n]}}else if(s=(d+p)/2-(a=(h-f)/(p-d))*m,a<-1||a>1)if(h>f){if(u){if(u[1]>=r)return}else u=[(n-s)/a,n];o=[(r-s)/a,r]}else{if(u){if(u[1]<n)return}else u=[(r-s)/a,r];o=[(n-s)/a,n]}else if(d<p){if(u){if(u[0]>=i)return}else u=[e,a*e+s];o=[i,a*i+s]}else{if(u){if(u[0]<e)return}else u=[i,a*i+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function qi(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function Gi(t,e){return e[+(e.left!==t.site)]}function Wi(t,e){return e[+(e.left===t.site)]}function Xi(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var a=r[0],s=r[1],u=i[0]-a,l=i[1]-s,c=o[0]-a,h=o[1]-s,d=2*(u*h-l*c);if(!(d>=-Gs)){var f=u*u+l*l,p=c*c+h*h,m=(h*f-l*p)/d,g=(u*p-c*f)/d,y=Us.pop()||new function(){Ni(this),this.x=this.y=this.arc=this.site=this.cy=null};y.arc=t,y.site=r,y.x=m+a,y.y=(y.cy=g+s)+Math.sqrt(m*m+g*g),t.circle=y;for(var v=null,_=Bs._;_;)if(y.y<_.y||y.y===_.y&&y.x<=_.x){if(!_.L){v=_.P;break}_=_.L}else{if(!_.R){v=_;break}_=_.R}Bs.insert(v,y),v||(Ys=y)}}}}function Ki(t){var e=t.circle;e&&(e.P||(Ys=e.N),Bs.remove(e),Us.push(e),Ni(e),t.circle=null)}function Zi(t){var e=Vs.pop()||new function(){Ni(this),this.edge=this.site=this.circle=null};return e.site=t,e}function Qi(t){Ki(t),zs.remove(t),Vs.push(t),Ni(t)}function Ji(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],o=t.P,a=t.N,s=[t];Qi(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<qs&&Math.abs(i-u.circle.cy)<qs;)o=u.P,s.unshift(u),Qi(u),u=o;s.unshift(u),Ki(u);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<qs&&Math.abs(i-l.circle.cy)<qs;)a=l.N,s.push(l),Qi(l),l=a;s.push(l),Ki(l);var c,h=s.length;for(c=1;c<h;++c)Hi((l=s[c]).edge,(u=s[c-1]).site,l.site,r);(l=s[h-1]).edge=ji((u=s[0]).site,l.site,null,r),Xi(u),Xi(l)}function $i(t){for(var e,n,i,r,o=t[0],a=t[1],s=zs._;s;)if((i=tr(s,a)-o)>qs)s=s.L;else{if(!((r=o-function(t,e){var n=t.N;if(n)return tr(n,e);var i=t.site;return i[1]===e?i[0]:1/0}(s,a))>qs)){i>-qs?(e=s.P,n=s):r>-qs?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){js[t.index]={site:t,halfedges:[]}}(t);var u=Zi(t);if(zs.insert(e,u),e||n){if(e===n)return Ki(e),n=Zi(e.site),zs.insert(u,n),u.edge=n.edge=ji(e.site,u.site),Xi(e),void Xi(n);if(n){Ki(e),Ki(n);var l=e.site,c=l[0],h=l[1],d=t[0]-c,f=t[1]-h,p=n.site,m=p[0]-c,g=p[1]-h,y=2*(d*g-f*m),v=d*d+f*f,_=m*m+g*g,b=[(g*v-f*_)/y+c,(d*_-m*v)/y+h];Hi(n.edge,l,p,b),u.edge=ji(l,t,null,b),n.edge=ji(t,p,null,b),Xi(e),Xi(n)}else u.edge=ji(e.site,u.site)}}function tr(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],l=u-e;if(!l)return s;var c=s-i,h=1/o-1/l,d=c/l;return h?(-d+Math.sqrt(d*d-2*h*(c*c/(-2*l)-u+l/2+r-o/2)))/h+i:(i+s)/2}function er(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function nr(t,e){return e[1]-t[1]||e[0]-t[0]}function ir(t,e){var n,i,r,o=t.sort(nr).pop();for(Hs=[],js=new Array(t.length),zs=new Ri,Bs=new Ri;;)if(r=Ys,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===n&&o[1]===i||($i(o),n=o[0],i=o[1]),o=t.pop();else{if(!r)break;Ji(r.arc)}if(function(){for(var t,e,n,i,r=0,o=js.length;r<o;++r)if((t=js[r])&&(i=(e=t.halfedges).length)){var a=new Array(i),s=new Array(i);for(n=0;n<i;++n)a[n]=n,s[n]=qi(t,Hs[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<i;++n)s[n]=e[a[n]];for(n=0;n<i;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],l=+e[1][1];!function(t,e,n,i){for(var r,o=Hs.length;o--;)Vi(r=Hs[o],t,e,n,i)&&Ui(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>qs||Math.abs(r[0][1]-r[1][1])>qs)||delete Hs[o]}(a,s,u,l),function(t,e,n,i){var r,o,a,s,u,l,c,h,d,f,p,m,g=js.length,y=!0;for(r=0;r<g;++r)if(o=js[r]){for(a=o.site,s=(u=o.halfedges).length;s--;)Hs[u[s]]||u.splice(s,1);for(s=0,l=u.length;s<l;)p=(f=Wi(o,Hs[u[s]]))[0],m=f[1],h=(c=Gi(o,Hs[u[++s%l]]))[0],d=c[1],(Math.abs(p-h)>qs||Math.abs(m-d)>qs)&&(u.splice(s,0,Hs.push(Bi(a,f,Math.abs(p-t)<qs&&i-m>qs?[t,Math.abs(h-t)<qs?d:i]:Math.abs(m-i)<qs&&n-p>qs?[Math.abs(d-i)<qs?h:n,i]:Math.abs(p-n)<qs&&m-e>qs?[n,Math.abs(h-n)<qs?d:e]:Math.abs(m-e)<qs&&p-t>qs?[Math.abs(d-e)<qs?h:t,e]:null))-1),++l);l&&(y=!1)}if(y){var v,_,b,x=1/0;for(r=0,y=null;r<g;++r)(o=js[r])&&(b=(v=(a=o.site)[0]-t)*v+(_=a[1]-e)*_)<x&&(x=b,y=o);if(y){var w=[t,e],k=[t,i],M=[n,i],S=[n,e];y.halfedges.push(Hs.push(Bi(a=y.site,w,k))-1,Hs.push(Bi(a,k,M))-1,Hs.push(Bi(a,M,S))-1,Hs.push(Bi(a,S,w))-1)}}for(r=0;r<g;++r)(o=js[r])&&(o.halfedges.length||delete js[r])}(a,s,u,l)}this.edges=Hs,this.cells=js,zs=Bs=Hs=js=null}function rr(t){return(t=t.slice()).push(t[0]),o([t])}function or(t,e,n,i){var r=(i=i||{}).steps||64,a=i.units||"kilometers",s=i.angle||0,u=i.pivot||t,l=i.properties||t.properties||{};if(!t)throw new Error("center is required");if(!e)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!M(i))throw new Error("options must be an object");if(!k(r))throw new Error("steps must be a number");if(!k(s))throw new Error("angle must be a number");var c=U(t);if("degrees"===a)var h=b(s);else e=Qn(t,e,90,{units:a}),n=Qn(t,n,0,{units:a}),e=U(e)[0]-c[0],n=U(n)[1]-c[1];for(var d=[],f=0;f<r;f+=1){var p=-360*f/r,m=e*n/Math.sqrt(Math.pow(n,2)+Math.pow(e,2)*Math.pow(ar(p),2)),g=e*n/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)/Math.pow(ar(p),2));if(p<-90&&p>=-270&&(m=-m),p<-180&&p>=-360&&(g=-g),"degrees"===a){var y=m*Math.cos(h)+g*Math.sin(h),v=g*Math.cos(h)-m*Math.sin(h);m=y,g=v}d.push([m+c[0],g+c[1]])}return d.push(d[0]),"degrees"===a?o([d],l):si(o([d],l),s,{pivot:u})}function ar(t){var e=t*Math.PI/180;return Math.tan(e)}function sr(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var n=e.properties,r=e.weight;if(!t)throw new Error("geojson is required");var o=0,a=0,s=0;return A(t,function(t,e,n){var i=n[r];if(!k(i=null==i?1:i))throw new Error("weight value must be a number for feature index "+e);(i=Number(i))>0&&L(t,function(t){o+=t[0]*i,a+=t[1]*i,s+=i})}),i([o/s,a/s],n)}function ur(t,e,n,r){var o=n.properties.tolerance||.001,a=0,s=0,u=0,l=0;if(P(n,function(e){var n=e.properties.weight,i=null==n?1:n;if(!k(i=Number(i)))throw new Error("weight value must be a number");if(i>0){l+=1;var r=i*Rt(e,t);0===r&&(r=1);var o=i/r;a+=e.geometry.coordinates[0]*o,s+=e.geometry.coordinates[1]*o,u+=o}}),l<1)throw new Error("no features to measure");var c=a/u,h=s/u;return 1===l||0===r||Math.abs(c-e[0])<o&&Math.abs(h-e[1])<o?i([c,h],{medianCandidates:n.properties.medianCandidates}):(n.properties.medianCandidates.push([c,h]),ur([c,h],t,n,r-1))}function lr(t,e){return{x:t[0]-e[0],y:t[1]-e[1]}}function cr(t){if(M(t)&&(t=t.bbox),t&&!Array.isArray(t))throw new Error("bbox is invalid");return t?function(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}(t):[360*pr(),180*pr()]}function hr(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var n=e.bbox;null!=t||(t=1);for(var r=[],o=0;o<t;o++)r.push(i(cr(n)));return l(r)}function dr(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var n=e.bbox,i=e.num_vertices,r=e.max_radial_length;null!=t||(t=1),k(i)||(i=10),k(r)||(r=10);for(var a=[],s=0;s<t;s++){var u=[],c=Array.apply(null,new Array(i+1)).map(Math.random);c.forEach(function(t,e,n){n[e]=e>0?t+n[e-1]:t}),c.forEach(function(t){t=2*t*Math.PI/c[c.length-1];var e=Math.random();u.push([e*r*Math.sin(t),e*r*Math.cos(t)])}),u[u.length-1]=u[0],u=u.map(function(t){return function(e){return[e[0]+t[0],e[1]+t[1]]}}(cr(n))),a.push(o([u]))}return l(a)}function fr(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var n=e.bbox,i=e.num_vertices,r=e.max_length,o=e.max_rotation;null!=t||(t=1),(!k(i)||i<2)&&(i=10),k(r)||(r=1e-4),k(o)||(o=Math.PI/8);for(var a=[],u=0;u<t;u++){for(var c=[cr(n)],h=0;h<i-1;h++){var d=(0===h?2*Math.random()*Math.PI:Math.tan((c[h][1]-c[h-1][1])/(c[h][0]-c[h-1][0])))+(Math.random()-.5)*o*2,f=Math.random()*r;c.push([c[h][0]+f*Math.cos(d),c[h][1]+f*Math.sin(d)])}a.push(s(c))}return l(a)}function pr(){return Math.random()-.5}function mr(t,e){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("filter is required");var n=[];return P(t,function(t){_r(t.properties,e)&&n.push(t)}),l(n)}function gr(t,e,n){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("property is required");for(var i=vr(t,e),r=Object.keys(i),o=0;o<r.length;o++){for(var a=r[o],s=i[a],u=[],c=0;c<s.length;c++)u.push(t.features[s[c]]);n(l(u),a,o)}}function yr(t,e,n,i){var r=i;return gr(t,e,function(t,e,o){r=0===o&&void 0===i?t:n(r,t,e,o)}),r}function vr(t,e){var n={};return P(t,function(t,i){var r=t.properties||{};if(r.hasOwnProperty(e)){var o=r[e];n.hasOwnProperty(o)?n[o].push(i):n[o]=[i]}}),n}function _r(t,e){if(void 0===t)return!1;var n=typeof e;if("number"===n||"string"===n)return t.hasOwnProperty(e);if(Array.isArray(e)){for(var i=0;i<e.length;i++)if(!_r(t,e[i]))return!1;return!0}return br(t,e)}function br(t,e){for(var n=Object.keys(e),i=0;i<n.length;i++){var r=n[i];if(t[r]!==e[r])return!1}return!0}function xr(t,e){if(!e)return{};if(!e.length)return{};for(var n={},i=0;i<e.length;i++){var r=e[i];t.hasOwnProperty(r)&&(n[r]=t[r])}return n}function wr(){}function kr(t){this.message=t||""}function Mr(t){this.message=t||""}function Sr(){}function Er(t){return null===t?fl:t.color}function Lr(t){return null===t?null:t.parent}function Tr(t,e){null!==t&&(t.color=e)}function Cr(t){return null===t?null:t.left}function Ir(t){return null===t?null:t.right}function Pr(){this.root_=null,this.size_=0}function Dr(){}function Or(){this.array_=[],arguments[0]instanceof Ju&&this.addAll(arguments[0])}function Ar(){}function Rr(t){this.message=t||""}function Nr(){this.array_=[]}function Fr(t){switch(t.type){case"Polygon":return fn(t)>1?t:null;case"MultiPolygon":var e=[];if(N(t,function(t){fn(t)>1&&e.push(t.geometry.coordinates)}),e.length)return{type:"MultiPolygon",coordinates:e}}}function Yr(){this.reset()}function zr(t,e,n){var i=t.s=e+n,r=i-e;t.t=e-(i-r)+(n-r)}function jr(t){return t>1?_f:t<-1?-_f:Math.asin(t)}function Br(){}function Hr(t,e){t&&Af.hasOwnProperty(t.type)&&Af[t.type](t,e)}function Ur(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)e.point((i=t[r])[0],i[1],i[2]);e.lineEnd()}function Vr(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)Ur(t[n],e,1);e.polygonEnd()}function qr(t){return[Ef(t[1],t[0]),jr(t[2])]}function Gr(t){var e=t[0],n=t[1],i=Lf(n);return[i*Lf(e),i*If(e),If(n)]}function Wr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Xr(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Kr(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Zr(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Qr(t){var e=Pf(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Jr(t,e){return[t>vf?t-xf:t<-vf?t+xf:t,e]}function $r(t,e,n){return(t%=xf)?e||n?Nf(eo(t),no(e,n)):eo(t):e||n?no(e,n):Jr}function to(t){return function(e,n){return[(e+=t)>vf?e-xf:e<-vf?e+xf:e,n]}}function eo(t){var e=to(t);return e.invert=to(-t),e}function no(t,e){function n(t,e){var n=Lf(e),s=Lf(t)*n,u=If(t)*n,l=If(e),c=l*i+s*r;return[Ef(u*o-c*a,s*i-l*r),jr(c*o+u*a)]}var i=Lf(t),r=If(t),o=Lf(e),a=If(e);return n.invert=function(t,e){var n=Lf(e),s=Lf(t)*n,u=If(t)*n,l=If(e),c=l*o-u*a;return[Ef(u*o+l*a,s*i+c*r),jr(c*i-s*r)]},n}function io(t,e){(e=Gr(e))[0]-=t,Qr(e);var n=function(t){return t>1?0:t<-1?vf:Math.acos(t)}(-e[1]);return((-e[2]<0?-n:n)+xf-yf)%xf}function ro(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function oo(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function ao(t,e,n,i){function r(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function o(r,o,s,l){var c=0,h=0;if(null==r||(c=a(r,s))!==(h=a(o,s))||u(r,o)<0^s>0)do{l.point(0===c||3===c?t:n,c>1?i:e)}while((c=(c+s+4)%4)!==h);else l.point(o[0],o[1])}function a(i,r){return Mf(i[0]-t)<yf?r>0?0:3:Mf(i[0]-n)<yf?r>0?2:1:Mf(i[1]-e)<yf?r>0?1:0:r>0?3:2}function s(t,e){return u(t.x,e.x)}function u(t,e){var n=a(t,1),i=a(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){function u(t,e){r(t,e)&&x.point(t,e)}function l(o,a){var s=r(o,a);if(h&&d.push([o,a]),_)f=o,p=a,m=s,_=!1,s&&(x.lineStart(),x.point(o,a));else if(s&&v)x.point(o,a);else{var u=[g=Math.max(Vf,Math.min(Uf,g)),y=Math.max(Vf,Math.min(Uf,y))],l=[o=Math.max(Vf,Math.min(Uf,o)),a=Math.max(Vf,Math.min(Uf,a))];Yf(u,l,t,e,n,i)?(v||(x.lineStart(),x.point(u[0],u[1])),x.point(l[0],l[1]),s||x.lineEnd(),b=!1):s&&(x.lineStart(),x.point(o,a),b=!1)}g=o,y=a,v=s}var c,h,d,f,p,m,g,y,v,_,b,x=a,w=Ff(),k={point:u,lineStart:function(){k.point=l,h&&h.push(d=[]),_=!0,v=!1,g=y=NaN},lineEnd:function(){c&&(l(f,p),m&&v&&w.rejoin(),c.push(w.result())),k.point=u,v&&x.lineEnd()},polygonStart:function(){x=w,c=[],h=[],b=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,r=h.length;n<r;++n)for(var o,a,s=h[n],u=1,l=s.length,c=s[0],d=c[0],f=c[1];u<l;++u)o=d,a=f,d=(c=s[u])[0],f=c[1],a<=i?f>i&&(d-o)*(i-a)>(f-a)*(t-o)&&++e:f<=i&&(d-o)*(i-a)<(f-a)*(t-o)&&--e;return e}(),n=b&&e,r=(c=Hf(c)).length;(n||r)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),r&&jf(c,s,e,o,a),a.polygonEnd()),x=a,c=h=d=null}};return k}}function so(t){return t.length>1}function uo(t,e){return((t=t.x)[0]<0?t[1]-_f-yf:_f-t[1])-((e=e.x)[0]<0?e[1]-_f-yf:_f-e[1])}function lo(t){return function(e){var n=new co;for(var i in t)n[i]=t[i];return n.stream=e,n}}function co(){}function ho(t,e,n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),Rf(n,t.stream(Qf));var a=Qf.result(),s=Math.min(i/(a[1][0]-a[0][0]),r/(a[1][1]-a[0][1])),u=+e[0][0]+(i-s*(a[1][0]+a[0][0]))/2,l=+e[0][1]+(r-s*(a[1][1]+a[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*s).translate([u,l])}function fo(t,e){return[t,Cf(Df((_f+e)/2))]}function po(t,e){return[Cf(Df((_f+e)/2)),-t]}function mo(t,n,i,r){var o=t.properties||{},a="Feature"===t.type?t.geometry:t;if("GeometryCollection"===a.type){var s=[];return A(t,function(t){var e=mo(t,n,i,r);e&&s.push(e)}),l(s)}var u,c=H(t),h=c[1]>50&&c[3]>50;u=h?{type:a.type,coordinates:yo(a.coordinates,_o(a))}:rn(a);var d,f=(new nc).read(u),p=m(g(n,i),"meters"),y=Wh.bufferOp(f,p);if(!go((y=(new ic).write(y)).coordinates))return(d=h?{type:y.type,coordinates:vo(y.coordinates,_o(a))}:on(y)).geometry?d:e(d,o)}function go(t){return Array.isArray(t[0])?go(t[0]):isNaN(t[0])}function yo(t,e){return"object"!=typeof t[0]?e(t):t.map(function(t){return yo(t,e)})}function vo(t,e){return"object"!=typeof t[0]?e.invert(t):t.map(function(t){return vo(t,e)})}function _o(t){var e=he(t).geometry.coordinates.reverse(),n=e.map(function(t){return-t});return rp().center(e).rotate(n).scale(To)}function bo(){for(var t=new nc,e=t.read(JSON.stringify(arguments[0].geometry)),n=1;n<arguments.length;n++)e=pf.union(e,t.read(JSON.stringify(arguments[n].geometry)));return{type:"Feature",geometry:e=(new ic).write(e),properties:arguments[0].properties}}function xo(t,n){var i=K(t),r=K(n);if(Zt(Sn(r,{precision:4})).coordinates[0].length<4)return null;if(Zt(Sn(i,{precision:4})).coordinates[0].length<4)return null;var o=new nc,a=o.read(Sn(i)),s=o.read(Sn(r)),u=of.intersection(a,s);return u.isEmpty()?null:e((new ic).write(u))}function wo(t,e){return function(t,e,n){var i,r;if(!Array.isArray(e))throw new Error("Get closest expects an array as second argument");return e.forEach(function(e,n){var o=function(t,e){return t-e}(e,t);o>=0&&(void 0===r||o<r)&&(r=o,i=n)}),i}(t,e)}function ko(t,e,n){if(!M(n=n||{}))throw new Error("options is invalid");var i=n.properties||{},r=n.triangles,a=n.mask;if(null==e)throw new Error("cellSide is required");if(!k(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(a&&-1===["Polygon","MultiPolygon"].indexOf(Q(a)))throw new Error("options.mask must be a (Multi)Polygon");var s=t[0],u=t[1],c=t[2],h=t[3],d=(u+h)/2,f=(s+c)/2,p=2*e/Rt([s,d],[c,d],n)*(c-s),m=2*e/Rt([f,u],[f,h],n)*(h-u),g=p/2,y=2*g,v=Math.sqrt(3)/2*m,_=c-s,b=h-u,x=.75*y,w=v,S=Math.floor((_-y)/(y-g/2)),E=(S*x-g/2-_)/2-g/2+x/2,L=Math.floor((b-v)/v),T=(b-L*v)/2,C=L*v-b>v/2;C&&(T-=v/4);for(var I=[],P=[],D=0;D<6;D++){var O=2*Math.PI/6*D;I.push(Math.cos(O)),P.push(Math.sin(O))}for(var A=[],R=0;R<=S;R++)for(var N=0;N<=L;N++){var F=R%2==1;if(!(0===N&&F||0===N&&C)){var Y=R*x+s-E,z=N*w+u+T;if(F&&(z-=v/2),!0===r)(function(t,e,n,i,r,a){for(var s=[],u=0;u<6;u++){var l=[];l.push(t),l.push([t[0]+e*r[u],t[1]+n*a[u]]),l.push([t[0]+e*r[(u+1)%6],t[1]+n*a[(u+1)%6]]),l.push(t),s.push(o([l],i))}return s})([Y,z],p/2,m/2,i,I,P).forEach(function(t){a?xo(a,t)&&A.push(t):A.push(t)});else{var j=function(t,e,n,i,r,a){for(var s=[],u=0;u<6;u++)s.push([t[0]+e*r[u],t[1]+n*a[u]]);return s.push(s[0].slice()),o([s],i)}([Y,z],p/2,m/2,i,I,P);a?xo(a,j)&&A.push(j):A.push(j)}}}return l(A)}function Mo(t){if(t.features.length<=1)return t;var e=function(t){var e=Yo(),n=[];return N(t,function(t,e){var i=H(t);n.push({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3],geojson:t,index:e})}),e.load(n),e}(t),n=[],i={};return N(t,function(t,r){if(i[r])return!0;for(e.remove({index:r},So),i[r]=!0;;){var o=H(t),a=e.search({minX:o[0],minY:o[1],maxX:o[2],maxY:o[3]});if(a.length>0){var s=a.map(function(t){return i[t.index]=!0,e.remove({index:t.index},So),t.geojson});s.push(t),t=bo.apply(this,s)}if(0===a.length)break}n.push(t)}),l(n)}function So(t,e){return t.index===e.index}function Eo(t,e,n){if(!M(n=n||{}))throw new Error("options is invalid");var i=n.properties,r=n.mask,a=[];if(null==e)throw new Error("cellSide is required");if(!k(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(r&&-1===["Polygon","MultiPolygon"].indexOf(Q(r)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=t[0],u=t[1],c=t[2],h=t[3],d=e/Rt([s,u],[c,u],n)*(c-s),f=e/Rt([s,u],[s,h],n)*(h-u),p=c-s,m=h-u,g=Math.floor(p/d),y=Math.floor(m/f),v=(m-y*f)/2,_=s+(p-g*d)/2,b=0;b<g;b++){for(var x=u+v,w=0;w<y;w++){var S=o([[[_,x],[_,x+f],[_+d,x+f],[_+d,x],[_,x]]],i);r?xo(r,S)&&a.push(S):a.push(S),x+=f}_+=d}return l(a)}function Lo(t,e,n){if(!M(n=n||{}))throw new Error("options is invalid");var i=n.properties,r=n.mask,a=[];if(null==e)throw new Error("cellSide is required");if(!k(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(r&&-1===["Polygon","MultiPolygon"].indexOf(Q(r)))throw new Error("options.mask must be a (Multi)Polygon");for(var s=e/Rt([t[0],t[1]],[t[2],t[1]],n)*(t[2]-t[0]),u=e/Rt([t[0],t[1]],[t[0],t[3]],n)*(t[3]-t[1]),c=0,h=t[0];h<=t[2];){for(var d=0,f=t[1];f<=t[3];){var p=null,m=null;c%2==0&&d%2==0?(p=o([[[h,f],[h,f+u],[h+s,f],[h,f]]],i),m=o([[[h,f+u],[h+s,f+u],[h+s,f],[h,f+u]]],i)):c%2==0&&d%2==1?(p=o([[[h,f],[h+s,f+u],[h+s,f],[h,f]]],i),m=o([[[h,f],[h,f+u],[h+s,f+u],[h,f]]],i)):d%2==0&&c%2==1?(p=o([[[h,f],[h,f+u],[h+s,f+u],[h,f]]],i),m=o([[[h,f],[h+s,f+u],[h+s,f],[h,f]]],i)):d%2==1&&c%2==1&&(p=o([[[h,f],[h,f+u],[h+s,f],[h,f]]],i),m=o([[[h,f+u],[h+s,f+u],[h+s,f],[h,f+u]]],i)),r?(xo(r,p)&&a.push(p),xo(r,m)&&a.push(m)):(a.push(p),a.push(m)),f+=u,d++}c++,h+=s}return l(a)}var To=6371008.8,Co={meters:To,metres:To,millimeters:1e3*To,millimetres:1e3*To,centimeters:100*To,centimetres:100*To,kilometers:To/1e3,kilometres:To/1e3,miles:To/1609.344,nauticalmiles:To/1852,inches:39.37*To,yards:To/1.0936,feet:3.28084*To,radians:1,degrees:To/111325},Io={meters:1,metres:1,millimeters:1e3,millimetres:1e3,centimeters:100,centimetres:100,kilometers:.001,kilometres:.001,miles:1/1609.344,nauticalmiles:1/1852,inches:39.37,yards:1/1.0936,feet:3.28084,radians:1/To,degrees:1/111325},Po={meters:1,metres:1,millimeters:1e6,millimetres:1e6,centimeters:1e4,centimetres:1e4,kilometers:1e-6,kilometres:1e-6,acres:247105e-9,miles:386e-9,yards:1.195990046,feet:10.763910417,inches:1550.003100006},Do=Object.freeze({earthRadius:To,factors:Co,unitsFactors:Io,areaFactors:Po,feature:e,geometry:n,point:i,points:r,polygon:o,polygons:a,lineString:s,lineStrings:u,featureCollection:l,multiLineString:c,multiPoint:h,multiPolygon:d,geometryCollection:f,round:p,radiansToLength:m,lengthToRadians:g,lengthToDegrees:y,bearingToAzimuth:v,radiansToDegrees:_,degreesToRadians:b,convertLength:x,convertArea:w,isNumber:k,isObject:M,validateBBox:S,validateId:E,radians2degrees:function(){throw new Error("method has been renamed to `radiansToDegrees`")},degrees2radians:function(){throw new Error("method has been renamed to `degreesToRadians`")},distanceToDegrees:function(){throw new Error("method has been renamed to `lengthToDegrees`")},distanceToRadians:function(){throw new Error("method has been renamed to `lengthToRadians`")},radiansToDistance:function(){throw new Error("method has been renamed to `radiansToLength`")},bearingToAngle:function(){throw new Error("method has been renamed to `bearingToAzimuth`")},convertDistance:function(){throw new Error("method has been renamed to `convertLength`")}}),Oo=Object.freeze({coordEach:L,coordReduce:T,propEach:C,propReduce:I,featureEach:P,featureReduce:D,coordAll:O,geomEach:A,geomReduce:R,flattenEach:N,flattenReduce:F,segmentEach:Y,segmentReduce:z,lineEach:j,lineReduce:B}),Ao=Object.freeze({getCoord:U,getCoords:V,containsNumber:q,geojsonType:G,featureOf:W,collectionOf:X,getGeom:K,getGeomType:Z,getType:Q}),Ro={successCallback:null,verbose:!1},No={},Fo=function t(e,n,i,r,o){for(i=i||0,r=r||e.length-1,o=o||function(t,e){return t<e?-1:t>e?1:0};r>i;){if(r-i>600){var a=r-i+1,s=n-i+1,u=Math.log(a),l=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*l*(a-l)/a)*(s-a/2<0?-1:1);t(e,n,Math.max(i,Math.floor(n-s*l/a+c)),Math.min(r,Math.floor(n+(a-s)*l/a+c)),o)}var h=e[n],d=i,f=r;for(it(e,i,n),o(e[r],h)>0&&it(e,i,r);d<f;){for(it(e,d,f),d++,f--;o(e[d],h)<0;)d++;for(;o(e[f],h)>0;)f--}0===o(e[i],h)?it(e,i,f):it(e,++f,r),f<=n&&(i=f+1),n<=f&&(r=f-1)}},Yo=rt;rt.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!ft(t,e))return n;for(var r,o,a,s,u=[];e;){for(r=0,o=e.children.length;r<o;r++)a=e.children[r],ft(t,s=e.leaf?i(a):a)&&(e.leaf?n.push(a):dt(t,s)?this._all(a,n):u.push(a));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!ft(t,e))return!1;for(var i,r,o,a,s=[];e;){for(i=0,r=e.children.length;i<r;i++)if(o=e.children[i],ft(t,a=e.leaf?n(o):o)){if(e.leaf||dt(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=pt([]),this},remove:function(t,e){if(!t)return this;for(var n,i,r,o,a=this.data,s=this.toBBox(t),u=[],l=[];a||u.length;){if(a||(a=u.pop(),i=u[u.length-1],n=l.pop(),o=!0),a.leaf&&-1!==(r=function(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}(t,a.children,e)))return a.children.splice(r,1),u.push(a),this._condense(u),this;o||a.leaf||!dt(a,s)?i?(n++,a=i.children[n],o=!1):a=null:(u.push(a),l.push(n),n=0,i=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:ut,compareMinY:lt,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,o=n-e+1,a=this._maxEntries;if(o<=a)return ot(r=pt(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,i-1))),(r=pt([])).leaf=!1,r.height=i;var s,u,l,c,h=Math.ceil(o/a),d=h*Math.ceil(Math.sqrt(a));for(mt(t,e,n,d,this.compareMinX),s=e;s<=n;s+=d)for(mt(t,s,l=Math.min(s+d-1,n),h,this.compareMinY),u=s;u<=l;u+=h)c=Math.min(u+h-1,l),r.children.push(this._build(t,u,c,i-1));return ot(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,o,a,s,u,l,c,h;i.push(e),!e.leaf&&i.length-1!==n;){for(c=h=1/0,r=0,o=e.children.length;r<o;r++)u=ct(a=e.children[r]),(l=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,a)-u)<h?(h=l,c=u<c?u:c,s=a):l===h&&u<c&&(c=u,s=a);e=s||e.children[0]}return e},_insert:function(t,e,n){var i=n?t:(0,this.toBBox)(t),r=[],o=this._chooseSubtree(i,this.data,e,r);for(o.children.push(t),st(o,i);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(i,r,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),a=pt(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,ot(n,this.toBBox),ot(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=pt([t,e]),this.data.height=t.height+1,this.data.leaf=!1,ot(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,o,a,s,u,l,c;for(u=l=1/0,i=e;i<=n-e;i++)a=function(t,e){var n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,o-i)}(r=at(t,0,i,this.toBBox),o=at(t,i,n,this.toBBox)),s=ct(r)+ct(o),a<u?(u=a,c=i,l=s<l?s:l):a===u&&s<l&&(l=s,c=i);return c},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:ut,r=t.leaf?this.compareMinY:lt;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,o,a=this.toBBox,s=at(t,0,e,a),u=at(t,n-e,n,a),l=ht(s)+ht(u);for(r=e;r<n-e;r++)o=t.children[r],st(s,t.leaf?a(o):o),l+=ht(s);for(r=n-e-1;r>=e;r--)o=t.children[r],st(u,t.leaf?a(o):o),l+=ht(u);return l},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)st(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():ot(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var zo=function(t,e,n){var i=t*e,r=jo*t,o=r-(r-t),a=t-o,s=jo*e,u=s-(s-e),l=e-u,c=a*l-(i-o*u-a*u-o*l);return n?(n[0]=c,n[1]=i,n):[c,i]},jo=+(Math.pow(2,27)+1),Bo=function(t,e){var n=0|t.length,i=0|e.length;if(1===n&&1===i)return function(t,e){var n=t+e,i=n-t,r=t-(n-i)+(e-i);return r?[r,n]:[n]}(t[0],e[0]);var r,o,a=new Array(n+i),s=0,u=0,l=0,c=Math.abs,h=t[u],d=c(h),f=e[l],p=c(f);d<p?(o=h,(u+=1)<n&&(d=c(h=t[u]))):(o=f,(l+=1)<i&&(p=c(f=e[l]))),u<n&&d<p||l>=i?(r=h,(u+=1)<n&&(d=c(h=t[u]))):(r=f,(l+=1)<i&&(p=c(f=e[l])));for(var m,g,y=r+o,v=y-r,_=o-v,b=_,x=y;u<n&&l<i;)d<p?(r=h,(u+=1)<n&&(d=c(h=t[u]))):(r=f,(l+=1)<i&&(p=c(f=e[l]))),(_=(o=b)-(v=(y=r+o)-r))&&(a[s++]=_),b=x-((m=x+y)-(g=m-x))+(y-g),x=m;for(;u<n;)(_=(o=b)-(v=(y=(r=h)+o)-r))&&(a[s++]=_),b=x-((m=x+y)-(g=m-x))+(y-g),x=m,(u+=1)<n&&(h=t[u]);for(;l<i;)(_=(o=b)-(v=(y=(r=f)+o)-r))&&(a[s++]=_),b=x-((m=x+y)-(g=m-x))+(y-g),x=m,(l+=1)<i&&(f=e[l]);return b&&(a[s++]=b),x&&(a[s++]=x),s||(a[s++]=0),a.length=s,a},Ho=function(t,e,n){var i=t+e,r=i-t,o=e-r,a=t-(i-r);return n?(n[0]=a+o,n[1]=i,n):[a+o,i]},Uo=function(t,e){var n=t.length;if(1===n){var i=zo(t[0],e);return i[0]?i:[i[1]]}var r=new Array(2*n),o=[.1,.1],a=[.1,.1],s=0;zo(t[0],e,o),o[0]&&(r[s++]=o[0]);for(var u=1;u<n;++u){zo(t[u],e,a),Ho(o[1],a[0],o),o[0]&&(r[s++]=o[0]);var l=a[1],c=o[1],h=l+c,d=c-(h-l);o[1]=h,d&&(r[s++]=d)}return o[1]&&(r[s++]=o[1]),0===s&&(r[s++]=0),r.length=s,r},Vo=function(t,e){var n=0|t.length,i=0|e.length;if(1===n&&1===i)return function(t,e){var n=t+e,i=n-t,r=t-(n-i)+(e-i);return r?[r,n]:[n]}(t[0],-e[0]);var r,o,a=new Array(n+i),s=0,u=0,l=0,c=Math.abs,h=t[u],d=c(h),f=-e[l],p=c(f);d<p?(o=h,(u+=1)<n&&(d=c(h=t[u]))):(o=f,(l+=1)<i&&(p=c(f=-e[l]))),u<n&&d<p||l>=i?(r=h,(u+=1)<n&&(d=c(h=t[u]))):(r=f,(l+=1)<i&&(p=c(f=-e[l])));for(var m,g,y=r+o,v=y-r,_=o-v,b=_,x=y;u<n&&l<i;)d<p?(r=h,(u+=1)<n&&(d=c(h=t[u]))):(r=f,(l+=1)<i&&(p=c(f=-e[l]))),(_=(o=b)-(v=(y=r+o)-r))&&(a[s++]=_),b=x-((m=x+y)-(g=m-x))+(y-g),x=m;for(;u<n;)(_=(o=b)-(v=(y=(r=h)+o)-r))&&(a[s++]=_),b=x-((m=x+y)-(g=m-x))+(y-g),x=m,(u+=1)<n&&(h=t[u]);for(;l<i;)(_=(o=b)-(v=(y=(r=f)+o)-r))&&(a[s++]=_),b=x-((m=x+y)-(g=m-x))+(y-g),x=m,(l+=1)<i&&(f=-e[l]);return b&&(a[s++]=b),x&&(a[s++]=x),s||(a[s++]=0),a.length=s,a},qo=gt(function(t){function e(t,e){for(var n=new Array(t.length-1),i=1;i<t.length;++i)for(var r=n[i-1]=new Array(t.length-1),o=0,a=0;o<t.length;++o)o!==e&&(r[a++]=t[i][o]);return n}function n(t){return 1&t?"-":""}function i(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",i(t.slice(0,e)),",",i(t.slice(e)),")"].join("")}function r(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var o=[],a=0;a<t.length;++a)o.push(["scale(",i(r(e(t,a))),",",n(a),t[0][a],")"].join(""));return o}function o(t){for(var n=[],o=[],a=function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var i=0;i<t;++i)e[n][i]=["m",i,"[",t-n-1,"]"].join("")}return e}(t),s=[],u=0;u<t;++u)0==(1&u)?n.push.apply(n,r(e(a,u))):o.push.apply(o,r(e(a,u))),s.push("m"+u);var l=i(n),c=i(o),h="orientation"+t+"Exact",d=["function ",h,"(",s.join(),"){var p=",l,",n=",c,",d=sub(p,n);return d[d.length-1];};return ",h].join("");return new Function("sum","prod","scale","sub",d)(Bo,zo,Uo,Vo)}var a=o(3),s=o(4),u=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var i,r=(t[1]-n[1])*(e[0]-n[0]),o=(t[0]-n[0])*(e[1]-n[1]),s=r-o;if(r>0){if(o<=0)return s;i=r+o}else{if(!(r<0))return s;if(o>=0)return s;i=-(r+o)}var u=33306690738754716e-32*i;return s>=u||s<=-u?s:a(t,e,n)},function(t,e,n,i){var r=t[0]-i[0],o=e[0]-i[0],a=n[0]-i[0],u=t[1]-i[1],l=e[1]-i[1],c=n[1]-i[1],h=t[2]-i[2],d=e[2]-i[2],f=n[2]-i[2],p=o*c,m=a*l,g=a*u,y=r*c,v=r*l,_=o*u,b=h*(p-m)+d*(g-y)+f*(v-_),x=7771561172376103e-31*((Math.abs(p)+Math.abs(m))*Math.abs(h)+(Math.abs(g)+Math.abs(y))*Math.abs(d)+(Math.abs(v)+Math.abs(_))*Math.abs(f));return b>x||-b>x?b:s(t,e,n,i)}];!function(){for(;u.length<=5;)u.push(o(u.length));for(var e=[],n=["slow"],i=0;i<=5;++i)e.push("a"+i),n.push("o"+i);var r=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(i=2;i<=5;++i)r.push("case ",i,":return o",i,"(",e.slice(0,i).join(),");");r.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(r.join(""));var a=Function.apply(void 0,n);for(t.exports=a.apply(void 0,[function(t){var e=u[t.length];return e||(e=u[t.length]=o(t.length)),e.apply(void 0,t)}].concat(u)),i=0;i<=5;++i)t.exports[i]=u[i]}()}),Go=function(t){var e=t.length;if(e<3){for(var n=new Array(e),i=0;i<e;++i)n[i]=i;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}var r=new Array(e);for(i=0;i<e;++i)r[i]=i;r.sort(function(e,n){return t[e][0]-t[n][0]||t[e][1]-t[n][1]});var o=[r[0],r[1]],a=[r[0],r[1]];for(i=2;i<e;++i){for(var s=r[i],u=t[s],l=o.length;l>1&&Wo(t[o[l-2]],t[o[l-1]],u)<=0;)l-=1,o.pop();for(o.push(s),l=a.length;l>1&&Wo(t[a[l-2]],t[a[l-1]],u)>=0;)l-=1,a.pop();a.push(s)}n=new Array(a.length+o.length-2);for(var c=0,h=(i=0,o.length);i<h;++i)n[c++]=o[i];for(var d=a.length-2;d>0;--d)n[c++]=a[d];return n},Wo=qo[3],Xo=yt,Ko=yt;yt.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,i=e[t];t>0;){var r=t-1>>1,o=e[r];if(n(i,o)>=0)break;e[t]=o,t=r}e[t]=i},_down:function(t){for(var e=this.data,n=this.compare,i=this.length>>1,r=e[t];t<i;){var o=1+(t<<1),a=o+1,s=e[o];if(a<this.length&&n(e[a],s)<0&&(o=a,s=e[a]),n(s,r)>=0)break;e[t]=s,t=o}e[t]=r}},Xo.default=Ko;var Zo=function(t,e){for(var n=t[0],i=t[1],r=!1,o=0,a=e.length-1;o<e.length;a=o++){var s=e[o][0],u=e[o][1],l=e[a][1];u>i!=l>i&&n<(e[a][0]-s)*(i-u)/(l-u)+s&&(r=!r)}return r},Qo=qo[3],Jo=vt;Jo.default=vt;var $o=function(t){return t},ta=function(t){if(null==t)return $o;var e,n,i=t.scale[0],r=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,s){s||(e=n=0);var u=2,l=t.length,c=new Array(l);for(c[0]=(e+=t[0])*i+o,c[1]=(n+=t[1])*r+a;u<l;)c[u]=t[u],++u;return c}},ea=function(t,e){for(var n,i=t.length,r=i-e;r<--i;)n=t[r],t[r++]=t[i],t[i]=n},na=function(t,e){function n(t,e){for(var n in t){var r=t[n];delete e[r.start],delete r.start,delete r.end,r.forEach(function(t){i[t<0?~t:t]=1}),a.push(r)}}var i={},r={},o={},a=[],s=-1;return e.forEach(function(n,i){var r,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(r=e[++s],e[s]=n,e[i]=r)}),e.forEach(function(e){var n,i,a=function(e){var n,i=t.arcs[e<0?~e:e],r=i[0];return t.transform?(n=[0,0],i.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=i[i.length-1],e<0?[n,r]:[r,n]}(e),s=a[0],u=a[1];if(n=o[s])if(delete o[n.end],n.push(e),n.end=u,i=r[u]){delete r[i.start];var l=i===n?n:n.concat(i);r[l.start=n.start]=o[l.end=i.end]=l}else r[n.start]=o[n.end]=n;else if(n=r[u])if(delete r[n.start],n.unshift(e),n.start=s,i=o[s]){delete o[i.end];var c=i===n?n:i.concat(n);r[c.start=i.start]=o[c.end=n.end]=c}else r[n.start]=o[n.end]=n;else r[(n=[e]).start=s]=o[n.end=u]=n}),n(o,r),n(r,o),e.forEach(function(t){i[t<0?~t:t]||a.push([t])}),a},ia=function(t,e,n,i,r,o){3===arguments.length&&(i=o=Array,r=null);for(var a=new i(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=new o(t),u=t-1,l=0;l<t;++l)a[l]=r;return{set:function(i,o){for(var l=e(i)&u,c=a[l],h=0;c!=r;){if(n(c,i))return s[l]=o;if(++h>=t)throw new Error("full hashmap");c=a[l=l+1&u]}return a[l]=i,s[l]=o,o},maybeSet:function(i,o){for(var l=e(i)&u,c=a[l],h=0;c!=r;){if(n(c,i))return s[l];if(++h>=t)throw new Error("full hashmap");c=a[l=l+1&u]}return a[l]=i,s[l]=o,o},get:function(i,o){for(var l=e(i)&u,c=a[l],h=0;c!=r;){if(n(c,i))return s[l];if(++h>=t)break;c=a[l=l+1&u]}return o},keys:function(){for(var t=[],e=0,n=a.length;e<n;++e){var i=a[e];i!=r&&t.push(i)}return t}}},ra=function(t,e){return t[0]===e[0]&&t[1]===e[1]},oa=new ArrayBuffer(16),aa=new Float64Array(oa),sa=new Uint32Array(oa),ua=function(t){aa[0]=t[0],aa[1]=t[1];var e=sa[0]^sa[1];return 2147483647&(e<<5^e>>7^sa[2]^sa[3])},la=function(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var n=this.points[e],i=this.points[e+1];this.centers.push({x:(n.x+i.x)/2,y:(n.y+i.y)/2,z:(n.z+i.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),e=0;e<this.centers.length-1;e++){n=this.centers[e],i=this.centers[e+1];var r=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,a=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+r),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+a)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+r),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+a)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};la.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var i=0;i<this.duration;i+=10){var r=this.pos(i);Math.sqrt((r.x-n.x)*(r.x-n.x)+(r.y-n.y)*(r.y-n.y)+(r.z-n.z)*(r.z-n.z))>t&&(e.push(i),n=r)}return e},la.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},la.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var i=Math.floor((this.points.length-1)*n);return function(t,e,n,i,r){var o=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:r.x*o[0]+i.x*o[1]+n.x*o[2]+e.x*o[3],y:r.y*o[0]+i.y*o[1]+n.y*o[2]+e.y*o[3],z:r.z*o[0]+i.z*o[1]+n.z*o[2]+e.z*o[3]}}((this.length-1)*n-i,this.points[i],this.controls[i][1],this.controls[i+1][0],this.points[i+1])};var ca=pe,ha=pe;pe.deviation=function(t,e,n,i){var r=e&&e.length,o=Math.abs(Ce(t,0,r?e[0]*n:t.length,n));if(r)for(var a=0,s=e.length;a<s;a++)o-=Math.abs(Ce(t,e[a]*n,a<s-1?e[a+1]*n:t.length,n));var u=0;for(a=0;a<i.length;a+=3){var l=i[a]*n,c=i[a+1]*n,h=i[a+2]*n;u+=Math.abs((t[l]-t[h])*(t[c+1]-t[l+1])-(t[l]-t[c])*(t[h+1]-t[l+1]))}return 0===o&&0===u?0:Math.abs((u-o)/o)},pe.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[r][o][a]);r>0&&n.holes.push(i+=t[r-1].length)}return n},ca.default=ha,Re.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!Ve(t,e))return n;for(var r,o,a,s,u=[];e;){for(r=0,o=e.children.length;r<o;r++)a=e.children[r],Ve(t,s=e.leaf?i(a):a)&&(e.leaf?n.push(a):Ue(t,s)?this._all(a,n):u.push(a));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!Ve(t,e))return!1;for(var i,r,o,a,s=[];e;){for(i=0,r=e.children.length;i<r;i++)if(o=e.children[i],Ve(t,a=e.leaf?n(o):o)){if(e.leaf||Ue(t,a))return!0;s.push(o)}e=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=qe([]),this},remove:function(t,e){if(!t)return this;for(var n,i,r,o,a=this.data,s=this.toBBox(t),u=[],l=[];a||u.length;){if(a||(a=u.pop(),i=u[u.length-1],n=l.pop(),o=!0),a.leaf&&-1!==(r=function(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}(t,a.children,e)))return a.children.splice(r,1),u.push(a),this._condense(u),this;o||a.leaf||!Ue(a,s)?i?(n++,a=i.children[n],o=!1):a=null:(u.push(a),l.push(n),n=0,i=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:ze,compareMinY:je,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,o=n-e+1,a=this._maxEntries;if(o<=a)return Ne(r=qe(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,i-1))),(r=qe([])).leaf=!1,r.height=i;var s,u,l,c,h=Math.ceil(o/a),d=h*Math.ceil(Math.sqrt(a));for(Ge(t,e,n,d,this.compareMinX),s=e;s<=n;s+=d)for(Ge(t,s,l=Math.min(s+d-1,n),h,this.compareMinY),u=s;u<=l;u+=h)c=Math.min(u+h-1,l),r.children.push(this._build(t,u,c,i-1));return Ne(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,o,a,s,u,l,c,h;i.push(e),!e.leaf&&i.length-1!==n;){for(c=h=1/0,r=0,o=e.children.length;r<o;r++)u=Be(a=e.children[r]),(l=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,a)-u)<h?(h=l,c=u<c?u:c,s=a):l===h&&u<c&&(c=u,s=a);e=s||e.children[0]}return e},_insert:function(t,e,n){var i=n?t:(0,this.toBBox)(t),r=[],o=this._chooseSubtree(i,this.data,e,r);for(o.children.push(t),Ye(o,i);e>=0&&r[e].children.length>this._maxEntries;)this._split(r,e),e--;this._adjustParentBBoxes(i,r,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),a=qe(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,Ne(n,this.toBBox),Ne(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=qe([t,e]),this.data.height=t.height+1,this.data.leaf=!1,Ne(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,o,a,s,u,l,c;for(u=l=1/0,i=e;i<=n-e;i++)a=function(t,e){var n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,o-i)}(r=Fe(t,0,i,this.toBBox),o=Fe(t,i,n,this.toBBox)),s=Be(r)+Be(o),a<u?(u=a,c=i,l=s<l?s:l):a===u&&s<l&&(l=s,c=i);return c},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:ze,r=t.leaf?this.compareMinY:je;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,o,a=this.toBBox,s=Fe(t,0,e,a),u=Fe(t,n-e,n,a),l=He(s)+He(u);for(r=e;r<n-e;r++)o=t.children[r],Ye(s,t.leaf?a(o):o),l+=He(s);for(r=n-e-1;r>=e;r--)o=t.children[r],Ye(u,t.leaf?a(o):o),l+=He(u);return l},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)Ye(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():Ne(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var da=Object.freeze({toMercator:rn,toWgs84:on}),fa=6378137,pa=function(t,e,n,i,r){this.coord=t,this.param=e,this.ringAndEdgeIn=n,this.ringAndEdgeOut=i,this.nxtIsectAlongEdgeIn=r},ma=function(t,e,n,i,r,o,a){this.coord=t,this.ringAndEdge1=e,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=i,this.nxtIsectAlongRingAndEdge2=r,this.ringAndEdge1Walkable=o,this.ringAndEdge2Walkable=a};Number.prototype.modulo=function(t){return(this%t+t)%t};var ga=Math.PI/180,ya=180/Math.PI,va=function(t,e){this.lon=t,this.lat=e,this.x=ga*t,this.y=ga*e};va.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},va.prototype.antipode=function(){return new va(this.lon<0?180+this.lon:-1*(180-this.lon),-1*this.lat)};var _a=function(){this.coords=[],this.length=0};_a.prototype.move_to=function(t){this.length++,this.coords.push(t)};var ba=function(t){this.properties=t||{},this.geometries=[]};ba.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},ba.prototype.wkt=function(){for(var t="",e="LINESTRING(",n=function(t){e+=t[0]+" "+t[1]+","},i=0;i<this.geometries.length;i++){if(0===this.geometries[i].coords.length)return"LINESTRING(empty)";this.geometries[i].coords.forEach(n),t+=e.substring(0,e.length-1)+")"}return t};var xa=function(t,e,n){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new va(t.x,t.y),this.end=new va(e.x,e.y),this.properties=n||{};var i=this.start.x-this.end.x,r=Math.pow(Math.sin((this.start.y-this.end.y)/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(i/2),2);if(this.g=2*Math.asin(Math.sqrt(r)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};xa.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),n=Math.sin(t*this.g)/Math.sin(this.g),i=e*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),r=e*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),o=e*Math.sin(this.start.y)+n*Math.sin(this.end.y),a=ya*Math.atan2(o,Math.sqrt(Math.pow(i,2)+Math.pow(r,2)));return[ya*Math.atan2(r,i),a]},xa.prototype.Arc=function(t,e){var n=[];if(!t||t<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var i=1/(t-1),r=0;r<t;++r){var o=this.interpolate(i*r);n.push(o)}for(var a=!1,s=0,u=e&&e.offset?e.offset:10,l=180-u,c=-180+u,h=360-u,d=1;d<n.length;++d){var f=n[d-1][0],p=n[d][0],m=Math.abs(p-f);m>h&&(p>l&&f<c||f>l&&p<c)?a=!0:m>s&&(s=m)}var g=[];if(a&&s<u){var y=[];g.push(y);for(var v=0;v<n.length;++v){var _=parseFloat(n[v][0]);if(v>0&&Math.abs(_-n[v-1][0])>h){var b=parseFloat(n[v-1][0]),x=parseFloat(n[v-1][1]),w=parseFloat(n[v][0]),k=parseFloat(n[v][1]);if(b>-180&&b<c&&180===w&&v+1<n.length&&n[v-1][0]>-180&&n[v-1][0]<c){y.push([-180,n[v][1]]),v++,y.push([n[v][0],n[v][1]]);continue}if(b>l&&b<180&&-180===w&&v+1<n.length&&n[v-1][0]>l&&n[v-1][0]<180){y.push([180,n[v][1]]),v++,y.push([n[v][0],n[v][1]]);continue}if(b<c&&w>l){var M=b;b=w,w=M;var S=x;x=k,k=S}if(b>l&&w<c&&(w+=360),b<=180&&w>=180&&b<w){var E=(180-b)/(w-b),L=E*k+(1-E)*x;y.push([n[v-1][0]>l?180:-180,L]),(y=[]).push([n[v-1][0]>l?-180:180,L]),g.push(y)}else g.push(y=[]);y.push([_,n[v][1]])}else y.push([n[v][0],n[v][1]])}}else{var T=[];g.push(T);for(var C=0;C<n.length;++C)T.push([n[C][0],n[C][1]])}for(var I=new ba(this.properties),P=0;P<g.length;++P){var D=new _a;I.geometries.push(D);for(var O=g[P],A=0;A<O.length;++A)D.move_to(O[A])}return I};var wa=jn;jn.polyline=jn,jn.polygon=function(t,e){var n,i,r,o,a,s,u;for(i=1;i<=8;i*=2){for(n=[],o=!(Hn(r=t[t.length-1],e)&i),a=0;a<t.length;a++)(u=!(Hn(s=t[a],e)&i))!==o&&n.push(Bn(r,s,i,e)),u&&n.push(s),r=s,o=u;if(!(t=n).length)break}return n};var ka=Array.prototype.slice,Ma={successCallback:null,verbose:!1,polygons:!1},Sa={},Ea=64,La=16,Ta=4,Ca=1,Ia=[],Pa=[],Da=[],Oa=[],Aa=[],Ra=[],Na=[],Fa=[],Ya=[],za=[],ja=[],Ba=[],Ha=[],Ua=[],Va=[],qa=[],Ga=[],Wa=[],Xa=[],Ka=[],Za=[],Qa=[],Ja=[],$a=[];Na[85]=za[85]=-1,Fa[85]=ja[85]=0,Ya[85]=Ba[85]=1,Xa[85]=Qa[85]=1,Ka[85]=Ja[85]=0,Za[85]=$a[85]=1,Ia[85]=Oa[85]=0,Pa[85]=Aa[85]=-1,Da[85]=Va[85]=0,qa[85]=Ha[85]=0,Ga[85]=Ua[85]=1,Ra[85]=Wa[85]=1,Qa[1]=Qa[169]=0,Ja[1]=Ja[169]=-1,$a[1]=$a[169]=0,Ha[1]=Ha[169]=-1,Ua[1]=Ua[169]=0,Va[1]=Va[169]=0,za[4]=za[166]=0,ja[4]=ja[166]=-1,Ba[4]=Ba[166]=1,qa[4]=qa[166]=1,Ga[4]=Ga[166]=0,Wa[4]=Wa[166]=0,Na[16]=Na[154]=0,Fa[16]=Fa[154]=1,Ya[16]=Ya[154]=1,Oa[16]=Oa[154]=1,Aa[16]=Aa[154]=0,Ra[16]=Ra[154]=1,Xa[64]=Xa[106]=0,Ka[64]=Ka[106]=1,Za[64]=Za[106]=0,Ia[64]=Ia[106]=-1,Pa[64]=Pa[106]=0,Da[64]=Da[106]=1,Xa[2]=Xa[168]=0,Ka[2]=Ka[168]=-1,Za[2]=Za[168]=1,Qa[2]=Qa[168]=0,Ja[2]=Ja[168]=-1,$a[2]=$a[168]=0,Ha[2]=Ha[168]=-1,Ua[2]=Ua[168]=0,Va[2]=Va[168]=0,qa[2]=qa[168]=-1,Ga[2]=Ga[168]=0,Wa[2]=Wa[168]=1,Na[8]=Na[162]=0,Fa[8]=Fa[162]=-1,Ya[8]=Ya[162]=0,za[8]=za[162]=0,ja[8]=ja[162]=-1,Ba[8]=Ba[162]=1,Ha[8]=Ha[162]=1,Ua[8]=Ua[162]=0,Va[8]=Va[162]=1,qa[8]=qa[162]=1,Ga[8]=Ga[162]=0,Wa[8]=Wa[162]=0,Na[32]=Na[138]=0,Fa[32]=Fa[138]=1,Ya[32]=Ya[138]=1,za[32]=za[138]=0,ja[32]=ja[138]=1,Ba[32]=Ba[138]=0,Ia[32]=Ia[138]=1,Pa[32]=Pa[138]=0,Da[32]=Da[138]=0,Oa[32]=Oa[138]=1,Aa[32]=Aa[138]=0,Ra[32]=Ra[138]=1,Qa[128]=Qa[42]=0,Ja[128]=Ja[42]=1,$a[128]=$a[42]=1,Xa[128]=Xa[42]=0,Ka[128]=Ka[42]=1,Za[128]=Za[42]=0,Ia[128]=Ia[42]=-1,Pa[128]=Pa[42]=0,Da[128]=Da[42]=1,Oa[128]=Oa[42]=-1,Aa[128]=Aa[42]=0,Ra[128]=Ra[42]=0,za[5]=za[165]=-1,ja[5]=ja[165]=0,Ba[5]=Ba[165]=0,Qa[5]=Qa[165]=1,Ja[5]=Ja[165]=0,$a[5]=$a[165]=0,qa[20]=qa[150]=0,Ga[20]=Ga[150]=1,Wa[20]=Wa[150]=1,Oa[20]=Oa[150]=0,Aa[20]=Aa[150]=-1,Ra[20]=Ra[150]=1,Na[80]=Na[90]=-1,Fa[80]=Fa[90]=0,Ya[80]=Ya[90]=1,Xa[80]=Xa[90]=1,Ka[80]=Ka[90]=0,Za[80]=Za[90]=1,Ha[65]=Ha[105]=0,Ua[65]=Ua[105]=1,Va[65]=Va[105]=0,Ia[65]=Ia[105]=0,Pa[65]=Pa[105]=-1,Da[65]=Da[105]=0,Na[160]=Na[10]=-1,Fa[160]=Fa[10]=0,Ya[160]=Ya[10]=1,za[160]=za[10]=-1,ja[160]=ja[10]=0,Ba[160]=Ba[10]=0,Qa[160]=Qa[10]=1,Ja[160]=Ja[10]=0,$a[160]=$a[10]=0,Xa[160]=Xa[10]=1,Ka[160]=Ka[10]=0,Za[160]=Za[10]=1,qa[130]=qa[40]=0,Ga[130]=Ga[40]=1,Wa[130]=Wa[40]=1,Ha[130]=Ha[40]=0,Ua[130]=Ua[40]=1,Va[130]=Va[40]=0,Ia[130]=Ia[40]=0,Pa[130]=Pa[40]=-1,Da[130]=Da[40]=0,Oa[130]=Oa[40]=0,Aa[130]=Aa[40]=-1,Ra[130]=Ra[40]=1,za[37]=za[133]=0,ja[37]=ja[133]=1,Ba[37]=Ba[133]=1,Qa[37]=Qa[133]=0,Ja[37]=Ja[133]=1,$a[37]=$a[133]=0,Ia[37]=Ia[133]=-1,Pa[37]=Pa[133]=0,Da[37]=Da[133]=0,Oa[37]=Oa[133]=1,Aa[37]=Aa[133]=0,Ra[37]=Ra[133]=0,qa[148]=qa[22]=-1,Ga[148]=Ga[22]=0,Wa[148]=Wa[22]=0,Qa[148]=Qa[22]=0,Ja[148]=Ja[22]=-1,$a[148]=$a[22]=1,Xa[148]=Xa[22]=0,Ka[148]=Ka[22]=1,Za[148]=Za[22]=1,Oa[148]=Oa[22]=-1,Aa[148]=Aa[22]=0,Ra[148]=Ra[22]=1,Na[82]=Na[88]=0,Fa[82]=Fa[88]=-1,Ya[82]=Ya[88]=1,qa[82]=qa[88]=1,Ga[82]=Ga[88]=0,Wa[82]=Wa[88]=1,Ha[82]=Ha[88]=-1,Ua[82]=Ua[88]=0,Va[82]=Va[88]=1,Xa[82]=Xa[88]=0,Ka[82]=Ka[88]=-1,Za[82]=Za[88]=0,Na[73]=Na[97]=0,Fa[73]=Fa[97]=1,Ya[73]=Ya[97]=0,za[73]=za[97]=0,ja[73]=ja[97]=-1,Ba[73]=Ba[97]=0,Ha[73]=Ha[97]=1,Ua[73]=Ua[97]=0,Va[73]=Va[97]=0,Ia[73]=Ia[97]=1,Pa[73]=Pa[97]=0,Da[73]=Da[97]=1,Na[145]=Na[25]=0,Fa[145]=Fa[25]=-1,Ya[145]=Ya[25]=0,Ha[145]=Ha[25]=1,Ua[145]=Ua[25]=0,Va[145]=Va[25]=1,Qa[145]=Qa[25]=0,Ja[145]=Ja[25]=1,$a[145]=$a[25]=1,Oa[145]=Oa[25]=-1,Aa[145]=Aa[25]=0,Ra[145]=Ra[25]=0,za[70]=za[100]=0,ja[70]=ja[100]=1,Ba[70]=Ba[100]=0,qa[70]=qa[100]=-1,Ga[70]=Ga[100]=0,Wa[70]=Wa[100]=1,Xa[70]=Xa[100]=0,Ka[70]=Ka[100]=-1,Za[70]=Za[100]=1,Ia[70]=Ia[100]=1,Pa[70]=Pa[100]=0,Da[70]=Da[100]=0,za[101]=za[69]=0,ja[101]=ja[69]=1,Ba[101]=Ba[69]=0,Ia[101]=Ia[69]=1,Pa[101]=Pa[69]=0,Da[101]=Da[69]=0,Qa[149]=Qa[21]=0,Ja[149]=Ja[21]=1,$a[149]=$a[21]=1,Oa[149]=Oa[21]=-1,Aa[149]=Aa[21]=0,Ra[149]=Ra[21]=0,qa[86]=qa[84]=-1,Ga[86]=Ga[84]=0,Wa[86]=Wa[84]=1,Xa[86]=Xa[84]=0,Ka[86]=Ka[84]=-1,Za[86]=Za[84]=1,Na[89]=Na[81]=0,Fa[89]=Fa[81]=-1,Ya[89]=Ya[81]=0,Ha[89]=Ha[81]=1,Ua[89]=Ua[81]=0,Va[89]=Va[81]=1,Na[96]=Na[74]=0,Fa[96]=Fa[74]=1,Ya[96]=Ya[74]=0,za[96]=za[74]=-1,ja[96]=ja[74]=0,Ba[96]=Ba[74]=1,Xa[96]=Xa[74]=1,Ka[96]=Ka[74]=0,Za[96]=Za[74]=0,Ia[96]=Ia[74]=1,Pa[96]=Pa[74]=0,Da[96]=Da[74]=1,Na[24]=Na[146]=0,Fa[24]=Fa[146]=-1,Ya[24]=Ya[146]=1,qa[24]=qa[146]=1,Ga[24]=Ga[146]=0,Wa[24]=Wa[146]=1,Ha[24]=Ha[146]=0,Ua[24]=Ua[146]=1,Va[24]=Va[146]=1,Oa[24]=Oa[146]=0,Aa[24]=Aa[146]=-1,Ra[24]=Ra[146]=0,za[6]=za[164]=-1,ja[6]=ja[164]=0,Ba[6]=Ba[164]=1,qa[6]=qa[164]=-1,Ga[6]=Ga[164]=0,Wa[6]=Wa[164]=0,Qa[6]=Qa[164]=0,Ja[6]=Ja[164]=-1,$a[6]=$a[164]=1,Xa[6]=Xa[164]=1,Ka[6]=Ka[164]=0,Za[6]=Za[164]=0,Ha[129]=Ha[41]=0,Ua[129]=Ua[41]=1,Va[129]=Va[41]=1,Qa[129]=Qa[41]=0,Ja[129]=Ja[41]=1,$a[129]=$a[41]=0,Ia[129]=Ia[41]=-1,Pa[129]=Pa[41]=0,Da[129]=Da[41]=0,Oa[129]=Oa[41]=0,Aa[129]=Aa[41]=-1,Ra[129]=Ra[41]=0,qa[66]=qa[104]=0,Ga[66]=Ga[104]=1,Wa[66]=Wa[104]=0,Ha[66]=Ha[104]=-1,Ua[66]=Ua[104]=0,Va[66]=Va[104]=1,Xa[66]=Xa[104]=0,Ka[66]=Ka[104]=-1,Za[66]=Za[104]=0,Ia[66]=Ia[104]=0,Pa[66]=Pa[104]=-1,Da[66]=Da[104]=1,Na[144]=Na[26]=-1,Fa[144]=Fa[26]=0,Ya[144]=Ya[26]=0,Qa[144]=Qa[26]=1,Ja[144]=Ja[26]=0,$a[144]=$a[26]=1,Xa[144]=Xa[26]=0,Ka[144]=Ka[26]=1,Za[144]=Za[26]=1,Oa[144]=Oa[26]=-1,Aa[144]=Aa[26]=0,Ra[144]=Ra[26]=1,za[36]=za[134]=0,ja[36]=ja[134]=1,Ba[36]=Ba[134]=1,qa[36]=qa[134]=0,Ga[36]=Ga[134]=1,Wa[36]=Wa[134]=0,Ia[36]=Ia[134]=0,Pa[36]=Pa[134]=-1,Da[36]=Da[134]=1,Oa[36]=Oa[134]=1,Aa[36]=Aa[134]=0,Ra[36]=Ra[134]=0,Na[9]=Na[161]=-1,Fa[9]=Fa[161]=0,Ya[9]=Ya[161]=0,za[9]=za[161]=0,ja[9]=ja[161]=-1,Ba[9]=Ba[161]=0,Ha[9]=Ha[161]=1,Ua[9]=Ua[161]=0,Va[9]=Va[161]=0,Qa[9]=Qa[161]=1,Ja[9]=Ja[161]=0,$a[9]=$a[161]=1,Na[136]=0,Fa[136]=1,Ya[136]=1,za[136]=0,ja[136]=1,Ba[136]=0,qa[136]=-1,Ga[136]=0,Wa[136]=1,Ha[136]=-1,Ua[136]=0,Va[136]=0,Qa[136]=0,Ja[136]=-1,$a[136]=0,Xa[136]=0,Ka[136]=-1,Za[136]=1,Ia[136]=1,Pa[136]=0,Da[136]=0,Oa[136]=1,Aa[136]=0,Ra[136]=1,Na[34]=0,Fa[34]=-1,Ya[34]=0,za[34]=0,ja[34]=-1,Ba[34]=1,qa[34]=1,Ga[34]=0,Wa[34]=0,Ha[34]=1,Ua[34]=0,Va[34]=1,Qa[34]=0,Ja[34]=1,$a[34]=1,Xa[34]=0,Ka[34]=1,Za[34]=0,Ia[34]=-1,Pa[34]=0,Da[34]=1,Oa[34]=-1,Aa[34]=0,Ra[34]=0,Na[35]=0,Fa[35]=1,Ya[35]=1,za[35]=0,ja[35]=-1,Ba[35]=1,qa[35]=1,Ga[35]=0,Wa[35]=0,Ha[35]=-1,Ua[35]=0,Va[35]=0,Qa[35]=0,Ja[35]=-1,$a[35]=0,Xa[35]=0,Ka[35]=1,Za[35]=0,Ia[35]=-1,Pa[35]=0,Da[35]=1,Oa[35]=1,Aa[35]=0,Ra[35]=1,Na[153]=0,Fa[153]=1,Ya[153]=1,Ha[153]=-1,Ua[153]=0,Va[153]=0,Qa[153]=0,Ja[153]=-1,$a[153]=0,Oa[153]=1,Aa[153]=0,Ra[153]=1,za[102]=0,ja[102]=-1,Ba[102]=1,qa[102]=1,Ga[102]=0,Wa[102]=0,Xa[102]=0,Ka[102]=1,Za[102]=0,Ia[102]=-1,Pa[102]=0,Da[102]=1,Na[155]=0,Fa[155]=-1,Ya[155]=0,Ha[155]=1,Ua[155]=0,Va[155]=1,Qa[155]=0,Ja[155]=1,$a[155]=1,Oa[155]=-1,Aa[155]=0,Ra[155]=0,za[103]=0,ja[103]=1,Ba[103]=0,qa[103]=-1,Ga[103]=0,Wa[103]=1,Xa[103]=0,Ka[103]=-1,Za[103]=1,Ia[103]=1,Pa[103]=0,Da[103]=0,Na[152]=0,Fa[152]=1,Ya[152]=1,qa[152]=-1,Ga[152]=0,Wa[152]=1,Ha[152]=-1,Ua[152]=0,Va[152]=0,Qa[152]=0,Ja[152]=-1,$a[152]=0,Xa[152]=0,Ka[152]=-1,Za[152]=1,Oa[152]=1,Aa[152]=0,Ra[152]=1,Na[156]=0,Fa[156]=-1,Ya[156]=1,qa[156]=1,Ga[156]=0,Wa[156]=1,Ha[156]=-1,Ua[156]=0,Va[156]=0,Qa[156]=0,Ja[156]=-1,$a[156]=0,Xa[156]=0,Ka[156]=1,Za[156]=1,Oa[156]=-1,Aa[156]=0,Ra[156]=1,Na[137]=0,Fa[137]=1,Ya[137]=1,za[137]=0,ja[137]=1,Ba[137]=0,Ha[137]=-1,Ua[137]=0,Va[137]=0,Qa[137]=0,Ja[137]=-1,$a[137]=0,Ia[137]=1,Pa[137]=0,Da[137]=0,Oa[137]=1,Aa[137]=0,Ra[137]=1,Na[139]=0,Fa[139]=1,Ya[139]=1,za[139]=0,ja[139]=-1,Ba[139]=0,Ha[139]=1,Ua[139]=0,Va[139]=0,Qa[139]=0,Ja[139]=1,$a[139]=0,Ia[139]=-1,Pa[139]=0,Da[139]=0,Oa[139]=1,Aa[139]=0,Ra[139]=1,Na[98]=0,Fa[98]=-1,Ya[98]=0,za[98]=0,ja[98]=-1,Ba[98]=1,qa[98]=1,Ga[98]=0,Wa[98]=0,Ha[98]=1,Ua[98]=0,Va[98]=1,Xa[98]=0,Ka[98]=1,Za[98]=0,Ia[98]=-1,Pa[98]=0,Da[98]=1,Na[99]=0,Fa[99]=1,Ya[99]=0,za[99]=0,ja[99]=-1,Ba[99]=1,qa[99]=1,Ga[99]=0,Wa[99]=0,Ha[99]=-1,Ua[99]=0,Va[99]=1,Xa[99]=0,Ka[99]=-1,Za[99]=0,Ia[99]=1,Pa[99]=0,Da[99]=1,za[38]=0,ja[38]=-1,Ba[38]=1,qa[38]=1,Ga[38]=0,Wa[38]=0,Qa[38]=0,Ja[38]=1,$a[38]=1,Xa[38]=0,Ka[38]=1,Za[38]=0,Ia[38]=-1,Pa[38]=0,Da[38]=1,Oa[38]=-1,Aa[38]=0,Ra[38]=0,za[39]=0,ja[39]=1,Ba[39]=1,qa[39]=-1,Ga[39]=0,Wa[39]=0,Qa[39]=0,Ja[39]=-1,$a[39]=1,Xa[39]=0,Ka[39]=1,Za[39]=0,Ia[39]=-1,Pa[39]=0,Da[39]=1,Oa[39]=1,Aa[39]=0,Ra[39]=0;var ts=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},es=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},ns=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},is=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},rs=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},os=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},as=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},ss=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},us=[],ls=[],cs=[],hs=[],ds=[],fs=[],ps=[],ms=[];hs[1]=ds[1]=18,hs[169]=ds[169]=18,cs[4]=ls[4]=12,cs[166]=ls[166]=12,us[16]=ms[16]=4,us[154]=ms[154]=4,fs[64]=ps[64]=22,fs[106]=ps[106]=22,cs[2]=fs[2]=17,hs[2]=ds[2]=18,cs[168]=fs[168]=17,hs[168]=ds[168]=18,us[8]=hs[8]=9,ls[8]=cs[8]=12,us[162]=hs[162]=9,ls[162]=cs[162]=12,us[32]=ms[32]=4,ls[32]=ps[32]=1,us[138]=ms[138]=4,ls[138]=ps[138]=1,ds[128]=ms[128]=21,fs[128]=ps[128]=22,ds[42]=ms[42]=21,fs[42]=ps[42]=22,ls[5]=ds[5]=14,ls[165]=ds[165]=14,cs[20]=ms[20]=6,cs[150]=ms[150]=6,us[80]=fs[80]=11,us[90]=fs[90]=11,hs[65]=ps[65]=3,hs[105]=ps[105]=3,us[160]=fs[160]=11,ls[160]=ds[160]=14,us[10]=fs[10]=11,ls[10]=ds[10]=14,cs[130]=ms[130]=6,hs[130]=ps[130]=3,cs[40]=ms[40]=6,hs[40]=ps[40]=3,ls[101]=ps[101]=1,ls[69]=ps[69]=1,ds[149]=ms[149]=21,ds[21]=ms[21]=21,cs[86]=fs[86]=17,cs[84]=fs[84]=17,us[89]=hs[89]=9,us[81]=hs[81]=9,us[96]=ps[96]=0,ls[96]=fs[96]=15,us[74]=ps[74]=0,ls[74]=fs[74]=15,us[24]=cs[24]=8,hs[24]=ms[24]=7,us[146]=cs[146]=8,hs[146]=ms[146]=7,ls[6]=fs[6]=15,cs[6]=ds[6]=16,ls[164]=fs[164]=15,cs[164]=ds[164]=16,hs[129]=ms[129]=7,ds[129]=ps[129]=20,hs[41]=ms[41]=7,ds[41]=ps[41]=20,cs[66]=ps[66]=2,hs[66]=fs[66]=19,cs[104]=ps[104]=2,hs[104]=fs[104]=19,us[144]=ds[144]=10,fs[144]=ms[144]=23,us[26]=ds[26]=10,fs[26]=ms[26]=23,ls[36]=ms[36]=5,cs[36]=ps[36]=2,ls[134]=ms[134]=5,cs[134]=ps[134]=2,us[9]=ds[9]=10,ls[9]=hs[9]=13,us[161]=ds[161]=10,ls[161]=hs[161]=13,ls[37]=ms[37]=5,ds[37]=ps[37]=20,ls[133]=ms[133]=5,ds[133]=ps[133]=20,cs[148]=ds[148]=16,fs[148]=ms[148]=23,cs[22]=ds[22]=16,fs[22]=ms[22]=23,us[82]=cs[82]=8,hs[82]=fs[82]=19,us[88]=cs[88]=8,hs[88]=fs[88]=19,us[73]=ps[73]=0,ls[73]=hs[73]=13,us[97]=ps[97]=0,ls[97]=hs[97]=13,us[145]=hs[145]=9,ds[145]=ms[145]=21,us[25]=hs[25]=9,ds[25]=ms[25]=21,ls[70]=ps[70]=1,cs[70]=fs[70]=17,ls[100]=ps[100]=1,cs[100]=fs[100]=17,us[34]=hs[34]=9,ls[34]=cs[34]=12,ds[34]=ms[34]=21,fs[34]=ps[34]=22,us[136]=ms[136]=4,ls[136]=ps[136]=1,cs[136]=fs[136]=17,hs[136]=ds[136]=18,us[35]=ms[35]=4,ls[35]=cs[35]=12,hs[35]=ds[35]=18,fs[35]=ps[35]=22,us[153]=ms[153]=4,hs[153]=ds[153]=18,ls[102]=cs[102]=12,fs[102]=ps[102]=22,us[155]=hs[155]=9,ds[155]=ms[155]=23,ls[103]=ps[103]=1,cs[103]=fs[103]=17,us[152]=ms[152]=4,cs[152]=fs[152]=17,hs[152]=ds[152]=18,us[156]=cs[156]=8,hs[156]=ds[156]=18,fs[156]=ms[156]=23,us[137]=ms[137]=4,ls[137]=ps[137]=1,hs[137]=ds[137]=18,us[139]=ms[139]=4,ls[139]=hs[139]=13,ds[139]=ps[139]=20,us[98]=hs[98]=9,ls[98]=cs[98]=12,fs[98]=ps[98]=22,us[99]=ps[99]=0,ls[99]=cs[99]=12,hs[99]=fs[99]=19,ls[38]=cs[38]=12,ds[38]=ms[38]=21,fs[38]=ps[38]=22,ls[39]=ms[39]=5,cs[39]=ds[39]=16,fs[39]=ps[39]=22;var gs=[];gs[1]=gs[169]=ts,gs[4]=gs[166]=es,gs[16]=gs[154]=ns,gs[64]=gs[106]=is,gs[168]=gs[2]=rs,gs[162]=gs[8]=os,gs[138]=gs[32]=as,gs[42]=gs[128]=ss,gs[5]=gs[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},gs[20]=gs[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},gs[80]=gs[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},gs[65]=gs[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},gs[160]=gs[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},gs[130]=gs[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},gs[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},gs[101]=gs[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},gs[149]=gs[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},gs[86]=gs[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},gs[89]=gs[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},gs[96]=gs[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},gs[24]=gs[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},gs[6]=gs[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},gs[129]=gs[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},gs[66]=gs[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},gs[144]=gs[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},gs[36]=gs[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},gs[9]=gs[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},gs[37]=gs[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},gs[148]=gs[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},gs[82]=gs[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},gs[73]=gs[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},gs[145]=gs[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},gs[70]=gs[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},gs[34]=function(t){return[ss(t),os(t)]},gs[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},gs[136]=function(t){return[as(t),rs(t)]},gs[153]=function(t){return[ns(t),ts(t)]},gs[102]=function(t){return[es(t),is(t)]},gs[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},gs[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},gs[152]=function(t){return[ns(t),rs(t)]},gs[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},gs[137]=function(t){return[as(t),ts(t)]},gs[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},gs[98]=function(t){return[os(t),is(t)]},gs[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},gs[38]=function(t){return[es(t),ss(t)]},gs[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};var ys=function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1};ys.buildId=function(t){return t.join(",")},ys.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter(function(e){return e.from.id!==t.from.id})},ys.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter(function(e){return e.to.id!==t.to.id})},ys.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},ys.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort(function(e,n){var i=e.to,r=n.to;if(i.coordinates[0]-t.coordinates[0]>=0&&r.coordinates[0]-t.coordinates[0]<0)return 1;if(i.coordinates[0]-t.coordinates[0]<0&&r.coordinates[0]-t.coordinates[0]>=0)return-1;if(i.coordinates[0]-t.coordinates[0]==0&&r.coordinates[0]-t.coordinates[0]==0)return i.coordinates[1]-t.coordinates[1]>=0||r.coordinates[1]-t.coordinates[1]>=0?i.coordinates[1]-r.coordinates[1]:r.coordinates[1]-i.coordinates[1];var o=fi(t.coordinates,i.coordinates,r.coordinates);return o<0?1:o>0?-1:Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2)-(Math.pow(r.coordinates[0]-t.coordinates[0],2)+Math.pow(r.coordinates[1]-t.coordinates[1],2))}),this.outerEdgesSorted=!0)},ys.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},ys.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},ys.prototype.addInnerEdge=function(t){this.innerEdges.push(t)};var vs=function(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)};vs.prototype.getSymetric=function(){return this.symetric||(this.symetric=new vs(this.to,this.from),this.symetric.symetric=this),this.symetric},vs.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},vs.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},vs.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},vs.prototype.toLineString=function(){return s([this.from.coordinates,this.to.coordinates])},vs.prototype.compareTo=function(t){return fi(t.from.coordinates,t.to.coordinates,this.to.coordinates)};var _s=function(){this.edges=[],this.polygon=void 0,this.envelope=void 0},bs={length:{configurable:!0}};_s.prototype.push=function(t){this[this.edges.length]=t,this.edges.push(t),this.polygon=this.envelope=void 0},_s.prototype.get=function(t){return this.edges[t]},bs.length.get=function(){return this.edges.length},_s.prototype.forEach=function(t){this.edges.forEach(t)},_s.prototype.map=function(t){return this.edges.map(t)},_s.prototype.some=function(t){return this.edges.some(t)},_s.prototype.isValid=function(){return!0},_s.prototype.isHole=function(){var t=this,e=this.edges.reduce(function(e,n,i){return n.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=i),e},0),n=(0===e?this.length:e)-1,i=(e+1)%this.length,r=fi(this.edges[n].from.coordinates,this.edges[e].from.coordinates,this.edges[i].from.coordinates);return 0===r?this.edges[n].from.coordinates[0]>this.edges[i].from.coordinates[0]:r>0},_s.prototype.toMultiPoint=function(){return h(this.edges.map(function(t){return t.from.coordinates}))},_s.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map(function(t){return t.from.coordinates});return t.push(this.edges[0].from.coordinates),this.polygon=o([t])},_s.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=ae(this.toPolygon())},_s.findEdgeRingContaining=function(t,e){var n,r,o=t.getEnvelope();return e.forEach(function(e){var a=e.getEnvelope();if(r&&(n=r.getEnvelope()),!function(t,e){var n=t.geometry.coordinates.map(function(t){return t[0]}),i=t.geometry.coordinates.map(function(t){return t[1]}),r=e.geometry.coordinates.map(function(t){return t[0]}),o=e.geometry.coordinates.map(function(t){return t[1]});return Math.max(null,n)===Math.max(null,r)&&Math.max(null,i)===Math.max(null,o)&&Math.min(null,n)===Math.min(null,r)&&Math.min(null,i)===Math.min(null,o)}(a,o)&&pi(a,o)){var s=t.map(function(t){return t.from.coordinates}).find(function(t){return!e.some(function(e){return function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t,e.from.coordinates)})});s&&e.inside(i(s))&&(r&&!pi(n,a)||(r=e))}}),r},_s.prototype.inside=function(t){return Tt(t,this.toPolygon())},Object.defineProperties(_s.prototype,bs);var xs=function(){this.edges=[],this.nodes={}};xs.fromGeoJson=function(t){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(t);var e=new xs;return N(t,function(t){W(t,"LineString","Graph::fromGeoJson"),T(t,function(t,n){if(t){var i=e.getNode(t),r=e.getNode(n);e.addEdge(i,r)}return n})}),e},xs.prototype.getNode=function(t){var e=ys.buildId(t),n=this.nodes[e];return n||(n=this.nodes[e]=new ys(t)),n},xs.prototype.addEdge=function(t,e){var n=new vs(t,e),i=n.getSymetric();this.edges.push(n),this.edges.push(i)},xs.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map(function(e){return t.nodes[e]}).forEach(function(e){return t._removeIfDangle(e)})},xs.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var n=t.getOuterEdges().map(function(t){return t.to});this.removeNode(t),n.forEach(function(t){return e._removeIfDangle(t)})}},xs.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))})},xs.prototype._computeNextCWEdges=function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach(function(t){return e._computeNextCWEdges(e.nodes[t])}):t.getOuterEdges().forEach(function(e,n){t.getOuterEdge((0===n?t.getOuterEdges().length:n)-1).symetric.next=e})},xs.prototype._computeNextCCWEdges=function(t,e){for(var n,i,r=t.getOuterEdges(),o=r.length-1;o>=0;--o){var a=r[o],s=a.symetric,u=void 0,l=void 0;a.label===e&&(u=a),s.label===e&&(l=s),u&&l&&(l&&(i=l),u&&(i&&(i.next=u,i=void 0),n||(n=u)))}i&&(i.next=n)},xs.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach(function(n){if(!(n.label>=0)){t.push(n);var i=n;do{i.label=e,i=i.next}while(!n.isEqual(i));e++}}),t},xs.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach(function(t){t.label=void 0}),this._findLabeledEdgeRings().forEach(function(e){t._findIntersectionNodes(e).forEach(function(n){t._computeNextCCWEdges(n,e.label)})});var e=[];return this.edges.forEach(function(n){n.ring||e.push(t._findEdgeRing(n))}),e},xs.prototype._findIntersectionNodes=function(t){var e=[],n=t,i=function(){var i=0;n.from.getOuterEdges().forEach(function(e){e.label===t.label&&++i}),i>1&&e.push(n.from),n=n.next};do{i()}while(!t.isEqual(n));return e},xs.prototype._findEdgeRing=function(t){var e=t,n=new _s;do{n.push(e),e.ring=n,e=e.next}while(!t.isEqual(e));return n},xs.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach(function(t){return e.removeEdge(t)}),t.innerEdges.forEach(function(t){return e.removeEdge(t)}),delete this.nodes[t.id]},xs.prototype.removeEdge=function(t){this.edges=this.edges.filter(function(e){return!e.isEqual(t)}),t.deleteEdge()};var ws=gt(function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n}),ks=gt(function(t,e){function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function i(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();(e=t.exports=r?n:i).supported=n,e.unsupported=i}),Ms=gt(function(t){function e(t){return null==t}function n(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}var i=Array.prototype.slice,r=t.exports=function(t,o,a){return a||(a={}),t===o||(t instanceof Date&&o instanceof Date?t.getTime()===o.getTime():!t||!o||"object"!=typeof t&&"object"!=typeof o?a.strict?t===o:t==o:function(t,o,a){var s,u;if(e(t)||e(o))return!1;if(t.prototype!==o.prototype)return!1;if(ks(t))return!!ks(o)&&(t=i.call(t),o=i.call(o),r(t,o,a));if(n(t)){if(!n(o))return!1;if(t.length!==o.length)return!1;for(s=0;s<t.length;s++)if(t[s]!==o[s])return!1;return!0}try{var l=ws(t),c=ws(o)}catch(t){return!1}if(l.length!=c.length)return!1;for(l.sort(),c.sort(),s=l.length-1;s>=0;s--)if(l[s]!=c[s])return!1;for(s=l.length-1;s>=0;s--)if(!r(t[u=l[s]],o[u],a))return!1;return typeof t==typeof o}(t,o,a))}}),Ss=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:Si};Ss.prototype.compare=function(t,e){if(t.type!==e.type||!Mi(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var n=this,i=ki(t),r=ki(e);return i.every(function(t){return this.some(function(e){return n.compare(t,e)})},r)}}return!1},Ss.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n].toFixed(this.precision)!==e[n].toFixed(this.precision))return!1;return!0},Ss.prototype.compareLine=function(t,e,n,i){if(!Mi(t,e))return!1;var r=this.pseudoNode?t:this.removePseudo(t),o=this.pseudoNode?e:this.removePseudo(e);if(!i||this.compareCoord(r[0],o[0])||(o=this.fixStartIndex(o,r))){var a=this.compareCoord(r[n],o[n]);return this.direction||a?this.comparePath(r,o):!!this.compareCoord(r[n],o[o.length-(1+n)])&&this.comparePath(r.slice().reverse(),o)}},Ss.prototype.fixStartIndex=function(t,e){for(var n,i=-1,r=0;r<t.length;r++)if(this.compareCoord(t[r],e[0])){i=r;break}return i>=0&&(n=[].concat(t.slice(i,t.length),t.slice(1,i+1))),n},Ss.prototype.comparePath=function(t,e){var n=this;return t.every(function(t,e){return n.compareCoord(t,this[e])},e)},Ss.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var n=t.coordinates.slice(1,t.coordinates.length),i=e.coordinates.slice(1,e.coordinates.length),r=this;return n.every(function(t){return this.some(function(e){return r.compareLine(t,e,1,!0)})},i)}return!1},Ss.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},Ss.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},Ss.prototype.removePseudo=function(t){return t};var Es=Ss,Ls=gt(function(t){function e(t,e,n,i){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,n,i)}e.prototype.run=function(t,e,n,i){this._init(t,e,n,i);for(var r=0;r<this._datasetLength;r++)if(1!==this._visited[r]){this._visited[r]=1;var o=this._regionQuery(r);if(o.length<this.minPts)this.noise.push(r);else{var a=this.clusters.length;this.clusters.push([]),this._addToCluster(r,a),this._expandCluster(a,o)}}return this.clusters},e.prototype._init=function(t,e,n,i){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),n&&(this.minPts=n),i&&(this.distance=i)},e.prototype._expandCluster=function(t,e){for(var n=0;n<e.length;n++){var i=e[n];if(1!==this._visited[i]){this._visited[i]=1;var r=this._regionQuery(i);r.length>=this.minPts&&(e=this._mergeArrays(e,r))}1!==this._assigned[i]&&this._addToCluster(i,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],n=0;n<this._datasetLength;n++)this.distance(this.dataset[t],this.dataset[n])<this.epsilon&&e.push(n);return e},e.prototype._mergeArrays=function(t,e){for(var n=e.length,i=0;i<n;i++){var r=e[i];t.indexOf(r)<0&&t.push(r)}return t},e.prototype._euclideanDistance=function(t,e){for(var n=0,i=Math.min(t.length,e.length);i--;)n+=(t[i]-e[i])*(t[i]-e[i]);return Math.sqrt(n)},t.exports&&(t.exports=e)}),Ts=gt(function(t){function e(t,e,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,n)}e.prototype.init=function(t,e,n){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==n&&(this.distance=n)},e.prototype.run=function(t,e){this.init(t,e);for(var n=this.dataset.length,i=0;i<this.k;i++)this.centroids[i]=this.randomCentroid();for(var r=!0;r;){r=this.assign();for(var o=0;o<this.k;o++){for(var a=new Array(c),s=0,u=0;u<c;u++)a[u]=0;for(var l=0;l<n;l++){var c=this.dataset[l].length;if(o===this.assignments[l]){for(u=0;u<c;u++)a[u]+=this.dataset[l][u];s++}}if(s>0){for(u=0;u<c;u++)a[u]/=s;this.centroids[o]=a}else this.centroids[o]=this.randomCentroid(),r=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,n=this.dataset.length-1;do{e=Math.round(Math.random()*n),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,n=this.dataset.length,i=0;i<n;i++)(t=this.argmin(this.dataset[i],this.centroids,this.distance))!=this.assignments[i]&&(this.assignments[i]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===e[t=this.assignments[n]]&&(e[t]=[]),e[t].push(n);return e},e.prototype.argmin=function(t,e,n){for(var i,r=Number.MAX_VALUE,o=0,a=e.length,s=0;s<a;s++)(i=n(t,e[s]))<r&&(r=i,o=s);return o},e.prototype.distance=function(t,e){for(var n=0,i=Math.min(t.length,e.length);i--;){var r=t[i]-e[i];n+=r*r}return Math.sqrt(n)},t.exports&&(t.exports=e)}),Cs=gt(function(t){function e(t,e,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,n)}e.prototype.insert=function(t,e){for(var n=this._queue.length,i=n;i--;){var r=this._priorities[i];"desc"===this._sorting?e>r&&(n=i):e<r&&(n=i)}this._insertAt(t,e,n)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;)if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,n=this._queue.length;e<n;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,n){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var i=0;i<t.length;i++)this.insert(t[i],e[i])}n&&(this._sorting=n)},e.prototype._insertAt=function(t,e,n){this._queue.length===n?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(n,0,t),this._priorities.splice(n,0,e))},t.exports&&(t.exports=e)}),Is=gt(function(t){function e(t,e,n,i){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,n,i)}if(t.exports)var n=Cs;e.prototype.run=function(t,e,i,r){this._init(t,e,i,r);for(var o=0,a=this.dataset.length;o<a;o++)if(1!==this._processed[o]){this._processed[o]=1,this.clusters.push([o]);var s=this.clusters.length-1;this._orderedList.push(o);var u=new n(null,null,"asc"),l=this._regionQuery(o);void 0!==this._distanceToCore(o)&&(this._updateQueue(o,l,u),this._expandCluster(s,u))}return this.clusters},e.prototype.getReachabilityPlot=function(){for(var t=[],e=0,n=this._orderedList.length;e<n;e++){var i=this._orderedList[e];t.push([i,this._reachability[i]])}return t},e.prototype._init=function(t,e,n,i){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),n&&(this.minPts=n),i&&(this.distance=i)},e.prototype._updateQueue=function(t,e,n){var i=this;this._coreDistance=this._distanceToCore(t),e.forEach(function(e){if(void 0===i._processed[e]){var r=i.distance(i.dataset[t],i.dataset[e]),o=Math.max(i._coreDistance,r);void 0===i._reachability[e]?(i._reachability[e]=o,n.insert(e,o)):o<i._reachability[e]&&(i._reachability[e]=o,n.remove(e),n.insert(e,o))}})},e.prototype._expandCluster=function(t,e){for(var n=e.getElements(),i=0,r=n.length;i<r;i++){var o=n[i];if(void 0===this._processed[o]){var a=this._regionQuery(o);this._processed[o]=1,this.clusters[t].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,a,e),this._expandCluster(t,e))}}},e.prototype._distanceToCore=function(t){for(var e=this.epsilon,n=0;n<e;n++)if(this._regionQuery(t,n).length>=this.minPts)return n},e.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var n=[],i=0,r=this.dataset.length;i<r;i++)this.distance(this.dataset[t],this.dataset[i])<e&&n.push(i);return n},e.prototype._euclideanDistance=function(t,e){for(var n=0,i=Math.min(t.length,e.length);i--;)n+=(t[i]-e[i])*(t[i]-e[i]);return Math.sqrt(n)},t.exports&&(t.exports=e)}),Ps=gt(function(t){t.exports&&(t.exports={DBSCAN:Ls,KMEANS:Ts,OPTICS:Is,PriorityQueue:Cs})}),Ds=function(t,e,n){for(var i=t.length,r=0,o=0;o<i;o++){var a=(t[o]||0)-(e[o]||0);r+=a*a}return n?Math.sqrt(r):r},Os=Ds,As=function(t,e,n){var i=Math.abs(t-e);return n?i:i*i},Rs=Ds,Ns={search:function(t,e,n,i){t.cleanDirty();var r=(i=i||{}).heuristic||Ns.heuristics.manhattan,o=i.closest||!1,a=new Di(function(t){return t.f}),s=e;for(e.h=r(e,n),a.push(e);a.size()>0;){var u=a.pop();if(u===n)return Ci(u);u.closed=!0;for(var l=t.neighbors(u),c=0,h=l.length;c<h;++c){var d=l[c];if(!d.closed&&!d.isWall()){var f=u.g+d.getCost(u),p=d.visited;(!p||f<d.g)&&(d.visited=!0,d.parent=u,d.h=d.h||r(d,n),d.g=f,d.f=d.g+d.h,t.markDirty(d),o&&(d.h<s.h||d.h===s.h&&d.g<s.g)&&(s=d),p?a.rescoreElement(d):a.push(d))}}}return o?Ci(s):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var n=Math.sqrt(2),i=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return 1*(i+r)+(n-2)*Math.min(i,r)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};Ii.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)Ns.cleanNode(this.nodes[t])},Ii.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)Ns.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},Ii.prototype.markDirty=function(t){this.dirtyNodes.push(t)},Ii.prototype.neighbors=function(t){var e=[],n=t.x,i=t.y,r=this.grid;return r[n-1]&&r[n-1][i]&&e.push(r[n-1][i]),r[n+1]&&r[n+1][i]&&e.push(r[n+1][i]),r[n]&&r[n][i-1]&&e.push(r[n][i-1]),r[n]&&r[n][i+1]&&e.push(r[n][i+1]),this.diagonal&&(r[n-1]&&r[n-1][i-1]&&e.push(r[n-1][i-1]),r[n+1]&&r[n+1][i-1]&&e.push(r[n+1][i-1]),r[n-1]&&r[n-1][i+1]&&e.push(r[n-1][i+1]),r[n+1]&&r[n+1][i+1]&&e.push(r[n+1][i+1])),e},Ii.prototype.toString=function(){for(var t,e,n,i,r=[],o=this.grid,a=0,s=o.length;a<s;a++){for(t=[],n=0,i=(e=o[a]).length;n<i;n++)t.push(e[n].weight);r.push(t.join(" "))}return r.join("\n")},Pi.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Pi.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},Pi.prototype.isWall=function(){return 0===this.weight},Di.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,i=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(i)))break;this.content[n]=e,this.content[t]=i,t=n}},bubbleUp:function(t){for(var e=this.content.length,n=this.content[t],i=this.scoreFunction(n);;){var r,o=t+1<<1,a=o-1,s=null;if(a<e&&(r=this.scoreFunction(this.content[a]))<i&&(s=a),o<e&&this.scoreFunction(this.content[o])<(null===s?i:r)&&(s=o),null===s)break;this.content[t]=this.content[s],this.content[s]=n,t=s}}};var Fs=function(t){return function(){return t}};Ri.prototype={constructor:Ri,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=zi(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(Fi(this,n),n=(t=n).U),n.C=!1,i.C=!0,Yi(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(Yi(this,n),n=(t=n).U),n.C=!1,i.C=!0,Fi(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,a=t.R;if(n=o?a?zi(a):o:a,r?r.L===t?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(r=n.U,n.U=t.U,r.L=t=n.R,n.R=a,a.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,Fi(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Yi(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,Fi(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,Yi(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Fi(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,Yi(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var Ys,zs,js,Bs,Hs,Us=[],Vs=[],qs=1e-6,Gs=1e-12;ir.prototype={constructor:ir,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return Gi(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,i){if(o=(r=n.halfedges).length)for(var r,o,a,s=n.site,u=-1,l=e[r[o-1]],c=l.left===s?l.right:l.left;++u<o;)a=c,c=(l=e[r[u]]).left===s?l.right:l.left,a&&c&&i<a.index&&i<c.index&&er(s,a,c)<0&&t.push([s.data,a.data,c.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var i,r,o=this,a=o._found||0,s=o.cells.length;!(r=o.cells[a]);)if(++a>=s)return null;var u=t-r.site[0],l=e-r.site[1],c=u*u+l*l;do{r=o.cells[i=a],a=null,r.halfedges.forEach(function(n){var i=o.edges[n],s=i.left;if(s!==r.site&&s||(s=i.right)){var u=t-s[0],l=e-s[1],h=u*u+l*l;h<c&&(c=h,a=s.index)}})}while(null!==a);return o._found=i,null==n||c<=n*n?r.site:null}};var Ws=Object.freeze({randomPosition:cr,randomPoint:hr,randomPolygon:dr,randomLineString:fr}),Xs=Object.freeze({getCluster:mr,clusterEach:gr,clusterReduce:yr,createBins:vr,applyFilter:_r,propertiesContainsFilter:br,filterProperties:xr});"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,i=1 in arguments&&parseInt(Number(arguments[1]),10)||0;i=i<0?Math.max(n+i,0):Math.min(i,n);var r=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(r=r<0?Math.max(n+arguments[2],0):Math.min(r,n);i<r;)e[i]=t,++i;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var Ks=function(){};Ks.prototype.interfaces_=function(){return[]},Ks.prototype.getClass=function(){return Ks},Ks.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var Zs=function(){},Qs=function(){},Js={MAX_VALUE:{configurable:!0}};Qs.isNaN=function(t){return Number.isNaN(t)},Qs.doubleToLongBits=function(t){return t},Qs.longBitsToDouble=function(t){return t},Qs.isInfinite=function(t){return!Number.isFinite(t)},Js.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(Qs,Js);var $s=function(){},tu=function(){},eu=function(){},nu=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},iu={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};nu.prototype.setOrdinate=function(t,e){switch(t){case nu.X:this.x=e;break;case nu.Y:this.y=e;break;case nu.Z:this.z=e;break;default:throw new Zs("Invalid ordinate index: "+t)}},nu.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!Ks.equalsWithTolerance(this.x,e.x,n)&&!!Ks.equalsWithTolerance(this.y,e.y,n)}},nu.prototype.getOrdinate=function(t){switch(t){case nu.X:return this.x;case nu.Y:return this.y;case nu.Z:return this.z}throw new Zs("Invalid ordinate index: "+t)},nu.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||Qs.isNaN(this.z))&&Qs.isNaN(t.z)},nu.prototype.equals=function(t){return t instanceof nu&&this.equals2D(t)},nu.prototype.equalInZ=function(t,e){return Ks.equalsWithTolerance(this.z,t.z,e)},nu.prototype.compareTo=function(t){return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0},nu.prototype.clone=function(){},nu.prototype.copy=function(){return new nu(this)},nu.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},nu.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return Math.sqrt(e*e+n*n+i*i)},nu.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},nu.prototype.hashCode=function(){var t=17;return 37*(t=37*t+nu.hashCode(this.x))+nu.hashCode(this.y)},nu.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},nu.prototype.interfaces_=function(){return[$s,tu,wr]},nu.prototype.getClass=function(){return nu},nu.hashCode=function(){if(1===arguments.length){var t=Qs.doubleToLongBits(arguments[0]);return Math.trunc((t^t)>>>32)}},iu.DimensionalComparator.get=function(){return ru},iu.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},iu.NULL_ORDINATE.get=function(){return Qs.NaN},iu.X.get=function(){return 0},iu.Y.get=function(){return 1},iu.Z.get=function(){return 2},Object.defineProperties(nu,iu);var ru=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new Zs("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};ru.prototype.compare=function(t,e){var n=t,i=e,r=ru.compare(n.x,i.x);if(0!==r)return r;var o=ru.compare(n.y,i.y);return 0!==o?o:this._dimensionsToTest<=2?0:ru.compare(n.z,i.z)},ru.prototype.interfaces_=function(){return[eu]},ru.prototype.getClass=function(){return ru},ru.compare=function(t,e){return t<e?-1:t>e?1:Qs.isNaN(t)?Qs.isNaN(e)?0:-1:Qs.isNaN(e)?1:0};var ou=function(){};ou.prototype.create=function(){},ou.prototype.interfaces_=function(){return[]},ou.prototype.getClass=function(){return ou};var au=function(){},su={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};au.prototype.interfaces_=function(){return[]},au.prototype.getClass=function(){return au},au.toLocationSymbol=function(t){switch(t){case au.EXTERIOR:return"e";case au.BOUNDARY:return"b";case au.INTERIOR:return"i";case au.NONE:return"-"}throw new Zs("Unknown location value: "+t)},su.INTERIOR.get=function(){return 0},su.BOUNDARY.get=function(){return 1},su.EXTERIOR.get=function(){return 2},su.NONE.get=function(){return-1},Object.defineProperties(au,su);var uu=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},lu=function(){},cu={LOG_10:{configurable:!0}};lu.prototype.interfaces_=function(){return[]},lu.prototype.getClass=function(){return lu},lu.log10=function(t){var e=Math.log(t);return Qs.isInfinite(e)||Qs.isNaN(e)?e:e/lu.LOG_10},lu.min=function(t,e,n,i){var r=t;return e<r&&(r=e),n<r&&(r=n),i<r&&(r=i),r},lu.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],r=arguments[1],o=arguments[2];return i<r?r:i>o?o:i}},lu.wrap=function(t,e){return t<0?e- -t%e:t%e},lu.max=function(){if(3===arguments.length){var t=arguments[1],e=arguments[2],n=arguments[0];return t>n&&(n=t),e>n&&(n=e),n}if(4===arguments.length){var i=arguments[1],r=arguments[2],o=arguments[3],a=arguments[0];return i>a&&(a=i),r>a&&(a=r),o>a&&(a=o),a}},lu.average=function(t,e){return(t+e)/2},cu.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(lu,cu);var hu=function(t){this.str=t};hu.prototype.append=function(t){this.str+=t},hu.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},hu.prototype.toString=function(t){return this.str};var du=function(t){this.value=t};du.prototype.intValue=function(){return this.value},du.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},du.isNaN=function(t){return Number.isNaN(t)};var fu=function(){};fu.isWhitespace=function(t){return t<=32&&t>=0||127===t},fu.toUpperCase=function(t){return t.toUpperCase()};var pu=function t(){this._hi=0,this._lo=0,0===arguments.length?this.init(0):1===arguments.length?"number"==typeof arguments[0]||arguments[0]instanceof t?this.init(arguments[0]):"string"==typeof arguments[0]&&t.call(this,t.parse(arguments[0])):2===arguments.length&&this.init(arguments[0],arguments[1])},mu={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};pu.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},pu.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),i=pu.magnitude(n._hi),r=pu.TEN.pow(i);(n=n.divide(r)).gt(pu.TEN)?(n=n.divide(pu.TEN),i+=1):n.lt(pu.ONE)&&(n=n.multiply(pu.TEN),i-=1);for(var o=i+1,a=new hu,s=pu.MAX_PRINT_DIGITS-1,u=0;u<=s;u++){t&&u===o&&a.append(".");var l=Math.trunc(n._hi);if(l<0)break;var c=!1,h=0;l>9?(c=!0,h="9"):h="0"+l,a.append(h),n=n.subtract(pu.valueOf(l)).multiply(pu.TEN),c&&n.selfAdd(pu.TEN);var d=!0,f=pu.magnitude(n._hi);if(f<0&&Math.abs(f)>=s-u&&(d=!1),!d)break}return e[0]=i,a.toString()},pu.prototype.sqr=function(){return this.multiply(this)},pu.prototype.doubleValue=function(){return this._hi+this._lo},pu.prototype.subtract=function(){return arguments[0]instanceof pu?this.add(arguments[0].negate()):"number"==typeof arguments[0]?this.add(-arguments[0]):void 0},pu.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},pu.prototype.isZero=function(){return 0===this._hi&&0===this._lo},pu.prototype.selfSubtract=function(){if(arguments[0]instanceof pu){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},pu.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},pu.prototype.min=function(t){return this.le(t)?this:t},pu.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof pu){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0])return this.selfDivide(arguments[0],0)}else if(2===arguments.length){var e=arguments[0],n=null,i=null,r=null,o=null,a=null,s=null,u=null,l=null;return this._hi=l=(a=this._hi/e)+(s=(this._hi-(u=a*e)-(l=(n=(s=pu.SPLIT*a)-(n=s-a))*(r=(l=pu.SPLIT*e)-(r=l-e))-u+n*(o=e-r)+(i=a-n)*r+i*o)+this._lo-a*arguments[1])/e),this._lo=a-l+s,this}},pu.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},pu.prototype.divide=function(){if(arguments[0]instanceof pu){var t=arguments[0],e=null,n=null,i=null,r=null,o=null,a=null,s=null,u=null;return n=(o=this._hi/t._hi)-(e=(a=pu.SPLIT*o)-(e=a-o)),u=e*(i=(u=pu.SPLIT*t._hi)-(i=u-t._hi))-(s=o*t._hi)+e*(r=t._hi-i)+n*i+n*r,new pu(u=o+(a=(this._hi-s-u+this._lo-o*t._lo)/t._hi),o-u+a)}if("number"==typeof arguments[0]){var l=arguments[0];return Qs.isNaN(l)?pu.createNaN():pu.copy(this).selfDivide(l,0)}},pu.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},pu.prototype.pow=function(t){if(0===t)return pu.valueOf(1);var e=new pu(this),n=pu.valueOf(1),i=Math.abs(t);if(i>1)for(;i>0;)i%2==1&&n.selfMultiply(e),(i/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},pu.prototype.ceil=function(){if(this.isNaN())return pu.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new pu(t,e)},pu.prototype.compareTo=function(t){return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0},pu.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},pu.prototype.setValue=function(){return arguments[0]instanceof pu||"number"==typeof arguments[0]?(this.init(arguments[0]),this):void 0},pu.prototype.max=function(t){return this.ge(t)?this:t},pu.prototype.sqrt=function(){if(this.isZero())return pu.valueOf(0);if(this.isNegative())return pu.NaN;var t=1/Math.sqrt(this._hi),e=pu.valueOf(this._hi*t),n=this.subtract(e.sqr())._hi*(.5*t);return e.add(n)},pu.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof pu){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,i=null,r=null,o=null,a=null;return this._hi=(n=(r=this._hi+e)+(a=e-(o=r-this._hi)+(this._hi-(r-o))+this._lo))+(i=a+(r-n)),this._lo=i+(n-this._hi),this}}else if(2===arguments.length){var s=arguments[0],u=arguments[1],l=null,c=null,h=null,d=null,f=null,p=null,m=null;f=(d=this._hi+s)-(p=d-this._hi),h=(c=this._lo+u)-(m=c-this._lo);var g=(l=d+(p=(f=s-p+(this._hi-f))+c))+(p=(h=u-m+(this._lo-h))+(p+(d-l))),y=p+(l-g);return this._hi=g,this._lo=y,this}},pu.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof pu){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0])return this.selfMultiply(arguments[0],0)}else if(2===arguments.length){var e=arguments[0],n=null,i=null,r=null,o=null,a=null,s=null;n=(a=pu.SPLIT*this._hi)-this._hi,n=a-n;var u=(a=this._hi*e)+(s=n*(r=(s=pu.SPLIT*e)-(r=s-e))-a+n*(o=e-r)+(i=this._hi-n)*r+i*o+(this._hi*arguments[1]+this._lo*e)),l=s+(n=a-u);return this._hi=u,this._lo=l,this}},pu.prototype.selfSqr=function(){return this.selfMultiply(this)},pu.prototype.floor=function(){if(this.isNaN())return pu.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new pu(t,e)},pu.prototype.negate=function(){return this.isNaN()?this:new pu(-this._hi,-this._lo)},pu.prototype.clone=function(){},pu.prototype.multiply=function(){if(arguments[0]instanceof pu){var t=arguments[0];return t.isNaN()?pu.createNaN():pu.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return Qs.isNaN(e)?pu.createNaN():pu.copy(this).selfMultiply(e,0)}},pu.prototype.isNaN=function(){return Qs.isNaN(this._hi)},pu.prototype.intValue=function(){return Math.trunc(this._hi)},pu.prototype.toString=function(){var t=pu.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},pu.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),i=e[0]+1,r=n;return"."===n.charAt(0)?r="0"+n:i<0?r="0."+pu.stringOfChar("0",-i)+n:-1===n.indexOf(".")&&(r=n+pu.stringOfChar("0",i-n.length)+".0"),this.isNegative()?"-"+r:r},pu.prototype.reciprocal=function(){var t,e,n,i,r=null,o=null,a=null,s=null;t=(n=1/this._hi)-(r=(a=pu.SPLIT*n)-(r=a-n)),o=(s=pu.SPLIT*this._hi)-this._hi;var u=n+(a=(1-(i=n*this._hi)-(s=r*(o=s-o)-i+r*(e=this._hi-o)+t*o+t*e)-n*this._lo)/this._hi);return new pu(u,n-u+a)},pu.prototype.toSciNotation=function(){if(this.isZero())return pu.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),i=pu.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var r="";n.length>1&&(r=n.substring(1));var o=n.charAt(0)+"."+r;return this.isNegative()?"-"+o+i:o+i},pu.prototype.abs=function(){return this.isNaN()?pu.NaN:this.isNegative()?this.negate():new pu(this)},pu.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},pu.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},pu.prototype.add=function(){if(arguments[0]instanceof pu){var t=arguments[0];return pu.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return pu.copy(this).selfAdd(e)}},pu.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0])this._hi=arguments[0],this._lo=0;else if(arguments[0]instanceof pu){var t=arguments[0];this._hi=t._hi,this._lo=t._lo}}else if(2===arguments.length){var e=arguments[1];this._hi=arguments[0],this._lo=e}},pu.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},pu.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},pu.prototype.trunc=function(){return this.isNaN()?pu.NaN:this.isPositive()?this.floor():this.ceil()},pu.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},pu.prototype.interfaces_=function(){return[wr,$s,tu]},pu.prototype.getClass=function(){return pu},pu.sqr=function(t){return pu.valueOf(t).selfMultiply(t)},pu.valueOf=function(){return"string"==typeof arguments[0]?pu.parse(arguments[0]):"number"==typeof arguments[0]?new pu(arguments[0]):void 0},pu.sqrt=function(t){return pu.valueOf(t).sqrt()},pu.parse=function(t){for(var e=0,n=t.length;fu.isWhitespace(t.charAt(e));)e++;var i=!1;if(e<n){var r=t.charAt(e);"-"!==r&&"+"!==r||(e++,"-"===r&&(i=!0))}for(var o=new pu,a=0,s=0,u=0;!(e>=n);){var l=t.charAt(e);if(e++,fu.isDigit(l)){var c=l-"0";o.selfMultiply(pu.TEN),o.selfAdd(c),a++}else{if("."!==l){if("e"===l||"E"===l){var h=t.substring(e);try{u=du.parseInt(h)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+h+" in string "+t):e}break}throw new Error("Unexpected character '"+l+"' at position "+e+" in string "+t)}s=a}}var d=o,f=a-s-u;if(0===f)d=o;else if(f>0){var p=pu.TEN.pow(f);d=o.divide(p)}else if(f<0){var m=pu.TEN.pow(-f);d=o.multiply(m)}return i?d.negate():d},pu.createNaN=function(){return new pu(Qs.NaN,Qs.NaN)},pu.copy=function(t){return new pu(t)},pu.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),i=Math.trunc(Math.floor(n));return 10*Math.pow(10,i)<=e&&(i+=1),i},pu.stringOfChar=function(t,e){for(var n=new hu,i=0;i<e;i++)n.append(t);return n.toString()},mu.PI.get=function(){return new pu(3.141592653589793,12246467991473532e-32)},mu.TWO_PI.get=function(){return new pu(6.283185307179586,24492935982947064e-32)},mu.PI_2.get=function(){return new pu(1.5707963267948966,6123233995736766e-32)},mu.E.get=function(){return new pu(2.718281828459045,14456468917292502e-32)},mu.NaN.get=function(){return new pu(Qs.NaN,Qs.NaN)},mu.EPS.get=function(){return 123259516440783e-46},mu.SPLIT.get=function(){return 134217729},mu.MAX_PRINT_DIGITS.get=function(){return 32},mu.TEN.get=function(){return pu.valueOf(10)},mu.ONE.get=function(){return pu.valueOf(1)},mu.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},mu.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(pu,mu);var gu=function(){},yu={DP_SAFE_EPSILON:{configurable:!0}};gu.prototype.interfaces_=function(){return[]},gu.prototype.getClass=function(){return gu},gu.orientationIndex=function(t,e,n){var i=gu.orientationIndexFilter(t,e,n);if(i<=1)return i;var r=pu.valueOf(e.x).selfAdd(-t.x),o=pu.valueOf(e.y).selfAdd(-t.y),a=pu.valueOf(n.x).selfAdd(-e.x),s=pu.valueOf(n.y).selfAdd(-e.y);return r.selfMultiply(s).selfSubtract(o.selfMultiply(a)).signum()},gu.signOfDet2x2=function(t,e,n,i){return t.multiply(i).selfSubtract(e.multiply(n)).signum()},gu.intersection=function(t,e,n,i){var r=pu.valueOf(i.y).selfSubtract(n.y).selfMultiply(pu.valueOf(e.x).selfSubtract(t.x)),o=pu.valueOf(i.x).selfSubtract(n.x).selfMultiply(pu.valueOf(e.y).selfSubtract(t.y)),a=r.subtract(o),s=pu.valueOf(i.x).selfSubtract(n.x).selfMultiply(pu.valueOf(t.y).selfSubtract(n.y)),u=pu.valueOf(i.y).selfSubtract(n.y).selfMultiply(pu.valueOf(t.x).selfSubtract(n.x)),l=s.subtract(u).selfDivide(a).doubleValue(),c=pu.valueOf(t.x).selfAdd(pu.valueOf(e.x).selfSubtract(t.x).selfMultiply(l)).doubleValue(),h=pu.valueOf(e.x).selfSubtract(t.x).selfMultiply(pu.valueOf(t.y).selfSubtract(n.y)),d=pu.valueOf(e.y).selfSubtract(t.y).selfMultiply(pu.valueOf(t.x).selfSubtract(n.x)),f=h.subtract(d).selfDivide(a).doubleValue(),p=pu.valueOf(n.y).selfAdd(pu.valueOf(i.y).selfSubtract(n.y).selfMultiply(f)).doubleValue();return new nu(c,p)},gu.orientationIndexFilter=function(t,e,n){var i=null,r=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),a=r-o;if(r>0){if(o<=0)return gu.signum(a);i=r+o}else{if(!(r<0))return gu.signum(a);if(o>=0)return gu.signum(a);i=-r-o}var s=gu.DP_SAFE_EPSILON*i;return a>=s||-a>=s?gu.signum(a):2},gu.signum=function(t){return t>0?1:t<0?-1:0},yu.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(gu,yu);var vu=function(){},_u={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};_u.X.get=function(){return 0},_u.Y.get=function(){return 1},_u.Z.get=function(){return 2},_u.M.get=function(){return 3},vu.prototype.setOrdinate=function(t,e,n){},vu.prototype.size=function(){},vu.prototype.getOrdinate=function(t,e){},vu.prototype.getCoordinate=function(){},vu.prototype.getCoordinateCopy=function(t){},vu.prototype.getDimension=function(){},vu.prototype.getX=function(t){},vu.prototype.clone=function(){},vu.prototype.expandEnvelope=function(t){},vu.prototype.copy=function(){},vu.prototype.getY=function(t){},vu.prototype.toCoordinateArray=function(){},vu.prototype.interfaces_=function(){return[tu]},vu.prototype.getClass=function(){return vu},Object.defineProperties(vu,_u);var bu=function(){},xu=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(bu),wu=function(){};wu.arraycopy=function(t,e,n,i,r){for(var o=0,a=e;a<e+r;a++)n[i+o]=t[a],o++},wu.getProperty=function(t){return{"line.separator":"\n"}[t]};var ku=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[1];this.x=arguments[0],this.y=n,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var i=arguments[0],r=arguments[1];this.x=i.y*r.w-r.y*i.w,this.y=r.x*i.w-i.x*r.w,this.w=i.x*r.y-r.x*i.y}else if(arguments[0]instanceof nu&&arguments[1]instanceof nu){var o=arguments[0],a=arguments[1];this.x=o.y-a.y,this.y=a.x-o.x,this.w=o.x*a.y-a.x*o.y}}else if(3===arguments.length){var s=arguments[1],u=arguments[2];this.x=arguments[0],this.y=s,this.w=u}else if(4===arguments.length){var l=arguments[0],c=arguments[1],h=arguments[2],d=arguments[3],f=l.y-c.y,p=c.x-l.x,m=l.x*c.y-c.x*l.y,g=h.y-d.y,y=d.x-h.x,v=h.x*d.y-d.x*h.y;this.x=p*v-y*m,this.y=g*m-f*v,this.w=f*y-g*p}};ku.prototype.getY=function(){var t=this.y/this.w;if(Qs.isNaN(t)||Qs.isInfinite(t))throw new xu;return t},ku.prototype.getX=function(){var t=this.x/this.w;if(Qs.isNaN(t)||Qs.isInfinite(t))throw new xu;return t},ku.prototype.getCoordinate=function(){var t=new nu;return t.x=this.getX(),t.y=this.getY(),t},ku.prototype.interfaces_=function(){return[]},ku.prototype.getClass=function(){return ku},ku.intersection=function(t,e,n,i){var r=t.y-e.y,o=e.x-t.x,a=t.x*e.y-e.x*t.y,s=n.y-i.y,u=i.x-n.x,l=n.x*i.y-i.x*n.y,c=r*u-s*o,h=(o*l-u*a)/c,d=(s*a-r*l)/c;if(Qs.isNaN(h)||Qs.isInfinite(h)||Qs.isNaN(d)||Qs.isInfinite(d))throw new xu;return new nu(h,d)};var Mu=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length)if(arguments[0]instanceof nu){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else arguments[0]instanceof t&&this.init(arguments[0]);else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else 4===arguments.length&&this.init(arguments[0],arguments[1],arguments[2],arguments[3])},Su={serialVersionUID:{configurable:!0}};Mu.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Mu.prototype.equals=function(t){if(!(t instanceof Mu))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},Mu.prototype.intersection=function(t){return this.isNull()||t.isNull()||!this.intersects(t)?new Mu:new Mu(this._minx>t._minx?this._minx:t._minx,this._maxx<t._maxx?this._maxx:t._maxx,this._miny>t._miny?this._miny:t._miny,this._maxy<t._maxy?this._maxy:t._maxy)},Mu.prototype.isNull=function(){return this._maxx<this._minx},Mu.prototype.getMaxX=function(){return this._maxx},Mu.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof nu){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof Mu){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&i>=this._miny&&i<=this._maxy}},Mu.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof Mu){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof nu){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||i>this._maxy||i<this._miny)}},Mu.prototype.getMinY=function(){return this._miny},Mu.prototype.getMinX=function(){return this._minx},Mu.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof nu){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof Mu){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=i,this._maxy=i):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),i<this._miny&&(this._miny=i),i>this._maxy&&(this._maxy=i))}},Mu.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},Mu.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Mu.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},Mu.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},Mu.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Mu.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Mu.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Mu.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},Mu.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Mu.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof Mu)return this.covers(arguments[0]);if(arguments[0]instanceof nu)return this.covers(arguments[0])}else if(2===arguments.length)return this.covers(arguments[0],arguments[1])},Mu.prototype.centre=function(){return this.isNull()?null:new nu((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Mu.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof nu){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof Mu){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];r<o?(this._minx=r,this._maxx=o):(this._minx=o,this._maxx=r),a<s?(this._miny=a,this._maxy=s):(this._miny=s,this._maxy=a)}},Mu.prototype.getMaxY=function(){return this._maxy},Mu.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},Mu.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+nu.hashCode(this._minx))+nu.hashCode(this._maxx))+nu.hashCode(this._miny))+nu.hashCode(this._maxy)},Mu.prototype.interfaces_=function(){return[$s,wr]},Mu.prototype.getClass=function(){return Mu},Mu.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],a=arguments[3],s=Math.min(o.x,a.x),u=Math.max(o.x,a.x),l=Math.min(i.x,r.x),c=Math.max(i.x,r.x);return!(l>u||c<s||(s=Math.min(o.y,a.y),u=Math.max(o.y,a.y),l=Math.min(i.y,r.y),c=Math.max(i.y,r.y),l>u||c<s))}},Su.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(Mu,Su);var Eu={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Lu=function(t){this.geometryFactory=t||new Zl};Lu.prototype.read=function(t){var e,n;t=t.replace(/[\n\r]/g," ");var i=Eu.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((i=Eu.emptyTypeStr.exec(t))[2]=void 0),i&&(n=i[1].toLowerCase(),Cu[n]&&(e=Cu[n].apply(this,[i[2]]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},Lu.prototype.write=function(t){return this.extractGeometry(t)},Lu.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!Tu[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+Tu[e].apply(this,[t])+")"};var Tu={coordinate:function(t){return t.x+" "+t.y},point:function(t){return Tu.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+Tu.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,i=t._points._coordinates.length;n<i;++n)e.push(Tu.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,i=t._points._coordinates.length;n<i;++n)e.push(Tu.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+Tu.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+Tu.linestring.apply(this,[t._shell])+")");for(var n=0,i=t._holes.length;n<i;++n)e.push("("+Tu.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+Tu.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},Cu={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(Eu.spaces);return this.geometryFactory.createPoint(new nu(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(Eu.trimParens,"$1"),i.push(Cu.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(i)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(Eu.spaces),i.push(new nu(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(i)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(Eu.spaces),i.push(new nu(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(i)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(Eu.parenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(Eu.trimParens,"$1"),i.push(Cu.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(i)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,i,r,o=t.trim().split(Eu.parenComma),a=[],s=0,u=o.length;s<u;++s)e=o[s].replace(Eu.trimParens,"$1"),n=Cu.linestring.apply(this,[e]),i=this.geometryFactory.createLinearRing(n._points),0===s?r=i:a.push(i);return this.geometryFactory.createPolygon(r,a)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(Eu.doubleParenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(Eu.trimParens,"$1"),i.push(Cu.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(i)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],i=0,r=e.length;i<r;++i)n.push(this.read(e[i]));return this.geometryFactory.createGeometryCollection(n)}},Iu=function(t){this.parser=new Lu(t)};Iu.prototype.write=function(t){return this.parser.write(t)},Iu.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var Pu=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Error),Du=function(t){function e(){t.call(this),0===arguments.length?t.call(this):1===arguments.length&&t.call(this,arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Pu),Ou=function(){};Ou.prototype.interfaces_=function(){return[]},Ou.prototype.getClass=function(){return Ou},Ou.shouldNeverReachHere=function(){if(0===arguments.length)Ou.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new Du("Should never reach here"+(null!==t?": "+t:""))}},Ou.isTrue=function(){var t;if(1===arguments.length)Ou.isTrue(arguments[0],null);else if(2===arguments.length&&(t=arguments[1],!arguments[0]))throw null===t?new Du:new Du(t)},Ou.equals=function(){var t,e,n;if(2===arguments.length)Ou.equals(t=arguments[0],e=arguments[1],null);else if(3===arguments.length&&(n=arguments[2],!(e=arguments[1]).equals(t=arguments[0])))throw new Du("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};var Au=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new nu,this._intPt[1]=new nu,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Ru={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Au.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},Au.prototype.getTopologySummary=function(){var t=new hu;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},Au.prototype.computeIntersection=function(t,e,n,i){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=i,this._result=this.computeIntersect(t,e,n,i)},Au.prototype.getIntersectionNum=function(){return this._result},Au.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},Au.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Au.prototype.setPrecisionModel=function(t){this._precisionModel=t},Au.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},Au.prototype.getIntersection=function(t){return this._intPt[t]},Au.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Au.prototype.hasIntersection=function(){return this._result!==Au.NO_INTERSECTION},Au.prototype.getEdgeDistance=function(t,e){return Au.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},Au.prototype.isCollinear=function(){return this._result===Au.COLLINEAR_INTERSECTION},Au.prototype.toString=function(){return Iu.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Iu.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Au.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},Au.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},Au.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},Au.prototype.interfaces_=function(){return[]},Au.prototype.getClass=function(){return Au},Au.computeEdgeDistance=function(t,e,n){var i=Math.abs(n.x-e.x),r=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=i>r?i:r;else{var a=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);0!==(o=i>r?a:s)||t.equals(e)||(o=Math.max(a,s))}return Ou.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},Au.nonRobustComputeEdgeDistance=function(t,e,n){var i=t.x-e.x,r=t.y-e.y,o=Math.sqrt(i*i+r*r);return Ou.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},Ru.DONT_INTERSECT.get=function(){return 0},Ru.DO_INTERSECT.get=function(){return 1},Ru.COLLINEAR.get=function(){return 2},Ru.NO_INTERSECTION.get=function(){return 0},Ru.POINT_INTERSECTION.get=function(){return 1},Ru.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Au,Ru);var Nu=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new Mu(this._inputLines[0][0],this._inputLines[0][1]),n=new Mu(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],i=arguments[2];if(this._isProper=!1,Mu.intersects(n,i,e)&&0===zu.orientationIndex(n,i,e)&&0===zu.orientationIndex(i,n,e))return this._isProper=!0,(e.equals(n)||e.equals(i))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,i,r){r.x=this.smallestInAbsValue(t.x,e.x,n.x,i.x),r.y=this.smallestInAbsValue(t.y,e.y,n.y,i.y),t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},e.prototype.safeHCoordinateIntersection=function(t,n,i,r){var o=null;try{o=ku.intersection(t,n,i,r)}catch(a){if(!(a instanceof xu))throw a;o=e.nearestEndpoint(t,n,i,r)}return o},e.prototype.intersection=function(t,n,i,r){var o=this.intersectionWithNormalization(t,n,i,r);return this.isInSegmentEnvelopes(o)||(o=new nu(e.nearestEndpoint(t,n,i,r))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,n,i){var r=t,o=Math.abs(r);return Math.abs(e)<o&&(r=e,o=Math.abs(e)),Math.abs(n)<o&&(r=n,o=Math.abs(n)),Math.abs(i)<o&&(r=i),r},e.prototype.checkDD=function(t,e,n,i,r){var o=gu.intersection(t,e,n,i),a=this.isInSegmentEnvelopes(o);wu.out.println("DD in env = "+a+"  --------------------- "+o),r.distance(o)>1e-4&&wu.out.println("Distance = "+r.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,n,i){var r=new nu(t),o=new nu(e),a=new nu(n),s=new nu(i),u=new nu;this.normalizeToEnvCentre(r,o,a,s,u);var l=this.safeHCoordinateIntersection(r,o,a,s);return l.x+=u.x,l.y+=u.y,l},e.prototype.computeCollinearIntersection=function(e,n,i,r){var o=Mu.intersects(e,n,i),a=Mu.intersects(e,n,r),s=Mu.intersects(i,r,e),u=Mu.intersects(i,r,n);return o&&a?(this._intPt[0]=i,this._intPt[1]=r,t.COLLINEAR_INTERSECTION):s&&u?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):o&&s?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||a||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&u?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||a||s?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):a&&s?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||o||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):a&&u?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||o||s?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,i,r){var o=t.x<e.x?t.x:e.x,a=t.y<e.y?t.y:e.y,s=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,l=n.x<i.x?n.x:i.x,c=n.y<i.y?n.y:i.y,h=n.x>i.x?n.x:i.x,d=n.y>i.y?n.y:i.y,f=((a>c?a:c)+(u<d?u:d))/2;r.x=((o>l?o:l)+(s<h?s:h))/2,r.y=f,t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},e.prototype.computeIntersect=function(e,n,i,r){if(this._isProper=!1,!Mu.intersects(e,n,i,r))return t.NO_INTERSECTION;var o=zu.orientationIndex(e,n,i),a=zu.orientationIndex(e,n,r);if(o>0&&a>0||o<0&&a<0)return t.NO_INTERSECTION;var s=zu.orientationIndex(i,r,e),u=zu.orientationIndex(i,r,n);return s>0&&u>0||s<0&&u<0?t.NO_INTERSECTION:0===o&&0===a&&0===s&&0===u?this.computeCollinearIntersection(e,n,i,r):(0===o||0===a||0===s||0===u?(this._isProper=!1,e.equals2D(i)||e.equals2D(r)?this._intPt[0]=e:n.equals2D(i)||n.equals2D(r)?this._intPt[0]=n:0===o?this._intPt[0]=new nu(i):0===a?this._intPt[0]=new nu(r):0===s?this._intPt[0]=new nu(e):0===u&&(this._intPt[0]=new nu(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,i,r)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,i){var r=t,o=zu.distancePointLine(t,n,i),a=zu.distancePointLine(e,n,i);return a<o&&(o=a,r=e),(a=zu.distancePointLine(n,t,e))<o&&(o=a,r=n),(a=zu.distancePointLine(i,t,e))<o&&(o=a,r=i),r},e}(Au),Fu=function(){};Fu.prototype.interfaces_=function(){return[]},Fu.prototype.getClass=function(){return Fu},Fu.orientationIndex=function(t,e,n){return Fu.signOfDet2x2(e.x-t.x,e.y-t.y,n.x-e.x,n.y-e.y)},Fu.signOfDet2x2=function(t,e,n,i){var r=null,o=null,a=null;if(r=1,0===t||0===i)return 0===e||0===n?0:e>0?n>0?-r:r:n>0?r:-r;if(0===e||0===n)return i>0?t>0?r:-r:t>0?-r:r;if(e>0?i>0?e<=i||(r=-r,o=t,t=n,n=o,o=e,e=i,i=o):e<=-i?(r=-r,n=-n,i=-i):(o=t,t=-n,n=o,o=e,e=-i,i=o):i>0?-e<=i?(r=-r,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=i,i=o):e>=i?(t=-t,e=-e,n=-n,i=-i):(r=-r,o=-t,t=-n,n=o,o=-e,e=-i,i=o),t>0){if(!(n>0))return r;if(!(t<=n))return r}else{if(n>0)return-r;if(!(t>=n))return-r;r=-r,t=-t,n=-n}for(;;){if((i-=(a=Math.floor(n/t))*e)<0)return-r;if(i>e)return r;if(t>(n-=a*t)+n){if(e<i+i)return r}else{if(e>i+i)return-r;n=t-n,i=e-i,r=-r}if(0===i)return 0===n?0:-r;if(0===n)return r;if((e-=(a=Math.floor(t/n))*i)<0)return r;if(e>i)return-r;if(n>(t-=a*n)+t){if(i<e+e)return-r}else{if(i>e+e)return r;t=n-t,e=i-e,r=-r}if(0===e)return 0===t?0:r;if(0===t)return-r}};var Yu=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1,this._p=arguments[0]};Yu.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,i=e.x;return n>i&&(n=e.x,i=t.x),this._p.x>=n&&this._p.x<=i&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var r=t.y-this._p.y,o=e.y-this._p.y,a=Fu.signOfDet2x2(t.x-this._p.x,r,e.x-this._p.x,o);if(0===a)return this._isPointOnSegment=!0,null;o<r&&(a=-a),a>0&&this._crossingCount++}},Yu.prototype.isPointInPolygon=function(){return this.getLocation()!==au.EXTERIOR},Yu.prototype.getLocation=function(){return this._isPointOnSegment?au.BOUNDARY:this._crossingCount%2==1?au.INTERIOR:au.EXTERIOR},Yu.prototype.isOnSegment=function(){return this._isPointOnSegment},Yu.prototype.interfaces_=function(){return[]},Yu.prototype.getClass=function(){return Yu},Yu.locatePointInRing=function(){if(arguments[0]instanceof nu&&uu(arguments[1],vu)){for(var t=arguments[1],e=new Yu(arguments[0]),n=new nu,i=new nu,r=1;r<t.size();r++)if(t.getCoordinate(r,n),t.getCoordinate(r-1,i),e.countSegment(n,i),e.isOnSegment())return e.getLocation();return e.getLocation()}if(arguments[0]instanceof nu&&arguments[1]instanceof Array){for(var o=arguments[1],a=new Yu(arguments[0]),s=1;s<o.length;s++)if(a.countSegment(o[s],o[s-1]),a.isOnSegment())return a.getLocation();return a.getLocation()}};var zu=function(){},ju={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};zu.prototype.interfaces_=function(){return[]},zu.prototype.getClass=function(){return zu},zu.orientationIndex=function(t,e,n){return gu.orientationIndex(t,e,n)},zu.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,i=1;i<t.length-1;i++)e+=(t[i].x-n)*(t[i-1].y-t[i+1].y);return e/2}if(uu(arguments[0],vu)){var r=arguments[0],o=r.size();if(o<3)return 0;var a=new nu,s=new nu,u=new nu;r.getCoordinate(0,s),r.getCoordinate(1,u);var l=s.x;u.x-=l;for(var c=0,h=1;h<o-1;h++)a.y=s.y,s.x=u.x,s.y=u.y,r.getCoordinate(h+1,u),u.x-=l,c+=s.x*(a.y-u.y);return c/2}},zu.distanceLineLine=function(t,e,n,i){if(t.equals(e))return zu.distancePointLine(t,n,i);if(n.equals(i))return zu.distancePointLine(i,t,e);var r=!1;if(Mu.intersects(t,e,n,i)){var o=(e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x);if(0===o)r=!0;else{var a=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,s=((t.y-n.y)*(i.x-n.x)-(t.x-n.x)*(i.y-n.y))/o;(s<0||s>1||a<0||a>1)&&(r=!0)}}else r=!0;return r?lu.min(zu.distancePointLine(t,n,i),zu.distancePointLine(e,n,i),zu.distancePointLine(n,t,e),zu.distancePointLine(i,t,e)):0},zu.isPointInRing=function(t,e){return zu.locatePointInRing(t,e)!==au.EXTERIOR},zu.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,i=new nu;t.getCoordinate(0,i);for(var r=i.x,o=i.y,a=1;a<e;a++){t.getCoordinate(a,i);var s=i.x,u=i.y,l=s-r,c=u-o;n+=Math.sqrt(l*l+c*c),r=s,o=u}return n},zu.isCCW=function(t){var e=t.length-1;if(e<3)throw new Zs("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],i=0,r=1;r<=e;r++){var o=t[r];o.y>n.y&&(n=o,i=r)}var a=i;do{(a-=1)<0&&(a=e)}while(t[a].equals2D(n)&&a!==i);var s=i;do{s=(s+1)%e}while(t[s].equals2D(n)&&s!==i);var u=t[a],l=t[s];if(u.equals2D(n)||l.equals2D(n)||u.equals2D(l))return!1;var c=zu.computeOrientation(u,n,l);return 0===c?u.x>l.x:c>0},zu.locatePointInRing=function(t,e){return Yu.locatePointInRing(t,e)},zu.distancePointLinePerpendicular=function(t,e,n){var i=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y);return Math.abs(((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/i)*Math.sqrt(i)},zu.computeOrientation=function(t,e,n){return zu.orientationIndex(t,e,n)},zu.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new Zs("Line array must contain at least one vertex");for(var n=t.distance(e[0]),i=0;i<e.length-1;i++){var r=zu.distancePointLine(t,e[i],e[i+1]);r<n&&(n=r)}return n}if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];if(a.x===s.x&&a.y===s.y)return o.distance(a);var u=(s.x-a.x)*(s.x-a.x)+(s.y-a.y)*(s.y-a.y),l=((o.x-a.x)*(s.x-a.x)+(o.y-a.y)*(s.y-a.y))/u;return l<=0?o.distance(a):l>=1?o.distance(s):Math.abs(((a.y-o.y)*(s.x-a.x)-(a.x-o.x)*(s.y-a.y))/u)*Math.sqrt(u)}},zu.isOnLine=function(t,e){for(var n=new Nu,i=1;i<e.length;i++)if(n.computeIntersection(t,e[i-1],e[i]),n.hasIntersection())return!0;return!1},ju.CLOCKWISE.get=function(){return-1},ju.RIGHT.get=function(){return zu.CLOCKWISE},ju.COUNTERCLOCKWISE.get=function(){return 1},ju.LEFT.get=function(){return zu.COUNTERCLOCKWISE},ju.COLLINEAR.get=function(){return 0},ju.STRAIGHT.get=function(){return zu.COLLINEAR},Object.defineProperties(zu,ju);var Bu=function(){};Bu.prototype.filter=function(t){},Bu.prototype.interfaces_=function(){return[]},Bu.prototype.getClass=function(){return Bu};var Hu=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},Uu={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Hu.prototype.isGeometryCollection=function(){return this.getSortIndex()===Hu.SORTINDEX_GEOMETRYCOLLECTION},Hu.prototype.getFactory=function(){return this._factory},Hu.prototype.getGeometryN=function(t){return this},Hu.prototype.getArea=function(){return 0},Hu.prototype.isRectangle=function(){return!1},Hu.prototype.equals=function(){if(arguments[0]instanceof Hu){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];return e instanceof Hu&&this.equalsExact(e)}},Hu.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},Hu.prototype.geometryChanged=function(){this.apply(Hu.geometryChangedFilter)},Hu.prototype.geometryChangedAction=function(){this._envelope=null},Hu.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},Hu.prototype.getLength=function(){return 0},Hu.prototype.getNumGeometries=function(){return 1},Hu.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,i)}},Hu.prototype.getUserData=function(){return this._userData},Hu.prototype.getSRID=function(){return this._SRID},Hu.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Hu.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===Hu.SORTINDEX_GEOMETRYCOLLECTION)throw new Zs("This method does not support GeometryCollection arguments")},Hu.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},Hu.prototype.norm=function(){var t=this.copy();return t.normalize(),t},Hu.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},Hu.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Mu(this._envelope)},Hu.prototype.setSRID=function(t){this._SRID=t},Hu.prototype.setUserData=function(t){this._userData=t},Hu.prototype.compare=function(t,e){for(var n=t.iterator(),i=e.iterator();n.hasNext()&&i.hasNext();){var r=n.next(),o=i.next(),a=r.compareTo(o);if(0!==a)return a}return n.hasNext()?1:i.hasNext()?-1:0},Hu.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},Hu.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Hu.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Hu.SORTINDEX_MULTIPOINT||this.getSortIndex()===Hu.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Hu.SORTINDEX_MULTIPOLYGON},Hu.prototype.interfaces_=function(){return[tu,$s,wr]},Hu.prototype.getClass=function(){return Hu},Hu.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},Hu.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},Uu.serialVersionUID.get=function(){return 0x799ea46522854c00},Uu.SORTINDEX_POINT.get=function(){return 0},Uu.SORTINDEX_MULTIPOINT.get=function(){return 1},Uu.SORTINDEX_LINESTRING.get=function(){return 2},Uu.SORTINDEX_LINEARRING.get=function(){return 3},Uu.SORTINDEX_MULTILINESTRING.get=function(){return 4},Uu.SORTINDEX_POLYGON.get=function(){return 5},Uu.SORTINDEX_MULTIPOLYGON.get=function(){return 6},Uu.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},Uu.geometryChangedFilter.get=function(){return Vu},Object.defineProperties(Hu,Uu);var Vu=function(){};Vu.interfaces_=function(){return[Bu]},Vu.filter=function(t){t.geometryChangedAction()};var qu=function(){};qu.prototype.filter=function(t){},qu.prototype.interfaces_=function(){return[]},qu.prototype.getClass=function(){return qu};var Gu=function(){},Wu={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};Gu.prototype.isInBoundary=function(t){},Gu.prototype.interfaces_=function(){return[]},Gu.prototype.getClass=function(){return Gu},Wu.Mod2BoundaryNodeRule.get=function(){return Xu},Wu.EndPointBoundaryNodeRule.get=function(){return Ku},Wu.MultiValentEndPointBoundaryNodeRule.get=function(){return Zu},Wu.MonoValentEndPointBoundaryNodeRule.get=function(){return Qu},Wu.MOD2_BOUNDARY_RULE.get=function(){return new Xu},Wu.ENDPOINT_BOUNDARY_RULE.get=function(){return new Ku},Wu.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Zu},Wu.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Qu},Wu.OGC_SFS_BOUNDARY_RULE.get=function(){return Gu.MOD2_BOUNDARY_RULE},Object.defineProperties(Gu,Wu);var Xu=function(){};Xu.prototype.isInBoundary=function(t){return t%2==1},Xu.prototype.interfaces_=function(){return[Gu]},Xu.prototype.getClass=function(){return Xu};var Ku=function(){};Ku.prototype.isInBoundary=function(t){return t>0},Ku.prototype.interfaces_=function(){return[Gu]},Ku.prototype.getClass=function(){return Ku};var Zu=function(){};Zu.prototype.isInBoundary=function(t){return t>1},Zu.prototype.interfaces_=function(){return[Gu]},Zu.prototype.getClass=function(){return Zu};var Qu=function(){};Qu.prototype.isInBoundary=function(t){return 1===t},Qu.prototype.interfaces_=function(){return[Gu]},Qu.prototype.getClass=function(){return Qu};var Ju=function(){};Ju.prototype.add=function(){},Ju.prototype.addAll=function(){},Ju.prototype.isEmpty=function(){},Ju.prototype.iterator=function(){},Ju.prototype.size=function(){},Ju.prototype.toArray=function(){},Ju.prototype.remove=function(){};var $u=function(t){function e(e){t.call(this),this.message=e||""}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={name:{configurable:!0}};return n.name.get=function(){return"IndexOutOfBoundsException"},Object.defineProperties(e,n),e}(Error),tl=function(){};tl.prototype.hasNext=function(){},tl.prototype.next=function(){},tl.prototype.remove=function(){};var el=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(Ju);(kr.prototype=new Error).name="NoSuchElementException";var nl=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof Ju&&this.addAll(arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,Ju]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new il(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new $u;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,i=this.array_.length;n<i;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(el),il=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new kr;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(tl),rl=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.ensureCapacity(n.length),this.add(n,i)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var e=arguments[1],n=!1,i=arguments[0].iterator();i.hasNext();)this.add(i.next(),e),n=!0;return n}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length)t.prototype.add.call(this,arguments[0]);else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1],!0),!0;if(arguments[0]instanceof nu&&"boolean"==typeof arguments[1]){var e=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(e))return null;t.prototype.add.call(this,e)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1])return this.add(arguments[0],arguments[1]),!0}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],i=arguments[1];if(arguments[2])for(var r=0;r<n.length;r++)this.add(n[r],i);else for(var o=n.length-1;o>=0;o--)this.add(n[o],i);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof nu){var a=arguments[0],s=arguments[1];if(!arguments[2]){var u=this.size();if(u>0){if(a>0&&this.get(a-1).equals2D(s))return null;if(a<u&&this.get(a).equals2D(s))return null}}t.prototype.add.call(this,a,s)}}else if(4===arguments.length){var l=arguments[0],c=arguments[1],h=arguments[2],d=arguments[3],f=1;h>d&&(f=-1);for(var p=h;p!==d;p+=f)this.add(l[p],c);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new nu(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(nl),ol=function(){},al={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};al.ForwardComparator.get=function(){return sl},al.BidirectionalComparator.get=function(){return ul},al.coordArrayType.get=function(){return new Array(0).fill(null)},ol.prototype.interfaces_=function(){return[]},ol.prototype.getClass=function(){return ol},ol.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},ol.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(ol.indexOf(i,e)<0)return i}return null},ol.scroll=function(t,e){var n=ol.indexOf(e,t);if(n<0)return null;var i=new Array(t.length).fill(null);wu.arraycopy(t,n,i,0,t.length-n),wu.arraycopy(t,0,i,t.length-n,n),wu.arraycopy(i,0,t,0,t.length)},ol.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];if(i===r)return!0;if(null===i||null===r)return!1;if(i.length!==r.length)return!1;for(var a=0;a<i.length;a++)if(0!==o.compare(i[a],r[a]))return!1;return!0}},ol.intersection=function(t,e){for(var n=new rl,i=0;i<t.length;i++)e.intersects(t[i])&&n.add(t[i],!0);return n.toCoordinateArray()},ol.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},ol.removeRepeatedPoints=function(t){return ol.hasRepeatedPoints(t)?new rl(t,!1).toCoordinateArray():t},ol.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),i=0;i<=n;i++){var r=t[i];t[i]=t[e-i],t[e-i]=r}},ol.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var i=new Array(e).fill(null);if(0===e)return i;for(var r=0,o=0;o<t.length;o++)null!==t[o]&&(i[r++]=t[o]);return i},ol.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new nu(t[n]);return e}if(5===arguments.length)for(var i=arguments[0],r=arguments[1],o=arguments[2],a=arguments[3],s=arguments[4],u=0;u<s;u++)o[a+u]=new nu(i[r+u])},ol.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++)if(0!==t[n].compareTo(e[t.length-n-1]))return!1;return!0},ol.envelope=function(t){for(var e=new Mu,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},ol.toCoordinateArray=function(t){return t.toArray(ol.coordArrayType)},ol.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},ol.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},ol.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t[e].compareTo(t[t.length-1-e]);if(0!==n)return n}return 1},ol.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var i=t[n].compareTo(e[n]);if(0!==i)return i;n++}return n<e.length?-1:n<t.length?1:0},ol.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},ol.extract=function(t,e,n){e=lu.clamp(e,0,t.length);var i=(n=lu.clamp(n,-1,t.length))-e+1;n<0&&(i=0),e>=t.length&&(i=0),n<e&&(i=0);var r=new Array(i).fill(null);if(0===i)return r;for(var o=0,a=e;a<=n;a++)r[o++]=t[a];return r},Object.defineProperties(ol,al);var sl=function(){};sl.prototype.compare=function(t,e){return ol.compare(t,e)},sl.prototype.interfaces_=function(){return[eu]},sl.prototype.getClass=function(){return sl};var ul=function(){};ul.prototype.compare=function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;var r=ol.compare(n,i);return ol.isEqualReversed(n,i)?0:r},ul.prototype.OLDcompare=function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;for(var r=ol.increasingDirection(n),o=ol.increasingDirection(i),a=r>0?0:n.length-1,s=o>0?0:n.length-1,u=0;u<n.length;u++){var l=n[a].compareTo(i[s]);if(0!==l)return l;a+=r,s+=o}return 0},ul.prototype.interfaces_=function(){return[eu]},ul.prototype.getClass=function(){return ul};var ll=function(){};ll.prototype.get=function(){},ll.prototype.put=function(){},ll.prototype.size=function(){},ll.prototype.values=function(){},ll.prototype.entrySet=function(){};var cl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(ll);(Mr.prototype=new Error).name="OperationNotSupported",(Sr.prototype=new Ju).contains=function(){};var hl=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof Ju&&this.addAll(arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new dl(this)},e}(Sr),dl=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new kr;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new Mr},e}(tl),fl=0;(Pr.prototype=new cl).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},Pr.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:fl,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,i,r=this.root_;do{if(n=r,(i=t.compareTo(r.key))<0)r=r.left;else{if(!(i>0)){var o=r.value;return r.value=e,o}r=r.right}}while(null!==r);var a={key:t,left:null,right:null,value:e,parent:n,color:fl,getValue:function(){return this.value},getKey:function(){return this.key}};return i<0?n.left=a:n.right=a,this.fixAfterInsertion(a),this.size_++,null},Pr.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(Lr(t)===Cr(Lr(Lr(t)))){var e=Ir(Lr(Lr(t)));1===Er(e)?(Tr(Lr(t),fl),Tr(e,fl),Tr(Lr(Lr(t)),1),t=Lr(Lr(t))):(t===Ir(Lr(t))&&(t=Lr(t),this.rotateLeft(t)),Tr(Lr(t),fl),Tr(Lr(Lr(t)),1),this.rotateRight(Lr(Lr(t))))}else{var n=Cr(Lr(Lr(t)));1===Er(n)?(Tr(Lr(t),fl),Tr(n,fl),Tr(Lr(Lr(t)),1),t=Lr(Lr(t))):(t===Cr(Lr(t))&&(t=Lr(t),this.rotateRight(t)),Tr(Lr(t),fl),Tr(Lr(Lr(t)),1),this.rotateLeft(Lr(Lr(t))))}this.root_.color=fl},Pr.prototype.values=function(){var t=new nl,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=Pr.successor(e));)t.add(e.value);return t},Pr.prototype.entrySet=function(){var t=new hl,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=Pr.successor(e));)t.add(e);return t},Pr.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},Pr.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},Pr.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},Pr.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,i=t;null!==n&&i===n.right;)i=n,n=n.parent;return n},Pr.prototype.size=function(){return this.size_};var pl=function(){};pl.prototype.interfaces_=function(){return[]},pl.prototype.getClass=function(){return pl},Dr.prototype=new Sr,(Or.prototype=new Dr).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},Or.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},Or.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},Or.prototype.remove=function(t){throw new Mr},Or.prototype.size=function(){return this.array_.length},Or.prototype.isEmpty=function(){return 0===this.array_.length},Or.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},Or.prototype.iterator=function(){return new ml(this)};var ml=function(t){this.treeSet_=t,this.position_=0};ml.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new kr;return this.treeSet_.array_[this.position_++]},ml.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},ml.prototype.remove=function(){throw new Mr};var gl=function(){};gl.sort=function(){var t,e,n,i=arguments[0];if(1===arguments.length)i.sort(function(t,e){return t.compareTo(e)});else if(2===arguments.length)n=arguments[1],i.sort(function(t,e){return n.compare(t,e)});else if(3===arguments.length){(e=i.slice(arguments[1],arguments[2])).sort();var r=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length));for(i.splice(0,i.length),t=0;t<r.length;t++)i.push(r[t])}else if(4===arguments.length)for(e=i.slice(arguments[1],arguments[2]),n=arguments[3],e.sort(function(t,e){return n.compare(t,e)}),r=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length)),i.splice(0,i.length),t=0;t<r.length;t++)i.push(r[t])},gl.asList=function(t){for(var e=new nl,n=0,i=t.length;n<i;n++)e.add(t[n]);return e};var yl=function(){},vl={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};vl.P.get=function(){return 0},vl.L.get=function(){return 1},vl.A.get=function(){return 2},vl.FALSE.get=function(){return-1},vl.TRUE.get=function(){return-2},vl.DONTCARE.get=function(){return-3},vl.SYM_FALSE.get=function(){return"F"},vl.SYM_TRUE.get=function(){return"T"},vl.SYM_DONTCARE.get=function(){return"*"},vl.SYM_P.get=function(){return"0"},vl.SYM_L.get=function(){return"1"},vl.SYM_A.get=function(){return"2"},yl.prototype.interfaces_=function(){return[]},yl.prototype.getClass=function(){return yl},yl.toDimensionSymbol=function(t){switch(t){case yl.FALSE:return yl.SYM_FALSE;case yl.TRUE:return yl.SYM_TRUE;case yl.DONTCARE:return yl.SYM_DONTCARE;case yl.P:return yl.SYM_P;case yl.L:return yl.SYM_L;case yl.A:return yl.SYM_A}throw new Zs("Unknown dimension value: "+t)},yl.toDimensionValue=function(t){switch(fu.toUpperCase(t)){case yl.SYM_FALSE:return yl.FALSE;case yl.SYM_TRUE:return yl.TRUE;case yl.SYM_DONTCARE:return yl.DONTCARE;case yl.SYM_P:return yl.P;case yl.SYM_L:return yl.L;case yl.SYM_A:return yl.A}throw new Zs("Unknown dimension symbol: "+t)},Object.defineProperties(yl,vl);var _l=function(){};_l.prototype.filter=function(t){},_l.prototype.interfaces_=function(){return[]},_l.prototype.getClass=function(){return _l};var bl=function(){};bl.prototype.filter=function(t,e){},bl.prototype.isDone=function(){},bl.prototype.isGeometryChanged=function(){},bl.prototype.interfaces_=function(){return[]},bl.prototype.getClass=function(){return bl};var xl=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new Zs("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new Mu,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var i=this._geometries[n].getCoordinates(),r=0;r<i.length;r++)t[++e]=i[r];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e;if(this._geometries.length!==i._geometries.length)return!1;for(var r=0;r<this._geometries.length;r++)if(!this._geometries[r].equalsExact(i._geometries[r],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();gl.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=yl.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=yl.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<this._geometries.length;e++)t[e]=this._geometries[e].reverse();return this.getFactory().createGeometryCollection(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new Or(gl.asList(this._geometries)),n=new Or(gl.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var i=arguments[1],r=arguments[0],o=this.getNumGeometries(),a=r.getNumGeometries(),s=0;s<o&&s<a;){var u=this.getGeometryN(s),l=r.getGeometryN(s),c=u.compareToSameClass(l,i);if(0!==c)return c;s++}return s<o?1:s<a?-1:0}},e.prototype.apply=function(){if(uu(arguments[0],qu))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(uu(arguments[0],bl)){var n=arguments[0];if(0===this._geometries.length)return null;for(var i=0;i<this._geometries.length&&(this._geometries[i].apply(n),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else if(uu(arguments[0],_l)){var r=arguments[0];r.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(r)}else if(uu(arguments[0],Bu)){var a=arguments[0];a.filter(this);for(var s=0;s<this._geometries.length;s++)this._geometries[s].apply(a)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),Ou.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(Hu),wl=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Hu.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?yl.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new kl(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[pl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(xl),kl=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=Gu.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=i}};kl.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},kl.prototype.getBoundary=function(){return this._geom instanceof Tl?this.boundaryLineString(this._geom):this._geom instanceof wl?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},kl.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},kl.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},kl.prototype.computeBoundaryCoordinates=function(t){var e=new nl;this._endpointMap=new Pr;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);0!==i.getNumPoints()&&(this.addEndpoint(i.getCoordinateN(0)),this.addEndpoint(i.getCoordinateN(i.getNumPoints()-1)))}for(var r=this._endpointMap.entrySet().iterator();r.hasNext();){var o=r.next(),a=o.getValue().count;this._bnRule.isInBoundary(a)&&e.add(o.getKey())}return ol.toCoordinateArray(e)},kl.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new Ml,this._endpointMap.put(t,e)),e.count++},kl.prototype.interfaces_=function(){return[]},kl.prototype.getClass=function(){return kl},kl.getBoundary=function(){return 1===arguments.length?new kl(arguments[0]).getBoundary():2===arguments.length?new kl(arguments[0],arguments[1]).getBoundary():void 0};var Ml=function(){this.count=null};Ml.prototype.interfaces_=function(){return[]},Ml.prototype.getClass=function(){return Ml};var Sl=function(){},El={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Sl.prototype.interfaces_=function(){return[]},Sl.prototype.getClass=function(){return Sl},Sl.chars=function(t,e){for(var n=new Array(e).fill(null),i=0;i<e;i++)n[i]=t;return String(n)},Sl.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var i=arguments[1],r="",o=new function(){}(new function(){}(Sl.getStackTrace(arguments[0]))),a=0;a<i;a++)try{r+=o.readLine()+Sl.NEWLINE}catch(t){if(!(t instanceof Ar))throw t;Ou.shouldNeverReachHere()}return r}},Sl.split=function(t,e){for(var n=e.length,i=new nl,r=""+t,o=r.indexOf(e);o>=0;){var a=r.substring(0,o);i.add(a),o=(r=r.substring(o+n)).indexOf(e)}r.length>0&&i.add(r);for(var s=new Array(i.size()).fill(null),u=0;u<s.length;u++)s[u]=i.get(u);return s},Sl.toString=function(){if(1===arguments.length)return Sl.SIMPLE_ORDINATE_FORMAT.format(arguments[0])},Sl.spaces=function(t){return Sl.chars(" ",t)},El.NEWLINE.get=function(){return wu.getProperty("line.separator")},El.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Sl,El);var Ll=function(){};Ll.prototype.interfaces_=function(){return[]},Ll.prototype.getClass=function(){return Ll},Ll.copyCoord=function(t,e,n,i){for(var r=Math.min(t.getDimension(),n.getDimension()),o=0;o<r;o++)n.setOrdinate(i,o,t.getOrdinate(e,o))},Ll.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,vu.X)===t.getOrdinate(e-1,vu.X)&&t.getOrdinate(0,vu.Y)===t.getOrdinate(e-1,vu.Y)},Ll.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var i=Math.min(t.getDimension(),e.getDimension()),r=0;r<n;r++)for(var o=0;o<i;o++){var a=t.getOrdinate(r,o),s=e.getOrdinate(r,o);if(!(t.getOrdinate(r,o)===e.getOrdinate(r,o)||Qs.isNaN(a)&&Qs.isNaN(s)))return!1}return!0},Ll.extend=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();if(Ll.copy(e,0,i,0,r),r>0)for(var o=r;o<n;o++)Ll.copy(e,r-1,i,o,1);return i},Ll.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),i=0;i<=n;i++)Ll.swap(t,i,e-i)},Ll.swap=function(t,e,n){if(e===n)return null;for(var i=0;i<t.getDimension();i++){var r=t.getOrdinate(e,i);t.setOrdinate(e,i,t.getOrdinate(n,i)),t.setOrdinate(n,i,r)}},Ll.copy=function(t,e,n,i,r){for(var o=0;o<r;o++)Ll.copyCoord(t,e+o,n,i+o)},Ll.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),i=new hu;i.append("(");for(var r=0;r<e;r++){r>0&&i.append(" ");for(var o=0;o<n;o++)o>0&&i.append(","),i.append(Sl.toString(t.getOrdinate(r,o)))}return i.append(")"),i.toString()}},Ll.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?Ll.createClosedRing(t,e,4):e.getOrdinate(0,vu.X)===e.getOrdinate(n-1,vu.X)&&e.getOrdinate(0,vu.Y)===e.getOrdinate(n-1,vu.Y)?e:Ll.createClosedRing(t,e,n+1)},Ll.createClosedRing=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();Ll.copy(e,0,i,0,r);for(var o=r;o<n;o++)Ll.copy(e,0,i,o,1);return i};var Tl=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Mu:this._points.expandEnvelope(new Mu)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e;if(this._points.size()!==i._points.size())return!1;for(var r=0;r<this._points.size();r++)if(!this.equal(this._points.getCoordinate(r),i._points.getCoordinate(r),n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&Ll.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?yl.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return zu.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return Ll.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var i=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==i)return i;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length)return arguments[1].compare(this._points,arguments[0]._points)},e.prototype.apply=function(){if(uu(arguments[0],qu))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(uu(arguments[0],bl)){var n=arguments[0];if(0===this._points.size())return null;for(var i=0;i<this._points.size()&&(n.filter(this._points,i),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else(uu(arguments[0],_l)||uu(arguments[0],Bu))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new kl(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new Zs("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[pl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(Hu),Cl=function(){};Cl.prototype.interfaces_=function(){return[]},Cl.prototype.getClass=function(){return Cl};var Il=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Mu;var t=new Mu;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return yl.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length)return arguments[1].compare(this._coordinates,arguments[0]._coordinates)},e.prototype.apply=function(){if(uu(arguments[0],qu)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(uu(arguments[0],bl)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else(uu(arguments[0],_l)||uu(arguments[0],Bu))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),Ou.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Cl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(Hu),Pl=function(){};Pl.prototype.interfaces_=function(){return[]},Pl.prototype.getClass=function(){return Pl};var Dl=function(t){function e(e,n,i){if(t.call(this,i),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new Zs("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new Zs("shell is empty but holes are not");this._shell=e,this._holes=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),i=0;i<n.length;i++)t[++e]=n[i];for(var r=0;r<this._holes.length;r++)for(var o=this._holes[r].getCoordinates(),a=0;a<o.length;a++)t[++e]=o[a];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(zu.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(zu.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var i=t.getX(n);if(i!==e.getMinX()&&i!==e.getMaxX())return!1;var r=t.getY(n);if(r!==e.getMinY()&&r!==e.getMaxY())return!1}for(var o=t.getX(0),a=t.getY(0),s=1;s<=4;s++){var u=t.getX(s),l=t.getY(s);if(u!==o==(l!==a))return!1;o=u,a=l}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e;if(!this._shell.equalsExact(i._shell,n))return!1;if(this._holes.length!==i._holes.length)return!1;for(var r=0;r<this._holes.length;r++)if(!this._holes[r].equalsExact(i._holes[r],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);gl.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var i=new Array(e.getCoordinates().length-1).fill(null);wu.arraycopy(e.getCoordinates(),0,i,0,i.length);var r=ol.minCoordinate(e.getCoordinates());ol.scroll(i,r),wu.arraycopy(i,0,e.getCoordinates(),0,i.length),e.getCoordinates()[i.length]=i[0],zu.isCCW(e.getCoordinates())===n&&ol.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length)return this._shell.compareToSameClass(arguments[0]._shell);if(2===arguments.length){var t=arguments[1],e=arguments[0],n=this._shell.compareToSameClass(e._shell,t);if(0!==n)return n;for(var i=this.getNumInteriorRing(),r=e.getNumInteriorRing(),o=0;o<i&&o<r;){var a=this.getInteriorRingN(o),s=e.getInteriorRingN(o),u=a.compareToSameClass(s,t);if(0!==u)return u;o++}return o<i?1:o<r?-1:0}},e.prototype.apply=function(t){if(uu(t,qu)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(uu(t,bl)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(uu(t,_l))t.filter(this);else if(uu(t,Bu)){t.filter(this),this._shell.apply(t);for(var i=0;i<this._holes.length;i++)this._holes[i].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),i=0;i<n.length;i++)n[i]=this._holes[i].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[Pl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(Hu),Ol=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Hu.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){return 1===arguments.length?this._geometries[arguments[0]].getCoordinate():t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return yl.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Cl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(xl),Al=function(t){function e(e,n){e instanceof nu&&n instanceof Zl&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Hu.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return yl.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return Ll.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new Zs("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new Zs("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(Tl),Rl=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Hu.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<this._geometries.length;e++)t[e]=this._geometries[e].reverse();return this.getFactory().createMultiPolygon(t)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new nl,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),i=0;i<n.getNumGeometries();i++)t.add(n.getGeometryN(i));var r=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(r))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Pl]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(xl),Nl=function(t){this._factory=t||null,this._isUserDataCopied=!1},Fl={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Nl.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},Nl.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},Nl.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof xl?this.editGeometryCollection(t,e):t instanceof Dl?this.editPolygon(t,e):t instanceof Il||t instanceof Tl?e.edit(t,this._factory):(Ou.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},Nl.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),i=new nl,r=0;r<n.getNumGeometries();r++){var o=this.edit(n.getGeometryN(r),e);null===o||o.isEmpty()||i.add(o)}return n.getClass()===Ol?this._factory.createMultiPoint(i.toArray([])):n.getClass()===wl?this._factory.createMultiLineString(i.toArray([])):n.getClass()===Rl?this._factory.createMultiPolygon(i.toArray([])):this._factory.createGeometryCollection(i.toArray([]))},Nl.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var i=this.edit(n.getExteriorRing(),e);if(null===i||i.isEmpty())return this._factory.createPolygon();for(var r=new nl,o=0;o<n.getNumInteriorRing();o++){var a=this.edit(n.getInteriorRingN(o),e);null===a||a.isEmpty()||r.add(a)}return this._factory.createPolygon(i,r.toArray([]))},Nl.prototype.interfaces_=function(){return[]},Nl.prototype.getClass=function(){return Nl},Nl.GeometryEditorOperation=function(){},Fl.NoOpGeometryOperation.get=function(){return Yl},Fl.CoordinateOperation.get=function(){return zl},Fl.CoordinateSequenceOperation.get=function(){return jl},Object.defineProperties(Nl,Fl);var Yl=function(){};Yl.prototype.edit=function(t,e){return t},Yl.prototype.interfaces_=function(){return[Nl.GeometryEditorOperation]},Yl.prototype.getClass=function(){return Yl};var zl=function(){};zl.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof Al?e.createLinearRing(n):t instanceof Tl?e.createLineString(n):t instanceof Il?n.length>0?e.createPoint(n[0]):e.createPoint():t},zl.prototype.interfaces_=function(){return[Nl.GeometryEditorOperation]},zl.prototype.getClass=function(){return zl};var jl=function(){};jl.prototype.edit=function(t,e){return t instanceof Al?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Tl?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Il?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},jl.prototype.interfaces_=function(){return[Nl.GeometryEditorOperation]},jl.prototype.getClass=function(){return jl};var Bl=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new nu}else if(uu(arguments[0],vu)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var i=0;i<this._coordinates.length;i++)this._coordinates[i]=n.getCoordinateCopy(i)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var r=arguments[0],o=arguments[1];this._coordinates=r,this._dimension=o,null===r&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],s=arguments[1];this._coordinates=new Array(a).fill(null),this._dimension=s;for(var u=0;u<a;u++)this._coordinates[u]=new nu}},Hl={serialVersionUID:{configurable:!0}};Bl.prototype.setOrdinate=function(t,e,n){switch(e){case vu.X:this._coordinates[t].x=n;break;case vu.Y:this._coordinates[t].y=n;break;case vu.Z:this._coordinates[t].z=n;break;default:throw new Zs("invalid ordinateIndex")}},Bl.prototype.size=function(){return this._coordinates.length},Bl.prototype.getOrdinate=function(t,e){switch(e){case vu.X:return this._coordinates[t].x;case vu.Y:return this._coordinates[t].y;case vu.Z:return this._coordinates[t].z}return Qs.NaN},Bl.prototype.getCoordinate=function(){if(1===arguments.length)return this._coordinates[arguments[0]];if(2===arguments.length){var t=arguments[0],e=arguments[1];e.x=this._coordinates[t].x,e.y=this._coordinates[t].y,e.z=this._coordinates[t].z}},Bl.prototype.getCoordinateCopy=function(t){return new nu(this._coordinates[t])},Bl.prototype.getDimension=function(){return this._dimension},Bl.prototype.getX=function(t){return this._coordinates[t].x},Bl.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new Bl(t,this._dimension)},Bl.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},Bl.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new Bl(t,this._dimension)},Bl.prototype.toString=function(){if(this._coordinates.length>0){var t=new hu(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},Bl.prototype.getY=function(t){return this._coordinates[t].y},Bl.prototype.toCoordinateArray=function(){return this._coordinates},Bl.prototype.interfaces_=function(){return[vu,wr]},Bl.prototype.getClass=function(){return Bl},Hl.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Bl,Hl);var Ul=function(){},Vl={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};Ul.prototype.readResolve=function(){return Ul.instance()},Ul.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new Bl(arguments[0]);if(uu(arguments[0],vu))return new Bl(arguments[0])}else if(2===arguments.length){var t=arguments[0],e=arguments[1];return e>3&&(e=3),e<2?new Bl(t):new Bl(t,e)}},Ul.prototype.interfaces_=function(){return[ou,wr]},Ul.prototype.getClass=function(){return Ul},Ul.instance=function(){return Ul.instanceObject},Vl.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},Vl.instanceObject.get=function(){return new Ul},Object.defineProperties(Ul,Vl);var ql=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new nl,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new hl;return this.map_.entries().forEach(function(e){return t.add(e)}),t},e.prototype.size=function(){return this.map_.size()},e}(ll),Gl=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Xl){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var i=arguments[0];this._modelType=i._modelType,this._scale=i._scale}},Wl={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Gl.prototype.equals=function(t){return t instanceof Gl&&this._modelType===t._modelType&&this._scale===t._scale},Gl.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),i=e.getMaximumSignificantDigits();return new du(n).compareTo(new du(i))},Gl.prototype.getScale=function(){return this._scale},Gl.prototype.isFloating=function(){return this._modelType===Gl.FLOATING||this._modelType===Gl.FLOATING_SINGLE},Gl.prototype.getType=function(){return this._modelType},Gl.prototype.toString=function(){var t="UNKNOWN";return this._modelType===Gl.FLOATING?t="Floating":this._modelType===Gl.FLOATING_SINGLE?t="Floating-Single":this._modelType===Gl.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},Gl.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return Qs.isNaN(t)||this._modelType===Gl.FLOATING_SINGLE?t:this._modelType===Gl.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof nu){var e=arguments[0];if(this._modelType===Gl.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},Gl.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===Gl.FLOATING?t=16:this._modelType===Gl.FLOATING_SINGLE?t=6:this._modelType===Gl.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},Gl.prototype.setScale=function(t){this._scale=Math.abs(t)},Gl.prototype.interfaces_=function(){return[wr,$s]},Gl.prototype.getClass=function(){return Gl},Gl.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},Wl.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},Wl.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(Gl,Wl);var Xl=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},Kl={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Xl.prototype.readResolve=function(){return Xl.nameToTypeMap.get(this._name)},Xl.prototype.toString=function(){return this._name},Xl.prototype.interfaces_=function(){return[wr]},Xl.prototype.getClass=function(){return Xl},Kl.serialVersionUID.get=function(){return-552860263173159e4},Kl.nameToTypeMap.get=function(){return new ql},Object.defineProperties(Xl,Kl),Gl.Type=Xl,Gl.FIXED=new Xl("FIXED"),Gl.FLOATING=new Xl("FLOATING"),Gl.FLOATING_SINGLE=new Xl("FLOATING SINGLE");var Zl=function t(){this._precisionModel=new Gl,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?uu(arguments[0],ou)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Gl&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Ql={serialVersionUID:{configurable:!0}};Zl.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new nu(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new nu(t.getMinX(),t.getMinY()),new nu(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new nu(t.getMinX(),t.getMinY()),new nu(t.getMinX(),t.getMaxY()),new nu(t.getMaxX(),t.getMaxY()),new nu(t.getMaxX(),t.getMinY()),new nu(t.getMinX(),t.getMinY())]),null)},Zl.prototype.createLineString=function(t){return t?t instanceof Array?new Tl(this.getCoordinateSequenceFactory().create(t),this):uu(t,vu)?new Tl(t,this):void 0:new Tl(this.getCoordinateSequenceFactory().create([]),this)},Zl.prototype.createMultiLineString=function(){return 0===arguments.length?new wl(null,this):1===arguments.length?new wl(arguments[0],this):void 0},Zl.prototype.buildGeometry=function(t){for(var e=null,n=!1,i=!1,r=t.iterator();r.hasNext();){var o=r.next(),a=o.getClass();null===e&&(e=a),a!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(i=!0)}if(null===e)return this.createGeometryCollection();if(n||i)return this.createGeometryCollection(Zl.toGeometryArray(t));var s=t.iterator().next();if(t.size()>1){if(s instanceof Dl)return this.createMultiPolygon(Zl.toPolygonArray(t));if(s instanceof Tl)return this.createMultiLineString(Zl.toLineStringArray(t));if(s instanceof Il)return this.createMultiPoint(Zl.toPointArray(t));Ou.shouldNeverReachHere("Unhandled class: "+s.getClass().getName())}return s},Zl.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},Zl.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof nu){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(uu(arguments[0],vu))return new Il(arguments[0],this)}},Zl.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},Zl.prototype.createPolygon=function(){if(0===arguments.length)return new Dl(null,null,this);if(1===arguments.length){if(uu(arguments[0],vu))return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Array)return this.createPolygon(this.createLinearRing(arguments[0]));if(arguments[0]instanceof Al)return this.createPolygon(arguments[0],null)}else if(2===arguments.length)return new Dl(arguments[0],arguments[1],this)},Zl.prototype.getSRID=function(){return this._SRID},Zl.prototype.createGeometryCollection=function(){return 0===arguments.length?new xl(null,this):1===arguments.length?new xl(arguments[0],this):void 0},Zl.prototype.createGeometry=function(t){return new Nl(this).edit(t,{edit:function(){if(2===arguments.length)return this._coordinateSequenceFactory.create(arguments[0])}})},Zl.prototype.getPrecisionModel=function(){return this._precisionModel},Zl.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(uu(arguments[0],vu))return new Al(arguments[0],this)}},Zl.prototype.createMultiPolygon=function(){return 0===arguments.length?new Rl(null,this):1===arguments.length?new Rl(arguments[0],this):void 0},Zl.prototype.createMultiPoint=function(){if(0===arguments.length)return new Ol(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new Ol(arguments[0],this);if(arguments[0]instanceof Array){var t=arguments[0];return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(uu(arguments[0],vu)){var e=arguments[0];if(null===e)return this.createMultiPoint(new Array(0).fill(null));for(var n=new Array(e.size()).fill(null),i=0;i<e.size();i++){var r=this.getCoordinateSequenceFactory().create(1,e.getDimension());Ll.copy(e,i,r,0,1),n[i]=this.createPoint(r)}return this.createMultiPoint(n)}}},Zl.prototype.interfaces_=function(){return[wr]},Zl.prototype.getClass=function(){return Zl},Zl.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Zl.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},Zl.getDefaultCoordinateSequenceFactory=function(){return Ul.instance()},Zl.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Zl.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Zl.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Zl.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Zl.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Zl.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Zl.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},Ql.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(Zl,Ql);var Jl=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],$l=function(t){this.geometryFactory=t||new Zl};$l.prototype.read=function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!tc[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==Jl.indexOf(n)?tc[n].apply(this,[e.coordinates]):tc[n].apply(this,"GeometryCollection"===n?[e.geometries]:[e])},$l.prototype.write=function(t){var e=t.getGeometryType();if(!ec[e])throw new Error("Geometry is not supported");return ec[e].apply(this,[t])};var tc={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){if(!tc[t.geometry.type])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=tc.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(new nu(i[0],i[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new nu(t[0],t[1]),new nu(t[2],t[1]),new nu(t[2],t[3]),new nu(t[0],t[3]),new nu(t[0],t[1])])},Point:function(t){var e=new nu(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(tc.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=tc.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(tc.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=tc.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),i=[],r=1;r<t.length;++r){var o=tc.coordinates.apply(this,[t[r]]),a=this.geometryFactory.createLinearRing(o);i.push(a)}return this.geometryFactory.createPolygon(n,i)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n)e.push(tc.Polygon.apply(this,[t[n]]));return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n)e.push(this.read(t[n]));return this.geometryFactory.createGeometryCollection(e)}},ec={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:ec.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=ec.Point.apply(this,[t._geometries[n]]);e.push(i.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),i=0;i<n.length;++i)e.push(ec.coordinate.apply(this,[n[i]]));return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=ec.LineString.apply(this,[t._geometries[n]]);e.push(i.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=ec.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var i=0;i<t._holes.length;++i){var r=ec.LineString.apply(this,[t._holes[i]]);e.push(r.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=ec.Polygon.apply(this,[t._geometries[n]]);e.push(i.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=i.getGeometryType();e.push(ec[r].apply(this,[i]))}return{type:"GeometryCollection",geometries:e}}},nc=function(t){this.geometryFactory=t||new Zl,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new $l(this.geometryFactory)};nc.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===Gl.FIXED&&this.reducePrecision(e),e},nc.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var ic=function(){this.parser=new $l(this.geometryFactory)};ic.prototype.write=function(t){return this.parser.write(t)};var rc=function(){},oc={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};rc.prototype.interfaces_=function(){return[]},rc.prototype.getClass=function(){return rc},rc.opposite=function(t){return t===rc.LEFT?rc.RIGHT:t===rc.RIGHT?rc.LEFT:t},oc.ON.get=function(){return 0},oc.LEFT.get=function(){return 1},oc.RIGHT.get=function(){return 2},Object.defineProperties(rc,oc),(Rr.prototype=new Error).name="EmptyStackException",(Nr.prototype=new el).add=function(t){return this.array_.push(t),!0},Nr.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},Nr.prototype.push=function(t){return this.array_.push(t),t},Nr.prototype.pop=function(t){if(0===this.array_.length)throw new Rr;return this.array_.pop()},Nr.prototype.peek=function(){if(0===this.array_.length)throw new Rr;return this.array_[this.array_.length-1]},Nr.prototype.empty=function(){return 0===this.array_.length},Nr.prototype.isEmpty=function(){return this.empty()},Nr.prototype.search=function(t){return this.array_.indexOf(t)},Nr.prototype.size=function(){return this.array_.length},Nr.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var ac=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};ac.prototype.getCoordinate=function(){return this._minCoord},ac.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},ac.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();Ou.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],i=zu.computeOrientation(this._minCoord,n,e),r=!1;(e.y<this._minCoord.y&&n.y<this._minCoord.y&&i===zu.COUNTERCLOCKWISE||e.y>this._minCoord.y&&n.y>this._minCoord.y&&i===zu.CLOCKWISE)&&(r=!0),r&&(this._minIndex=this._minIndex-1)},ac.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var i=rc.LEFT;return n[e].y<n[e+1].y&&(i=rc.RIGHT),i},ac.prototype.getEdge=function(){return this._orientedDe},ac.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},ac.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},ac.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}Ou.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===rc.LEFT&&(this._orientedDe=this._minDe.getSym())},ac.prototype.interfaces_=function(){return[]},ac.prototype.getClass=function(){return ac};var sc=function(t){function e(n,i){t.call(this,e.msgWithCoord(n,i)),this.pt=i?new nu(i):null,this.name="TopologyException"}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}(Pu),uc=function(){this.array_=[]};uc.prototype.addLast=function(t){this.array_.push(t)},uc.prototype.removeFirst=function(){return this.array_.shift()},uc.prototype.isEmpty=function(){return 0===this.array_.length};var lc=function(){this._finder=null,this._dirEdgeList=new nl,this._nodes=new nl,this._rightMostCoord=null,this._env=null,this._finder=new ac};lc.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},lc.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},lc.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var i=n.next();if(i.isVisited()||i.getSym().isVisited()){e=i;break}}if(null===e)throw new sc("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var r=t.getEdges().iterator();r.hasNext();){var o=r.next();o.setVisited(!0),this.copySymDepths(o)}},lc.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(rc.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},lc.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},lc.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(rc.RIGHT)>=1&&e.getDepth(rc.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},lc.prototype.computeDepths=function(t){var e=new hl,n=new uc,i=t.getNode();for(n.addLast(i),e.add(i),t.setVisited(!0);!n.isEmpty();){var r=n.removeFirst();e.add(r),this.computeNodeDepth(r);for(var o=r.getEdges().iterator();o.hasNext();){var a=o.next().getSym();if(!a.isVisited()){var s=a.getNode();e.contains(s)||(n.addLast(s),e.add(s))}}}},lc.prototype.compareTo=function(t){return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0},lc.prototype.getEnvelope=function(){if(null===this._env){for(var t=new Mu,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),i=0;i<n.length-1;i++)t.expandToInclude(n[i]);this._env=t}return this._env},lc.prototype.addReachable=function(t){var e=new Nr;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},lc.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(rc.LEFT,t.getDepth(rc.RIGHT)),e.setDepth(rc.RIGHT,t.getDepth(rc.LEFT))},lc.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next();this._dirEdgeList.add(i);var r=i.getSym().getNode();r.isVisited()||e.push(r)}},lc.prototype.getNodes=function(){return this._nodes},lc.prototype.getDirectedEdges=function(){return this._dirEdgeList},lc.prototype.interfaces_=function(){return[$s]},lc.prototype.getClass=function(){return lc};var cc=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array)this.init(arguments[0].length);else if(Number.isInteger(arguments[0])){var e=arguments[0];this.init(1),this.location[rc.ON]=e}else if(arguments[0]instanceof t){var n=arguments[0];if(this.init(n.location.length),null!==n)for(var i=0;i<this.location.length;i++)this.location[i]=n.location[i]}}else if(3===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2];this.init(3),this.location[rc.ON]=r,this.location[rc.LEFT]=o,this.location[rc.RIGHT]=a}};cc.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},cc.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==au.NONE)return!1;return!0},cc.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===au.NONE&&(this.location[e]=t)},cc.prototype.isLine=function(){return 1===this.location.length},cc.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[rc.ON]=this.location[rc.ON],e[rc.LEFT]=au.NONE,e[rc.RIGHT]=au.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===au.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},cc.prototype.getLocations=function(){return this.location},cc.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[rc.LEFT];this.location[rc.LEFT]=this.location[rc.RIGHT],this.location[rc.RIGHT]=t},cc.prototype.toString=function(){var t=new hu;return this.location.length>1&&t.append(au.toLocationSymbol(this.location[rc.LEFT])),t.append(au.toLocationSymbol(this.location[rc.ON])),this.location.length>1&&t.append(au.toLocationSymbol(this.location[rc.RIGHT])),t.toString()},cc.prototype.setLocations=function(t,e,n){this.location[rc.ON]=t,this.location[rc.LEFT]=e,this.location[rc.RIGHT]=n},cc.prototype.get=function(t){return t<this.location.length?this.location[t]:au.NONE},cc.prototype.isArea=function(){return this.location.length>1},cc.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===au.NONE)return!0;return!1},cc.prototype.setLocation=function(){1===arguments.length?this.setLocation(rc.ON,arguments[0]):2===arguments.length&&(this.location[arguments[0]]=arguments[1])},cc.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(au.NONE)},cc.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},cc.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},cc.prototype.interfaces_=function(){return[]},cc.prototype.getClass=function(){return cc};var hc=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new cc(e),this.elt[1]=new cc(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new cc(n.elt[0]),this.elt[1]=new cc(n.elt[1])}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.elt[0]=new cc(au.NONE),this.elt[1]=new cc(au.NONE),this.elt[i].setLocation(r)}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this.elt[0]=new cc(o,a,s),this.elt[1]=new cc(o,a,s)}else if(4===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2],h=arguments[3];this.elt[0]=new cc(au.NONE,au.NONE,au.NONE),this.elt[1]=new cc(au.NONE,au.NONE,au.NONE),this.elt[u].setLocations(l,c,h)}};hc.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},hc.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},hc.prototype.isNull=function(t){return this.elt[t].isNull()},hc.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else 2===arguments.length&&this.elt[arguments[0]].setAllLocationsIfNull(arguments[1])},hc.prototype.isLine=function(t){return this.elt[t].isLine()},hc.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new cc(t.elt[e]):this.elt[e].merge(t.elt[e])},hc.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},hc.prototype.getLocation=function(){return 1===arguments.length?this.elt[arguments[0]].get(rc.ON):2===arguments.length?this.elt[arguments[0]].get(arguments[1]):void 0},hc.prototype.toString=function(){var t=new hu;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},hc.prototype.isArea=function(){return 0===arguments.length?this.elt[0].isArea()||this.elt[1].isArea():1===arguments.length?this.elt[arguments[0]].isArea():void 0},hc.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},hc.prototype.setLocation=function(){2===arguments.length?this.elt[arguments[0]].setLocation(rc.ON,arguments[1]):3===arguments.length&&this.elt[arguments[0]].setLocation(arguments[1],arguments[2])},hc.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},hc.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},hc.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new cc(this.elt[t].location[0]))},hc.prototype.interfaces_=function(){return[]},hc.prototype.getClass=function(){return hc},hc.toLineLabel=function(t){for(var e=new hc(au.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var dc=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new nl,this._pts=new nl,this._label=new hc(au.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new nl,this._geometryFactory=null;var t=arguments[0];this._geometryFactory=arguments[1],this.computePoints(t),this.computeRing()};dc.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=zu.isCCW(this._ring.getCoordinates())},dc.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},dc.prototype.computePoints=function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new sc("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new sc("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var i=e.getLabel();Ou.isTrue(i.isArea()),this.mergeLabel(i),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},dc.prototype.getLinearRing=function(){return this._ring},dc.prototype.getCoordinate=function(t){return this._pts.get(t)},dc.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},dc.prototype.addPoints=function(t,e,n){var i=t.getCoordinates();if(e){var r=1;n&&(r=0);for(var o=r;o<i.length;o++)this._pts.add(i[o])}else{var a=i.length-2;n&&(a=i.length-1);for(var s=a;s>=0;s--)this._pts.add(i[s])}},dc.prototype.isHole=function(){return this._isHole},dc.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},dc.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!zu.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},dc.prototype.addHole=function(t){this._holes.add(t)},dc.prototype.isShell=function(){return null===this._shell},dc.prototype.getLabel=function(){return this._label},dc.prototype.getEdges=function(){return this._edges},dc.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},dc.prototype.getShell=function(){return this._shell},dc.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[1],n=arguments[0].getLocation(e,rc.RIGHT);if(n===au.NONE)return null;if(this._label.getLocation(e)===au.NONE)return this._label.setLocation(e,n),null}},dc.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},dc.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},dc.prototype.interfaces_=function(){return[]},dc.prototype.getClass=function(){return dc};var fc=function(t){function e(){t.call(this,arguments[0],arguments[1])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(dc),pc=function(t){function e(){t.call(this,arguments[0],arguments[1])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.buildMinimalRings=function(){var t=new nl,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new fc(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(dc),mc=function(){this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length||1===arguments.length&&(this._label=arguments[0])};mc.prototype.setVisited=function(t){this._isVisited=t},mc.prototype.setInResult=function(t){this._isInResult=t},mc.prototype.isCovered=function(){return this._isCovered},mc.prototype.isCoveredSet=function(){return this._isCoveredSet},mc.prototype.setLabel=function(t){this._label=t},mc.prototype.getLabel=function(){return this._label},mc.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},mc.prototype.updateIM=function(t){Ou.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},mc.prototype.isInResult=function(){return this._isInResult},mc.prototype.isVisited=function(){return this._isVisited},mc.prototype.interfaces_=function(){return[]},mc.prototype.getClass=function(){return mc};var gc=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[1];this._coord=arguments[0],this._edges=e,this._label=new hc(0,au.NONE)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=au.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var i=t.getLocation(e);n!==au.BOUNDARY&&(n=i)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new hc(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e)this.mergeLabel(arguments[0]._label);else if(arguments[0]instanceof hc)for(var t=arguments[0],n=0;n<2;n++){var i=this.computeMergedLocation(t,n);this._label.getLocation(n)===au.NONE&&this._label.setLocation(n,i)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=au.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case au.BOUNDARY:n=au.INTERIOR;break;case au.INTERIOR:default:n=au.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(mc),yc=function(){this.nodeMap=new Pr,this.nodeFact=null,this.nodeFact=arguments[0]};yc.prototype.find=function(t){return this.nodeMap.get(t)},yc.prototype.addNode=function(){if(arguments[0]instanceof nu){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof gc){var n=arguments[0],i=this.nodeMap.get(n.getCoordinate());return null===i?(this.nodeMap.put(n.getCoordinate(),n),n):(i.mergeLabel(n),i)}},yc.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},yc.prototype.iterator=function(){return this.nodeMap.values().iterator()},yc.prototype.values=function(){return this.nodeMap.values()},yc.prototype.getBoundaryNodes=function(t){for(var e=new nl,n=this.iterator();n.hasNext();){var i=n.next();i.getLabel().getLocation(t)===au.BOUNDARY&&e.add(i)}return e},yc.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},yc.prototype.interfaces_=function(){return[]},yc.prototype.getClass=function(){return yc};var vc=function(){},_c={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};vc.prototype.interfaces_=function(){return[]},vc.prototype.getClass=function(){return vc},vc.isNorthern=function(t){return t===vc.NE||t===vc.NW},vc.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},vc.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},vc.isInHalfPlane=function(t,e){return e===vc.SE?t===vc.SE||t===vc.SW:t===e||t===e+1},vc.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new Zs("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?vc.NE:vc.SE:e>=0?vc.NW:vc.SW}if(arguments[0]instanceof nu&&arguments[1]instanceof nu){var n=arguments[0],i=arguments[1];if(i.x===n.x&&i.y===n.y)throw new Zs("Cannot compute the quadrant for two identical points "+n);return i.x>=n.x?i.y>=n.y?vc.NE:vc.SE:i.y>=n.y?vc.NW:vc.SW}},_c.NE.get=function(){return 0},_c.NW.get=function(){return 1},_c.SW.get=function(){return 2},_c.SE.get=function(){return 3},Object.defineProperties(vc,_c);var bc=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length)this._edge=arguments[0];else if(3===arguments.length){var t=arguments[1],e=arguments[2];this._edge=arguments[0],this.init(t,e),this._label=null}else if(4===arguments.length){var n=arguments[1],i=arguments[2],r=arguments[3];this._edge=arguments[0],this.init(n,i),this._label=r}};bc.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:zu.computeOrientation(t._p0,t._p1,this._p1)},bc.prototype.getDy=function(){return this._dy},bc.prototype.getCoordinate=function(){return this._p0},bc.prototype.setNode=function(t){this._node=t},bc.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),i=n.lastIndexOf("."),r=n.substring(i+1);t.print("  "+r+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},bc.prototype.compareTo=function(t){return this.compareDirection(t)},bc.prototype.getDirectedCoordinate=function(){return this._p1},bc.prototype.getDx=function(){return this._dx},bc.prototype.getLabel=function(){return this._label},bc.prototype.getEdge=function(){return this._edge},bc.prototype.getQuadrant=function(){return this._quadrant},bc.prototype.getNode=function(){return this._node},bc.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},bc.prototype.computeLabel=function(t){},bc.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=vc.quadrant(this._dx,this._dy),Ou.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},bc.prototype.interfaces_=function(){return[$s]},bc.prototype.getClass=function(){return bc};var xc=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var i=e.getNumPoints()-1;this.init(e.getCoordinate(i),e.getCoordinate(i-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new hc(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new sc("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,rc.LEFT)===au.INTERIOR&&this._label.getLocation(e,rc.RIGHT)===au.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[rc.LEFT]+"/"+this._depth[rc.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,au.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,au.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var i=1;t===rc.LEFT&&(i=-1);var r=rc.opposite(t),o=e+n*i;this.setDepth(t,e),this.setDepth(r,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===au.EXTERIOR&&e===au.INTERIOR?1:t===au.INTERIOR&&e===au.EXTERIOR?-1:0},e}(bc),wc=function(){};wc.prototype.createNode=function(t){return new gc(t,null)},wc.prototype.interfaces_=function(){return[]},wc.prototype.getClass=function(){return wc};var kc=function(){this._edges=new nl,this._nodes=null,this._edgeEndList=new nl,0===arguments.length?this._nodes=new yc(new wc):1===arguments.length&&(this._nodes=new yc(arguments[0]))};kc.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},kc.prototype.find=function(t){return this._nodes.find(t)},kc.prototype.addNode=function(){return arguments[0]instanceof gc||arguments[0]instanceof nu?this._nodes.addNode(arguments[0]):void 0},kc.prototype.getNodeIterator=function(){return this._nodes.iterator()},kc.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},kc.prototype.debugPrintln=function(t){wu.out.println(t)},kc.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var i=n.getLabel();return null!==i&&i.getLocation(t)===au.BOUNDARY},kc.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},kc.prototype.matchInSameDirection=function(t,e,n,i){return!!t.equals(n)&&zu.computeOrientation(t,e,i)===zu.COLLINEAR&&vc.quadrant(t,e)===vc.quadrant(n,i)},kc.prototype.getEdgeEnds=function(){return this._edgeEndList},kc.prototype.debugPrint=function(t){wu.out.print(t)},kc.prototype.getEdgeIterator=function(){return this._edges.iterator()},kc.prototype.findEdgeInSameDirection=function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(this.matchInSameDirection(t,e,r[0],r[1]))return i;if(this.matchInSameDirection(t,e,r[r.length-1],r[r.length-2]))return i}return null},kc.prototype.insertEdge=function(t){this._edges.add(t)},kc.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},kc.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var i=new xc(n,!0),r=new xc(n,!1);i.setSym(r),r.setSym(i),this.add(i),this.add(r)}},kc.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},kc.prototype.getNodes=function(){return this._nodes.values()},kc.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(t.equals(r[0])&&e.equals(r[1]))return i}return null},kc.prototype.interfaces_=function(){return[]},kc.prototype.getClass=function(){return kc},kc.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var Mc=function(){this._geometryFactory=null,this._shellList=new nl,this._geometryFactory=arguments[0]};Mc.prototype.sortShellsAndHoles=function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isHole()?n.add(r):e.add(r)}},Mc.prototype.computePolygons=function(t){for(var e=new nl,n=t.iterator();n.hasNext();){var i=n.next().toPolygon(this._geometryFactory);e.add(i)}return e},Mc.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(null===i.getShell()){var r=this.findEdgeRingContaining(i,t);if(null===r)throw new sc("unable to assign hole to a shell",i.getCoordinate(0));i.setShell(r)}}},Mc.prototype.buildMinimalEdgeRings=function(t,e,n){for(var i=new nl,r=t.iterator();r.hasNext();){var o=r.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var a=o.buildMinimalRings(),s=this.findShell(a);null!==s?(this.placePolygonHoles(s,a),e.add(s)):n.addAll(a)}else i.add(o)}return i},Mc.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},Mc.prototype.buildMaximalEdgeRings=function(t){for(var e=new nl,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&i.getLabel().isArea()&&null===i.getEdgeRing()){var r=new pc(i,this._geometryFactory);e.add(r),r.setInResult()}}return e},Mc.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();i.isHole()&&i.setShell(t)}},Mc.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Mc.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),o=null,a=null,s=e.iterator();s.hasNext();){var u=s.next(),l=u.getLinearRing(),c=l.getEnvelopeInternal();null!==o&&(a=o.getLinearRing().getEnvelopeInternal());var h=!1;c.contains(i)&&zu.isPointInRing(r,l.getCoordinates())&&(h=!0),h&&(null===o||a.contains(c))&&(o=u)}return o},Mc.prototype.findShell=function(t){for(var e=0,n=null,i=t.iterator();i.hasNext();){var r=i.next();r.isHole()||(n=r,e++)}return Ou.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},Mc.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0];kc.linkResultDirectedEdges(arguments[1]);var n=this.buildMaximalEdgeRings(e),i=new nl,r=this.buildMinimalEdgeRings(n,this._shellList,i);this.sortShellsAndHoles(r,this._shellList,i),this.placeFreeHoles(this._shellList,i)}},Mc.prototype.interfaces_=function(){return[]},Mc.prototype.getClass=function(){return Mc};var Sc=function(){};Sc.prototype.getBounds=function(){},Sc.prototype.interfaces_=function(){return[]},Sc.prototype.getClass=function(){return Sc};var Ec=function(){this._bounds=null,this._item=null;var t=arguments[1];this._bounds=arguments[0],this._item=t};Ec.prototype.getItem=function(){return this._item},Ec.prototype.getBounds=function(){return this._bounds},Ec.prototype.interfaces_=function(){return[Sc,wr]},Ec.prototype.getClass=function(){return Ec};var Lc=function(){this._size=null,this._items=null,this._size=0,this._items=new nl,this._items.add(null)};Lc.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},Lc.prototype.size=function(){return this._size},Lc.prototype.reorder=function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},Lc.prototype.clear=function(){this._size=0,this._items.clear()},Lc.prototype.isEmpty=function(){return 0===this._size},Lc.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},Lc.prototype.interfaces_=function(){return[]},Lc.prototype.getClass=function(){return Lc};var Tc=function(){};Tc.prototype.visitItem=function(t){},Tc.prototype.interfaces_=function(){return[]},Tc.prototype.getClass=function(){return Tc};var Cc=function(){};Cc.prototype.insert=function(t,e){},Cc.prototype.remove=function(t,e){},Cc.prototype.query=function(){},Cc.prototype.interfaces_=function(){return[]},Cc.prototype.getClass=function(){return Cc};var Ic=function(){this._childBoundables=new nl,this._bounds=null,this._level=null,0===arguments.length||1===arguments.length&&(this._level=arguments[0])},Pc={serialVersionUID:{configurable:!0}};Ic.prototype.getLevel=function(){return this._level},Ic.prototype.size=function(){return this._childBoundables.size()},Ic.prototype.getChildBoundables=function(){return this._childBoundables},Ic.prototype.addChildBoundable=function(t){Ou.isTrue(null===this._bounds),this._childBoundables.add(t)},Ic.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Ic.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Ic.prototype.interfaces_=function(){return[Sc,wr]},Ic.prototype.getClass=function(){return Ic},Pc.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Ic,Pc);var Dc=function(){};Dc.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},Dc.min=function(t){return Dc.sort(t),t.get(0)},Dc.sort=function(t,e){var n=t.toArray();e?gl.sort(n,e):gl.sort(n);for(var i=t.iterator(),r=0,o=n.length;r<o;r++)i.next(),i.set(n[r])},Dc.singletonList=function(t){var e=new nl;return e.add(t),e};var Oc=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[1],e=arguments[2];this._boundable1=arguments[0],this._boundable2=t,this._itemDistance=e,this._distance=this.distance()};Oc.prototype.expandToQueue=function(t,e){var n=Oc.isComposite(this._boundable1),i=Oc.isComposite(this._boundable2);if(n&&i)return Oc.area(this._boundable1)>Oc.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(i)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new Zs("neither boundable is composite")},Oc.prototype.isLeaves=function(){return!(Oc.isComposite(this._boundable1)||Oc.isComposite(this._boundable2))},Oc.prototype.compareTo=function(t){return this._distance<t._distance?-1:this._distance>t._distance?1:0},Oc.prototype.expand=function(t,e,n,i){for(var r=t.getChildBoundables().iterator();r.hasNext();){var o=r.next(),a=new Oc(o,e,this._itemDistance);a.getDistance()<i&&n.add(a)}},Oc.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},Oc.prototype.getDistance=function(){return this._distance},Oc.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Oc.prototype.interfaces_=function(){return[$s]},Oc.prototype.getClass=function(){return Oc},Oc.area=function(t){return t.getBounds().getArea()},Oc.isComposite=function(t){return t instanceof Ic};var Ac=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new nl,this._nodeCapacity=null,0===arguments.length)this._nodeCapacity=t.DEFAULT_NODE_CAPACITY;else if(1===arguments.length){var e=arguments[0];Ou.isTrue(e>1,"Node capacity must be greater than 1"),this._nodeCapacity=e}},Rc={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Ac.prototype.getNodeCapacity=function(){return this._nodeCapacity},Ac.prototype.lastNode=function(t){return t.get(t.size()-1)},Ac.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Ic?t+=this.size(n):n instanceof Ec&&(t+=1)}return t}},Ac.prototype.removeItem=function(t,e){for(var n=null,i=t.getChildBoundables().iterator();i.hasNext();){var r=i.next();r instanceof Ec&&r.getItem()===e&&(n=r)}return null!==n&&(t.getChildBoundables().remove(n),!0)},Ac.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new nl:t}if(1===arguments.length){for(var e=arguments[0],n=new nl,i=e.getChildBoundables().iterator();i.hasNext();){var r=i.next();if(r instanceof Ic){var o=this.itemsTree(r);null!==o&&n.add(o)}else r instanceof Ec?n.add(r.getItem()):Ou.shouldNeverReachHere()}return n.size()<=0?null:n}},Ac.prototype.insert=function(t,e){Ou.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Ec(t,e))},Ac.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new nl;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];if(Ou.isTrue(n>-2),i.getLevel()===n)return r.add(i),null;for(var o=i.getChildBoundables().iterator();o.hasNext();){var a=o.next();a instanceof Ic?this.boundablesAtLevel(n,a,r):(Ou.isTrue(a instanceof Ec),-1===n&&r.add(a))}return null}},Ac.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new nl;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e}if(2===arguments.length){var n=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,i)}else if(3===arguments.length)if(uu(arguments[2],Tc)&&arguments[0]instanceof Object&&arguments[1]instanceof Ic)for(var r=arguments[0],o=arguments[2],a=arguments[1].getChildBoundables(),s=0;s<a.size();s++){var u=a.get(s);this.getIntersectsOp().intersects(u.getBounds(),r)&&(u instanceof Ic?this.query(r,u,o):u instanceof Ec?o.visitItem(u.getItem()):Ou.shouldNeverReachHere())}else if(uu(arguments[2],el)&&arguments[0]instanceof Object&&arguments[1]instanceof Ic)for(var l=arguments[0],c=arguments[2],h=arguments[1].getChildBoundables(),d=0;d<h.size();d++){var f=h.get(d);this.getIntersectsOp().intersects(f.getBounds(),l)&&(f instanceof Ic?this.query(l,f,c):f instanceof Ec?c.add(f.getItem()):Ou.shouldNeverReachHere())}},Ac.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},Ac.prototype.getRoot=function(){return this.build(),this._root},Ac.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=this.removeItem(i,r);if(o)return!0;for(var a=null,s=i.getChildBoundables().iterator();s.hasNext();){var u=s.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof Ic&&(o=this.remove(n,u,r))){a=u;break}}return null!==a&&a.getChildBoundables().isEmpty()&&i.getChildBoundables().remove(a),o}},Ac.prototype.createHigherLevels=function(t,e){Ou.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},Ac.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof Ic){var i=this.depth(n);i>t&&(t=i)}}return t+1}},Ac.prototype.createParentBoundables=function(t,e){Ou.isTrue(!t.isEmpty());var n=new nl;n.add(this.createNode(e));var i=new nl(t);Dc.sort(i,this.getComparator());for(var r=i.iterator();r.hasNext();){var o=r.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},Ac.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},Ac.prototype.interfaces_=function(){return[wr]},Ac.prototype.getClass=function(){return Ac},Ac.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},Rc.IntersectsOp.get=function(){return Nc},Rc.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},Rc.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(Ac,Rc);var Nc=function(){},Fc=function(){};Fc.prototype.distance=function(t,e){},Fc.prototype.interfaces_=function(){return[]},Fc.prototype.getClass=function(){return Fc};var Yc=function(t){function e(n){t.call(this,n=n||e.DEFAULT_NODE_CAPACITY)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(t,e){Ou.isTrue(t.length>0);for(var n=new nl,i=0;i<t.length;i++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[i],e));return n},e.prototype.createNode=function(t){return new zc(t)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),i=new Array(e).fill(null),r=t.iterator(),o=0;o<e;o++){i[o]=new nl;for(var a=0;r.hasNext()&&a<n;){var s=r.next();i[o].add(s),a++}}return i},e.prototype.query=function(){if(1===arguments.length)return t.prototype.query.call(this,arguments[0]);2===arguments.length?t.prototype.query.call(this,arguments[0],arguments[1]):3===arguments.length&&(uu(arguments[2],Tc)&&arguments[0]instanceof Object&&arguments[1]instanceof Ic||uu(arguments[2],el)&&arguments[0]instanceof Object&&arguments[1]instanceof Ic)&&t.prototype.query.call(this,arguments[0],arguments[1],arguments[2])},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},e.prototype.remove=function(){return 2===arguments.length?t.prototype.remove.call(this,arguments[0],arguments[1]):t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(t,n){Ou.isTrue(!t.isEmpty());var i=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),r=new nl(t);Dc.sort(r,e.xComparator);var o=this.verticalSlices(r,Math.trunc(Math.ceil(Math.sqrt(i))));return this.createParentBoundablesFromVerticalSlices(o,n)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if(uu(arguments[0],Fc)){var t=arguments[0],n=new Oc(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(n)}if(arguments[0]instanceof Oc)return this.nearestNeighbour(arguments[0],Qs.POSITIVE_INFINITY)}else if(2===arguments.length){if(arguments[0]instanceof e&&uu(arguments[1],Fc)){var i=arguments[0],r=arguments[1],o=new Oc(this.getRoot(),i.getRoot(),r);return this.nearestNeighbour(o)}if(arguments[0]instanceof Oc&&"number"==typeof arguments[1]){var a=arguments[0],s=arguments[1],u=null,l=new Lc;for(l.add(a);!l.isEmpty()&&s>0;){var c=l.poll(),h=c.getDistance();if(h>=s)break;c.isLeaves()?(s=h,u=c):c.expandToQueue(l,s)}return[u.getBoundable(0).getItem(),u.getBoundable(1).getItem()]}}else if(3===arguments.length){var d=arguments[2],f=new Ec(arguments[0],arguments[1]),p=new Oc(this.getRoot(),f,d);return this.nearestNeighbour(p)[0]}},e.prototype.interfaces_=function(){return[Cc,wr]},e.prototype.getClass=function(){return e},e.centreX=function(t){return e.avg(t.getMinX(),t.getMaxX())},e.avg=function(t,e){return(t+e)/2},e.centreY=function(t){return e.avg(t.getMinY(),t.getMaxY())},n.STRtreeNode.get=function(){return zc},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[eu]},compare:function(n,i){return t.compareDoubles(e.centreX(n.getBounds()),e.centreX(i.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[eu]},compare:function(n,i){return t.compareDoubles(e.centreY(n.getBounds()),e.centreY(i.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,n),e}(Ac),zc=function(t){function e(){t.call(this,arguments[0])}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new Mu(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ic),jc=function(){};jc.prototype.interfaces_=function(){return[]},jc.prototype.getClass=function(){return jc},jc.relativeSign=function(t,e){return t<e?-1:t>e?1:0},jc.compare=function(t,e,n){if(e.equals2D(n))return 0;var i=jc.relativeSign(e.x,n.x),r=jc.relativeSign(e.y,n.y);switch(t){case 0:return jc.compareValue(i,r);case 1:return jc.compareValue(r,i);case 2:return jc.compareValue(r,-i);case 3:return jc.compareValue(-i,r);case 4:return jc.compareValue(-i,-r);case 5:return jc.compareValue(-r,-i);case 6:return jc.compareValue(-r,i);case 7:return jc.compareValue(i,-r)}return Ou.shouldNeverReachHere("invalid octant value"),0},jc.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var Bc=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._segString=t,this.coord=new nu(e),this.segmentIndex=n,this._segmentOctant=i,this._isInterior=!e.equals2D(t.getCoordinate(n))};Bc.prototype.getCoordinate=function(){return this.coord},Bc.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},Bc.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:jc.compare(this._segmentOctant,this.coord,e.coord)},Bc.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},Bc.prototype.isInterior=function(){return this._isInterior},Bc.prototype.interfaces_=function(){return[$s]},Bc.prototype.getClass=function(){return Bc};var Hc=function(){this._nodeMap=new Pr,this._edge=null,this._edge=arguments[0]};Hc.prototype.getSplitCoordinates=function(){var t=new rl;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next();this.addEdgeCoordinates(n,i,t),n=i}return t.toCoordinateArray()},Hc.prototype.addCollapsedNodes=function(){var t=new nl;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},Hc.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Hc.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),i=this._edge.getCoordinate(e+2);n.equals2D(i)&&t.add(new du(e+1))}},Hc.prototype.addEdgeCoordinates=function(t,e,n){var i=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);n.add(new nu(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));r&&n.add(new nu(e.coord))},Hc.prototype.iterator=function(){return this._nodeMap.values().iterator()},Hc.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},Hc.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var i=e.segmentIndex-t.segmentIndex;return e.isInterior()||i--,1===i&&(n[0]=t.segmentIndex+1,!0)},Hc.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),i=n.next();n.hasNext();){var r=n.next();this.findCollapseIndex(i,r,e)&&t.add(new du(e[0])),i=r}},Hc.prototype.getEdge=function(){return this._edge},Hc.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},Hc.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),a=0;o[a++]=new nu(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)o[a++]=this._edge.getCoordinate(s);return r&&(o[a]=new nu(e.coord)),new Gc(o,this._edge.getData())},Hc.prototype.add=function(t,e){var n=new Bc(this._edge,t,e,this._edge.getSegmentOctant(e)),i=this._nodeMap.get(n);return null!==i?(Ou.isTrue(i.coord.equals2D(t),"Found equal nodes with different coordinates"),i):(this._nodeMap.put(n,n),n)},Hc.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new Pu("bad split edge start point at "+n);var i=t.get(t.size()-1).getCoordinates(),r=i[i.length-1];if(!r.equals2D(e[e.length-1]))throw new Pu("bad split edge end point at "+r)},Hc.prototype.interfaces_=function(){return[]},Hc.prototype.getClass=function(){return Hc};var Uc=function(){};Uc.prototype.interfaces_=function(){return[]},Uc.prototype.getClass=function(){return Uc},Uc.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new Zs("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),i=Math.abs(e);return t>=0?e>=0?n>=i?0:1:n>=i?7:6:e>=0?n>=i?3:2:n>=i?4:5}if(arguments[0]instanceof nu&&arguments[1]instanceof nu){var r=arguments[0],o=arguments[1],a=o.x-r.x,s=o.y-r.y;if(0===a&&0===s)throw new Zs("Cannot compute the octant for two identical points "+r);return Uc.octant(a,s)}};var Vc=function(){};Vc.prototype.getCoordinates=function(){},Vc.prototype.size=function(){},Vc.prototype.getCoordinate=function(t){},Vc.prototype.isClosed=function(){},Vc.prototype.setData=function(t){},Vc.prototype.getData=function(){},Vc.prototype.interfaces_=function(){return[]},Vc.prototype.getClass=function(){return Vc};var qc=function(){};qc.prototype.addIntersection=function(t,e){},qc.prototype.interfaces_=function(){return[Vc]},qc.prototype.getClass=function(){return qc};var Gc=function(){this._nodeList=new Hc(this),this._pts=null,this._data=null;var t=arguments[1];this._pts=arguments[0],this._data=t};Gc.prototype.getCoordinates=function(){return this._pts},Gc.prototype.size=function(){return this._pts.length},Gc.prototype.getCoordinate=function(t){return this._pts[t]},Gc.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Gc.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},Gc.prototype.setData=function(t){this._data=t},Gc.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:Uc.octant(t,e)},Gc.prototype.getData=function(){return this._data},Gc.prototype.addIntersection=function(){if(2===arguments.length)this.addIntersectionNode(arguments[0],arguments[1]);else if(4===arguments.length){var t=arguments[1],e=new nu(arguments[0].getIntersection(arguments[3]));this.addIntersection(e,t)}},Gc.prototype.toString=function(){return Iu.toLineString(new Bl(this._pts))},Gc.prototype.getNodeList=function(){return this._nodeList},Gc.prototype.addIntersectionNode=function(t,e){var n=e,i=n+1;return i<this._pts.length&&t.equals2D(this._pts[i])&&(n=i),this._nodeList.add(t,n)},Gc.prototype.addIntersections=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},Gc.prototype.interfaces_=function(){return[qc]},Gc.prototype.getClass=function(){return Gc},Gc.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new nl;return Gc.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[1],i=arguments[0].iterator();i.hasNext();)i.next().getNodeList().addSplitEdges(n)};var Wc=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new nu,this.p1=new nu;else if(1===arguments.length){var t=arguments[0];this.p0=new nu(t.p0),this.p1=new nu(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[2],n=arguments[3];this.p0=new nu(arguments[0],arguments[1]),this.p1=new nu(e,n)}},Xc={serialVersionUID:{configurable:!0}};Wc.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Wc.prototype.orientationIndex=function(){if(arguments[0]instanceof Wc){var t=arguments[0],e=zu.orientationIndex(this.p0,this.p1,t.p0),n=zu.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0||e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof nu)return zu.orientationIndex(this.p0,this.p1,arguments[0])},Wc.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},Wc.prototype.isVertical=function(){return this.p0.x===this.p1.x},Wc.prototype.equals=function(t){if(!(t instanceof Wc))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},Wc.prototype.intersection=function(t){var e=new Nu;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},Wc.prototype.project=function(){if(arguments[0]instanceof nu){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new nu(t);var e=this.projectionFactor(t),n=new nu;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof Wc){var i=arguments[0],r=this.projectionFactor(i.p0),o=this.projectionFactor(i.p1);if(r>=1&&o>=1)return null;if(r<=0&&o<=0)return null;var a=this.project(i.p0);r<0&&(a=this.p0),r>1&&(a=this.p1);var s=this.project(i.p1);return o<0&&(s=this.p0),o>1&&(s=this.p1),new Wc(a,s)}},Wc.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Wc.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Wc.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},Wc.prototype.distancePerpendicular=function(t){return zu.distancePointLinePerpendicular(t,this.p0,this.p1)},Wc.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Wc.prototype.midPoint=function(){return Wc.midPoint(this.p0,this.p1)},Wc.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=e*e+n*n;return i<=0?Qs.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/i},Wc.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),i=Qs.MAX_VALUE,r=null,o=this.closestPoint(t.p0);i=o.distance(t.p0),n[0]=o,n[1]=t.p0;var a=this.closestPoint(t.p1);(r=a.distance(t.p1))<i&&(i=r,n[0]=a,n[1]=t.p1);var s=t.closestPoint(this.p0);(r=s.distance(this.p0))<i&&(i=r,n[0]=this.p0,n[1]=s);var u=t.closestPoint(this.p1);return(r=u.distance(this.p1))<i&&(i=r,n[0]=this.p1,n[1]=u),n},Wc.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},Wc.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Wc.prototype.getLength=function(){return this.p0.distance(this.p1)},Wc.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},Wc.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},Wc.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},Wc.prototype.lineIntersection=function(t){try{return ku.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof xu))throw t}return null},Wc.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Wc.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),i=this.p0.y+t*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,a=Math.sqrt(r*r+o*o),s=0,u=0;if(0!==e){if(a<=0)throw new Error("Cannot compute offset from zero-length line segment");s=e*r/a,u=e*o/a}return new nu(n-u,i+s)},Wc.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},Wc.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||Qs.isNaN(e))&&(e=1),e},Wc.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Wc.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Wc.prototype.distance=function(){if(arguments[0]instanceof Wc){var t=arguments[0];return zu.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof nu)return zu.distancePointLine(arguments[0],this.p0,this.p1)},Wc.prototype.pointAlong=function(t){var e=new nu;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},Wc.prototype.hashCode=function(){var t=Qs.doubleToLongBits(this.p0.x);t^=31*Qs.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=Qs.doubleToLongBits(this.p1.x);return n^=31*Qs.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},Wc.prototype.interfaces_=function(){return[$s,wr]},Wc.prototype.getClass=function(){return Wc},Wc.midPoint=function(t,e){return new nu((t.x+e.x)/2,(t.y+e.y)/2)},Xc.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Wc,Xc);var Kc=function(){this.tempEnv1=new Mu,this.tempEnv2=new Mu,this._overlapSeg1=new Wc,this._overlapSeg2=new Wc};Kc.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[2],e=arguments[3];arguments[0].getLineSegment(arguments[1],this._overlapSeg1),t.getLineSegment(e,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},Kc.prototype.interfaces_=function(){return[]},Kc.prototype.getClass=function(){return Kc};var Zc=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[1],e=arguments[2],n=arguments[3];this._pts=arguments[0],this._start=t,this._end=e,this._context=n};Zc.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},Zc.prototype.computeSelect=function(t,e,n,i){if(i.tempEnv1.init(this._pts[e],this._pts[n]),n-e==1)return i.select(this,e),null;if(!t.intersects(i.tempEnv1))return null;var r=Math.trunc((e+n)/2);e<r&&this.computeSelect(t,e,r,i),r<n&&this.computeSelect(t,r,n,i)},Zc.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},Zc.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},Zc.prototype.setId=function(t){this._id=t},Zc.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},Zc.prototype.getEnvelope=function(){return null===this._env&&(this._env=new Mu(this._pts[this._start],this._pts[this._end])),this._env},Zc.prototype.getEndIndex=function(){return this._end},Zc.prototype.getStartIndex=function(){return this._start},Zc.prototype.getContext=function(){return this._context},Zc.prototype.getId=function(){return this._id},Zc.prototype.computeOverlapsInternal=function(t,e,n,i,r,o){var a=this._pts[t],s=this._pts[e],u=n._pts[i],l=n._pts[r];if(e-t==1&&r-i==1)return o.overlap(this,t,n,i),null;if(o.tempEnv1.init(a,s),o.tempEnv2.init(u,l),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),h=Math.trunc((i+r)/2);t<c&&(i<h&&this.computeOverlapsInternal(t,c,n,i,h,o),h<r&&this.computeOverlapsInternal(t,c,n,h,r,o)),c<e&&(i<h&&this.computeOverlapsInternal(c,e,n,i,h,o),h<r&&this.computeOverlapsInternal(c,e,n,h,r,o))},Zc.prototype.interfaces_=function(){return[]},Zc.prototype.getClass=function(){return Zc};var Qc=function(){};Qc.prototype.interfaces_=function(){return[]},Qc.prototype.getClass=function(){return Qc},Qc.getChainStartIndices=function(t){var e=0,n=new nl;n.add(new du(e));do{var i=Qc.findChainEnd(t,e);n.add(new du(i)),e=i}while(e<t.length-1);return Qc.toIntArray(n)},Qc.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var i=vc.quadrant(t[n],t[n+1]),r=e+1;r<t.length&&(t[r-1].equals2D(t[r])||vc.quadrant(t[r-1],t[r])===i);)r++;return r-1},Qc.getChains=function(){if(1===arguments.length)return Qc.getChains(arguments[0],null);if(2===arguments.length){for(var t=arguments[0],e=arguments[1],n=new nl,i=Qc.getChainStartIndices(t),r=0;r<i.length-1;r++){var o=new Zc(t,i[r],i[r+1],e);n.add(o)}return n}},Qc.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Jc=function(){};Jc.prototype.computeNodes=function(t){},Jc.prototype.getNodedSubstrings=function(){},Jc.prototype.interfaces_=function(){return[]},Jc.prototype.getClass=function(){return Jc};var $c=function(){this._segInt=null,0===arguments.length||1===arguments.length&&this.setSegmentIntersector(arguments[0])};$c.prototype.setSegmentIntersector=function(t){this._segInt=t},$c.prototype.interfaces_=function(){return[Jc]},$c.prototype.getClass=function(){return $c};var th=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new nl,this._index=new Yc,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return Gc.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=Qc.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new eh(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),i=this._index.query(n.getEnvelope()).iterator();i.hasNext();){var r=i.next();if(r.getId()>n.getId()&&(n.computeOverlaps(r,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return eh},Object.defineProperties(e,n),e}($c),eh=function(t){function e(){t.call(this),this._si=null,this._si=arguments[0]}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[1],n=arguments[2],i=arguments[3],r=arguments[0].getContext(),o=n.getContext();this._si.processIntersections(r,e,o,i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Kc),nh=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length)this.setQuadrantSegments(arguments[0]);else if(2===arguments.length){var e=arguments[1];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(e)}else if(4===arguments.length){var n=arguments[1],i=arguments[2],r=arguments[3];this.setQuadrantSegments(arguments[0]),this.setEndCapStyle(n),this.setJoinStyle(i),this.setMitreLimit(r)}},ih={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};nh.prototype.getEndCapStyle=function(){return this._endCapStyle},nh.prototype.isSingleSided=function(){return this._isSingleSided},nh.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=nh.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=nh.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==nh.JOIN_ROUND&&(this._quadrantSegments=nh.DEFAULT_QUADRANT_SEGMENTS)},nh.prototype.getJoinStyle=function(){return this._joinStyle},nh.prototype.setJoinStyle=function(t){this._joinStyle=t},nh.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},nh.prototype.getSimplifyFactor=function(){return this._simplifyFactor},nh.prototype.getQuadrantSegments=function(){return this._quadrantSegments},nh.prototype.setEndCapStyle=function(t){this._endCapStyle=t},nh.prototype.getMitreLimit=function(){return this._mitreLimit},nh.prototype.setMitreLimit=function(t){this._mitreLimit=t},nh.prototype.setSingleSided=function(t){this._isSingleSided=t},nh.prototype.interfaces_=function(){return[]},nh.prototype.getClass=function(){return nh},nh.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},ih.CAP_ROUND.get=function(){return 1},ih.CAP_FLAT.get=function(){return 2},ih.CAP_SQUARE.get=function(){return 3},ih.JOIN_ROUND.get=function(){return 1},ih.JOIN_MITRE.get=function(){return 2},ih.JOIN_BEVEL.get=function(){return 3},ih.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},ih.DEFAULT_MITRE_LIMIT.get=function(){return 5},ih.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(nh,ih);var rh=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=zu.COUNTERCLOCKWISE,this._inputLine=t||null},oh={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};rh.prototype.isDeletable=function(t,e,n,i){var r=this._inputLine[t],o=this._inputLine[e],a=this._inputLine[n];return!!this.isConcave(r,o,a)&&!!this.isShallow(r,o,a,i)&&this.isShallowSampled(r,o,t,n,i)},rh.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),i=!1;n<this._inputLine.length;){var r=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=rh.DELETE,r=!0,i=!0),e=this.findNextNonDeletedIndex(t=r?n:e),n=this.findNextNonDeletedIndex(e)}return i},rh.prototype.isShallowConcavity=function(t,e,n,i){return zu.computeOrientation(t,e,n)===this._angleOrientation&&zu.distancePointLine(e,t,n)<i},rh.prototype.isShallowSampled=function(t,e,n,i,r){var o=Math.trunc((i-n)/rh.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var a=n;a<i;a+=o)if(!this.isShallow(t,e,this._inputLine[a],r))return!1;return!0},rh.prototype.isConcave=function(t,e,n){return zu.computeOrientation(t,e,n)===this._angleOrientation},rh.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=zu.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},rh.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===rh.DELETE;)e++;return e},rh.prototype.isShallow=function(t,e,n,i){return zu.distancePointLine(e,t,n)<i},rh.prototype.collapseLine=function(){for(var t=new rl,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==rh.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},rh.prototype.interfaces_=function(){return[]},rh.prototype.getClass=function(){return rh},rh.simplify=function(t,e){return new rh(t).simplify(e)},oh.INIT.get=function(){return 0},oh.DELETE.get=function(){return 1},oh.KEEP.get=function(){return 1},oh.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(rh,oh);var ah=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new nl},sh={COORDINATE_ARRAY_TYPE:{configurable:!0}};ah.prototype.getCoordinates=function(){return this._ptList.toArray(ah.COORDINATE_ARRAY_TYPE)},ah.prototype.setPrecisionModel=function(t){this._precisionModel=t},ah.prototype.addPt=function(t){var e=new nu(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},ah.prototype.revere=function(){},ah.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var i=t.length-1;i>=0;i--)this.addPt(t[i])},ah.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},ah.prototype.toString=function(){return(new Zl).createLineString(this.getCoordinates()).toString()},ah.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new nu(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},ah.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},ah.prototype.interfaces_=function(){return[]},ah.prototype.getClass=function(){return ah},sh.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(ah,sh);var uh=function(){},lh={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};uh.prototype.interfaces_=function(){return[]},uh.prototype.getClass=function(){return uh},uh.toDegrees=function(t){return 180*t/Math.PI},uh.normalize=function(t){for(;t>Math.PI;)t-=uh.PI_TIMES_2;for(;t<=-Math.PI;)t+=uh.PI_TIMES_2;return t},uh.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return Math.atan2(n.y-e.y,n.x-e.x)}},uh.isAcute=function(t,e,n){return(t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y)>0},uh.isObtuse=function(t,e,n){return(t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y)<0},uh.interiorAngle=function(t,e,n){var i=uh.angle(e,t),r=uh.angle(e,n);return Math.abs(r-i)},uh.normalizePositive=function(t){if(t<0){for(;t<0;)t+=uh.PI_TIMES_2;t>=uh.PI_TIMES_2&&(t=0)}else{for(;t>=uh.PI_TIMES_2;)t-=uh.PI_TIMES_2;t<0&&(t=0)}return t},uh.angleBetween=function(t,e,n){var i=uh.angle(e,t),r=uh.angle(e,n);return uh.diff(i,r)},uh.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},uh.toRadians=function(t){return t*Math.PI/180},uh.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?uh.COUNTERCLOCKWISE:n<0?uh.CLOCKWISE:uh.NONE},uh.angleBetweenOriented=function(t,e,n){var i=uh.angle(e,t),r=uh.angle(e,n)-i;return r<=-Math.PI?r+uh.PI_TIMES_2:r>Math.PI?r-uh.PI_TIMES_2:r},lh.PI_TIMES_2.get=function(){return 2*Math.PI},lh.PI_OVER_2.get=function(){return Math.PI/2},lh.PI_OVER_4.get=function(){return Math.PI/4},lh.COUNTERCLOCKWISE.get=function(){return zu.COUNTERCLOCKWISE},lh.CLOCKWISE.get=function(){return zu.CLOCKWISE},lh.NONE.get=function(){return zu.COLLINEAR},Object.defineProperties(uh,lh);var ch=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Wc,this._seg1=new Wc,this._offset0=new Wc,this._offset1=new Wc,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[1],n=arguments[2];this._precisionModel=arguments[0],this._bufParams=e,this._li=new Nu,this._filletAngleQuantum=Math.PI/2/e.getQuadrantSegments(),e.getQuadrantSegments()>=8&&e.getJoinStyle()===nh.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)},hh={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};ch.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=zu.computeOrientation(this._s0,this._s1,this._s2),i=n===zu.CLOCKWISE&&this._side===rc.LEFT||n===zu.COUNTERCLOCKWISE&&this._side===rc.RIGHT;0===n?this.addCollinear(e):i?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},ch.prototype.addLineEndCap=function(t,e){var n=new Wc(t,e),i=new Wc;this.computeOffsetSegment(n,rc.LEFT,this._distance,i);var r=new Wc;this.computeOffsetSegment(n,rc.RIGHT,this._distance,r);var o=Math.atan2(e.y-t.y,e.x-t.x);switch(this._bufParams.getEndCapStyle()){case nh.CAP_ROUND:this._segList.addPt(i.p1),this.addFilletArc(e,o+Math.PI/2,o-Math.PI/2,zu.CLOCKWISE,this._distance),this._segList.addPt(r.p1);break;case nh.CAP_FLAT:this._segList.addPt(i.p1),this._segList.addPt(r.p1);break;case nh.CAP_SQUARE:var a=new nu;a.x=Math.abs(this._distance)*Math.cos(o),a.y=Math.abs(this._distance)*Math.sin(o);var s=new nu(i.p1.x+a.x,i.p1.y+a.y),u=new nu(r.p1.x+a.x,r.p1.y+a.y);this._segList.addPt(s),this._segList.addPt(u)}},ch.prototype.getCoordinates=function(){return this._segList.getCoordinates()},ch.prototype.addMitreJoin=function(t,e,n,i){var r=!0,o=null;try{o=ku.intersection(e.p0,e.p1,n.p0,n.p1),(i<=0?1:o.distance(t)/Math.abs(i))>this._bufParams.getMitreLimit()&&(r=!1)}catch(t){if(!(t instanceof xu))throw t;o=new nu(0,0),r=!1}r?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,i,this._bufParams.getMitreLimit())},ch.prototype.addFilletCorner=function(t,e,n,i,r){var o=Math.atan2(e.y-t.y,e.x-t.x),a=Math.atan2(n.y-t.y,n.x-t.x);i===zu.CLOCKWISE?o<=a&&(o+=2*Math.PI):o>=a&&(o-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,o,a,i,r),this._segList.addPt(n)},ch.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*ch.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===nh.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===nh.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},ch.prototype.createSquare=function(t){this._segList.addPt(new nu(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new nu(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new nu(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new nu(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},ch.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},ch.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},ch.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},ch.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},ch.prototype.addLimitedMitreJoin=function(t,e,n,i){var r=this._seg0.p1,o=uh.angle(r,this._seg0.p0),a=uh.angleBetweenOriented(this._seg0.p0,r,this._seg1.p1)/2,s=uh.normalize(o+a),u=uh.normalize(s+Math.PI),l=i*n,c=n-l*Math.abs(Math.sin(a)),h=r.x+l*Math.cos(u),d=r.y+l*Math.sin(u),f=new nu(h,d),p=new Wc(r,f),m=p.pointAlongOffset(1,c),g=p.pointAlongOffset(1,-c);this._side===rc.LEFT?(this._segList.addPt(m),this._segList.addPt(g)):(this._segList.addPt(g),this._segList.addPt(m))},ch.prototype.computeOffsetSegment=function(t,e,n,i){var r=e===rc.LEFT?1:-1,o=t.p1.x-t.p0.x,a=t.p1.y-t.p0.y,s=Math.sqrt(o*o+a*a),u=r*n*o/s,l=r*n*a/s;i.p0.x=t.p0.x-l,i.p0.y=t.p0.y+u,i.p1.x=t.p1.x-l,i.p1.y=t.p1.y+u},ch.prototype.addFilletArc=function(t,e,n,i,r){var o=i===zu.CLOCKWISE?-1:1,a=Math.abs(e-n),s=Math.trunc(a/this._filletAngleQuantum+.5);if(s<1)return null;for(var u=a/s,l=0,c=new nu;l<a;){var h=e+o*l;c.x=t.x+r*Math.cos(h),c.y=t.y+r*Math.sin(h),this._segList.addPt(c),l+=u}},ch.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*ch.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new nu((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var i=new nu((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},ch.prototype.createCircle=function(t){var e=new nu(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},ch.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},ch.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new ah,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*ch.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},ch.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===nh.JOIN_BEVEL||this._bufParams.getJoinStyle()===nh.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,zu.CLOCKWISE,this._distance))},ch.prototype.closeRing=function(){this._segList.closeRing()},ch.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},ch.prototype.interfaces_=function(){return[]},ch.prototype.getClass=function(){return ch},hh.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},hh.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},hh.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},hh.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(ch,hh);var dh=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[1];this._precisionModel=arguments[0],this._bufParams=t};dh.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,i=Math.abs(e),r=this.getSegGen(i);t.length<=1?this.computePointCurve(t[0],r):this.computeOffsetCurve(t,n,r);var o=r.getCoordinates();return n&&ol.reverse(o),o},dh.prototype.computeSingleSidedBufferCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var r=rh.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],rc.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(r[a],!0)}else{n.addSegments(t,!1);var s=rh.simplify(t,i),u=s.length-1;n.initSideSegments(s[0],s[1],rc.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(s[l],!0)}n.addLastSegment(),n.closeRing()},dh.prototype.computeRingBufferCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);e===rc.RIGHT&&(i=-i);var r=rh.simplify(t,i),o=r.length-1;n.initSideSegments(r[o-1],r[0],e);for(var a=1;a<=o;a++)n.addNextSegment(r[a],1!==a);n.closeRing()},dh.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),i=rh.simplify(t,n),r=i.length-1;e.initSideSegments(i[0],i[1],rc.LEFT);for(var o=2;o<=r;o++)e.addNextSegment(i[o],!0);e.addLastSegment(),e.addLineEndCap(i[r-1],i[r]);var a=rh.simplify(t,-n),s=a.length-1;e.initSideSegments(a[s],a[s-1],rc.LEFT);for(var u=s-2;u>=0;u--)e.addNextSegment(a[u],!0);e.addLastSegment(),e.addLineEndCap(a[1],a[0]),e.closeRing()},dh.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case nh.CAP_ROUND:e.createCircle(t);break;case nh.CAP_SQUARE:e.createSquare(t)}},dh.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),i=this.getSegGen(n);return t.length<=1?this.computePointCurve(t[0],i):this._bufParams.isSingleSided()?this.computeSingleSidedBufferCurve(t,e<0,i):this.computeLineBufferCurve(t,i),i.getCoordinates()},dh.prototype.getBufferParameters=function(){return this._bufParams},dh.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},dh.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return dh.copyCoordinates(t);var i=this.getSegGen(n);return this.computeRingBufferCurve(t,e,i),i.getCoordinates()},dh.prototype.computeOffsetCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){var r=rh.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],rc.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(r[a],!0)}else{var s=rh.simplify(t,i),u=s.length-1;n.initSideSegments(s[0],s[1],rc.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(s[l],!0)}n.addLastSegment()},dh.prototype.getSegGen=function(t){return new ch(this._precisionModel,this._bufParams,t)},dh.prototype.interfaces_=function(){return[]},dh.prototype.getClass=function(){return dh},dh.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new nu(t[n]);return e};var fh=function(){this._subgraphs=null,this._seg=new Wc,this._cga=new zu,this._subgraphs=arguments[0]},ph={DepthSegment:{configurable:!0}};fh.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new nl,n=this._subgraphs.iterator();n.hasNext();){var i=n.next(),r=i.getEnvelope();t.y<r.getMinY()||t.y>r.getMaxY()||this.findStabbedSegments(t,i.getDirectedEdges(),e)}return e}if(3===arguments.length)if(uu(arguments[2],el)&&arguments[0]instanceof nu&&arguments[1]instanceof xc){for(var o=arguments[0],a=arguments[1],s=arguments[2],u=a.getEdge().getCoordinates(),l=0;l<u.length-1;l++)if(this._seg.p0=u[l],this._seg.p1=u[l+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x||this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||zu.computeOrientation(this._seg.p0,this._seg.p1,o)===zu.RIGHT)){var c=a.getDepth(rc.LEFT);this._seg.p0.equals(u[l])||(c=a.getDepth(rc.RIGHT));var h=new mh(this._seg,c);s.add(h)}}else if(uu(arguments[2],el)&&arguments[0]instanceof nu&&uu(arguments[1],el))for(var d=arguments[0],f=arguments[2],p=arguments[1].iterator();p.hasNext();){var m=p.next();m.isForward()&&this.findStabbedSegments(d,m,f)}},fh.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:Dc.min(e)._leftDepth},fh.prototype.interfaces_=function(){return[]},fh.prototype.getClass=function(){return fh},ph.DepthSegment.get=function(){return mh},Object.defineProperties(fh,ph);var mh=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[1];this._upwardSeg=new Wc(arguments[0]),this._leftDepth=t};mh.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n||0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},mh.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},mh.prototype.toString=function(){return this._upwardSeg.toString()},mh.prototype.interfaces_=function(){return[$s]},mh.prototype.getClass=function(){return mh};var gh=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};gh.prototype.area=function(){return gh.area(this.p0,this.p1,this.p2)},gh.prototype.signedArea=function(){return gh.signedArea(this.p0,this.p1,this.p2)},gh.prototype.interpolateZ=function(t){if(null===t)throw new Zs("Supplied point is null.");return gh.interpolateZ(t,this.p0,this.p1,this.p2)},gh.prototype.longestSideLength=function(){return gh.longestSideLength(this.p0,this.p1,this.p2)},gh.prototype.isAcute=function(){return gh.isAcute(this.p0,this.p1,this.p2)},gh.prototype.circumcentre=function(){return gh.circumcentre(this.p0,this.p1,this.p2)},gh.prototype.area3D=function(){return gh.area3D(this.p0,this.p1,this.p2)},gh.prototype.centroid=function(){return gh.centroid(this.p0,this.p1,this.p2)},gh.prototype.inCentre=function(){return gh.inCentre(this.p0,this.p1,this.p2)},gh.prototype.interfaces_=function(){return[]},gh.prototype.getClass=function(){return gh},gh.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},gh.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},gh.det=function(t,e,n,i){return t*i-e*n},gh.interpolateZ=function(t,e,n,i){var r=e.x,o=e.y,a=n.x-r,s=i.x-r,u=n.y-o,l=i.y-o,c=a*l-s*u,h=t.x-r,d=t.y-o;return e.z+(l*h-s*d)/c*(n.z-e.z)+(-u*h+a*d)/c*(i.z-e.z)},gh.longestSideLength=function(t,e,n){var i=t.distance(e),r=e.distance(n),o=n.distance(t),a=i;return r>a&&(a=r),o>a&&(a=o),a},gh.isAcute=function(t,e,n){return!!uh.isAcute(t,e,n)&&!!uh.isAcute(e,n,t)&&!!uh.isAcute(n,t,e)},gh.circumcentre=function(t,e,n){var i=n.x,r=n.y,o=t.x-i,a=t.y-r,s=e.x-i,u=e.y-r,l=2*gh.det(o,a,s,u),c=gh.det(a,o*o+a*a,u,s*s+u*u),h=gh.det(o,o*o+a*a,s,s*s+u*u);return new nu(i-c/l,r+h/l)},gh.perpendicularBisector=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=new ku(t.x+n/2,t.y+i/2,1),o=new ku(t.x-i+n/2,t.y+n+i/2,1);return new ku(r,o)},gh.angleBisector=function(t,e,n){var i=e.distance(t),r=i/(i+e.distance(n));return new nu(t.x+r*(n.x-t.x),t.y+r*(n.y-t.y))},gh.area3D=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=e.z-t.z,a=n.x-t.x,s=n.y-t.y,u=n.z-t.z,l=r*u-o*s,c=o*a-i*u,h=i*s-r*a;return Math.sqrt(l*l+c*c+h*h)/2},gh.centroid=function(t,e,n){return new nu((t.x+e.x+n.x)/3,(t.y+e.y+n.y)/3)},gh.inCentre=function(t,e,n){var i=e.distance(n),r=t.distance(n),o=t.distance(e),a=i+r+o;return new nu((i*t.x+r*e.x+o*n.x)/a,(i*t.y+r*e.y+o*n.y)/a)};var yh=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new nl;var t=arguments[1],e=arguments[2];this._inputGeom=arguments[0],this._distance=t,this._curveBuilder=e};yh.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,au.EXTERIOR,au.INTERIOR)},yh.prototype.addPolygon=function(t){var e=this._distance,n=rc.LEFT;this._distance<0&&(e=-this._distance,n=rc.RIGHT);var i=t.getExteriorRing(),r=ol.removeRepeatedPoints(i.getCoordinates());if(this._distance<0&&this.isErodedCompletely(i,this._distance))return null;if(this._distance<=0&&r.length<3)return null;this.addPolygonRing(r,e,n,au.EXTERIOR,au.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var a=t.getInteriorRingN(o),s=ol.removeRepeatedPoints(a.getCoordinates());this._distance>0&&this.isErodedCompletely(a,-this._distance)||this.addPolygonRing(s,e,rc.opposite(n),au.INTERIOR,au.EXTERIOR)}},yh.prototype.isTriangleErodedCompletely=function(t,e){var n=new gh(t[0],t[1],t[2]),i=n.inCentre();return zu.distancePointLine(i,n.p0,n.p1)<Math.abs(e)},yh.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=ol.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,au.EXTERIOR,au.INTERIOR)},yh.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var i=new Gc(t,new hc(0,au.BOUNDARY,e,n));this._curveList.add(i)},yh.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},yh.prototype.addPolygonRing=function(t,e,n,i,r){if(0===e&&t.length<Al.MINIMUM_VALID_SIZE)return null;var o=i,a=r;t.length>=Al.MINIMUM_VALID_SIZE&&zu.isCCW(t)&&(o=r,a=i,n=rc.opposite(n));var s=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(s,o,a)},yh.prototype.add=function(t){if(t.isEmpty())return null;t instanceof Dl?this.addPolygon(t):t instanceof Tl?this.addLineString(t):t instanceof Il?this.addPoint(t):(t instanceof Ol||t instanceof wl||t instanceof Rl||t instanceof xl)&&this.addCollection(t)},yh.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var i=t.getEnvelopeInternal(),r=Math.min(i.getHeight(),i.getWidth());return e<0&&2*Math.abs(e)>r},yh.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},yh.prototype.interfaces_=function(){return[]},yh.prototype.getClass=function(){return yh};var vh=function(){};vh.prototype.locate=function(t){},vh.prototype.interfaces_=function(){return[]},vh.prototype.getClass=function(){return vh};var _h=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};_h.prototype.next=function(){if(this._atStart)return this._atStart=!1,_h.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new kr;var t=this._parent.getGeometryN(this._index++);return t instanceof xl?(this._subcollectionIterator=new _h(t),this._subcollectionIterator.next()):t},_h.prototype.remove=function(){throw new Error(this.getClass().getName())},_h.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},_h.prototype.interfaces_=function(){return[tl]},_h.prototype.getClass=function(){return _h},_h.isAtomic=function(t){return!(t instanceof xl)};var bh=function(){this._geom=null,this._geom=arguments[0]};bh.prototype.locate=function(t){return bh.locate(t,this._geom)},bh.prototype.interfaces_=function(){return[vh]},bh.prototype.getClass=function(){return bh},bh.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&zu.isPointInRing(t,e.getCoordinates())},bh.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!bh.isPointInRing(t,n))return!1;for(var i=0;i<e.getNumInteriorRing();i++){var r=e.getInteriorRingN(i);if(bh.isPointInRing(t,r))return!1}return!0},bh.containsPoint=function(t,e){if(e instanceof Dl)return bh.containsPointInPolygon(t,e);if(e instanceof xl)for(var n=new _h(e);n.hasNext();){var i=n.next();if(i!==e&&bh.containsPoint(t,i))return!0}return!1},bh.locate=function(t,e){return e.isEmpty()?au.EXTERIOR:bh.containsPoint(t,e)?au.INTERIOR:au.EXTERIOR};var xh=function(){this._edgeMap=new Pr,this._edgeList=null,this._ptInAreaLocation=[au.NONE,au.NONE]};xh.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},xh.prototype.propagateSideLabels=function(t){for(var e=au.NONE,n=this.iterator();n.hasNext();){var i=n.next().getLabel();i.isArea(t)&&i.getLocation(t,rc.LEFT)!==au.NONE&&(e=i.getLocation(t,rc.LEFT))}if(e===au.NONE)return null;for(var r=e,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getLabel();if(s.getLocation(t,rc.ON)===au.NONE&&s.setLocation(t,rc.ON,r),s.isArea(t)){var u=s.getLocation(t,rc.LEFT),l=s.getLocation(t,rc.RIGHT);if(l!==au.NONE){if(l!==r)throw new sc("side location conflict",a.getCoordinate());u===au.NONE&&Ou.shouldNeverReachHere("found single null side (at "+a.getCoordinate()+")"),r=u}else Ou.isTrue(s.getLocation(t,rc.LEFT)===au.NONE,"found single null side"),s.setLocation(t,rc.RIGHT,r),s.setLocation(t,rc.LEFT,r)}}},xh.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},xh.prototype.print=function(t){wu.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},xh.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},xh.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,i=e.get(n).getLabel().getLocation(t,rc.LEFT);Ou.isTrue(i!==au.NONE,"Found unlabelled area edge");for(var r=i,o=this.iterator();o.hasNext();){var a=o.next().getLabel();Ou.isTrue(a.isArea(t),"Found non-area edge");var s=a.getLocation(t,rc.LEFT),u=a.getLocation(t,rc.RIGHT);if(s===u)return!1;if(u!==r)return!1;r=s}return!0},xh.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},xh.prototype.iterator=function(){return this.getEdges().iterator()},xh.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new nl(this._edgeMap.values())),this._edgeList},xh.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===au.NONE&&(this._ptInAreaLocation[t]=bh.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},xh.prototype.toString=function(){var t=new hu;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},xh.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},xh.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var i=n.next().getLabel(),r=0;r<2;r++)i.isLine(r)&&i.getLocation(r)===au.BOUNDARY&&(e[r]=!0);for(var o=this.iterator();o.hasNext();)for(var a=o.next(),s=a.getLabel(),u=0;u<2;u++)if(s.isAnyNull(u)){var l=au.NONE;if(e[u])l=au.EXTERIOR;else{var c=a.getCoordinate();l=this.getLocation(u,c,t)}s.setAllLocationsIfNull(u,l)}},xh.prototype.getDegree=function(){return this._edgeMap.size()},xh.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},xh.prototype.interfaces_=function(){return[]},xh.prototype.getClass=function(){return xh};var wh=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,i=0;i<this._resultAreaEdgeList.size();i++){var r=this._resultAreaEdgeList.get(i),o=r.getSym();if(r.getLabel().isArea())switch(null===t&&r.isInResult()&&(t=r),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!r.isInResult())continue;e.setNext(r),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new sc("no outgoing dirEdge found",this.getCoordinate());Ou.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},e.prototype.insert=function(t){this.insertEdgeEnd(t,t)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var i=t.get(e-1),r=n.getQuadrant(),o=i.getQuadrant();return vc.isNorthern(r)&&vc.isNorthern(o)?n:vc.isNorthern(r)||vc.isNorthern(o)?0!==n.getDy()?n:0!==i.getDy()?i:(Ou.shouldNeverReachHere("found two horizontal edges incident on node"),null):i},e.prototype.print=function(t){wu.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new nl;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var i=this._edgeList.get(n),r=i.getSym();null===e&&(e=r),null!==t&&r.setNext(t),t=i}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(rc.LEFT),i=t.getDepth(rc.RIGHT),r=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,r)!==i)throw new sc("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[1],a=arguments[2],s=arguments[0];s<o;s++){var u=this._edgeList.get(s);u.setEdgeDepths(rc.RIGHT,a),a=u.getDepth(rc.LEFT)}return a}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,n=null,i=this._SCANNING_FOR_INCOMING,r=this._resultAreaEdgeList.size()-1;r>=0;r--){var o=this._resultAreaEdgeList.get(r),a=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),i){case this._SCANNING_FOR_INCOMING:if(a.getEdgeRing()!==t)continue;n=a,i=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),i=this._SCANNING_FOR_INCOMING}}i===this._LINKING_TO_OUTGOING&&(Ou.isTrue(null!==e,"found null for first outgoing dirEdge"),Ou.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],i=0,r=this.iterator();r.hasNext();)r.next().getEdgeRing()===n&&i++;return i}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=au.NONE,e=this.iterator();e.hasNext();){var n=e.next(),i=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=au.INTERIOR;break}if(i.isInResult()){t=au.EXTERIOR;break}}}if(t===au.NONE)return null;for(var r=t,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getSym();a.isLineEdge()?a.getEdge().setCovered(r===au.INTERIOR):(a.isInResult()&&(r=au.EXTERIOR),s.isInResult()&&(r=au.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new hc(au.NONE);for(var n=this.iterator();n.hasNext();)for(var i=n.next().getEdge().getLabel(),r=0;r<2;r++){var o=i.getLocation(r);o!==au.INTERIOR&&o!==au.BOUNDARY||this._label.setLocation(r,au.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(xh),kh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.createNode=function(t){return new gc(t,new wh)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(wc),Mh=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};Mh.prototype.compareTo=function(t){return Mh.compareOriented(this._pts,this._orientation,t._pts,t._orientation)},Mh.prototype.interfaces_=function(){return[$s]},Mh.prototype.getClass=function(){return Mh},Mh.orientation=function(t){return 1===ol.increasingDirection(t)},Mh.compareOriented=function(t,e,n,i){for(var r=e?1:-1,o=i?1:-1,a=e?t.length:-1,s=i?n.length:-1,u=e?0:t.length-1,l=i?0:n.length-1;;){var c=t[u].compareTo(n[l]);if(0!==c)return c;var h=(u+=r)===a,d=(l+=o)===s;if(h&&!d)return-1;if(!h&&d)return 1;if(h&&d)return 0}};var Sh=function(){this._edges=new nl,this._ocaMap=new Pr};Sh.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var i=n.getCoordinates(),r=0;r<i.length;r++)r>0&&t.print(","),t.print(i[r].x+" "+i[r].y);t.println(")")}t.print(")  ")},Sh.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Sh.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Sh.prototype.iterator=function(){return this._edges.iterator()},Sh.prototype.getEdges=function(){return this._edges},Sh.prototype.get=function(t){return this._edges.get(t)},Sh.prototype.findEqualEdge=function(t){var e=new Mh(t.getCoordinates());return this._ocaMap.get(e)},Sh.prototype.add=function(t){this._edges.add(t);var e=new Mh(t.getCoordinates());this._ocaMap.put(e,t)},Sh.prototype.interfaces_=function(){return[]},Sh.prototype.getClass=function(){return Sh};var Eh=function(){};Eh.prototype.processIntersections=function(t,e,n,i){},Eh.prototype.isDone=function(){},Eh.prototype.interfaces_=function(){return[]},Eh.prototype.getClass=function(){return Eh};var Lh=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0,this._li=arguments[0]};Lh.prototype.isTrivialIntersection=function(t,e,n,i){if(t===n&&1===this._li.getIntersectionNum()){if(Lh.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.size()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},Lh.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Lh.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Lh.prototype.getLineIntersector=function(){return this._li},Lh.prototype.hasProperIntersection=function(){return this._hasProper},Lh.prototype.processIntersections=function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[i],s=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,a,s),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Lh.prototype.hasIntersection=function(){return this._hasIntersection},Lh.prototype.isDone=function(){return!1},Lh.prototype.hasInteriorIntersection=function(){return this._hasInterior},Lh.prototype.interfaces_=function(){return[Eh]},Lh.prototype.getClass=function(){return Lh},Lh.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Th=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[1],e=arguments[2];this.coord=new nu(arguments[0]),this.segmentIndex=t,this.dist=e};Th.prototype.getSegmentIndex=function(){return this.segmentIndex},Th.prototype.getCoordinate=function(){return this.coord},Th.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Th.prototype.compareTo=function(t){return this.compare(t.segmentIndex,t.dist)},Th.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Th.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Th.prototype.getDistance=function(){return this.dist},Th.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},Th.prototype.interfaces_=function(){return[$s]},Th.prototype.getClass=function(){return Th};var Ch=function(){this._nodeMap=new Pr,this.edge=null,this.edge=arguments[0]};Ch.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Ch.prototype.iterator=function(){return this._nodeMap.values().iterator()},Ch.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},Ch.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Ch.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=e.dist>0||!e.coord.equals2D(this.edge.pts[e.segmentIndex]);i||n--;var r=new Array(n).fill(null),o=0;r[o++]=new nu(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)r[o++]=this.edge.pts[a];return i&&(r[o]=e.coord),new Ah(r,new hc(this.edge._label))},Ch.prototype.add=function(t,e,n){var i=new Th(t,e,n),r=this._nodeMap.get(i);return null!==r?r:(this._nodeMap.put(i,i),i)},Ch.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},Ch.prototype.interfaces_=function(){return[]},Ch.prototype.getClass=function(){return Ch};var Ih=function(){};Ih.prototype.getChainStartIndices=function(t){var e=0,n=new nl;n.add(new du(e));do{var i=this.findChainEnd(t,e);n.add(new du(i)),e=i}while(e<t.length-1);return Ih.toIntArray(n)},Ih.prototype.findChainEnd=function(t,e){for(var n=vc.quadrant(t[e],t[e+1]),i=e+1;i<t.length&&vc.quadrant(t[i-1],t[i])===n;)i++;return i-1},Ih.prototype.interfaces_=function(){return[]},Ih.prototype.getClass=function(){return Ih},Ih.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Ph=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Mu,this.env2=new Mu;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Ih;this.startIndex=e.getChainStartIndices(this.pts)};Ph.prototype.getCoordinates=function(){return this.pts},Ph.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},Ph.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},Ph.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],arguments[3])}else if(6===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],a=arguments[3],s=arguments[4],u=arguments[5],l=this.pts[i],c=this.pts[r],h=o.pts[a],d=o.pts[s];if(r-i==1&&s-a==1)return u.addIntersections(this.e,i,o.e,a),null;if(this.env1.init(l,c),this.env2.init(h,d),!this.env1.intersects(this.env2))return null;var f=Math.trunc((i+r)/2),p=Math.trunc((a+s)/2);i<f&&(a<p&&this.computeIntersectsForChain(i,f,o,a,p,u),p<s&&this.computeIntersectsForChain(i,f,o,p,s,u)),f<r&&(a<p&&this.computeIntersectsForChain(f,r,o,a,p,u),p<s&&this.computeIntersectsForChain(f,r,o,p,s,u))}},Ph.prototype.getStartIndexes=function(){return this.startIndex},Ph.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var i=0;i<t.startIndex.length-1;i++)this.computeIntersectsForChain(n,t,i,e)},Ph.prototype.interfaces_=function(){return[]},Ph.prototype.getClass=function(){return Ph};var Dh=function t(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},Oh={NULL_VALUE:{configurable:!0}};Dh.prototype.getDepth=function(t,e){return this._depth[t][e]},Dh.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},Dh.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==Dh.NULL_VALUE)return!1;return!0}return 1===arguments.length?this._depth[arguments[0]][1]===Dh.NULL_VALUE:2===arguments.length?this._depth[arguments[0]][arguments[1]]===Dh.NULL_VALUE:void 0},Dh.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var i=0;this._depth[t][n]>e&&(i=1),this._depth[t][n]=i}}},Dh.prototype.getDelta=function(t){return this._depth[t][rc.RIGHT]-this._depth[t][rc.LEFT]},Dh.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?au.EXTERIOR:au.INTERIOR},Dh.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Dh.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var i=t.getLocation(e,n);i!==au.EXTERIOR&&i!==au.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=Dh.depthAtLocation(i):this._depth[e][n]+=Dh.depthAtLocation(i))}else 3===arguments.length&&arguments[2]===au.INTERIOR&&this._depth[arguments[0]][arguments[1]]++},Dh.prototype.interfaces_=function(){return[]},Dh.prototype.getClass=function(){return Dh},Dh.depthAtLocation=function(t){return t===au.EXTERIOR?0:t===au.INTERIOR?1:Dh.NULL_VALUE},Oh.NULL_VALUE.get=function(){return-1},Object.defineProperties(Dh,Oh);var Ah=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new Ch(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Dh,this._depthDelta=0,1===arguments.length)e.call(this,arguments[0],null);else if(2===arguments.length){var n=arguments[1];this.pts=arguments[0],this._label=n}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,hc.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var i=!0,r=!0,o=this.pts.length,a=0;a<this.pts.length;a++)if(this.pts[a].equals2D(n.pts[a])||(i=!1),this.pts[a].equals2D(n.pts[--o])||(r=!1),!i&&!r)return!1;return!0},e.prototype.getCoordinate=function(){return 0===arguments.length?this.pts.length>0?this.pts[0]:null:1===arguments.length?this.pts[arguments[0]]:void 0},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Ph(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new Mu;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,i){var r=new nu(t.getIntersection(i)),o=e,a=t.getEdgeDistance(n,i),s=o+1;s<this.pts.length&&r.equals2D(this.pts[s])&&(o=s,a=0),this.eiList.add(r,o,a)},e.prototype.toString=function(){var t=new hu;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,rc.ON),e.getLocation(1,rc.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,rc.LEFT),e.getLocation(1,rc.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,rc.RIGHT),e.getLocation(1,rc.RIGHT),2))},e}(mc),Rh=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Sh,this._bufParams=t||null};Rh.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},Rh.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new hc(t.getLabel())).flip(),n.merge(i);var r=Rh.depthDelta(i),o=e.getDepthDelta()+r;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(Rh.depthDelta(t.getLabel()))},Rh.prototype.buildSubgraphs=function(t,e){for(var n=new nl,i=t.iterator();i.hasNext();){var r=i.next(),o=r.getRightmostCoordinate(),a=new fh(n).getDepth(o);r.computeDepth(a),r.findResultEdges(),n.add(r),e.add(r.getDirectedEdges(),r.getNodes())}},Rh.prototype.createSubgraphs=function(t){for(var e=new nl,n=t.getNodes().iterator();n.hasNext();){var i=n.next();if(!i.isVisited()){var r=new lc;r.create(i),e.add(r)}}return Dc.sort(e,Dc.reverseOrder()),e},Rh.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},Rh.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new th,n=new Nu;return n.setPrecisionModel(t),e.setSegmentIntersector(new Lh(n)),e},Rh.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var i=new dh(n,this._bufParams),r=new yh(t,e,i).getCurves();if(r.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(r,n),this._graph=new kc(new kh),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),a=new Mc(this._geomFact);this.buildSubgraphs(o,a);var s=a.getPolygons();return s.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(s)},Rh.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var i=n.getNodedSubstrings().iterator();i.hasNext();){var r=i.next(),o=r.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var a=r.getData(),s=new Ah(r.getCoordinates(),new hc(a));this.insertUniqueEdge(s)}}},Rh.prototype.setNoder=function(t){this._workingNoder=t},Rh.prototype.interfaces_=function(){return[]},Rh.prototype.getClass=function(){return Rh},Rh.depthDelta=function(t){var e=t.getLocation(0,rc.LEFT),n=t.getLocation(0,rc.RIGHT);return e===au.INTERIOR&&n===au.EXTERIOR?1:e===au.EXTERIOR&&n===au.INTERIOR?-1:0},Rh.convertSegStrings=function(t){for(var e=new Zl,n=new nl;t.hasNext();){var i=t.next(),r=e.createLineString(i.getCoordinates());n.add(r)}return e.buildGeometry(n)};var Nh=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[1];this._noder=arguments[0],this._scaleFactor=t,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var e=arguments[1],n=arguments[2],i=arguments[3];this._noder=arguments[0],this._scaleFactor=e,this._offsetX=n,this._offsetY=i,this._isScaled=!this.isIntegerPrecision()}};Nh.prototype.rescale=function(){if(uu(arguments[0],Ju))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],i=0;i<n.length;i++)n[i].x=n[i].x/this._scaleFactor+this._offsetX,n[i].y=n[i].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&wu.out.println(n)}},Nh.prototype.scale=function(){if(uu(arguments[0],Ju)){for(var t=arguments[0],e=new nl,n=t.iterator();n.hasNext();){var i=n.next();e.add(new Gc(this.scale(i.getCoordinates()),i.getData()))}return e}if(arguments[0]instanceof Array){for(var r=arguments[0],o=new Array(r.length).fill(null),a=0;a<r.length;a++)o[a]=new nu(Math.round((r[a].x-this._offsetX)*this._scaleFactor),Math.round((r[a].y-this._offsetY)*this._scaleFactor),r[a].z);return ol.removeRepeatedPoints(o)}},Nh.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},Nh.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},Nh.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},Nh.prototype.interfaces_=function(){return[Jc]},Nh.prototype.getClass=function(){return Nh};var Fh=function(){this._li=new Nu,this._segStrings=null,this._segStrings=arguments[0]},Yh={fact:{configurable:!0}};Fh.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],i=arguments[1].iterator();i.hasNext();)for(var r=i.next().getCoordinates(),o=1;o<r.length-1;o++)if(r[o].equals(n))throw new Pu("found endpt/interior pt intersection at index "+o+" :pt "+n)},Fh.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var i=n.next();this.checkInteriorIntersections(e,i)}else if(2===arguments.length)for(var r=arguments[0],o=arguments[1],a=r.getCoordinates(),s=o.getCoordinates(),u=0;u<a.length-1;u++)for(var l=0;l<s.length-1;l++)this.checkInteriorIntersections(r,u,o,l);else if(4===arguments.length){var c=arguments[0],h=arguments[1],d=arguments[2],f=arguments[3];if(c===d&&h===f)return null;var p=c.getCoordinates()[h],m=c.getCoordinates()[h+1],g=d.getCoordinates()[f],y=d.getCoordinates()[f+1];if(this._li.computeIntersection(p,m,g,y),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,p,m)||this.hasInteriorIntersection(this._li,g,y)))throw new Pu("found non-noded intersection at "+p+"-"+m+" and "+g+"-"+y)}},Fh.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},Fh.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),i=0;i<n.length-2;i++)this.checkCollapse(n[i],n[i+1],n[i+2])},Fh.prototype.hasInteriorIntersection=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++){var r=t.getIntersection(i);if(!r.equals(e)&&!r.equals(n))return!0}return!1},Fh.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new Pu("found non-noded collapse at "+Fh.fact.createLineString([t,e,n]))},Fh.prototype.interfaces_=function(){return[]},Fh.prototype.getClass=function(){return Fh},Yh.fact.get=function(){return new Zl},Object.defineProperties(Fh,Yh);var zh=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new Zs("Scale factor must be non-zero");1!==e&&(this._pt=new nu(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new nu,this._p1Scaled=new nu),this.initCorners(this._pt)},jh={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};zh.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x),r=Math.min(t.y,e.y),o=Math.max(t.y,e.y),a=this._maxx<n||this._minx>i||this._maxy<r||this._miny>o;if(a)return!1;var s=this.intersectsToleranceSquare(t,e);return Ou.isTrue(!(a&&s),"Found bad envelope test"),s},zh.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new nu(this._maxx,this._maxy),this._corner[1]=new nu(this._minx,this._maxy),this._corner[2]=new nu(this._minx,this._miny),this._corner[3]=new nu(this._maxx,this._miny)},zh.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},zh.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},zh.prototype.getCoordinate=function(){return this._originalPt},zh.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},zh.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=zh.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Mu(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},zh.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},zh.prototype.intersectsToleranceSquare=function(t,e){var n=!1,i=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||n&&i||t.equals(this._pt)||e.equals(this._pt)))))},zh.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),i=t.getCoordinate(e+1);return!!this.intersects(n,i)&&(t.addIntersection(this.getCoordinate(),e),!0)},zh.prototype.interfaces_=function(){return[]},zh.prototype.getClass=function(){return zh},jh.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(zh,jh);var Bh=function(){this.tempEnv1=new Mu,this.selectedSegment=new Wc};Bh.prototype.select=function(){1===arguments.length||2===arguments.length&&(arguments[0].getLineSegment(arguments[1],this.selectedSegment),this.select(this.selectedSegment))},Bh.prototype.interfaces_=function(){return[]},Bh.prototype.getClass=function(){return Bh};var Hh=function(){this._index=null,this._index=arguments[0]},Uh={HotPixelSnapAction:{configurable:!0}};Hh.prototype.snap=function(){if(1===arguments.length)return this.snap(arguments[0],null,-1);if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=t.getSafeEnvelope(),r=new Vh(t,e,n);return this._index.query(i,{interfaces_:function(){return[Tc]},visitItem:function(t){t.select(i,r)}}),r.isNodeAdded()}},Hh.prototype.interfaces_=function(){return[]},Hh.prototype.getClass=function(){return Hh},Uh.HotPixelSnapAction.get=function(){return Vh},Object.defineProperties(Hh,Uh);var Vh=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[1],n=arguments[2];this._hotPixel=arguments[0],this._parentEdge=e,this._hotPixelVertexIndex=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[1],n=arguments[0].getContext();if(null!==this._parentEdge&&n===this._parentEdge&&e===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(n,e)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Bh),qh=function(){this._li=null,this._interiorIntersections=null,this._li=arguments[0],this._interiorIntersections=new nl};qh.prototype.processIntersections=function(t,e,n,i){if(t===n&&e===i)return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[i],s=n.getCoordinates()[i+1];if(this._li.computeIntersection(r,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)}},qh.prototype.isDone=function(){return!1},qh.prototype.getInteriorIntersections=function(){return this._interiorIntersections},qh.prototype.interfaces_=function(){return[Eh]},qh.prototype.getClass=function(){return qh};var Gh=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new Nu,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};Gh.prototype.checkCorrectness=function(t){var e=Gc.getNodedSubstrings(t),n=new Fh(e);try{n.checkValid()}catch(t){if(!(t instanceof bu))throw t;t.printStackTrace()}},Gh.prototype.getNodedSubstrings=function(){return Gc.getNodedSubstrings(this._nodedSegStrings)},Gh.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},Gh.prototype.findInteriorIntersections=function(t,e){var n=new qh(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},Gh.prototype.computeVertexSnaps=function(){if(uu(arguments[0],Ju))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof Gc)for(var n=arguments[0],i=n.getCoordinates(),r=0;r<i.length;r++){var o=new zh(i[r],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,r)&&n.addIntersection(i[r],r)}},Gh.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new th,this._pointSnapper=new Hh(this._noder.getIndex()),this.snapRound(t,this._li)},Gh.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=new zh(n,this._scaleFactor,this._li);this._pointSnapper.snap(i)}},Gh.prototype.interfaces_=function(){return[Jc]},Gh.prototype.getClass=function(){return Gh};var Wh=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new nh,this._resultGeometry=null,this._saveException=null,1===arguments.length)this._argGeom=arguments[0];else if(2===arguments.length){var t=arguments[1];this._argGeom=arguments[0],this._bufParams=t}},Xh={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Wh.prototype.bufferFixedPrecision=function(t){var e=new Nh(new Gh(new Gl(1)),t.getScale()),n=new Rh(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},Wh.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=Wh.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof sc))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=Wh.precisionScaleFactor(this._argGeom,this._distance,arguments[0]),i=new Gl(n);this.bufferFixedPrecision(i)}},Wh.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===Gl.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},Wh.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},Wh.prototype.bufferOriginalPrecision=function(){try{var t=new Rh(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof Pu))throw t;this._saveException=t}},Wh.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},Wh.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},Wh.prototype.interfaces_=function(){return[]},Wh.prototype.getClass=function(){return Wh},Wh.bufferOp=function(){if(2===arguments.length){var t=arguments[1];return new Wh(arguments[0]).getResultGeometry(t)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Hu&&"number"==typeof arguments[1]){var e=arguments[1],n=arguments[2],i=new Wh(arguments[0]);return i.setQuadrantSegments(n),i.getResultGeometry(e)}if(arguments[2]instanceof nh&&arguments[0]instanceof Hu&&"number"==typeof arguments[1]){var r=arguments[1];return new Wh(arguments[0],arguments[2]).getResultGeometry(r)}}else if(4===arguments.length){var o=arguments[1],a=arguments[2],s=arguments[3],u=new Wh(arguments[0]);return u.setQuadrantSegments(a),u.setEndCapStyle(s),u.getResultGeometry(o)}},Wh.precisionScaleFactor=function(t,e,n){var i=t.getEnvelopeInternal(),r=lu.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(r)/Math.log(10)+1);return Math.pow(10,o)},Xh.CAP_ROUND.get=function(){return nh.CAP_ROUND},Xh.CAP_BUTT.get=function(){return nh.CAP_FLAT},Xh.CAP_FLAT.get=function(){return nh.CAP_FLAT},Xh.CAP_SQUARE.get=function(){return nh.CAP_SQUARE},Xh.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(Wh,Xh);var Kh=function(){this._pt=[new nu,new nu],this._distance=Qs.NaN,this._isNull=!0};Kh.prototype.getCoordinates=function(){return this._pt},Kh.prototype.getCoordinate=function(t){return this._pt[t]},Kh.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i<this._distance&&this.initialize(e,n,i)}},Kh.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[1],i=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(n),this._distance=i,this._isNull=!1}},Kh.prototype.getDistance=function(){return this._distance},Kh.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i>this._distance&&this.initialize(e,n,i)}},Kh.prototype.interfaces_=function(){return[]},Kh.prototype.getClass=function(){return Kh};var Zh=function(){};Zh.prototype.interfaces_=function(){return[]},Zh.prototype.getClass=function(){return Zh},Zh.computeDistance=function(){if(arguments[2]instanceof Kh&&arguments[0]instanceof Tl&&arguments[1]instanceof nu)for(var t=arguments[1],e=arguments[2],n=arguments[0].getCoordinates(),i=new Wc,r=0;r<n.length-1;r++){i.setCoordinates(n[r],n[r+1]);var o=i.closestPoint(t);e.setMinimum(o,t)}else if(arguments[2]instanceof Kh&&arguments[0]instanceof Dl&&arguments[1]instanceof nu){var a=arguments[0],s=arguments[1],u=arguments[2];Zh.computeDistance(a.getExteriorRing(),s,u);for(var l=0;l<a.getNumInteriorRing();l++)Zh.computeDistance(a.getInteriorRingN(l),s,u)}else if(arguments[2]instanceof Kh&&arguments[0]instanceof Hu&&arguments[1]instanceof nu){var c=arguments[0],h=arguments[1],d=arguments[2];if(c instanceof Tl)Zh.computeDistance(c,h,d);else if(c instanceof Dl)Zh.computeDistance(c,h,d);else if(c instanceof xl)for(var f=c,p=0;p<f.getNumGeometries();p++){var m=f.getGeometryN(p);Zh.computeDistance(m,h,d)}else d.setMinimum(c.getCoordinate(),h)}else if(arguments[2]instanceof Kh&&arguments[0]instanceof Wc&&arguments[1]instanceof nu){var g=arguments[1],y=arguments[2],v=arguments[0].closestPoint(g);y.setMinimum(v,g)}};var Qh=function(t){this._maxPtDist=new Kh,this._inputGeom=t||null},Jh={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Qh.prototype.computeMaxMidpointDistance=function(t){var e=new td(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Qh.prototype.computeMaxVertexDistance=function(t){var e=new $h(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Qh.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},Qh.prototype.getDistancePoints=function(){return this._maxPtDist},Qh.prototype.interfaces_=function(){return[]},Qh.prototype.getClass=function(){return Qh},Jh.MaxPointDistanceFilter.get=function(){return $h},Jh.MaxMidpointDistanceFilter.get=function(){return td},Object.defineProperties(Qh,Jh);var $h=function(t){this._maxPtDist=new Kh,this._minPtDist=new Kh,this._geom=t||null};$h.prototype.filter=function(t){this._minPtDist.initialize(),Zh.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},$h.prototype.getMaxPointDistance=function(){return this._maxPtDist},$h.prototype.interfaces_=function(){return[qu]},$h.prototype.getClass=function(){return $h};var td=function(t){this._maxPtDist=new Kh,this._minPtDist=new Kh,this._geom=t||null};td.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),i=t.getCoordinate(e),r=new nu((n.x+i.x)/2,(n.y+i.y)/2);this._minPtDist.initialize(),Zh.computeDistance(this._geom,r,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},td.prototype.isDone=function(){return!1},td.prototype.isGeometryChanged=function(){return!1},td.prototype.getMaxPointDistance=function(){return this._maxPtDist},td.prototype.interfaces_=function(){return[bl]},td.prototype.getClass=function(){return td};var ed=function(t){this._comps=t||null};ed.prototype.filter=function(t){t instanceof Dl&&this._comps.add(t)},ed.prototype.interfaces_=function(){return[_l]},ed.prototype.getClass=function(){return ed},ed.getPolygons=function(){if(1===arguments.length)return ed.getPolygons(arguments[0],new nl);if(2===arguments.length){var t=arguments[0],e=arguments[1];return t instanceof Dl?e.add(t):t instanceof xl&&t.apply(new ed(e)),e}};var nd=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length)this._lines=arguments[0];else if(2===arguments.length){var t=arguments[1];this._lines=arguments[0],this._isForcedToLineString=t}};nd.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof Al){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Tl&&this._lines.add(t)},nd.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},nd.prototype.interfaces_=function(){return[Bu]},nd.prototype.getClass=function(){return nd},nd.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(nd.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(nd.getLines(e,n))}},nd.getLines=function(){if(1===arguments.length)return nd.getLines(arguments[0],!1);if(2===arguments.length){if(uu(arguments[0],Ju)&&uu(arguments[1],Ju)){for(var t=arguments[1],e=arguments[0].iterator();e.hasNext();){var n=e.next();nd.getLines(n,t)}return t}if(arguments[0]instanceof Hu&&"boolean"==typeof arguments[1]){var i=arguments[0],r=arguments[1],o=new nl;return i.apply(new nd(o,r)),o}if(arguments[0]instanceof Hu&&uu(arguments[1],Ju)){var a=arguments[0],s=arguments[1];return a instanceof Tl?s.add(a):a.apply(new nd(s)),s}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&uu(arguments[0],Ju)&&uu(arguments[1],Ju)){for(var u=arguments[1],l=arguments[2],c=arguments[0].iterator();c.hasNext();){var h=c.next();nd.getLines(h,u,l)}return u}if("boolean"==typeof arguments[2]&&arguments[0]instanceof Hu&&uu(arguments[1],Ju)){var d=arguments[1];return arguments[0].apply(new nd(d,arguments[2])),d}}};var id=function(){if(this._boundaryRule=Gu.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new Zs("Rule must be non-null");this._boundaryRule=t}};id.prototype.locateInternal=function(){if(arguments[0]instanceof nu&&arguments[1]instanceof Dl){var t=arguments[0],e=arguments[1];if(e.isEmpty())return au.EXTERIOR;var n=e.getExteriorRing(),i=this.locateInPolygonRing(t,n);if(i===au.EXTERIOR)return au.EXTERIOR;if(i===au.BOUNDARY)return au.BOUNDARY;for(var r=0;r<e.getNumInteriorRing();r++){var o=e.getInteriorRingN(r),a=this.locateInPolygonRing(t,o);if(a===au.INTERIOR)return au.EXTERIOR;if(a===au.BOUNDARY)return au.BOUNDARY}return au.INTERIOR}if(arguments[0]instanceof nu&&arguments[1]instanceof Tl){var s=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(s))return au.EXTERIOR;var l=u.getCoordinates();return u.isClosed()||!s.equals(l[0])&&!s.equals(l[l.length-1])?zu.isOnLine(s,l)?au.INTERIOR:au.EXTERIOR:au.BOUNDARY}if(arguments[0]instanceof nu&&arguments[1]instanceof Il){var c=arguments[0];return arguments[1].getCoordinate().equals2D(c)?au.INTERIOR:au.EXTERIOR}},id.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?zu.locatePointInRing(t,e.getCoordinates()):au.EXTERIOR},id.prototype.intersects=function(t,e){return this.locate(t,e)!==au.EXTERIOR},id.prototype.updateLocationInfo=function(t){t===au.INTERIOR&&(this._isIn=!0),t===au.BOUNDARY&&this._numBoundaries++},id.prototype.computeLocation=function(t,e){if(e instanceof Il&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Tl)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Dl)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof wl)for(var n=e,i=0;i<n.getNumGeometries();i++){var r=n.getGeometryN(i);this.updateLocationInfo(this.locateInternal(t,r))}else if(e instanceof Rl)for(var o=e,a=0;a<o.getNumGeometries();a++){var s=o.getGeometryN(a);this.updateLocationInfo(this.locateInternal(t,s))}else if(e instanceof xl)for(var u=new _h(e);u.hasNext();){var l=u.next();l!==e&&this.computeLocation(t,l)}},id.prototype.locate=function(t,e){return e.isEmpty()?au.EXTERIOR:e instanceof Tl||e instanceof Dl?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?au.BOUNDARY:this._numBoundaries>0||this._isIn?au.INTERIOR:au.EXTERIOR)},id.prototype.interfaces_=function(){return[]},id.prototype.getClass=function(){return id};var rd=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)t.call(this,arguments[0],t.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var e=arguments[1],n=arguments[2];this._component=arguments[0],this._segIndex=e,this._pt=n}},od={INSIDE_AREA:{configurable:!0}};rd.prototype.isInsideArea=function(){return this._segIndex===rd.INSIDE_AREA},rd.prototype.getCoordinate=function(){return this._pt},rd.prototype.getGeometryComponent=function(){return this._component},rd.prototype.getSegmentIndex=function(){return this._segIndex},rd.prototype.interfaces_=function(){return[]},rd.prototype.getClass=function(){return rd},od.INSIDE_AREA.get=function(){return-1},Object.defineProperties(rd,od);var ad=function(t){this._pts=t||null};ad.prototype.filter=function(t){t instanceof Il&&this._pts.add(t)},ad.prototype.interfaces_=function(){return[_l]},ad.prototype.getClass=function(){return ad},ad.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Il?Dc.singletonList(t):ad.getPoints(t,new nl)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Il?n.add(e):e instanceof xl&&e.apply(new ad(n)),n}};var sd=function(){this._locations=null,this._locations=arguments[0]};sd.prototype.filter=function(t){(t instanceof Il||t instanceof Tl||t instanceof Dl)&&this._locations.add(new rd(t,0,t.getCoordinate()))},sd.prototype.interfaces_=function(){return[_l]},sd.prototype.getClass=function(){return sd},sd.getLocations=function(t){var e=new nl;return t.apply(new sd(e)),e};var ud=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new id,this._minDistanceLocation=null,this._minDistance=Qs.MAX_VALUE,2===arguments.length)this._geom=[arguments[0],arguments[1]],this._terminateDistance=0;else if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e,this._terminateDistance=n}};ud.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=1-e,r=ed.getPolygons(this._geom[e]);if(r.size()>0){var o=sd.getLocations(this._geom[i]);if(this.computeContainmentDistance(o,r,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[i]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&uu(arguments[0],el)&&uu(arguments[1],el)){for(var a=arguments[0],s=arguments[1],u=arguments[2],l=0;l<a.size();l++)for(var c=a.get(l),h=0;h<s.size();h++)if(this.computeContainmentDistance(c,s.get(h),u),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof rd&&arguments[1]instanceof Dl){var d=arguments[0],f=arguments[1],p=arguments[2],m=d.getCoordinate();if(au.EXTERIOR!==this._ptLocator.locate(m,f))return this._minDistance=0,p[0]=d,p[1]=new rd(f,m),null}},ud.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var a=e.get(o);if(this.computeMinDistance(r,a,n),this._minDistance<=this._terminateDistance)return null}},ud.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=nd.getLines(this._geom[0]),n=nd.getLines(this._geom[1]),i=ad.getPoints(this._geom[0]),r=ad.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,r,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,i,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(i,r,t),void this.updateMinDistance(t,!1))))},ud.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},ud.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},ud.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},ud.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Tl&&arguments[1]instanceof Il){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var i=t.getCoordinates(),r=e.getCoordinate(),o=0;o<i.length-1;o++){var a=zu.distancePointLine(r,i[o],i[o+1]);if(a<this._minDistance){this._minDistance=a;var s=new Wc(i[o],i[o+1]).closestPoint(r);n[0]=new rd(t,o,s),n[1]=new rd(e,0,r)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Tl&&arguments[1]instanceof Tl){var u=arguments[0],l=arguments[1],c=arguments[2];if(u.getEnvelopeInternal().distance(l.getEnvelopeInternal())>this._minDistance)return null;for(var h=u.getCoordinates(),d=l.getCoordinates(),f=0;f<h.length-1;f++)for(var p=0;p<d.length-1;p++){var m=zu.distanceLineLine(h[f],h[f+1],d[p],d[p+1]);if(m<this._minDistance){this._minDistance=m;var g=new Wc(h[f],h[f+1]),y=new Wc(d[p],d[p+1]),v=g.closestPoints(y);c[0]=new rd(u,f,v[0]),c[1]=new rd(l,p,v[1])}if(this._minDistance<=this._terminateDistance)return null}}},ud.prototype.computeMinDistancePoints=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var a=e.get(o),s=r.getCoordinate().distance(a.getCoordinate());if(s<this._minDistance&&(this._minDistance=s,n[0]=new rd(r,0,r.getCoordinate()),n[1]=new rd(a,0,a.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},ud.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new Zs("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},ud.prototype.computeMinDistanceLines=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var a=e.get(o);if(this.computeMinDistance(r,a,n),this._minDistance<=this._terminateDistance)return null}},ud.prototype.interfaces_=function(){return[]},ud.prototype.getClass=function(){return ud},ud.distance=function(t,e){return new ud(t,e).distance()},ud.isWithinDistance=function(t,e,n){return new ud(t,e,n).distance()<=n},ud.nearestPoints=function(t,e){return new ud(t,e).nearestPoints()};var ld=function(){this._pt=[new nu,new nu],this._distance=Qs.NaN,this._isNull=!0};ld.prototype.getCoordinates=function(){return this._pt},ld.prototype.getCoordinate=function(t){return this._pt[t]},ld.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i<this._distance&&this.initialize(e,n,i)}},ld.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[1],i=arguments[2];this._pt[0].setCoordinate(arguments[0]),this._pt[1].setCoordinate(n),this._distance=i,this._isNull=!1}},ld.prototype.toString=function(){return Iu.toLineString(this._pt[0],this._pt[1])},ld.prototype.getDistance=function(){return this._distance},ld.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i>this._distance&&this.initialize(e,n,i)}},ld.prototype.interfaces_=function(){return[]},ld.prototype.getClass=function(){return ld};var cd=function(){};cd.prototype.interfaces_=function(){return[]},cd.prototype.getClass=function(){return cd},cd.computeDistance=function(){if(arguments[2]instanceof ld&&arguments[0]instanceof Tl&&arguments[1]instanceof nu)for(var t=arguments[0],e=arguments[1],n=arguments[2],i=new Wc,r=t.getCoordinates(),o=0;o<r.length-1;o++){i.setCoordinates(r[o],r[o+1]);var a=i.closestPoint(e);n.setMinimum(a,e)}else if(arguments[2]instanceof ld&&arguments[0]instanceof Dl&&arguments[1]instanceof nu){var s=arguments[0],u=arguments[1],l=arguments[2];cd.computeDistance(s.getExteriorRing(),u,l);for(var c=0;c<s.getNumInteriorRing();c++)cd.computeDistance(s.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof ld&&arguments[0]instanceof Hu&&arguments[1]instanceof nu){var h=arguments[0],d=arguments[1],f=arguments[2];if(h instanceof Tl)cd.computeDistance(h,d,f);else if(h instanceof Dl)cd.computeDistance(h,d,f);else if(h instanceof xl)for(var p=h,m=0;m<p.getNumGeometries();m++){var g=p.getGeometryN(m);cd.computeDistance(g,d,f)}else f.setMinimum(h.getCoordinate(),d)}else if(arguments[2]instanceof ld&&arguments[0]instanceof Wc&&arguments[1]instanceof nu){var y=arguments[1],v=arguments[2],_=arguments[0].closestPoint(y);v.setMinimum(_,y)}};var hd=function(){this._g0=null,this._g1=null,this._ptDist=new ld,this._densifyFrac=0;var t=arguments[1];this._g0=arguments[0],this._g1=t},dd={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};hd.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},hd.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new Zs("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},hd.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},hd.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},hd.prototype.computeOrientedDistance=function(t,e,n){var i=new fd(e);if(t.apply(i),n.setMaximum(i.getMaxPointDistance()),this._densifyFrac>0){var r=new pd(e,this._densifyFrac);t.apply(r),n.setMaximum(r.getMaxPointDistance())}},hd.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},hd.prototype.interfaces_=function(){return[]},hd.prototype.getClass=function(){return hd},hd.distance=function(){if(2===arguments.length)return new hd(arguments[0],arguments[1]).distance();if(3===arguments.length){var t=arguments[2],e=new hd(arguments[0],arguments[1]);return e.setDensifyFraction(t),e.distance()}},dd.MaxPointDistanceFilter.get=function(){return fd},dd.MaxDensifiedByFractionDistanceFilter.get=function(){return pd},Object.defineProperties(hd,dd);var fd=function(){this._maxPtDist=new ld,this._minPtDist=new ld,this._euclideanDist=new cd,this._geom=null,this._geom=arguments[0]};fd.prototype.filter=function(t){this._minPtDist.initialize(),cd.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},fd.prototype.getMaxPointDistance=function(){return this._maxPtDist},fd.prototype.interfaces_=function(){return[qu]},fd.prototype.getClass=function(){return fd};var pd=function(){this._maxPtDist=new ld,this._minPtDist=new ld,this._geom=null,this._numSubSegs=0;var t=arguments[1];this._geom=arguments[0],this._numSubSegs=Math.trunc(Math.round(1/t))};pd.prototype.filter=function(t,e){if(0===e)return null;for(var n=t.getCoordinate(e-1),i=t.getCoordinate(e),r=(i.x-n.x)/this._numSubSegs,o=(i.y-n.y)/this._numSubSegs,a=0;a<this._numSubSegs;a++){var s=new nu(n.x+a*r,n.y+a*o);this._minPtDist.initialize(),cd.computeDistance(this._geom,s,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},pd.prototype.isDone=function(){return!1},pd.prototype.isGeometryChanged=function(){return!1},pd.prototype.getMaxPointDistance=function(){return this._maxPtDist},pd.prototype.interfaces_=function(){return[bl]},pd.prototype.getClass=function(){return pd};var md=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},gd={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};md.prototype.checkMaximumDistance=function(t,e,n){var i=new hd(e,t);if(i.setDensifyFraction(.25),this._maxDistanceFound=i.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var r=i.getCoordinates();this._errorLocation=r[1],this._errorIndicator=t.getFactory().createLineString(r),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Iu.toLineString(r[0],r[1])+")"}},md.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=md.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),md.VERBOSE&&wu.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},md.prototype.checkNegativeValid=function(){if(!(this._input instanceof Dl||this._input instanceof Rl||this._input instanceof xl))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},md.prototype.getErrorIndicator=function(){return this._errorIndicator},md.prototype.checkMinimumDistance=function(t,e,n){var i=new ud(t,e,n);if(this._minDistanceFound=i.distance(),this._minDistanceFound<n){this._isValid=!1;var r=i.nearestPoints();this._errorLocation=i.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(r),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Iu.toLineString(r[0],r[1])+" )"}},md.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},md.prototype.getErrorLocation=function(){return this._errorLocation},md.prototype.getPolygonLines=function(t){for(var e=new nl,n=new nd(e),i=ed.getPolygons(t).iterator();i.hasNext();)i.next().apply(n);return t.getFactory().buildGeometry(e)},md.prototype.getErrorMessage=function(){return this._errMsg},md.prototype.interfaces_=function(){return[]},md.prototype.getClass=function(){return md},gd.VERBOSE.get=function(){return!1},gd.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(md,gd);var yd=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},vd={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};yd.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},yd.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*yd.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new Mu(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new Mu(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},yd.prototype.checkDistance=function(){var t=new md(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},yd.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},yd.prototype.checkPolygonal=function(){this._result instanceof Dl||this._result instanceof Rl||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},yd.prototype.getErrorIndicator=function(){return this._errorIndicator},yd.prototype.getErrorLocation=function(){return this._errorLocation},yd.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},yd.prototype.report=function(t){if(!yd.VERBOSE)return null;wu.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},yd.prototype.getErrorMessage=function(){return this._errorMsg},yd.prototype.interfaces_=function(){return[]},yd.prototype.getClass=function(){return yd},yd.isValidMsg=function(t,e,n){var i=new yd(t,e,n);return i.isValid()?null:i.getErrorMessage()},yd.isValid=function(t,e,n){return!!new yd(t,e,n).isValid()},vd.VERBOSE.get=function(){return!1},vd.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(yd,vd);var _d=function(){this._pts=null,this._data=null;var t=arguments[1];this._pts=arguments[0],this._data=t};_d.prototype.getCoordinates=function(){return this._pts},_d.prototype.size=function(){return this._pts.length},_d.prototype.getCoordinate=function(t){return this._pts[t]},_d.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},_d.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:Uc.octant(this.getCoordinate(t),this.getCoordinate(t+1))},_d.prototype.setData=function(t){this._data=t},_d.prototype.getData=function(){return this._data},_d.prototype.toString=function(){return Iu.toLineString(new Bl(this._pts))},_d.prototype.interfaces_=function(){return[Vc]},_d.prototype.getClass=function(){return _d};var bd=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new nl,this._intersectionCount=0,this._keepIntersections=!0,this._li=arguments[0],this._interiorIntersection=null};bd.prototype.getInteriorIntersection=function(){return this._interiorIntersection},bd.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},bd.prototype.getIntersectionSegments=function(){return this._intSegments},bd.prototype.count=function(){return this._intersectionCount},bd.prototype.getIntersections=function(){return this._intersections},bd.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},bd.prototype.setKeepIntersections=function(t){this._keepIntersections=t},bd.prototype.processIntersections=function(t,e,n,i){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===i)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,i))return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[i],s=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=r,this._intSegments[1]=o,this._intSegments[2]=a,this._intSegments[3]=s,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},bd.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},bd.prototype.hasIntersection=function(){return null!==this._interiorIntersection},bd.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},bd.prototype.interfaces_=function(){return[Eh]},bd.prototype.getClass=function(){return bd},bd.createAllIntersectionsFinder=function(t){var e=new bd(t);return e.setFindAllIntersections(!0),e},bd.createAnyIntersectionFinder=function(t){return new bd(t)},bd.createIntersectionCounter=function(t){var e=new bd(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var xd=function(){this._li=new Nu,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0,this._segStrings=arguments[0]};xd.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},xd.prototype.getIntersections=function(){return this._segInt.getIntersections()},xd.prototype.isValid=function(){return this.execute(),this._isValid},xd.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},xd.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new bd(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new th;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},xd.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new sc(this.getErrorMessage(),this._segInt.getInteriorIntersection())},xd.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Iu.toLineString(t[0],t[1])+" and "+Iu.toLineString(t[2],t[3])},xd.prototype.interfaces_=function(){return[]},xd.prototype.getClass=function(){return xd},xd.computeIntersections=function(t){var e=new xd(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var wd=function t(){this._nv=null,this._nv=new xd(t.toSegmentStrings(arguments[0]))};wd.prototype.checkValid=function(){this._nv.checkValid()},wd.prototype.interfaces_=function(){return[]},wd.prototype.getClass=function(){return wd},wd.toSegmentStrings=function(t){for(var e=new nl,n=t.iterator();n.hasNext();){var i=n.next();e.add(new _d(i.getCoordinates(),i))}return e},wd.checkValid=function(t){new wd(t).checkValid()};var kd=function(t){this._mapOp=t};kd.prototype.map=function(t){for(var e=new nl,n=0;n<t.getNumGeometries();n++){var i=this._mapOp.map(t.getGeometryN(n));i.isEmpty()||e.add(i)}return t.getFactory().createGeometryCollection(Zl.toGeometryArray(e))},kd.prototype.interfaces_=function(){return[]},kd.prototype.getClass=function(){return kd},kd.map=function(t,e){return new kd(e).map(t)};var Md=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new nl,this._resultLineList=new nl;var t=arguments[1],e=arguments[2];this._op=arguments[0],this._geometryFactory=t,this._ptLocator=e};Md.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},Md.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},Md.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},Md.prototype.collectLineEdge=function(t,e,n){var i=t.getLabel(),r=t.getEdge();t.isLineEdge()&&(t.isVisited()||!of.isResultOfOp(i,e)||r.isCovered()||(n.add(r),t.setVisitedEdge(!0)))},Md.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),i=n.getEdge();if(n.isLineEdge()&&!i.isCoveredSet()){var r=this._op.isCoveredByA(n.getCoordinate());i.setCovered(r)}}},Md.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel();n.isIsolated()&&(i.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},Md.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),i=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(i),n.setInResult(!0)}},Md.prototype.collectBoundaryTouchEdge=function(t,e,n){var i=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(Ou.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(of.isResultOfOp(i,e)&&e===of.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},Md.prototype.interfaces_=function(){return[]},Md.prototype.getClass=function(){return Md};var Sd=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new nl;var t=arguments[1];this._op=arguments[0],this._geometryFactory=t};Sd.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},Sd.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==of.INTERSECTION)){var i=n.getLabel();of.isResultOfOp(i,t)&&this.filterCoveredNodeToPoint(n)}}},Sd.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Sd.prototype.interfaces_=function(){return[]},Sd.prototype.getClass=function(){return Sd};var Ed=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Ed.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Ed.prototype.transformPolygon=function(t,e){var n=!0,i=this.transformLinearRing(t.getExteriorRing(),t);null!==i&&i instanceof Al&&!i.isEmpty()||(n=!1);for(var r=new nl,o=0;o<t.getNumInteriorRing();o++){var a=this.transformLinearRing(t.getInteriorRingN(o),t);null===a||a.isEmpty()||(a instanceof Al||(n=!1),r.add(a))}if(n)return this._factory.createPolygon(i,r.toArray([]));var s=new nl;return null!==i&&s.add(i),s.addAll(r),this._factory.buildGeometry(s)},Ed.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Ed.prototype.getInputGeometry=function(){return this._inputGeom},Ed.prototype.transformMultiLineString=function(t,e){for(var n=new nl,i=0;i<t.getNumGeometries();i++){var r=this.transformLineString(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},Ed.prototype.transformCoordinates=function(t,e){return this.copy(t)},Ed.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Ed.prototype.transformMultiPoint=function(t,e){for(var n=new nl,i=0;i<t.getNumGeometries();i++){var r=this.transformPoint(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},Ed.prototype.transformMultiPolygon=function(t,e){for(var n=new nl,i=0;i<t.getNumGeometries();i++){var r=this.transformPolygon(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},Ed.prototype.copy=function(t){return t.copy()},Ed.prototype.transformGeometryCollection=function(t,e){for(var n=new nl,i=0;i<t.getNumGeometries();i++){var r=this.transform(t.getGeometryN(i));null!==r&&(this._pruneEmptyGeometry&&r.isEmpty()||n.add(r))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(Zl.toGeometryArray(n)):this._factory.buildGeometry(n)},Ed.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Il)return this.transformPoint(t,null);if(t instanceof Ol)return this.transformMultiPoint(t,null);if(t instanceof Al)return this.transformLinearRing(t,null);if(t instanceof Tl)return this.transformLineString(t,null);if(t instanceof wl)return this.transformMultiLineString(t,null);if(t instanceof Dl)return this.transformPolygon(t,null);if(t instanceof Rl)return this.transformMultiPolygon(t,null);if(t instanceof xl)return this.transformGeometryCollection(t,null);throw new Zs("Unknown Geometry subtype: "+t.getClass().getName())},Ed.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var i=n.size();return i>0&&i<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},Ed.prototype.interfaces_=function(){return[]},Ed.prototype.getClass=function(){return Ed};var Ld=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Wc,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Tl&&"number"==typeof arguments[1]){var e=arguments[1];t.call(this,arguments[0].getCoordinates(),e)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],i=arguments[1];this._srcPts=n,this._isClosed=t.isClosed(n),this._snapTolerance=i}};Ld.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),i=0;i<n;i++){var r=t.get(i),o=this.findSnapForVertex(r,e);null!==o&&(t.set(i,new nu(o)),0===i&&this._isClosed&&t.set(t.size()-1,new nu(o)))}},Ld.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},Ld.prototype.snapTo=function(t){var e=new rl(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Ld.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var i=0;i<n;i++){var r=e[i],o=this.findSegmentIndexToSnap(r,t);o>=0&&t.add(o+1,new nu(r),!1)}},Ld.prototype.findSegmentIndexToSnap=function(t,e){for(var n=Qs.MAX_VALUE,i=-1,r=0;r<e.size()-1;r++){if(this._seg.p0=e.get(r),this._seg.p1=e.get(r+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<n&&(n=o,i=r)}return i},Ld.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Ld.prototype.interfaces_=function(){return[]},Ld.prototype.getClass=function(){return Ld},Ld.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Td=function(t){this._srcGeom=t||null},Cd={SNAP_PRECISION_FACTOR:{configurable:!0}};Td.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new Id(e,n).transform(this._srcGeom)},Td.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),i=new Id(t,n,!0).transform(this._srcGeom),r=i;return e&&uu(r,Pl)&&(r=i.buffer(0)),r},Td.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Td.prototype.extractTargetCoordinates=function(t){for(var e=new Or,n=t.getCoordinates(),i=0;i<n.length;i++)e.add(n[i]);return e.toArray(new Array(0).fill(null))},Td.prototype.computeMinimumSegmentLength=function(t){for(var e=Qs.MAX_VALUE,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);i<e&&(e=i)}return e},Td.prototype.interfaces_=function(){return[]},Td.prototype.getClass=function(){return Td},Td.snap=function(t,e,n){var i=new Array(2).fill(null),r=new Td(t);i[0]=r.snapTo(e,n);var o=new Td(e);return i[1]=o.snapTo(i[0],n),i},Td.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=Td.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===Gl.FIXED){var i=1/n.getScale()*2/1.415;i>e&&(e=i)}return e}if(2===arguments.length){var r=arguments[1];return Math.min(Td.computeOverlaySnapTolerance(arguments[0]),Td.computeOverlaySnapTolerance(r))}},Td.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Td.SNAP_PRECISION_FACTOR},Td.snapToSelf=function(t,e,n){return new Td(t).snapToSelf(e,n)},Cd.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Td,Cd);var Id=function(t){function e(e,n,i){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==i&&i}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.snapLine=function(t,e){var n=new Ld(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),i=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ed),Pd=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Pd.prototype.getCommon=function(){return Qs.longBitsToDouble(this._commonBits)},Pd.prototype.add=function(t){var e=Qs.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=Pd.signExpBits(this._commonBits),this._isFirst=!1,null):Pd.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Pd.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=Pd.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Pd.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=Qs.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+Qs.toBinaryString(t),i=n.substring(n.length-64);return i.substring(0,1)+"  "+i.substring(1,12)+"(exp) "+i.substring(12)+" [ "+e+" ]"}},Pd.prototype.interfaces_=function(){return[]},Pd.prototype.getClass=function(){return Pd},Pd.getBit=function(t,e){return 0!=(t&1<<e)?1:0},Pd.signExpBits=function(t){return t>>52},Pd.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},Pd.numCommonMostSigMantissaBits=function(t,e){for(var n=0,i=52;i>=0;i--){if(Pd.getBit(t,i)!==Pd.getBit(e,i))return n;n++}return 52};var Dd=function(){this._commonCoord=null,this._ccFilter=new Ad},Od={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Dd.prototype.addCommonBits=function(t){var e=new Rd(this._commonCoord);t.apply(e),t.geometryChanged()},Dd.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new nu(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new Rd(e);return t.apply(n),t.geometryChanged(),t},Dd.prototype.getCommonCoordinate=function(){return this._commonCoord},Dd.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Dd.prototype.interfaces_=function(){return[]},Dd.prototype.getClass=function(){return Dd},Od.CommonCoordinateFilter.get=function(){return Ad},Od.Translater.get=function(){return Rd},Object.defineProperties(Dd,Od);var Ad=function(){this._commonBitsX=new Pd,this._commonBitsY=new Pd};Ad.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},Ad.prototype.getCommonCoordinate=function(){return new nu(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},Ad.prototype.interfaces_=function(){return[qu]},Ad.prototype.getClass=function(){return Ad};var Rd=function(){this.trans=null,this.trans=arguments[0]};Rd.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,i=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,i)},Rd.prototype.isDone=function(){return!1},Rd.prototype.isGeometryChanged=function(){return!0},Rd.prototype.interfaces_=function(){return[bl]},Rd.prototype.getClass=function(){return Rd};var Nd=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};Nd.prototype.selfSnap=function(t){return new Td(t).snapTo(t,this._snapTolerance)},Nd.prototype.removeCommonBits=function(t){this._cbr=new Dd,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},Nd.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},Nd.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=of.overlayOp(e[0],e[1],t);return this.prepareResult(n)},Nd.prototype.checkValid=function(t){t.isValid()||wu.out.println("Snapped geometry is invalid")},Nd.prototype.computeSnapTolerance=function(){this._snapTolerance=Td.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},Nd.prototype.snap=function(t){var e=this.removeCommonBits(t);return Td.snap(e[0],e[1],this._snapTolerance)},Nd.prototype.interfaces_=function(){return[]},Nd.prototype.getClass=function(){return Nd},Nd.overlayOp=function(t,e,n){return new Nd(t,e).getResultGeometry(n)},Nd.union=function(t,e){return Nd.overlayOp(t,e,of.UNION)},Nd.intersection=function(t,e){return Nd.overlayOp(t,e,of.INTERSECTION)},Nd.symDifference=function(t,e){return Nd.overlayOp(t,e,of.SYMDIFFERENCE)},Nd.difference=function(t,e){return Nd.overlayOp(t,e,of.DIFFERENCE)};var Fd=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};Fd.prototype.getResultGeometry=function(t){var e=null,n=!1,i=null;try{e=of.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof Pu))throw t;i=t}if(!n)try{e=Nd.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof Pu?i:t}return e},Fd.prototype.interfaces_=function(){return[]},Fd.prototype.getClass=function(){return Fd},Fd.overlayOp=function(t,e,n){return new Fd(t,e).getResultGeometry(n)},Fd.union=function(t,e){return Fd.overlayOp(t,e,of.UNION)},Fd.intersection=function(t,e){return Fd.overlayOp(t,e,of.INTERSECTION)},Fd.symDifference=function(t,e){return Fd.overlayOp(t,e,of.SYMDIFFERENCE)},Fd.difference=function(t,e){return Fd.overlayOp(t,e,of.DIFFERENCE)};var Yd=function(){this.mce=null,this.chainIndex=null;var t=arguments[1];this.mce=arguments[0],this.chainIndex=t};Yd.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},Yd.prototype.interfaces_=function(){return[]},Yd.prototype.getClass=function(){return Yd};var zd=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=i,this._xValue=r,this._obj=o}},jd={INSERT:{configurable:!0},DELETE:{configurable:!0}};zd.prototype.isDelete=function(){return this._eventType===zd.DELETE},zd.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},zd.prototype.getObject=function(){return this._obj},zd.prototype.compareTo=function(t){return this._xValue<t._xValue?-1:this._xValue>t._xValue?1:this._eventType<t._eventType?-1:this._eventType>t._eventType?1:0},zd.prototype.getInsertEvent=function(){return this._insertEvent},zd.prototype.isInsert=function(){return this._eventType===zd.INSERT},zd.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},zd.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},zd.prototype.interfaces_=function(){return[$s]},zd.prototype.getClass=function(){return zd},jd.INSERT.get=function(){return 1},jd.DELETE.get=function(){return 2},Object.defineProperties(zd,jd);var Bd=function(){};Bd.prototype.interfaces_=function(){return[]},Bd.prototype.getClass=function(){return Bd};var Hd=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[1],e=arguments[2];this._li=arguments[0],this._includeProper=t,this._recordIsolated=e};Hd.prototype.isTrivialIntersection=function(t,e,n,i){if(t===n&&1===this._li.getIntersectionNum()){if(Hd.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.getNumPoints()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},Hd.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Hd.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},Hd.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Hd.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next().getCoordinate();if(t.isIntersection(i))return!0}return!1},Hd.prototype.hasProperIntersection=function(){return this._hasProper},Hd.prototype.hasIntersection=function(){return this._hasIntersection},Hd.prototype.isDone=function(){return this._isDone},Hd.prototype.isBoundaryPoint=function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},Hd.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},Hd.prototype.addIntersections=function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=n.getCoordinates()[i],s=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,a,s),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},Hd.prototype.interfaces_=function(){return[]},Hd.prototype.getClass=function(){return Hd},Hd.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Ud=function(t){function e(){t.call(this),this.events=new nl,this.nOverlaps=null}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.prepareEvents=function(){Dc.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Hd&&uu(arguments[0],el)&&uu(arguments[1],el)){var i=arguments[0],r=arguments[1],o=arguments[2];this.addEdges(i,i),this.addEdges(r,r),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&uu(arguments[0],el)&&arguments[1]instanceof Hd){var a=arguments[0],s=arguments[1];arguments[2]?this.addEdges(a,null):this.addEdges(a),this.computeIntersections(s)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),i=n.getStartIndexes(),r=0;r<i.length-1;r++){var o=new Yd(n,r),a=new zd(e,n.getMinX(r),o);this.events.add(a),this.events.add(new zd(n.getMaxX(r),a))}},e.prototype.processOverlaps=function(t,e,n,i){for(var r=n.getObject(),o=t;o<e;o++){var a=this.events.get(o);if(a.isInsert()){var s=a.getObject();n.isSameLabel(a)||(r.computeIntersections(s,i),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var n=arguments[1],i=arguments[0].iterator();i.hasNext();){var r=i.next();this.addEdge(r,n)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Bd),Vd=function(){this._min=Qs.POSITIVE_INFINITY,this._max=Qs.NEGATIVE_INFINITY},qd={NodeComparator:{configurable:!0}};Vd.prototype.getMin=function(){return this._min},Vd.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},Vd.prototype.getMax=function(){return this._max},Vd.prototype.toString=function(){return Iu.toLineString(new nu(this._min,0),new nu(this._max,0))},Vd.prototype.interfaces_=function(){return[]},Vd.prototype.getClass=function(){return Vd},qd.NodeComparator.get=function(){return Gd},Object.defineProperties(Vd,qd);var Gd=function(){};Gd.prototype.compare=function(t,e){var n=(t._min+t._max)/2,i=(e._min+e._max)/2;return n<i?-1:n>i?1:0},Gd.prototype.interfaces_=function(){return[eu]},Gd.prototype.getClass=function(){return Gd};var Wd=function(t){function e(){t.call(this),this._item=null;var e=arguments[1],n=arguments[2];this._min=arguments[0],this._max=e,this._item=n}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Vd),Xd=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[1];this._node1=arguments[0],this._node2=e,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Vd),Kd=function(){this._leaves=new nl,this._root=null,this._level=0};Kd.prototype.buildTree=function(){Dc.sort(this._leaves,new Vd.NodeComparator);for(var t=this._leaves,e=null,n=new nl;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},Kd.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new Wd(t,e,n))},Kd.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},Kd.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},Kd.prototype.printNode=function(t){wu.out.println(Iu.toLineString(new nu(t._min,this._level),new nu(t._max,this._level)))},Kd.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},Kd.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var i=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(i);else{var r=new Xd(t.get(n),t.get(n+1));e.add(r)}}},Kd.prototype.interfaces_=function(){return[]},Kd.prototype.getClass=function(){return Kd};var Zd=function(){this._items=new nl};Zd.prototype.visitItem=function(t){this._items.add(t)},Zd.prototype.getItems=function(){return this._items},Zd.prototype.interfaces_=function(){return[Tc]},Zd.prototype.getClass=function(){return Zd};var Qd=function(){this._index=null;var t=arguments[0];if(!uu(t,Pl))throw new Zs("Argument must be Polygonal");this._index=new tf(t)},Jd={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};Qd.prototype.locate=function(t){var e=new Yu(t),n=new $d(e);return this._index.query(t.y,t.y,n),e.getLocation()},Qd.prototype.interfaces_=function(){return[vh]},Qd.prototype.getClass=function(){return Qd},Jd.SegmentVisitor.get=function(){return $d},Jd.IntervalIndexedGeometry.get=function(){return tf},Object.defineProperties(Qd,Jd);var $d=function(){this._counter=null,this._counter=arguments[0]};$d.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},$d.prototype.interfaces_=function(){return[Tc]},$d.prototype.getClass=function(){return $d};var tf=function(){this._index=new Kd,this.init(arguments[0])};tf.prototype.init=function(t){for(var e=nd.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},tf.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new Wc(t[e-1],t[e]),i=Math.min(n.p0.y,n.p1.y),r=Math.max(n.p0.y,n.p1.y);this._index.insert(i,r,n)}},tf.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Zd;return this._index.query(t,e,n),n.getItems()}3===arguments.length&&this._index.query(arguments[0],arguments[1],arguments[2])},tf.prototype.interfaces_=function(){return[]},tf.prototype.getClass=function(){return tf};var ef=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new ql,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new id,2===arguments.length){var e=arguments[1],n=Gu.OGC_SFS_BOUNDARY_RULE;this._argIndex=arguments[0],this._parentGeom=e,this._boundaryNodeRule=n,null!==e&&this.add(e)}else if(3===arguments.length){var i=arguments[1],r=arguments[2];this._argIndex=arguments[0],this._parentGeom=i,this._boundaryNodeRule=r,null!==i&&this.add(i)}}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var i=this._nodes.addNode(n).getLabel(),r=1;i.getLocation(t,rc.ON)===au.BOUNDARY&&r++;var o=e.determineBoundary(this._boundaryNodeRule,r);i.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length)return this.computeSelfNodes(arguments[0],arguments[1],!1);if(3===arguments.length){var t=arguments[1],e=arguments[2],n=new Hd(arguments[0],!0,!1);return n.setIsDoneIfProperInt(e),this.createEdgeSetIntersector().computeIntersections(this._edges,n,t||!(this._parentGeom instanceof Al||this._parentGeom instanceof Dl||this._parentGeom instanceof Rl)),this.addSelfIntersectionNodes(this._argIndex),n}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,n){var i=new Hd(e,n,!0);return i.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,i),i},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Il){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,au.INTERIOR)}else arguments[0]instanceof nu&&this.insertPoint(this._argIndex,arguments[0],au.INTERIOR)},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),au.EXTERIOR,au.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,au.INTERIOR,au.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],au.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],au.BOUNDARY)},e.prototype.addLineString=function(t){var e=ol.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new Ah(e,new hc(this._argIndex,au.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),Ou.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,i=t.iterator();i.hasNext();){var r=i.next();e[n++]=r.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===au.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var i=ol.removeRepeatedPoints(t.getCoordinates());if(i.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=i[0],null;var r=e,o=n;zu.isCCW(i)&&(r=n,o=e);var a=new Ah(i,new hc(this._argIndex,au.BOUNDARY,r,o));this._lineEdgeMap.put(t,a),this.insertEdge(a),this.insertPoint(this._argIndex,i[0],au.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var i=this._nodes.addNode(e),r=i.getLabel();null===r?i._label=new hc(t,n):r.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new Ud},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.eiList.iterator();r.hasNext();){var o=r.next();this.addSelfIntersectionNode(t,o.coord,i)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof Rl&&(this._useBoundaryDeterminationRule=!1),e instanceof Dl)this.addPolygon(e);else if(e instanceof Tl)this.addLineString(e);else if(e instanceof Il)this.addPoint(e);else if(e instanceof Ol)this.addCollection(e);else if(e instanceof wl)this.addCollection(e);else if(e instanceof Rl)this.addCollection(e);else{if(!(e instanceof xl))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return uu(this._parentGeom,Pl)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new Qd(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){return 1===arguments.length?this._lineEdgeMap.get(arguments[0]):t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?au.BOUNDARY:au.INTERIOR},e}(kc),nf=function(){if(this._li=new Nu,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new ef(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=Gu.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new ef(0,e,i),this._arg[1]=new ef(1,n,i)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2];r.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(r.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new ef(0,r,a),this._arg[1]=new ef(1,o,a)}};nf.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},nf.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},nf.prototype.interfaces_=function(){return[]},nf.prototype.getClass=function(){return nf};var rf=function(){};rf.prototype.interfaces_=function(){return[]},rf.prototype.getClass=function(){return rf},rf.map=function(){if(arguments[0]instanceof Hu&&uu(arguments[1],rf.MapOp)){for(var t=arguments[0],e=arguments[1],n=new nl,i=0;i<t.getNumGeometries();i++){var r=e.map(t.getGeometryN(i));null!==r&&n.add(r)}return t.getFactory().buildGeometry(n)}if(uu(arguments[0],Ju)&&uu(arguments[1],rf.MapOp)){for(var o=arguments[0],a=arguments[1],s=new nl,u=o.iterator();u.hasNext();){var l=u.next(),c=a.map(l);null!==c&&s.add(c)}return s}},rf.MapOp=function(){};var of=function(t){function e(){var e=arguments[0];t.call(this,e,arguments[1]),this._ptLocator=new id,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Sh,this._resultPolyList=new nl,this._resultLineList=new nl,this._resultPointList=new nl,this._graph=new kc(new kh),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new hc(t.getLabel())).flip();var r=e.getDepth();r.isNull()&&r.add(n),r.add(i),n.merge(i)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,i,r){var o=new nl;return o.addAll(t),o.addAll(n),o.addAll(i),o.isEmpty()?e.createEmptyResult(r,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(this._ptLocator.locate(t,i)!==au.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new nl,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new nl;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),wd.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new Mc(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var i=new Md(this,this._geomFact,this._ptLocator);this._resultLineList=i.build(t);var r=new Sd(this,this._geomFact,this._ptLocator);this._resultPointList=r.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var i=n.next(),r=i.getLabel();r.isArea()&&!i.isInteriorAreaEdge()&&e.isResultOfOp(r.getLocation(0,rc.RIGHT),r.getLocation(1,rc.RIGHT),t)&&i.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),i=e.getDepth();if(!i.isNull()){i.normalize();for(var r=0;r<2;r++)n.isNull(r)||!n.isArea()||i.isNull(r)||(0===i.getDelta(r)?n.toLine(r):(Ou.isTrue(!i.isNull(r,rc.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(r,rc.LEFT,i.getLocation(r,rc.LEFT)),Ou.isTrue(!i.isNull(r,rc.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(r,rc.RIGHT,i.getLocation(r,rc.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(nf);of.overlayOp=function(t,e,n){return new of(t,e).getResultGeometry(n)},of.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return of.createEmptyResult(of.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return kd.map(t,{interfaces_:function(){return[rf.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Fd.overlayOp(t,e,of.INTERSECTION)},of.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return of.createEmptyResult(of.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Fd.overlayOp(t,e,of.SYMDIFFERENCE)},of.resultDimension=function(t,e,n){var i=e.getDimension(),r=n.getDimension(),o=-1;switch(t){case of.INTERSECTION:o=Math.min(i,r);break;case of.UNION:o=Math.max(i,r);break;case of.DIFFERENCE:o=i;break;case of.SYMDIFFERENCE:o=Math.max(i,r)}return o},of.createEmptyResult=function(t,e,n,i){var r=null;switch(of.resultDimension(t,e,n)){case-1:r=i.createGeometryCollection(new Array(0).fill(null));break;case 0:r=i.createPoint();break;case 1:r=i.createLineString();break;case 2:r=i.createPolygon()}return r},of.difference=function(t,e){return t.isEmpty()?of.createEmptyResult(of.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Fd.overlayOp(t,e,of.DIFFERENCE))},of.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),i=t.getLocation(1);return of.isResultOfOp(n,i,e)}if(3===arguments.length){var r=arguments[0],o=arguments[1];switch(r===au.BOUNDARY&&(r=au.INTERIOR),o===au.BOUNDARY&&(o=au.INTERIOR),arguments[2]){case of.INTERSECTION:return r===au.INTERIOR&&o===au.INTERIOR;case of.UNION:return r===au.INTERIOR||o===au.INTERIOR;case of.DIFFERENCE:return r===au.INTERIOR&&o!==au.INTERIOR;case of.SYMDIFFERENCE:return r===au.INTERIOR&&o!==au.INTERIOR||r!==au.INTERIOR&&o===au.INTERIOR}return!1}},of.INTERSECTION=1,of.UNION=2,of.DIFFERENCE=3,of.SYMDIFFERENCE=4;var af=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new id,this._seg=new Wc;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};af.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var n=this._linework.getGeometryN(e).getCoordinateSequence(),i=0;i<n.size()-1;i++)if(n.getCoordinate(i,this._seg.p0),n.getCoordinate(i+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},af.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?au.BOUNDARY:this._ptLocator.locate(t,this._g)},af.prototype.extractLinework=function(t){var e=new sf;t.apply(e);var n=e.getLinework(),i=Zl.toLineStringArray(n);return t.getFactory().createMultiLineString(i)},af.prototype.interfaces_=function(){return[]},af.prototype.getClass=function(){return af};var sf=function(){this._linework=null,this._linework=new nl};sf.prototype.getLinework=function(){return this._linework},sf.prototype.filter=function(t){if(t instanceof Dl){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},sf.prototype.interfaces_=function(){return[_l]},sf.prototype.getClass=function(){return sf};var uf=function(){this._g=null,this._doLeft=!0,this._doRight=!0,this._g=arguments[0]};uf.prototype.extractPoints=function(t,e,n){for(var i=t.getCoordinates(),r=0;r<i.length-1;r++)this.computeOffsetPoints(i[r],i[r+1],e,n)},uf.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},uf.prototype.getPoints=function(t){for(var e=new nl,n=nd.getLines(this._g).iterator();n.hasNext();){var i=n.next();this.extractPoints(i,t,e)}return e},uf.prototype.computeOffsetPoints=function(t,e,n,i){var r=e.x-t.x,o=e.y-t.y,a=Math.sqrt(r*r+o*o),s=n*r/a,u=n*o/a,l=(e.x+t.x)/2,c=(e.y+t.y)/2;if(this._doLeft){var h=new nu(l-u,c+s);i.add(h)}if(this._doRight){var d=new nu(l+u,c-s);i.add(d)}},uf.prototype.interfaces_=function(){return[]},uf.prototype.getClass=function(){return uf};var lf=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new nl;var e=arguments[0],n=arguments[1],i=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,i],this._locFinder=[new af(this._geom[0],this._boundaryDistanceTolerance),new af(this._geom[1],this._boundaryDistanceTolerance),new af(this._geom[2],this._boundaryDistanceTolerance)]},cf={TOLERANCE:{configurable:!0}};lf.prototype.reportResult=function(t,e,n){wu.out.println("Overlay result invalid - A:"+au.toLocationSymbol(e[0])+" B:"+au.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+au.toLocationSymbol(e[2]))},lf.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},lf.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var n=this._testCoords.get(e);if(!this.checkValid(t,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var i=arguments[0],r=arguments[1];return this._location[0]=this._locFinder[0].getLocation(r),this._location[1]=this._locFinder[1].getLocation(r),this._location[2]=this._locFinder[2].getLocation(r),!!lf.hasLocation(this._location,au.BOUNDARY)||this.isValidResult(i,this._location)}},lf.prototype.addTestPts=function(t){var e=new uf(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},lf.prototype.isValidResult=function(t,e){var n=of.isResultOfOp(e[0],e[1],t),i=!(n^e[2]===au.INTERIOR);return i||this.reportResult(t,e,n),i},lf.prototype.getInvalidLocation=function(){return this._invalidLocation},lf.prototype.interfaces_=function(){return[]},lf.prototype.getClass=function(){return lf},lf.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},lf.computeBoundaryDistanceTolerance=function(t,e){return Math.min(Td.computeSizeBasedSnapTolerance(t),Td.computeSizeBasedSnapTolerance(e))},lf.isValid=function(t,e,n,i){return new lf(t,e,i).isValid(n)},cf.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(lf,cf);var hf=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};hf.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);this._skipEmpty&&i.isEmpty()||e.add(i)}},hf.prototype.combine=function(){for(var t=new nl,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},hf.prototype.interfaces_=function(){return[]},hf.prototype.getClass=function(){return hf},hf.combine=function(){return 1===arguments.length?new hf(arguments[0]).combine():2===arguments.length?new hf(hf.createList(arguments[0],arguments[1])).combine():3===arguments.length?new hf(hf.createList(arguments[0],arguments[1],arguments[2])).combine():void 0},hf.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},hf.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new nl;return n.add(t),n.add(e),n}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],a=new nl;return a.add(i),a.add(r),a.add(o),a}};var df=function(){this._inputPolys=null,this._geomFactory=null,this._inputPolys=arguments[0],null===this._inputPolys&&(this._inputPolys=new nl)},ff={STRTREE_NODE_CAPACITY:{configurable:!0}};df.prototype.reduceToGeometries=function(t){for(var e=new nl,n=t.iterator();n.hasNext();){var i=n.next(),r=null;uu(i,el)?r=this.unionTree(i):i instanceof Hu&&(r=i),e.add(r)}return e},df.prototype.extractByEnvelope=function(t,e,n){for(var i=new nl,r=0;r<e.getNumGeometries();r++){var o=e.getGeometryN(r);o.getEnvelopeInternal().intersects(t)?i.add(o):n.add(o)}return this._geomFactory.buildGeometry(i)},df.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),i=e.getEnvelopeInternal();if(!n.intersects(i))return hf.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var r=n.intersection(i);return this.unionUsingEnvelopeIntersection(t,e,r)},df.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new Yc(df.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var i=t.itemsTree();return this.unionTree(i)},df.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];if(i-n<=1){var r=df.getGeometry(e,n);return this.unionSafe(r,null)}if(i-n==2)return this.unionSafe(df.getGeometry(e,n),df.getGeometry(e,n+1));var o=Math.trunc((i+n)/2),a=this.binaryUnion(e,n,o),s=this.binaryUnion(e,o,i);return this.unionSafe(a,s)}},df.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var i=n.next();e=null===e?i.copy():e.union(i)}return e},df.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},df.prototype.unionActual=function(t,e){return df.restrictToPolygons(t.union(e))},df.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},df.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var i=new nl,r=this.extractByEnvelope(n,t,i),o=this.extractByEnvelope(n,e,i),a=this.unionActual(r,o);return i.add(a),hf.combine(i)},df.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},df.prototype.interfaces_=function(){return[]},df.prototype.getClass=function(){return df},df.restrictToPolygons=function(t){if(uu(t,Pl))return t;var e=ed.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(Zl.toPolygonArray(e))},df.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},df.union=function(t){return new df(t).union()},ff.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(df,ff);var pf=function(){};pf.prototype.interfaces_=function(){return[]},pf.prototype.getClass=function(){return pf},pf.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return of.createEmptyResult(of.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Fd.overlayOp(t,e,of.UNION)};var mf=function(){return new Yr};Yr.prototype={constructor:Yr,reset:function(){this.s=this.t=0},add:function(t){zr(gf,t,this.t),zr(this,gf.s,this.s),this.s?this.t+=gf.t:this.s=gf.t},valueOf:function(){return this.s}};var gf=new Yr,yf=1e-6,vf=Math.PI,_f=vf/2,bf=vf/4,xf=2*vf,wf=180/vf,kf=vf/180,Mf=Math.abs,Sf=Math.atan,Ef=Math.atan2,Lf=Math.cos,Tf=Math.exp,Cf=Math.log,If=Math.sin,Pf=Math.sqrt,Df=Math.tan,Of={Feature:function(t,e){Hr(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)Hr(n[i].geometry,e)}},Af={Sphere:function(t,e){e.sphere()},Point:function(t,e){e.point((t=t.coordinates)[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)e.point((t=n[i])[0],t[1],t[2])},LineString:function(t,e){Ur(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Ur(n[i],e,0)},Polygon:function(t,e){Vr(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Vr(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)Hr(n[i],e)}},Rf=function(t,e){t&&Of.hasOwnProperty(t.type)?Of[t.type](t,e):Hr(t,e)},Nf=(mf(),mf(),mf(),function(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n});Jr.invert=Jr;var Ff=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Br,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},Yf=function(t,e,n,i,r,o){var a,s=t[0],u=t[1],l=0,c=1,h=e[0]-s,d=e[1]-u;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>l&&(l=a)}if(a=r-s,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<c&&(c=a)}if(a=i-u,d||!(a>0)){if(a/=d,d<0){if(a<l)return;a<c&&(c=a)}else if(d>0){if(a>c)return;a>l&&(l=a)}if(a=o-u,d||!(a<0)){if(a/=d,d<0){if(a>c)return;a>l&&(l=a)}else if(d>0){if(a<l)return;a<c&&(c=a)}return l>0&&(t[0]=s+l*h,t[1]=u+l*d),c<1&&(e[0]=s+c*h,e[1]=u+c*d),!0}}}}},zf=function(t,e){return Mf(t[0]-e[0])<yf&&Mf(t[1]-e[1])<yf},jf=function(t,e,n,i,r){var o,a,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],a=t[e];if(zf(i,a)){for(r.lineStart(),o=0;o<e;++o)r.point((i=t[o])[0],i[1]);r.lineEnd()}else s.push(n=new ro(i,t,null,!0)),u.push(n.o=new ro(i,null,n,!1)),s.push(n=new ro(a,t,null,!1)),u.push(n.o=new ro(a,null,n,!0))}}),s.length){for(u.sort(e),oo(s),oo(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var l,c,h=s[0];;){for(var d=h,f=!0;d.v;)if((d=d.n)===h)return;l=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(o=0,a=l.length;o<a;++o)r.point((c=l[o])[0],c[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(f)for(o=(l=d.p.z).length-1;o>=0;--o)r.point((c=l[o])[0],c[1]);else i(d.x,d.p.x,-1,r);d=d.p}l=(d=d.o).z,f=!f}while(!d.v);r.lineEnd()}}},Bf=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},Hf=(function(t){1===t.length&&(t=function(t){return function(e,n){return Bf(t(e),n)}}(t))}(Bf),function(t){for(var e,n,i,r=t.length,o=-1,a=0;++o<r;)a+=t[o].length;for(n=new Array(a);--r>=0;)for(e=(i=t[r]).length;--e>=0;)n[--a]=i[e];return n}),Uf=1e9,Vf=-Uf,qf=mf(),Gf=(mf(),function(t){return t}),Wf=(mf(),mf(),1/0),Xf=Wf,Kf=-Wf,Zf=Kf,Qf={point:function(t,e){t<Wf&&(Wf=t),t>Kf&&(Kf=t),e<Xf&&(Xf=e),e>Zf&&(Zf=e)},lineStart:Br,lineEnd:Br,polygonStart:Br,polygonEnd:Br,result:function(){var t=[[Wf,Xf],[Kf,Zf]];return Kf=Zf=-(Xf=Wf=1/0),t}},Jf=(mf(),function(t,e,n,i){return function(r,o){function a(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&o.point(e,n)}function s(t,e){var n=r(t,e);g.point(n[0],n[1])}function u(){x.point=s,g.lineStart()}function l(){x.point=a,g.lineEnd()}function c(t,e){m.push([t,e]);var n=r(t,e);_.point(n[0],n[1])}function h(){_.lineStart(),m=[]}function d(){c(m[0][0],m[0][1]),_.lineEnd();var t,e,n,i,r=_.clean(),a=v.result(),s=a.length;if(m.pop(),f.push(m),m=null,s)if(1&r){if((e=(n=a[0]).length-1)>0){for(b||(o.polygonStart(),b=!0),o.lineStart(),t=0;t<e;++t)o.point((i=n[t])[0],i[1]);o.lineEnd()}}else s>1&&2&r&&a.push(a.pop().concat(a.shift())),p.push(a.filter(so))}var f,p,m,g=e(o),y=r.invert(i[0],i[1]),v=Ff(),_=e(v),b=!1,x={point:a,lineStart:u,lineEnd:l,polygonStart:function(){x.point=c,x.lineStart=h,x.lineEnd=d,p=[],f=[]},polygonEnd:function(){x.point=a,x.lineStart=u,x.lineEnd=l,p=Hf(p);var t=function(t,e){var n=e[0],i=e[1],r=[If(n),-Lf(n),0],o=0,a=0;qf.reset();for(var s=0,u=t.length;s<u;++s)if(c=(l=t[s]).length)for(var l,c,h=l[c-1],d=h[0],f=h[1]/2+bf,p=If(f),m=Lf(f),g=0;g<c;++g,d=v,p=b,m=x,h=y){var y=l[g],v=y[0],_=y[1]/2+bf,b=If(_),x=Lf(_),w=v-d,k=w>=0?1:-1,M=k*w,S=M>vf,E=p*b;if(qf.add(Ef(E*k*If(M),m*x+E*Lf(M))),o+=S?w+k*xf:w,S^d>=n^v>=n){var L=Xr(Gr(h),Gr(y));Qr(L);var T=Xr(r,L);Qr(T);var C=(S^w>=0?-1:1)*jr(T[2]);(i>C||i===C&&(L[0]||L[1]))&&(a+=S^w>=0?1:-1)}}return(o<-yf||o<yf&&qf<-yf)^1&a}(f,y);p.length?(b||(o.polygonStart(),b=!0),jf(p,uo,t,n,o)):t&&(b||(o.polygonStart(),b=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),b&&(o.polygonEnd(),b=!1),p=f=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return x}}),$f=Jf(function(){return!0},function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?vf:-vf,u=Mf(o-n);Mf(u-vf)<yf?(t.point(n,i=(i+a)/2>0?_f:-_f),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(o,i),e=0):r!==s&&u>=vf&&(Mf(n-r)<yf&&(n-=r*yf),Mf(o-s)<yf&&(o-=s*yf),i=function(t,e,n,i){var r,o,a=If(t-n);return Mf(a)>yf?Sf((If(e)*(o=Lf(i))*If(n)-If(i)*(r=Lf(e))*If(t))/(r*o*a)):(e+i)/2}(n,i,o,a),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=o,i=a),r=s},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}},function(t,e,n,i){var r;if(null==t)i.point(-vf,r=n*_f),i.point(0,r),i.point(vf,r),i.point(vf,0),i.point(vf,-r),i.point(0,-r),i.point(-vf,-r),i.point(-vf,0),i.point(-vf,r);else if(Mf(t[0]-e[0])>yf){var o=t[0]<e[0]?vf:-vf;i.point(-o,r=n*o/2),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])},[-vf,-_f]),tp=function(t,e){function n(t,e){return Lf(t)*Lf(e)>o}function i(t,e,n){var i=[1,0,0],r=Xr(Gr(t),Gr(e)),a=Wr(r,r),s=r[0],u=a-s*s;if(!u)return!n&&t;var l=o*a/u,c=-o*s/u,h=Xr(i,r),d=Zr(i,l);Kr(d,Zr(r,c));var f=h,p=Wr(d,f),m=Wr(f,f),g=p*p-m*(Wr(d,d)-1);if(!(g<0)){var y=Pf(g),v=Zr(f,(-p-y)/m);if(Kr(v,d),v=qr(v),!n)return v;var _,b=t[0],x=e[0],w=t[1],k=e[1];x<b&&(_=b,b=x,x=_);var M=x-b,S=Mf(M-vf)<yf;if(!S&&k<w&&(_=w,w=k,k=_),S||M<yf?S?w+k>0^v[1]<(Mf(v[0]-b)<yf?w:k):w<=v[1]&&v[1]<=k:M>vf^(b<=v[0]&&v[0]<=x)){var E=Zr(f,(-p+y)/m);return Kr(E,d),[v,qr(E)]}}}function r(e,n){var i=a?t:vf-t,r=0;return e<-i?r|=1:e>i&&(r|=2),n<-i?r|=4:n>i&&(r|=8),r}var o=Lf(t),a=o>0,s=Mf(o)>yf;return Jf(n,function(t){var e,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,d){var f,p=[h,d],m=n(h,d),g=a?m?0:r(h,d):m?r(h+(h<0?vf:-vf),d):0;if(!e&&(l=u=m)&&t.lineStart(),m!==u&&(!(f=i(e,p))||zf(e,f)||zf(p,f))&&(p[0]+=yf,p[1]+=yf,m=n(p[0],p[1])),m!==u)c=0,m?(t.lineStart(),f=i(p,e),t.point(f[0],f[1])):(f=i(e,p),t.point(f[0],f[1]),t.lineEnd()),e=f;else if(s&&e&&a^m){var y;g&o||!(y=i(p,e,!0))||(c=0,a?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!m||e&&zf(e,p)||t.point(p[0],p[1]),e=p,u=m,o=g},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return c|(l&&u)<<1}}},function(n,i,r,o){!function(t,e,n,i,r,o){if(n){var a=Lf(e),s=If(e),u=i*n;null==r?(r=e+i*xf,o=e-u/2):(r=io(a,r),o=io(a,o),(i>0?r<o:r>o)&&(r+=i*xf));for(var l,c=r;i>0?c>o:c<o;c-=u)l=qr([a,-s*Lf(c),-s*If(c)]),t.point(l[0],l[1])}}(o,t,e,r,n,i)},a?[0,-t]:[-vf,t-vf])};co.prototype={constructor:co,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ep=Lf(30*kf),np=function(t,e){return+e?function(t,e){function n(i,r,o,a,s,u,l,c,h,d,f,p,m,g){var y=l-i,v=c-r,_=y*y+v*v;if(_>4*e&&m--){var b=a+d,x=s+f,w=u+p,k=Pf(b*b+x*x+w*w),M=jr(w/=k),S=Mf(Mf(w)-1)<yf||Mf(o-h)<yf?(o+h)/2:Ef(x,b),E=t(S,M),L=E[0],T=E[1],C=L-i,I=T-r,P=v*C-y*I;(P*P/_>e||Mf((y*C+v*I)/_-.5)>.3||a*d+s*f+u*p<ep)&&(n(i,r,o,a,s,u,L,T,S,b/=k,x/=k,w,m,g),g.point(L,T),n(L,T,S,b,x,w,l,c,h,d,f,p,m,g))}}return function(e){function i(n,i){n=t(n,i),e.point(n[0],n[1])}function r(){y=NaN,w.point=o,e.lineStart()}function o(i,r){var o=Gr([i,r]),a=t(i,r);n(y,v,g,_,b,x,y=a[0],v=a[1],g=i,_=o[0],b=o[1],x=o[2],16,e),e.point(y,v)}function a(){w.point=i,e.lineEnd()}function s(){r(),w.point=u,w.lineEnd=l}function u(t,e){o(c=t,e),h=y,d=v,f=_,p=b,m=x,w.point=o}function l(){n(y,v,g,_,b,x,h,d,c,f,p,m,16,e),w.lineEnd=a,a()}var c,h,d,f,p,m,g,y,v,_,b,x,w={point:i,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),w.lineStart=s},polygonEnd:function(){e.polygonEnd(),w.lineStart=r}};return w}}(t,e):function(t){return lo({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)},ip=lo({point:function(t,e){this.stream.point(t*kf,e*kf)}});fo.invert=function(t,e){return[t,2*Sf(Tf(e))-_f]},po.invert=function(t,e){return[-e,2*Sf(Tf(t))-_f]};var rp=function(){var t=function(t){function e(){var e=vf*s(),a=o(function(t){function e(e){return(e=t(e[0]*kf,e[1]*kf))[0]*=wf,e[1]*=wf,e}return t=$r(t[0]*kf,t[1]*kf,t.length>2?t[2]*kf:0),e.invert=function(e){return(e=t.invert(e[0]*kf,e[1]*kf))[0]*=wf,e[1]*=wf,e},e}(o.rotate()).invert([0,0]));return l(null==c?[[a[0]-e,a[1]-e],[a[0]+e,a[1]+e]]:t===fo?[[Math.max(a[0]-e,c),n],[Math.min(a[0]+e,i),r]]:[[c,Math.max(a[1]-e,n)],[i,Math.min(a[1]+e,r)]])}var n,i,r,o=function(t){return function(t){function e(t){return[(t=l(t[0]*kf,t[1]*kf))[0]*m+a,s-t[1]*m]}function n(t,e){return[(t=o(t,e))[0]*m+a,s-t[1]*m]}function i(){l=Nf(u=$r(b,x,w),o);var t=o(v,_);return a=g-t[0]*m,s=y+t[1]*m,r()}function r(){return f=p=null,e}var o,a,s,u,l,c,h,d,f,p,m=150,g=480,y=250,v=0,_=0,b=0,x=0,w=0,k=null,M=$f,S=null,E=Gf,L=.5,T=np(n,L);return e.stream=function(t){return f&&p===t?f:f=ip(M(u,T(E(p=t))))},e.clipAngle=function(t){return arguments.length?(M=+t?tp(k=t*kf,6*kf):(k=null,$f),r()):k*wf},e.clipExtent=function(t){return arguments.length?(E=null==t?(S=c=h=d=null,Gf):ao(S=+t[0][0],c=+t[0][1],h=+t[1][0],d=+t[1][1]),r()):null==S?null:[[S,c],[h,d]]},e.scale=function(t){return arguments.length?(m=+t,i()):m},e.translate=function(t){return arguments.length?(g=+t[0],y=+t[1],i()):[g,y]},e.center=function(t){return arguments.length?(v=t[0]%360*kf,_=t[1]%360*kf,i()):[v*wf,_*wf]},e.rotate=function(t){return arguments.length?(b=t[0]%360*kf,x=t[1]%360*kf,w=t.length>2?t[2]%360*kf:0,i()):[b*wf,x*wf,w*wf]},e.precision=function(t){return arguments.length?(T=np(n,L=t*t),r()):Pf(L)},e.fitExtent=function(t,n){return ho(e,t,n)},e.fitSize=function(t,n){return function(t,e,n){return ho(t,[[0,0],e],n)}(e,t,n)},function(){return o=t.apply(this,arguments),e.invert=o.invert&&function(t){return(t=l.invert((t[0]-a)/m,(s-t[1])/m))&&[t[0]*wf,t[1]*wf]},i()}}(function(){return t})()}(t),a=o.center,s=o.scale,u=o.translate,l=o.clipExtent,c=null;return o.scale=function(t){return arguments.length?(s(t),e()):s()},o.translate=function(t){return arguments.length?(u(t),e()):u()},o.center=function(t){return arguments.length?(a(t),e()):a()},o.clipExtent=function(t){return arguments.length?(null==t?c=n=i=r=null:(c=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),e()):null==c?null:[[c,n],[i,r]]},e()}(po),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};t.projection=da,t.random=Ws,t.clusters=Xs,t.helpers=Do,t.invariant=Ao,t.meta=Oo,t.isolines=function(t,e,n){if(!M(n=n||{}))throw new Error("options is invalid");var i=n.zProperty||"elevation",r=n.commonProperties||{},o=n.breaksProperties||[];if(X(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks must be an Array");if(!M(r))throw new Error("commonProperties must be an Object");if(!Array.isArray(o))throw new Error("breaksProperties must be an Array");var a=function(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",i=e.flip,r=e.flags;X(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return P(t,function(t){var e=V(t)[1];n[e]||(n[e]=[]),n[e].push(t)}),Object.keys(n).map(function(t){return n[t].sort(function(t,e){return V(t)[0]-V(e)[0]})}).sort(function(t,n){return e?V(t[0])[1]-V(n[0])[1]:V(n[0])[1]-V(t[0])[1]})}(t,i),a=[],s=0;s<o.length;s++){for(var u=o[s],l=[],c=0;c<u.length;c++){var h=u[c];l.push(h.properties[n]?h.properties[n]:0),!0===r&&(h.properties.matrixPosition=[s,c])}a.push(l)}return a}(t,{zProperty:i,flip:!0});return l(function(t,e,n){var i=H(n),r=i[0],o=i[1],a=(i[2]-i[0])/(e[0].length-1),s=(i[3]-i[1])/(e.length-1),u=function(t){t[0]=t[0]*a+r,t[1]=t[1]*s+o};return t.forEach(function(t){L(t,u)}),t}(function(t,e,n,i,r){for(var o=[],a=1;a<e.length;a++){var s=+e[a],u=Object.assign({},i,r[a]);u[n]=s;var l=c(J(t,s),u);o.push(l)}return o}(a,e,i,r,o),a,t))},t.convex=Lt,t.pointsWithinPolygon=It,t.concave=function(t,n){if(!M(n=n||{}))throw new Error("options is invalid");if(!t)throw new Error("points is required");var i=n.maxEdge||1/0;if(!k(i))throw new Error("maxEdge is invalid");var r=Pt(function(t){var e=[],n={};return P(t,function(t){if(t.geometry){var i=t.geometry.coordinates.join("-");n.hasOwnProperty(i)||(e.push(t),n[i]=!0)}}),l(e)}(t));if(r.features=r.features.filter(function(t){var e=t.geometry.coordinates[0][0],r=t.geometry.coordinates[0][1],o=t.geometry.coordinates[0][2],a=Rt(e,r,n),s=Rt(r,o,n),u=Rt(e,o,n);return a<=i&&s<=i&&u<=i}),r.features.length<1)return null;var o=function(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==Q(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Nt(t));var i=function(t){var e={};N(t,function(t){e[t.geometry.type]=!0});var n=Object.keys(e);return 1===n.length?n[0]:null}(t);if(!i)throw new Error("geojson must be homogenous");switch(i){case"LineString":return function(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==Q(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Nt(t));var i=[],r=B(t,function(t,e){return function(t,e){var n,i=t.geometry.coordinates,r=e.geometry.coordinates,o=Kt(i[0]),a=Kt(i[i.length-1]),u=Kt(r[0]),l=Kt(r[r.length-1]);if(o===l)n=r.concat(i.slice(1));else if(u===a)n=i.concat(r.slice(1));else if(o===u)n=i.slice(1).reverse().concat(r);else{if(a!==l)return null;n=i.concat(r.reverse().slice(1))}return s(n)}(t,e)||(i.push(t),e)});return r&&i.push(r),i.length?1===i.length?i[0]:c(i.map(function(t){return t.coordinates})):null}(t,e);case"Polygon":return function(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==Q(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Nt(t));var i=[];N(t,function(t){i.push(t.geometry)});var r=function(t,e){function n(t){t&&c.hasOwnProperty(t.type)&&c[t.type](t)}function i(t){var e=[];do{var n=l.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function r(t){return t.map(i)}var o=function(t){function e(t){null!=t&&l.hasOwnProperty(t.type)&&l[t.type](t)}function n(t){var e=t[0],n=t[1];e<o&&(o=e),e>s&&(s=e),n<a&&(a=n),n>u&&(u=n)}function i(t){t.forEach(n)}function r(t){t.forEach(i)}var o=1/0,a=1/0,s=-1/0,u=-1/0,l={GeometryCollection:function(t){t.geometries.forEach(e)},Point:function(t){n(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(n)},LineString:function(t){i(t.arcs)},MultiLineString:function(t){t.arcs.forEach(i)},Polygon:function(t){t.arcs.forEach(i)},MultiPolygon:function(t){t.arcs.forEach(r)}};for(var c in t)e(t[c]);return s>=o&&u>=a?[o,a,s,u]:void 0}(t=function(t){var e,n={};for(e in t)n[e]=Vt(t[e]);return n}(t)),a=e>0&&o&&function(t,e,n){function i(t){return[Math.round((t[0]-l)*f),Math.round((t[1]-c)*p)]}function r(t,e){for(var n,i,r,o,a,s=-1,u=0,h=t.length,d=new Array(h);++s<h;)n=t[s],o=Math.round((n[0]-l)*f),a=Math.round((n[1]-c)*p),o===i&&a===r||(d[u++]=[i=o,r=a]);for(d.length=u;u<e;)u=d.push([d[0][0],d[0][1]]);return d}function o(t){return r(t,2)}function a(t){return r(t,4)}function s(t){return t.map(a)}function u(t){null!=t&&m.hasOwnProperty(t.type)&&m[t.type](t)}var l=e[0],c=e[1],h=e[2],d=e[3],f=h-l?(n-1)/(h-l):1,p=d-c?(n-1)/(d-c):1,m={GeometryCollection:function(t){t.geometries.forEach(u)},Point:function(t){t.coordinates=i(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(i)},LineString:function(t){t.arcs=o(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(o)},Polygon:function(t){t.arcs=s(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(s)}};for(var g in t)u(t[g]);return{scale:[1/f,1/p],translate:[l,c]}}(t,o,e),s=function(t){function e(t){var e,n,i,r,o,a,s,u;if(i=f.get(e=l[t[0]]))for(s=0,u=i.length;s<u;++s)if(function(t,e){var n=t[0],i=e[0],r=t[1];if(n-r!=i-e[1])return!1;for(;n<=r;++n,++i)if(!ra(l[n],l[i]))return!1;return!0}(r=i[s],t))return t[0]=r[0],void(t[1]=r[1]);if(o=f.get(n=l[t[1]]))for(s=0,u=o.length;s<u;++s)if(function(t,e){var n=t[0],i=t[1],r=e[1];if(n-i!=e[0]-r)return!1;for(;n<=i;++n,--r)if(!ra(l[n],l[r]))return!1;return!0}(a=o[s],t))return t[1]=a[0],void(t[0]=a[1]);i?i.push(t):f.set(e,[t]),o?o.push(t):f.set(n,[t]),p.push(t)}function n(t,e){var n=t[0],i=e[0],o=t[1]-n;if(o!==e[1]-i)return!1;for(var a=r(t),s=r(e),u=0;u<o;++u)if(!ra(l[n+(u+a)%o],l[i+(u+s)%o]))return!1;return!0}function i(t,e){var n=t[0],i=e[1],o=t[1]-n;if(o!==i-e[0])return!1;for(var a=r(t),s=o-r(e),u=0;u<o;++u)if(!ra(l[n+(u+a)%o],l[i-(u+s)%o]))return!1;return!0}function r(t){for(var e=t[0],n=t[1],i=e,r=i,o=l[i];++i<n;){var a=l[i];(a[0]<o[0]||a[0]===o[0]&&a[1]<o[1])&&(r=i,o=a)}return r-e}var o,a,s,u,l=t.coordinates,c=t.lines,h=t.rings,d=c.length+h.length;for(delete t.lines,delete t.rings,s=0,u=c.length;s<u;++s)for(o=c[s];o=o.next;)++d;for(s=0,u=h.length;s<u;++s)for(a=h[s];a=a.next;)++d;var f=ia(2*d*1.4,ua,ra),p=t.arcs=[];for(s=0,u=c.length;s<u;++s){o=c[s];do{e(o)}while(o=o.next)}for(s=0,u=h.length;s<u;++s)if((a=h[s]).next)do{e(a)}while(a=a.next);else!function(t){var e,o,a,s,u;if(o=f.get(l[t[0]]))for(s=0,u=o.length;s<u;++s){if(n(a=o[s],t))return t[0]=a[0],void(t[1]=a[1]);if(i(a,t))return t[0]=a[1],void(t[1]=a[0])}if(o=f.get(e=l[t[0]+r(t)]))for(s=0,u=o.length;s<u;++s){if(n(a=o[s],t))return t[0]=a[0],void(t[1]=a[1]);if(i(a,t))return t[0]=a[1],void(t[1]=a[0])}o?o.push(t):f.set(e,[t]),p.push(t)}(a);return t}(function(t){var e,n,i,r=function(t){function e(t,e,n,i){if(d[n]!==t){d[n]=t;var r=f[n];if(r>=0){var o=p[n];r===e&&o===i||r===i&&o===e||(++g,m[n]=1)}else f[n]=e,p[n]=i}}function n(t){return ua(u[t])}function i(t,e){return ra(u[t],u[e])}var r,o,a,s,u=t.coordinates,l=t.lines,c=t.rings,h=function(){for(var t=ia(1.4*u.length,n,i,Int32Array,-1,Int32Array),e=new Int32Array(u.length),r=0,o=u.length;r<o;++r)e[r]=t.maybeSet(r,r);return e}(),d=new Int32Array(u.length),f=new Int32Array(u.length),p=new Int32Array(u.length),m=new Int8Array(u.length),g=0;for(r=0,o=u.length;r<o;++r)d[r]=f[r]=p[r]=-1;for(r=0,o=l.length;r<o;++r){var y=l[r],v=y[0],_=y[1];for(a=h[v],s=h[++v],++g,m[a]=1;++v<=_;)e(r,a,a=s,s=h[v]);++g,m[s]=1}for(r=0,o=u.length;r<o;++r)d[r]=-1;for(r=0,o=c.length;r<o;++r){var b=c[r],x=b[0]+1,w=b[1];for(e(r,h[w-1],a=h[x-1],s=h[x]);++x<=w;)e(r,a,a=s,s=h[x])}d=f=p=null;var k,M=function(t,e,n,i,r){3===arguments.length&&(i=Array,r=null);for(var o=new i(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=t-1,s=0;s<t;++s)o[s]=r;return{add:function(i){for(var s=e(i)&a,u=o[s],l=0;u!=r;){if(n(u,i))return!0;if(++l>=t)throw new Error("full hashset");u=o[s=s+1&a]}return o[s]=i,!0},has:function(i){for(var s=e(i)&a,u=o[s],l=0;u!=r;){if(n(u,i))return!0;if(++l>=t)break;u=o[s=s+1&a]}return!1},values:function(){for(var t=[],e=0,n=o.length;e<n;++e){var i=o[e];i!=r&&t.push(i)}return t}}}(1.4*g,ua,ra);for(r=0,o=u.length;r<o;++r)m[k=h[r]]&&M.add(u[k]);return M}(t),o=t.coordinates,a=t.lines,s=t.rings;for(n=0,i=a.length;n<i;++n)for(var u=a[n],l=u[0],c=u[1];++l<c;)r.has(o[l])&&(e={0:l,1:u[1]},u[1]=l,u=u.next=e);for(n=0,i=s.length;n<i;++n)for(var h=s[n],d=h[0],f=d,p=h[1],m=r.has(o[d]);++f<p;)r.has(o[f])&&(m?(e={0:f,1:h[1]},h[1]=f,h=h.next=e):(function(t,e,n,i){Ut(t,e,n),Ut(t,e,e+i),Ut(t,e+i,n)}(o,d,p,p-f),o[p]=o[d],m=!0,f=d));return t}(function(t){function e(t){t&&l.hasOwnProperty(t.type)&&l[t.type](t)}function n(t){for(var e=0,n=t.length;e<n;++e)u[++o]=t[e];var i={0:o-n+1,1:o};return a.push(i),i}function i(t){for(var e=0,n=t.length;e<n;++e)u[++o]=t[e];var i={0:o-n+1,1:o};return s.push(i),i}function r(t){return t.map(i)}var o=-1,a=[],s=[],u=[],l={GeometryCollection:function(t){t.geometries.forEach(e)},LineString:function(t){t.arcs=n(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(n)},Polygon:function(t){t.arcs=t.arcs.map(i)},MultiPolygon:function(t){t.arcs=t.arcs.map(r)}};for(var c in t)e(t[c]);return{type:"Topology",coordinates:u,lines:a,rings:s,objects:t}}(t))),u=s.coordinates,l=ia(1.4*s.arcs.length,Wt,Xt);t=s.objects,s.bbox=o,s.arcs=s.arcs.map(function(t,e){return l.set(t,e),u.slice(t[0],t[1]+1)}),delete s.coordinates,u=null;var c={GeometryCollection:function(t){t.geometries.forEach(n)},LineString:function(t){t.arcs=i(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(i)},Polygon:function(t){t.arcs=t.arcs.map(i)},MultiPolygon:function(t){t.arcs=t.arcs.map(r)}};for(var h in t)n(t[h]);return a&&(s.transform=a,s.arcs=function(t){for(var e=-1,n=t.length;++e<n;){for(var i,r,o=t[e],a=0,s=1,u=o.length,l=o[0],c=l[0],h=l[1];++a<u;)i=(l=o[a])[0],r=l[1],i===c&&r===h||(o[s++]=[i-c,r-h],c=i,h=r);1===s&&(o[s++]=[0,0]),o.length=s}return t}(s.arcs)),s}({geoms:f(i).geometry});return function(t){return Bt(t,Ht.apply(this,arguments))}(r,r.objects.geoms.geometries)}(t,e);default:throw new Error(i+" is not supported")}}(r,n);return 1===o.coordinates.length&&(o.coordinates=o.coordinates[0],o.type="Polygon"),e(o)},t.collect=function(t,e,n,i){var r=Yo(6),o=e.features.map(function(t){return{minX:t.geometry.coordinates[0],minY:t.geometry.coordinates[1],maxX:t.geometry.coordinates[0],maxY:t.geometry.coordinates[1],property:t.properties[n]}});return r.load(o),t.features.forEach(function(t){t.properties||(t.properties={});var e=H(t),n=[];r.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}).forEach(function(e){Tt([e.minX,e.minY],t)&&n.push(e.property)}),t.properties[i]=n}),t},t.flip=function(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if(!t)throw new Error("geojson is required");return!1!==n&&void 0!==n||(t=Nt(t)),L(t,function(t){var e=t[0];t[0]=t[1],t[1]=e}),t},t.simplify=function(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var n=void 0!==e.tolerance?e.tolerance:1,i=e.highQuality||!1,r=e.mutate||!1;if(!t)throw new Error("geojson is required");if(n&&n<0)throw new Error("invalid tolerance");return!0!==r&&(t=Nt(t)),A(t,function(t){!function(t,e,n){var i=t.type;if("Point"===i||"MultiPoint"===i)return t;Zt(t,!0);var r=t.coordinates;switch(i){case"LineString":t.coordinates=ne(r,e,n);break;case"MultiLineString":t.coordinates=r.map(function(t){return ne(t,e,n)});break;case"Polygon":t.coordinates=ie(r,e,n);break;case"MultiPolygon":t.coordinates=r.map(function(t){return ie(t,e,n)})}}(t,n,i)}),t},t.bezierSpline=re,t.tag=function(t,e,n,i){return t=Nt(t),e=Nt(e),P(t,function(t){t.properties||(t.properties={}),P(e,function(e){void 0===t.properties[i]&&Tt(t,e)&&(t.properties[i]=e.properties[n])})}),t},t.sample=function(t,e){if(!t)throw new Error("featurecollection is required");if(null==e)throw new Error("num is required");if("number"!=typeof e)throw new Error("num must be a number");return l(function(t,e){for(var n,i,r=t.slice(0),o=t.length,a=o-e;o-- >a;)n=r[i=Math.floor((o+1)*Math.random())],r[i]=r[o],r[o]=n;return r.slice(a)}(t.features,e))},t.envelope=ae,t.square=se,t.circle=le,t.midpoint=function(t,e){return ue(t,Rt(t,e)/2,ce(t,e))},t.center=he,t.centerOfMass=function t(e,n){switch(Q(e)){case"Point":return e;case"Polygon":var r=[];L(e,function(t){r.push(t)});var o,a,s,u,l,c,h,d,f=de(e,n),p=f.geometry.coordinates,m=0,g=0,y=0,v=r.map(function(t){return[t[0]-p[0],t[1]-p[1]]});for(o=0;o<r.length-1;o++)u=(a=v[o])[0],l=(s=v[o+1])[0],y+=d=u*(h=s[1])-l*(c=a[1]),m+=(u+l)*d,g+=(c+h)*d;if(0===y)return f;var _=1/(.5*y*6);return i([p[0]+_*m,p[1]+_*g],n);default:var b=Lt(e);return b?t(b,n):de(e,n)}},t.centroid=de,t.combine=function(t){function n(t,e,n){n?i[e].coordinates=i[e].coordinates.concat(t.geometry.coordinates):i[e].coordinates.push(t.geometry.coordinates),i[e].properties.push(t.properties)}var i={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},r=Object.keys(i).reduce(function(t,e){return t[e.replace("Multi","")]=e,t},{});return P(t,function(t){t.geometry&&(i[t.geometry.type]?n(t,t.geometry.type,!0):r[t.geometry.type]&&n(t,r[t.geometry.type],!1))}),l(Object.keys(i).filter(function(t){return i[t].coordinates.length}).sort().map(function(t){return e({type:t,coordinates:i[t].coordinates},{collectedProperties:i[t].properties})}))},t.distance=Rt,t.explode=fe,t.bbox=H,t.tesselate=function(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?e.features=Ie(t.geometry.coordinates):t.geometry.coordinates.forEach(function(t){e.features=e.features.concat(Ie(t))}),e},t.bboxPolygon=oe,t.booleanPointInPolygon=Tt,t.nearestPoint=Pe,t.nearestPointOnLine=$e,t.nearestPointToLine=function(t,e,n){if(!M(n=n||{}))throw new Error("options is invalid");var i=n.units,r=n.properties||{};if(!t)throw new Error("points is required");if(!(t=function(t){var e=[];switch(t.geometry?t.geometry.type:t.type){case"GeometryCollection":return A(t,function(t){"Point"===t.type&&e.push({type:"Feature",properties:{},geometry:t})}),{type:"FeatureCollection",features:e};case"FeatureCollection":return t.features=t.features.filter(function(t){return"Point"===t.geometry.type}),t;default:throw new Error("points must be a Point Collection")}}(t)).features.length)throw new Error("points must contain features");if(!e)throw new Error("line is required");if("LineString"!==Q(e))throw new Error("line must be a LineString");var o=1/0,a=null;return P(t,function(t){var n=ln(t,e,{units:i});n<o&&(o=n,a=t)}),a&&(a.properties=Object.assign({dist:o},a.properties,r)),a},t.planepoint=function(t,e){var n=U(t),i=K(e).coordinates[0];if(i.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var r=e.properties||{},o=r.a,a=r.b,s=r.c,u=n[0],l=n[1],c=i[0][0],h=i[0][1],d=void 0!==o?o:i[0][2],f=i[1][0],p=i[1][1],m=void 0!==a?a:i[1][2],g=i[2][0],y=i[2][1],v=void 0!==s?s:i[2][2];return(v*(u-c)*(l-p)+d*(u-f)*(l-y)+m*(u-g)*(l-h)-m*(u-c)*(l-y)-v*(u-f)*(l-h)-d*(u-g)*(l-p))/((u-c)*(l-p)+(u-f)*(l-y)+(u-g)*(l-h)-(u-c)*(l-y)-(u-f)*(l-h)-(u-g)*(l-p))},t.tin=Pt,t.bearing=ce,t.destination=ue,t.kinks=function(t){var e,n,r={type:"FeatureCollection",features:[]};if("LineString"===(n="Feature"===t.type?t.geometry:t).type)e=[n.coordinates];else if("MultiLineString"===n.type)e=n.coordinates;else if("MultiPolygon"===n.type)e=[].concat.apply([],n.coordinates);else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");e=n.coordinates}return e.forEach(function(t){e.forEach(function(e){for(var n=0;n<t.length-1;n++)for(var o=n;o<e.length-1;o++){if(t===e){if(1===Math.abs(n-o))continue;if(0===n&&o===t.length-2&&t[n][0]===t[t.length-1][0]&&t[n][1]===t[t.length-1][1])continue}var a=function(t,e,n,i,r,o,a,s){var u,l,c,h,d={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(u=(s-o)*(n-t)-(a-r)*(i-e))?null!==d.x&&null!==d.y&&d:(h=(a-r)*(l=e-o)-(s-o)*(c=t-r),c=((n-t)*l-(i-e)*c)/u,d.x=t+(l=h/u)*(n-t),d.y=e+l*(i-e),l>=0&&l<=1&&(d.onLine1=!0),c>=0&&c<=1&&(d.onLine2=!0),!(!d.onLine1||!d.onLine2)&&[d.x,d.y])}(t[n][0],t[n][1],t[n+1][0],t[n+1][1],e[o][0],e[o][1],e[o+1][0],e[o+1][1]);a&&r.features.push(i([a[0],a[1]]))}})}),r},t.pointOnFeature=hn,t.area=fn,t.along=function(t,e,n){if(!M(n=n||{}))throw new Error("options is invalid");var r;if("Feature"===t.type)r=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");r=t.coordinates}if(!k(e))throw new Error("distance must be a number");for(var o=0,a=0;a<r.length&&!(e>=o&&a===r.length-1);a++){if(o>=e){var s=e-o;if(s){var u=ce(r[a],r[a-1])-180;return ue(r[a],s,u,n)}return i(r[a])}o+=Rt(r[a],r[a+1],n)}return i(r[r.length-1])},t.length=vn,t.lineSlice=function(t,e,n){var i=V(n);if("LineString"!==Q(n))throw new Error("line must be a LineString");for(var r,o=$e(n,t),a=$e(n,e),u=[(r=o.properties.index<=a.properties.index?[o,a]:[a,o])[0].geometry.coordinates],l=r[0].properties.index+1;l<r[1].properties.index+1;l++)u.push(i[l]);return u.push(r[1].geometry.coordinates),s(u,n.properties)},t.lineSliceAlong=_n,t.pointGrid=Mn,t.truncate=Sn,t.flatten=function(t){if(!t)throw new Error("geojson is required");var e=[];return N(t,function(t){e.push(t)}),l(e)},t.lineIntersect=Qe,t.lineChunk=function(t,e,n){if(!M(n=n||{}))throw new Error("options is invalid");var i=n.units,r=n.reverse;if(!t)throw new Error("geojson is required");if(e<=0)throw new Error("segmentLength must be greater than 0");var o=[];return N(t,function(t){r&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,e,n,i){var r=vn(t,{units:n});if(r<=e)return i(t);var o=r/e;Number.isInteger(o)||(o=Math.floor(o)+1);for(var a=0;a<o;a++)i(_n(t,e*a,e*(a+1),{units:n}))}(t,e,i,function(t){o.push(t)})}),l(o)},t.unkinkPolygon=function(t){var e=[];return N(t,function(t){"Polygon"===t.geometry.type&&P(function(t){function e(){for(var t=[],e=0;e<p.features.length;e++)-1==p.features[e].properties.parent&&t.push(e);if(t.length>1)for(e=0;e<t.length;e++){for(var n=-1,i=0;i<p.features.length;i++)t[e]!=i&&Tt(p.features[t[e]].geometry.coordinates[0][0],p.features[i],{ignoreBoundary:!0})&&fn(p.features[i])<1/0&&(n=i);p.features[t[e]].properties.parent=n}}function n(){for(var t=0;t<p.features.length;t++)if(-1==p.features[t].properties.parent){var e=p.features[t].properties.winding;p.features[t].properties.netWinding=e,i(t,e)}}function i(t,e){for(var n=0;n<p.features.length;n++)if(p.features[n].properties.parent==t){var r=e+p.features[n].properties.winding;p.features[n].properties.netWinding=r,i(n,r)}}if("Feature"!=t.type)throw new Error("The input must a geojson object of type Feature");if(void 0===t.geometry||null==t.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=t.geometry.type)throw new Error("The input must be a geojson Polygon");for(var r=t.geometry.coordinates.length,a=[],s=0;s<r;s++){var u=t.geometry.coordinates[s];Tn(u[0],u[u.length-1])||u.push(u[0]),a.push.apply(a,u.slice(0,u.length-1))}if(!function(t){for(var e={},n=1,i=0,r=t.length;i<r;++i){if(e.hasOwnProperty(t[i])){n=0;break}e[t[i]]=1}return n}(a))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var c=a.length,h=function(t,e,n){function i(t,n,i,r){var u,l,c=o[t][n],h=o[t][n+1],d=o[i][r],f=o[i][r+1],p=function(t,e,n,i){if(En(t,n)||En(t,i)||En(e,n)||En(i,n))return null;var r=t[0],o=t[1],a=e[0],s=e[1],u=n[0],l=n[1],c=i[0],h=i[1],d=(r-a)*(l-h)-(o-s)*(u-c);return 0===d?null:[((r*s-o*a)*(u-c)-(r-a)*(u*h-l*c))/d,((r*s-o*a)*(l-h)-(o-s)*(u*h-l*c))/d]}(c,h,d,f);if(null!==p&&(l=f[0]!==d[0]?(p[0]-d[0])/(f[0]-d[0]):(p[1]-d[1])/(f[1]-d[1]),!((u=h[0]!==c[0]?(p[0]-c[0])/(h[0]-c[0]):(p[1]-c[1])/(h[1]-c[1]))>=1||u<=0||l>=1||l<=0))){var m=!s[p];m&&(s[p]=!0),a.push(e?e(p,t,n,c,h,u,i,r,d,f,l,m):p)}}function r(t,e){var n,i,r,a,s=o[t][e],u=o[t][e+1];return s[0]<u[0]?(n=s[0],i=u[0]):(n=u[0],i=s[0]),s[1]<u[1]?(r=s[1],a=u[1]):(r=u[1],a=s[1]),{minX:n,minY:r,maxX:i,maxY:a,ring:t,edge:e}}if("Polygon"!==t.geometry.type)throw new Error("The input feature must be a Polygon");void 0===n&&(n=1);var o=t.geometry.coordinates,a=[],s={};if(n){for(var u=[],l=0;l<o.length;l++)for(var c=0;c<o[l].length-1;c++)u.push(r(l,c));var h=Yo();h.load(u)}for(var d=0;d<o.length;d++)for(var f=0;f<o[d].length-1;f++)if(n)h.search(r(d,f)).forEach(function(t){i(d,f,t.ring,t.edge)});else for(var p=0;p<o.length;p++)for(var m=0;m<o[p].length-1;m++)i(d,f,p,m);return e||(a={type:"Feature",geometry:{type:"MultiPoint",coordinates:a}}),a}(t,function(t,e,n,i,r,o,a,s,u,l,c,h){return[t,e,n,i,r,o,a,s,u,l,c,h]}),d=h.length;if(0==d){var f=[];for(s=0;s<r;s++)f.push(o([t.geometry.coordinates[s]],{parent:-1,winding:function(t){for(var e=0,n=0;n<t.length-1;n++)t[n][0]<t[e][0]&&(e=n);if(Ln([t[(e-1).modulo(t.length-1)],t[e],t[(e+1).modulo(t.length-1)]],!0))var i=1;else i=-1;return i}(t.geometry.coordinates[s])}));var p=l(f);return e(),n(),p}var m=[],g=[];for(s=0;s<r;s++){m.push([]);for(var y=0;y<t.geometry.coordinates[s].length-1;y++)m[s].push([new pa(t.geometry.coordinates[s][(y+1).modulo(t.geometry.coordinates[s].length-1)],1,[s,y],[s,(y+1).modulo(t.geometry.coordinates[s].length-1)],void 0)]),g.push(new ma(t.geometry.coordinates[s][y],[s,(y-1).modulo(t.geometry.coordinates[s].length-1)],[s,y],void 0,void 0,!1,!0))}for(s=0;s<d;s++)m[h[s][1]][h[s][2]].push(new pa(h[s][0],h[s][5],[h[s][1],h[s][2]],[h[s][6],h[s][7]],void 0)),h[s][11]&&g.push(new ma(h[s][0],[h[s][1],h[s][2]],[h[s][6],h[s][7]],void 0,void 0,!0,!0));var v=g.length;for(s=0;s<m.length;s++)for(y=0;y<m[s].length;y++)m[s][y].sort(function(t,e){return t.param<e.param?-1:1});var _=[];for(s=0;s<v;s++)_.push({minX:g[s].coord[0],minY:g[s].coord[1],maxX:g[s].coord[0],maxY:g[s].coord[1],index:s});var b=Yo();for(b.load(_),s=0;s<m.length;s++)for(y=0;y<m[s].length;y++)for(var x=0;x<m[s][y].length;x++){k=x==m[s][y].length-1?m[s][(y+1).modulo(t.geometry.coordinates[s].length-1)][0].coord:m[s][y][x+1].coord;var w=b.search({minX:k[0],minY:k[1],maxX:k[0],maxY:k[1]})[0];m[s][y][x].nxtIsectAlongEdgeIn=w.index}for(s=0;s<m.length;s++)for(y=0;y<m[s].length;y++)for(x=0;x<m[s][y].length;x++){var k=m[s][y][x].coord,M=(w=b.search({minX:k[0],minY:k[1],maxX:k[0],maxY:k[1]})[0]).index;M<c?g[M].nxtIsectAlongRingAndEdge2=m[s][y][x].nxtIsectAlongEdgeIn:Tn(g[M].ringAndEdge1,m[s][y][x].ringAndEdgeIn)?g[M].nxtIsectAlongRingAndEdge1=m[s][y][x].nxtIsectAlongEdgeIn:g[M].nxtIsectAlongRingAndEdge2=m[s][y][x].nxtIsectAlongEdgeIn}var S=[];for(s=0,y=0;y<r;y++){var E=s;for(x=0;x<t.geometry.coordinates[y].length-1;x++)g[s].coord[0]<g[E].coord[0]&&(E=s),s++;var L=g[E].nxtIsectAlongRingAndEdge2;for(x=0;x<g.length;x++)if(g[x].nxtIsectAlongRingAndEdge1==E||g[x].nxtIsectAlongRingAndEdge2==E){var T=x;break}var C=Ln([g[T].coord,g[E].coord,g[L].coord],!0)?1:-1;S.push({isect:E,parent:-1,winding:C})}for(S.sort(function(t,e){return g[t.isect].coord>g[e.isect].coord?-1:1}),f=[];S.length>0;){var I=S.pop(),P=I.isect,D=I.parent,O=I.winding,A=f.length,R=[g[P].coord],N=P;if(g[P].ringAndEdge1Walkable)var F=g[P].ringAndEdge1,Y=g[P].nxtIsectAlongRingAndEdge1;else F=g[P].ringAndEdge2,Y=g[P].nxtIsectAlongRingAndEdge2;for(;!Tn(g[P].coord,g[Y].coord);){R.push(g[Y].coord);var z=void 0;for(s=0;s<S.length;s++)if(S[s].isect==Y){z=s;break}if(null!=z&&S.splice(z,1),Tn(F,g[Y].ringAndEdge1)){if(F=g[Y].ringAndEdge2,g[Y].ringAndEdge2Walkable=!1,g[Y].ringAndEdge1Walkable){var j={isect:Y};Ln([g[N].coord,g[Y].coord,g[g[Y].nxtIsectAlongRingAndEdge2].coord],1==O)?(j.parent=D,j.winding=-O):(j.parent=A,j.winding=O),S.push(j)}N=Y,Y=g[Y].nxtIsectAlongRingAndEdge2}else F=g[Y].ringAndEdge1,g[Y].ringAndEdge1Walkable=!1,g[Y].ringAndEdge2Walkable&&(j={isect:Y},Ln([g[N].coord,g[Y].coord,g[g[Y].nxtIsectAlongRingAndEdge1].coord],1==O)?(j.parent=D,j.winding=-O):(j.parent=A,j.winding=O),S.push(j)),N=Y,Y=g[Y].nxtIsectAlongRingAndEdge1}R.push(g[Y].coord),f.push(o([R],{index:A,parent:D,winding:O,netWinding:void 0}))}return p=l(f),e(),n(),p}(t),function(n){e.push(o(n.geometry.coordinates,t.properties))})}),l(e)},t.greatCircle=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var i=n.properties,r=n.npoints,o=n.offset;return t=U(t),e=U(e),r=r||100,o=o||10,new xa({x:t[0],y:t[1]},{x:e[0],y:e[1]},i=i||{}).Arc(r,{offset:o}).json()},t.lineSegment=Ze,t.lineSplit=function(t,e){if(!t)throw new Error("line is required");if(!e)throw new Error("splitter is required");var n=Q(t),i=Q(e);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===i)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===i)throw new Error("splitter cannot be a GeometryCollection");var r=Sn(e,{precision:7});switch(i){case"Point":return In(t,r);case"MultiPoint":return Cn(t,r);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Cn(t,Qe(t,r))}},t.lineArc=On,t.polygonToLine=Rn,t.lineToPolygon=Fn,t.bboxClip=function(t,e){var n=function(t){return t.geometry?t.geometry.type:t.type}(t),i=V(t),r=t.properties;switch(n){case"LineString":case"MultiLineString":var a=[];return"LineString"===n&&(i=[i]),i.forEach(function(t){wa(t,e,a)}),1===a.length?s(a[0],r):c(a,r);case"Polygon":return o(Un(i,e),r);case"MultiPolygon":return d(i.map(function(t){return Un(t,e)}),r);default:throw new Error("geometry "+n+" not supported")}},t.lineOverlap=Xn,t.sector=function(t,e,n,i,r){if(!M(r=r||{}))throw new Error("options is invalid");if(!t)throw new Error("center is required");if(null==n)throw new Error("bearing1 is required");if(null==i)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");if("object"!=typeof r)throw new Error("options must be an object");if(Zn(n)===Zn(i))return le(t,e,r);var a=V(t),s=[[a]];return L(On(t,e,n,i,r),function(t){s[0].push(t)}),s[0].push(a),o(s)},t.rhumbBearing=tn,t.rhumbDistance=nn,t.rhumbDestination=Qn,t.polygonTangents=function(t,e){var n,r,o,a=V(t),s=V(e);switch(Q(e)){case"Polygon":n=s[0][0],r=s[0][0],o=$n(s[0][0],s[0][s[0].length-1],a);var u=Jn(s[0],a,o,void 0,n,r);n=u[0],r=u[1];break;case"MultiPolygon":n=s[0][0][0],r=s[0][0][0],o=$n(s[0][0][0],s[0][0][s[0][0].length-1],a),s.forEach(function(t){var e=Jn(t[0],a,o,void 0,n,r);n=e[0],r=e[1]})}return l([i(n),i(r)])},t.rewind=function(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var n=e.reverse||!1,i=e.mutate||!1;if(!t)throw new Error("<geojson> is required");if("boolean"!=typeof n)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof i)throw new Error("<mutate> must be a boolean");!1===i&&(t=Nt(t));var r=[];switch(t.type){case"GeometryCollection":return A(t,function(t){ei(t,n)}),t;case"FeatureCollection":return P(t,function(t){P(ei(t,n),function(t){r.push(t)})}),l(r)}return ei(t,n)},t.isobands=function(t,e,n){if(!M(n=n||{}))throw new Error("options is invalid");var i=n.zProperty||"elevation",r=n.commonProperties||{},a=n.breaksProperties||[];if(X(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks is not an Array");if(!M(r))throw new Error("commonProperties is not an Object");if(!Array.isArray(a))throw new Error("breaksProperties is not an Array");var s=function(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",i=e.flip,r=e.flags;X(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return P(t,function(t){var e=V(t)[1];n[e]||(n[e]=[]),n[e].push(t)}),Object.keys(n).map(function(t){return n[t].sort(function(t,e){return V(t)[0]-V(e)[0]})}).sort(function(t,n){return e?V(t[0])[1]-V(n[0])[1]:V(n[0])[1]-V(t[0])[1]})}(t,i),a=[],s=0;s<o.length;s++){for(var u=o[s],l=[],c=0;c<u.length;c++){var h=u[c];l.push(h.properties[n]?h.properties[n]:0),!0===r&&(h.properties.matrixPosition=[s,c])}a.push(l)}return a}(t,{zProperty:i,flip:!0}),u=function(t,e,n){for(var i=[],r=1;r<e.length;r++){var a=+e[r-1],s=+e[r],u=function(t){for(var e=t.map(function(t){return{lrCoordinates:t,grouped:!1}}),n=[];!function(t){for(var e=0;e<t.length;e++)if(!1===t[e].grouped)return!1;return!0}(e);)for(var i=0;i<e.length;i++)if(!e[i].grouped){var r=[];r.push(e[i].lrCoordinates),e[i].grouped=!0;for(var a=o([e[i].lrCoordinates]),s=i+1;s<e.length;s++)e[s].grouped||function(t,e){for(var n=fe(t),i=0;i<n.features.length;i++)if(!Tt(n.features[i],e))return!1;return!0}(o([e[s].lrCoordinates]),a)&&(r.push(e[s].lrCoordinates),e[s].grouped=!0);n.push(r)}return n}(function(t){var e=[],n=[];t.forEach(function(t){var i=fn(o([t]));n.push(i),e.push({ring:t,area:i})}),n.sort(function(t,e){return e-t});var i=[];return n.forEach(function(t){for(var n=0;n<e.length;n++)if(e[n].area===t){i.push(e[n].ring),e.splice(n,1);break}}),i}(ri(t,a,s-a))),l={};l.groupedRings=u,l[n]=a+"-"+s,i.push(l)}return i}(s,e,i);return l((u=function(t,e,n){var i=H(n),r=i[0],o=i[1],a=(i[2]-i[0])/(e[0].length-1),s=(i[3]-i[1])/(e.length-1),u=function(t){t[0]=t[0]*a+r,t[1]=t[1]*s+o};return t.forEach(function(t){t.groupedRings.forEach(function(t){t.forEach(function(t){t.forEach(u)})})}),t}(u,s,t)).map(function(t,e){if(a[e]&&!M(a[e]))throw new Error("Each mappedProperty is required to be an Object");var n=Object.assign({},r,a[e]);return n[i]=t[i],d(t.groupedRings,n)}))},t.transformRotate=si,t.transformScale=ui,t.transformTranslate=function(t,e,n,i){if(!M(i=i||{}))throw new Error("options is invalid");var r=i.units,o=i.zTranslation,a=i.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");if(o&&"number"!=typeof o&&isNaN(o))throw new Error("zTranslation is not a number");if(o=void 0!==o?o:0,0===e&&0===o)return t;if(null==n||isNaN(n))throw new Error("direction is required");return e<0&&(e=-e,n=-n),!1!==a&&void 0!==a||(t=Nt(t)),L(t,function(t){var i=V(Qn(t,e,n,{units:r}));t[0]=i[0],t[1]=i[1],o&&3===t.length&&(t[2]+=o)}),t},t.lineOffset=function(t,e,n){if(!M(n=n||{}))throw new Error("options is invalid");var i=n.units;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");var r=Q(t),o=t.properties;switch(r){case"LineString":return di(t,e,i);case"MultiLineString":var a=[];return N(t,function(t){a.push(di(t,e,i).geometry.coordinates)}),c(a,o);default:throw new Error("geometry "+r+" is not supported")}},t.polygonize=function(t){var e=xs.fromGeoJson(t);e.deleteDangles(),e.deleteCutEdges();var n=[],i=[];return e.getEdgeRings().filter(function(t){return t.isValid()}).forEach(function(t){t.isHole()?n.push(t):i.push(t)}),n.forEach(function(t){_s.findEdgeRingContaining(t,i)&&i.push(t)}),l(i.map(function(t){return t.toPolygon()}))},t.booleanDisjoint=function(t,e){var n;return N(t,function(t){N(e,function(e){if(!1===n)return!1;n=function(t,e){switch(t.type){case"Point":switch(e.type){case"Point":return!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t.coordinates,e.coordinates);case"LineString":return!mi(e,t);case"Polygon":return!Tt(t,e)}break;case"LineString":switch(e.type){case"Point":return!mi(t,e);case"LineString":return!function(t,e){return Qe(t,e).features.length>0}(t,e);case"Polygon":return!gi(e,t)}break;case"Polygon":switch(e.type){case"Point":return!Tt(e,t);case"LineString":return!gi(t,e);case"Polygon":return!function(t,e){for(var n=0;n<t.coordinates[0].length;n++)if(Tt(t.coordinates[0][n],e))return!0;for(var i=0;i<e.coordinates[0].length;i++)if(Tt(e.coordinates[0][i],t))return!0;return!1}(e,t)}}}(t.geometry,e.geometry)})}),n},t.booleanContains=function(t,e){var n=Q(t),i=Q(e),r=K(t),o=K(e),a=V(t),s=V(e);switch(n){case"Point":switch(i){case"Point":return vi(a,s);default:throw new Error("feature2 "+i+" geometry not supported")}case"MultiPoint":switch(i){case"Point":return function(t,e){var n,i=!1;for(n=0;n<t.coordinates.length;n++)if(vi(t.coordinates[n],e.coordinates)){i=!0;break}return i}(r,o);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++){for(var i=!1,r=0;r<t.coordinates.length;r++)if(vi(e.coordinates[n],t.coordinates[r])){i=!0;break}if(!i)return!1}return!0}(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}case"LineString":switch(i){case"Point":return bn(o,r,{ignoreEndVertices:!0});case"LineString":return function(t,e){for(var n=!1,i=0;i<e.coordinates.length;i++)if(bn({type:"Point",coordinates:e.coordinates[i]},t,{ignoreEndVertices:!0})&&(n=!0),!bn({type:"Point",coordinates:e.coordinates[i]},t,{ignoreEndVertices:!1}))return!1;return n}(r,o);case"MultiPoint":return function(t,e){for(var n=!1,i=0;i<e.coordinates.length;i++)if(bn(e.coordinates[i],t,{ignoreEndVertices:!0})&&(n=!0),!bn(e.coordinates[i],t))return!1;return!!n}(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}case"Polygon":switch(i){case"Point":return Tt(o,r,{ignoreBoundary:!0});case"LineString":return function(t,e){var n=!1,i=0;if(!yi(H(t),H(e)))return!1;for(;i<e.coordinates.length-1;i++)if(Tt({type:"Point",coordinates:function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(e.coordinates[i],e.coordinates[i+1])},t,{ignoreBoundary:!0})){n=!0;break}return n}(r,o);case"Polygon":return function(t,e){if(!yi(H(t),H(e)))return!1;for(var n=0;n<e.coordinates[0].length;n++)if(!Tt(e.coordinates[0][n],t))return!1;return!0}(r,o);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++)if(!Tt(e.coordinates[n],t,{ignoreBoundary:!0}))return!1;return!0}(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanCrosses=function(t,e){var n=Q(t),i=Q(e),r=K(t),o=K(e);switch(n){case"MultiPoint":switch(i){case"LineString":return _i(r,o);case"Polygon":return xi(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}case"LineString":switch(i){case"MultiPoint":return _i(o,r);case"LineString":return function(t,e){if(Qe(t,e).features.length>0)for(var n=0;n<t.coordinates.length-1;n++)for(var i=0;i<e.coordinates.length-1;i++){var r=!0;if(0!==i&&i!==e.coordinates.length-2||(r=!1),wi(t.coordinates[n],t.coordinates[n+1],e.coordinates[i],r))return!0}return!1}(r,o);case"Polygon":return bi(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}case"Polygon":switch(i){case"MultiPoint":return xi(o,r);case"LineString":return bi(o,r);default:throw new Error("feature2 "+i+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanClockwise=ti,t.booleanOverlap=Ei,t.booleanPointOnLine=bn,t.booleanEqual=function(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");return Q(t)===Q(e)&&new Es({precision:6}).compare(Zt(t),Zt(e))},t.booleanWithin=xn,t.clone=Nt,t.cleanCoords=Zt,t.clustersDbscan=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var i=n.minPoints,r=n.units;if(X(t,"Point","Input must contain Points"),null==e)throw new Error("maxDistance is required");if(!(Math.sign(e)>0))throw new Error("Invalid maxDistance");if(!(null==i||Math.sign(i)>0))throw new Error("Invalid minPoints");t=Nt(t),i=i||3;var o=new Ps.DBSCAN,a=-1;return o.run(O(t),x(e,r),i,Rt).forEach(function(e){a++,e.forEach(function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster=a,n.properties.dbscan="core"})}),o.noise.forEach(function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.dbscan=n.properties.cluster?"edge":"noise"}),t},t.clustersKmeans=function(t,e){if("object"!=typeof(e=e||{}))throw new Error("options is invalid");var n=e.numberOfClusters,i=e.mutate;X(t,"Point","Input must contain Points");var r=t.features.length;(n=n||Math.round(Math.sqrt(r/2)))>r&&(n=r),!1!==i&&void 0!==i||(t=Nt(t));var o=O(t),a=o.slice(0,n),s=function(t,e,n,i){var r=[],o=[],a=[],s=[],u=!1,l=1e4,c=t.length,h=t[0].length,d=h>0,f=[];if(n)r="kmrand"==n?function(t,e){for(var n={},i=[],r=e<<2,o=t.length,a=t[0].length>0;i.length<e&&r-- >0;){var s=t[Math.floor(Math.random()*o)],u=a?s.join("_"):""+s;n[u]||(n[u]=!0,i.push(s))}if(i.length<e)throw new Error("Error initializating clusters");return i}(t,e):"kmpp"==n?function(t,e){var n=t[0].length?Os:As,i=[],r=t.length,o=t[0].length>0,a=t[Math.floor(Math.random()*r)];for(o&&a.join("_"),i.push(a);i.length<e;){for(var s=[],u=i.length,l=0,c=[],h=0;h<r;h++){for(var d=1/0,f=0;f<u;f++){var p=n(t[h],i[f]);p<=d&&(d=p)}s[h]=d}for(var m=0;m<r;m++)l+=s[m];for(var g=0;g<r;g++)c[g]={i:g,v:t[g],pr:s[g]/l,cs:0};c.sort(function(t,e){return t.pr-e.pr}),c[0].cs=c[0].pr;for(var y=1;y<r;y++)c[y].cs=c[y-1].cs+c[y].pr;for(var v=Math.random(),_=0;_<r-1&&c[_++].cs<v;);i.push(c[_-1].v)}return i}(t,e):n;else for(var p={};r.length<e;){var m=Math.floor(Math.random()*c);p[m]||(p[m]=!0,r.push(t[m]))}do{Li(e,0,f);for(var g=0;g<c;g++){for(var y=1/0,v=0,_=0;_<e;_++)(s=d?Rs(t[g],r[_]):Math.abs(t[g]-r[_]))<=y&&(y=s,v=_);a[g]=v,f[v]++}for(var b=[],x=(o=[],0);x<e;x++)b[x]=d?Li(h,0,b[x]):0,o[x]=r[x];if(d){for(var w=0;w<e;w++)r[w]=[];for(var k=0;k<c;k++)for(var M=b[a[k]],S=t[k],E=0;E<h;E++)M[E]+=S[E];u=!0;for(var L=0;L<e;L++){for(var T=r[L],C=b[L],I=o[L],P=f[L],D=0;D<h;D++)T[D]=C[D]/P||0;if(u)for(var O=0;O<h;O++)if(I[O]!=T[O]){u=!1;break}}}else{for(var A=0;A<c;A++)b[a[A]]+=t[A];for(var R=0;R<e;R++)r[R]=b[R]/f[R]||0;u=!0;for(var N=0;N<e;N++)if(o[N]!=r[N]){u=!1;break}}u=u||--l<=0}while(!u);return{it:1e4-l,k:e,idxs:a,centroids:r}}(o,n,a),u={};return s.centroids.forEach(function(t,e){u[e]=t}),P(t,function(t,e){var n=s.idxs[e];t.properties.cluster=n,t.properties.centroid=u[n]}),t},t.pointToLineDistance=ln,t.booleanParallel=function(t,e){if(!t)throw new Error("line1 is required");if(!e)throw new Error("line2 is required");if("LineString"!==Ti(t,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==Ti(e,"line2"))throw new Error("line2 must be a LineString");for(var n=Ze(Zt(t)).features,i=Ze(Zt(e)).features,r=0;r<n.length;r++){var o=n[r].geometry.coordinates;if(!i[r])break;if(!function(t,e){return v(tn(t[0],t[1]))===v(tn(e[0],e[1]))}(o,i[r].geometry.coordinates))return!1}return!0},t.shortestPath=function(t,n,r){if(!M(r=r||{}))throw new Error("options is invalid");var o=r.resolution,a=r.minDistance,u=r.obstacles||l([]);if(!t)throw new Error("start is required");if(!n)throw new Error("end is required");if(o&&!k(o)||o<=0)throw new Error("options.resolution must be a number, greater than 0");if(a)throw new Error("options.minDistance is not yet implemented");var c=U(t),h=U(n);switch(t=i(c),n=i(h),Q(u)){case"FeatureCollection":if(0===u.features.length)return s([c,h]);break;case"Polygon":u=l([e(K(u))]);break;default:throw new Error("invalid obstacles")}var d=u;d.features.push(t),d.features.push(n);var f=H(ui(oe(H(d)),1.15));o||(o=Rt([f[0],f[1]],[f[2],f[1]],r)/100),d.features.pop(),d.features.pop();for(var p=f[0],m=f[1],g=f[2],y=f[3],v=o/Rt([p,m],[g,m],r)*(g-p),_=o/Rt([p,m],[p,y],r)*(y-m),b=g-p,x=y-m,w=(b-Math.floor(b/v)*v)/2,S=[],E=[],L=[],T=[],C=1/0,I=1/0,P=y-(x-Math.floor(x/_)*_)/2,D=0;P>=m;){for(var O=[],A=[],R=p+w,N=0;R<=g;){var F=i([R,P]),Y=function(t,e){for(var n=0;n<e.features.length;n++)if(Tt(t,e.features[n]))return!0;return!1}(F,u);O.push(Y?0:1),A.push(R+"|"+P);var z=Rt(F,t);!Y&&z<C&&(C=z,L={x:N,y:D});var j=Rt(F,n);!Y&&j<I&&(I=j,T={x:N,y:D}),R+=v,N++}E.push(O),S.push(A),P-=_,D++}var B=new Ii(E,{diagonal:!0}),V=[c];return Ns.search(B,B.grid[L.y][L.x],B.grid[T.y][T.x]).forEach(function(t){var e=S[t.x][t.y].split("|");V.push([+e[0],+e[1]])}),V.push(h),Zt(s(V))},t.voronoi=function(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var n=e.bbox||[-180,-85,180,85];if(!t)throw new Error("points is required");if(!Array.isArray(n))throw new Error("bbox is invalid");return X(t,"Point","points"),l(function(){function t(t){return new ir(t.map(function(i,r){var o=[Math.round(e(i,r,t)/qs)*qs,Math.round(n(i,r,t)/qs)*qs];return o.index=r,o.data=i,o}),i)}var e=Oi,n=Ai,i=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:Fs(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:Fs(+e),t):n},t.extent=function(e){return arguments.length?(i=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):i&&[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},t.size=function(e){return arguments.length?(i=null==e?null:[[0,0],[+e[0],+e[1]]],t):i&&[i[1][0]-i[0][0],i[1][1]-i[0][1]]},t}().x(function(t){return t.geometry.coordinates[0]}).y(function(t){return t.geometry.coordinates[1]}).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(t.features).map(rr))},t.ellipse=or,t.centerMean=sr,t.centerMedian=function(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var n=e.counter||10;if(!k(n))throw new Error("counter must be a number");var i=e.weight,r=sr(t,{weight:e.weight}),o=l([]);return P(t,function(t){o.features.push(de(t,{weight:t.properties[i]}))}),o.properties={tolerance:e.tolerance,medianCandidates:[]},ur(r.geometry.coordinates,[0,0],o,n)},t.standardDeviationalEllipse=function(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var n=e.steps||64,i=e.weight,r=e.properties||{};if(!k(n))throw new Error("steps must be a number");if(!M(r))throw new Error("properties must be a number");var o=O(t).length,a=sr(t,{weight:i}),s=0,u=0,c=0;P(t,function(t){var e=t.properties[i]||1,n=lr(V(t),V(a));s+=Math.pow(n.x,2)*e,u+=Math.pow(n.y,2)*e,c+=n.x*n.y*e});var h=s-u,d=Math.sqrt(Math.pow(h,2)+4*Math.pow(c,2)),f=Math.atan((h+d)/(2*c)),p=180*f/Math.PI,m=0,g=0,y=0;P(t,function(t){var e=t.properties[i]||1,n=lr(V(t),V(a));m+=Math.pow(n.x*Math.cos(f)-n.y*Math.sin(f),2)*e,g+=Math.pow(n.x*Math.sin(f)+n.y*Math.cos(f),2)*e,y+=e});var v=Math.sqrt(2*m/y),_=Math.sqrt(2*g/y),b=or(a,v,_,{units:"degrees",angle:p,steps:n,properties:r}),x=It(t,l([b])),w={meanCenterCoordinates:V(a),semiMajorAxis:v,semiMinorAxis:_,numberOfFeatures:o,angle:p,percentageWithinEllipse:100*O(x).length/o};return b.properties.standardDeviationalEllipse=w,b},t.difference=function(t,n){var i=K(t),r=K(n),o=t.properties||{};if(i=Fr(i),r=Fr(r),!i)return null;if(!r)return e(i,o);var a=new nc,s=a.read(i),u=a.read(r),l=of.difference(s,u);return l.isEmpty()?null:e((new ic).write(l),o)},t.buffer=function(t,e,n){var i=(n=n||{}).units,r=n.steps||64;if(!t)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof r)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(r<=0)throw new Error("steps must be greater than 0");r=r||64,i=i||"kilometers";var o=[];switch(t.type){case"GeometryCollection":return A(t,function(t){var n=mo(t,e,i,r);n&&o.push(n)}),l(o);case"FeatureCollection":return P(t,function(t){var n=mo(t,e,i,r);n&&P(n,function(t){t&&o.push(t)})}),l(o)}return mo(t,e,i,r)},t.union=bo,t.intersect=xo,t.dissolve=function(t,e){if(!M(e=e||{}))throw new Error("options is invalid");var n=e.propertyName;X(t,"Polygon","dissolve");var i=Nt(t),r=i.features,o=[];r.forEach(function(t,e){t.properties.origIndexPosition=e});var a=We();for(var u in a.load(i),r){var l=r[u],c=!1;if(a.search(l).features.forEach(function(t){l=r[u];var e=t.properties.origIndexPosition;if(o.length>0&&0!==e)if(e>o[o.length-1])e-=o.length;else{var i=wo(e,o);0!==i&&(e-=i)}if(e!==+u){var h=r[e];h&&l&&(void 0!==n&&h.properties[n]!==l.properties[n]||Ei(l,h)&&function(t,e){return Qe(s(O(t)),s(O(e))).features.length>0}(l,h)&&(r[u]=bo(l,h),o.push(t.properties.origIndexPosition),o.sort(function(t,e){return t-e}),a.remove(t),r.splice(e,1),l.properties.origIndexPosition=u,a.remove(l,function(t,e){return t.properties.origIndexPosition===e.properties.origIndexPosition}),c=!0))}}),c){if(!l)continue;l.properties.origIndexPosition=u,a.insert(l),u--}}return r.forEach(function(t){delete t.properties.origIndexPosition,delete t.bbox}),i},t.hexGrid=ko,t.mask=function(t,e){var n=function(t){return o(t&&t.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}(e),i=function(t){var e=[],n=[];return N(t,function(t){var i=t.geometry.coordinates,r=i[0],a=i.slice(1);e.push(o([r])),a.forEach(function(t){n.push(o([t]))})}),[l(e),l(n)]}(t),r=i[0],a=i[1];return function(t,e,n){var i=[];return i.push(t.geometry.coordinates[0]),N(e,function(t){i.push(t.geometry.coordinates[0])}),N(n,function(t){i.push(t.geometry.coordinates[0])}),o(i)}(n,r=Mo(r),a=Mo(a))},t.squareGrid=Eo,t.triangleGrid=Lo,t.interpolate=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var i=n.gridType,r=n.property,o=n.weight;if(!t)throw new Error("points is required");if(X(t,"Point","input must contain Points"),!e)throw new Error("cellSize is required");if(void 0!==o&&"number"!=typeof o)throw new Error("weight must be a number");r=r||"elevation",i=i||"square",o=o||1;var a,s=H(t);switch(i){case"point":case"points":a=Mn(s,e,n);break;case"square":case"squares":a=Eo(s,e,n);break;case"hex":case"hexes":a=ko(s,e,n);break;case"triangle":case"triangles":a=Lo(s,e,n);break;default:throw new Error("invalid gridType")}var u=[];return P(a,function(e){var a=0,s=0;P(t,function(t){var u,l=Rt("point"===i?e:de(e),t,n);if(void 0!==r&&(u=t.properties[r]),void 0===u&&(u=t.geometry.coordinates[2]),void 0===u)throw new Error("zValue is missing");0===l&&(a=u);var c=1/Math.pow(l,o);s+=c,a+=c*u});var l=Nt(e);l.properties[r]=a/s,u.push(l)}),l(u)},t.pointOnSurface=hn,t.polygonToLineString=Rn,t.lineStringToPolygon=Fn,t.inside=Tt,t.within=It,t.bezier=re,t.nearest=Pe,t.pointOnLine=$e,t.lineDistance=vn,t.radians2degrees=_,t.degrees2radians=b,t.distanceToDegrees=y,t.distanceToRadians=g,t.radiansToDistance=m,t.bearingToAngle=v,t.convertDistance=x,t.toMercator=rn,t.toWgs84=on,t.randomPosition=cr,t.randomPoint=hr,t.randomPolygon=dr,t.randomLineString=fr,t.getCluster=mr,t.clusterEach=gr,t.clusterReduce=yr,t.createBins=vr,t.applyFilter=_r,t.propertiesContainsFilter=br,t.filterProperties=xr,t.earthRadius=To,t.factors=Co,t.unitsFactors=Io,t.areaFactors=Po,t.feature=e,t.geometry=n,t.point=i,t.points=r,t.polygon=o,t.polygons=a,t.lineString=s,t.lineStrings=u,t.featureCollection=l,t.multiLineString=c,t.multiPoint=h,t.multiPolygon=d,t.geometryCollection=f,t.round=p,t.radiansToLength=m,t.lengthToRadians=g,t.lengthToDegrees=y,t.bearingToAzimuth=v,t.radiansToDegrees=_,t.degreesToRadians=b,t.convertLength=x,t.convertArea=w,t.isNumber=k,t.isObject=M,t.validateBBox=S,t.validateId=E,t.getCoord=U,t.getCoords=V,t.containsNumber=q,t.geojsonType=G,t.featureOf=W,t.collectionOf=X,t.getGeom=K,t.getGeomType=Z,t.getType=Q,t.coordEach=L,t.coordReduce=T,t.propEach=C,t.propReduce=I,t.featureEach=P,t.featureReduce=D,t.coordAll=O,t.geomEach=A,t.geomReduce=R,t.flattenEach=N,t.flattenReduce=F,t.segmentEach=Y,t.segmentReduce=z,t.lineEach=j,t.lineReduce=B,Object.defineProperty(t,"__esModule",{value:!0})}(e)},WYrj:function(t,e,n){!function(t){"use strict";var e=["\u0796\u07ac\u0782\u07aa\u0787\u07a6\u0783\u07a9","\u078a\u07ac\u0784\u07b0\u0783\u07aa\u0787\u07a6\u0783\u07a9","\u0789\u07a7\u0783\u07a8\u0797\u07aa","\u0787\u07ad\u0795\u07b0\u0783\u07a9\u078d\u07aa","\u0789\u07ad","\u0796\u07ab\u0782\u07b0","\u0796\u07aa\u078d\u07a6\u0787\u07a8","\u0787\u07af\u078e\u07a6\u0790\u07b0\u0793\u07aa","\u0790\u07ac\u0795\u07b0\u0793\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0787\u07ae\u0786\u07b0\u0793\u07af\u0784\u07a6\u0783\u07aa","\u0782\u07ae\u0788\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0791\u07a8\u0790\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa"],n=["\u0787\u07a7\u078b\u07a8\u0787\u07b0\u078c\u07a6","\u0780\u07af\u0789\u07a6","\u0787\u07a6\u0782\u07b0\u078e\u07a7\u0783\u07a6","\u0784\u07aa\u078b\u07a6","\u0784\u07aa\u0783\u07a7\u0790\u07b0\u078a\u07a6\u078c\u07a8","\u0780\u07aa\u0786\u07aa\u0783\u07aa","\u0780\u07ae\u0782\u07a8\u0780\u07a8\u0783\u07aa"];t.defineLocale("dv",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:"\u0787\u07a7\u078b\u07a8_\u0780\u07af\u0789\u07a6_\u0787\u07a6\u0782\u07b0_\u0784\u07aa\u078b\u07a6_\u0784\u07aa\u0783\u07a7_\u0780\u07aa\u0786\u07aa_\u0780\u07ae\u0782\u07a8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(t){return"\u0789\u078a"===t},meridiem:function(t,e,n){return t<12?"\u0789\u0786":"\u0789\u078a"},calendar:{sameDay:"[\u0789\u07a8\u0787\u07a6\u078b\u07aa] LT",nextDay:"[\u0789\u07a7\u078b\u07a6\u0789\u07a7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07a8\u0787\u07b0\u0794\u07ac] LT",lastWeek:"[\u078a\u07a7\u0787\u07a8\u078c\u07aa\u0788\u07a8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078c\u07ac\u0783\u07ad\u078e\u07a6\u0787\u07a8 %s",past:"\u0786\u07aa\u0783\u07a8\u0782\u07b0 %s",s:"\u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa\u0786\u07ae\u0785\u07ac\u0787\u07b0",ss:"d% \u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa",m:"\u0789\u07a8\u0782\u07a8\u0793\u07ac\u0787\u07b0",mm:"\u0789\u07a8\u0782\u07a8\u0793\u07aa %d",h:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07ac\u0787\u07b0",hh:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07aa %d",d:"\u078b\u07aa\u0788\u07a6\u0780\u07ac\u0787\u07b0",dd:"\u078b\u07aa\u0788\u07a6\u0790\u07b0 %d",M:"\u0789\u07a6\u0780\u07ac\u0787\u07b0",MM:"\u0789\u07a6\u0790\u07b0 %d",y:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0787\u07b0",yy:"\u0787\u07a6\u0780\u07a6\u0783\u07aa %d"},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"\u060c")},week:{dow:7,doy:12}})}(n("wd/R"))},Wv91:function(t,e,n){!function(t){"use strict";var e={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'\xfcnji",4:"'\xfcnji",100:"'\xfcnji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};t.defineLocale("tk",{months:"\xddanwar_Fewral_Mart_Aprel_Ma\xfd_I\xfdun_I\xfdul_Awgust_Sent\xfdabr_Okt\xfdabr_No\xfdabr_Dekabr".split("_"),monthsShort:"\xddan_Few_Mar_Apr_Ma\xfd_I\xfdn_I\xfdl_Awg_Sen_Okt_No\xfd_Dek".split("_"),weekdays:"\xddek\u015fenbe_Du\u015fenbe_Si\u015fenbe_\xc7ar\u015fenbe_Pen\u015fenbe_Anna_\u015eenbe".split("_"),weekdaysShort:"\xddek_Du\u015f_Si\u015f_\xc7ar_Pen_Ann_\u015een".split("_"),weekdaysMin:"\xddk_D\u015f_S\u015f_\xc7r_Pn_An_\u015en".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[d\xfc\xfdn] LT",lastWeek:"[ge\xe7en] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so\u0148",past:"%s \xf6\u0148",s:"birn\xe4\xe7e sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir a\xfd",MM:"%d a\xfd",y:"bir \xfdyl",yy:"%d \xfdyl"},ordinal:function(t,n){switch(n){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'unjy";var i=t%10;return t+(e[i]||e[t%100-i]||e[t>=100?100:null])}},week:{dow:1,doy:7}})}(n("wd/R"))},WxRl:function(t,e,n){!function(t){"use strict";var e="vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" ");function n(t,e,n,i){var r=t;switch(n){case"s":return i||e?"n\xe9h\xe1ny m\xe1sodperc":"n\xe9h\xe1ny m\xe1sodperce";case"ss":return r+(i||e)?" m\xe1sodperc":" m\xe1sodperce";case"m":return"egy"+(i||e?" perc":" perce");case"mm":return r+(i||e?" perc":" perce");case"h":return"egy"+(i||e?" \xf3ra":" \xf3r\xe1ja");case"hh":return r+(i||e?" \xf3ra":" \xf3r\xe1ja");case"d":return"egy"+(i||e?" nap":" napja");case"dd":return r+(i||e?" nap":" napja");case"M":return"egy"+(i||e?" h\xf3nap":" h\xf3napja");case"MM":return r+(i||e?" h\xf3nap":" h\xf3napja");case"y":return"egy"+(i||e?" \xe9v":" \xe9ve");case"yy":return r+(i||e?" \xe9v":" \xe9ve")}return""}function i(t){return(t?"":"[m\xfalt] ")+"["+e[this.day()]+"] LT[-kor]"}t.defineLocale("hu",{months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan._feb._m\xe1rc._\xe1pr._m\xe1j._j\xfan._j\xfal._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(t){return"u"===t.charAt(1).toLowerCase()},meridiem:function(t,e,n){return t<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return i.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return i.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xfalva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},X709:function(t,e,n){!function(t){"use strict";t.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?":e":1===e||2===e?":a":":e")},week:{dow:1,doy:4}})}(n("wd/R"))},XDpg:function(t,e,n){!function(t){"use strict";t.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u51cc\u6668"===e||"\u65e9\u4e0a"===e||"\u4e0a\u5348"===e?t:"\u4e0b\u5348"===e||"\u665a\u4e0a"===e?t+12:t>=11?t:t+12},meridiem:function(t,e,n){var i=100*t+e;return i<600?"\u51cc\u6668":i<900?"\u65e9\u4e0a":i<1130?"\u4e0a\u5348":i<1230?"\u4e2d\u5348":i<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:function(t){return t.week()!==this.week()?"[\u4e0b]dddLT":"[\u672c]dddLT"},lastDay:"[\u6628\u5929]LT",lastWeek:function(t){return this.week()!==t.week()?"[\u4e0a]dddLT":"[\u672c]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"\u65e5";case"M":return t+"\u6708";case"w":case"W":return t+"\u5468";default:return t}},relativeTime:{future:"%s\u540e",past:"%s\u524d",s:"\u51e0\u79d2",ss:"%d \u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",w:"1 \u5468",ww:"%d \u5468",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}})}(n("wd/R"))},XLvN:function(t,e,n){!function(t){"use strict";t.defineLocale("te",{months:"\u0c1c\u0c28\u0c35\u0c30\u0c3f_\u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f_\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d_\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41_\u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d_\u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d_\u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d_\u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split("_"),monthsShort:"\u0c1c\u0c28._\u0c2b\u0c3f\u0c2c\u0c4d\u0c30._\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f._\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17._\u0c38\u0c46\u0c2a\u0c4d._\u0c05\u0c15\u0c4d\u0c1f\u0c4b._\u0c28\u0c35._\u0c21\u0c3f\u0c38\u0c46.".split("_"),monthsParseExact:!0,weekdays:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02_\u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02_\u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02_\u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02_\u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split("_"),weekdaysShort:"\u0c06\u0c26\u0c3f_\u0c38\u0c4b\u0c2e_\u0c2e\u0c02\u0c17\u0c33_\u0c2c\u0c41\u0c27_\u0c17\u0c41\u0c30\u0c41_\u0c36\u0c41\u0c15\u0c4d\u0c30_\u0c36\u0c28\u0c3f".split("_"),weekdaysMin:"\u0c06_\u0c38\u0c4b_\u0c2e\u0c02_\u0c2c\u0c41_\u0c17\u0c41_\u0c36\u0c41_\u0c36".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c28\u0c47\u0c21\u0c41] LT",nextDay:"[\u0c30\u0c47\u0c2a\u0c41] LT",nextWeek:"dddd, LT",lastDay:"[\u0c28\u0c3f\u0c28\u0c4d\u0c28] LT",lastWeek:"[\u0c17\u0c24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0c32\u0c4b",past:"%s \u0c15\u0c4d\u0c30\u0c3f\u0c24\u0c02",s:"\u0c15\u0c4a\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c4d\u0c37\u0c23\u0c3e\u0c32\u0c41",ss:"%d \u0c38\u0c46\u0c15\u0c28\u0c4d\u0c32\u0c41",m:"\u0c12\u0c15 \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c02",mm:"%d \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c3e\u0c32\u0c41",h:"\u0c12\u0c15 \u0c17\u0c02\u0c1f",hh:"%d \u0c17\u0c02\u0c1f\u0c32\u0c41",d:"\u0c12\u0c15 \u0c30\u0c4b\u0c1c\u0c41",dd:"%d \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41",M:"\u0c12\u0c15 \u0c28\u0c46\u0c32",MM:"%d \u0c28\u0c46\u0c32\u0c32\u0c41",y:"\u0c12\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02",yy:"%d \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0c35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"===e?t<4?t:t+12:"\u0c09\u0c26\u0c2f\u0c02"===e?t:"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02"===e?t>=10?t:t+12:"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f":t<10?"\u0c09\u0c26\u0c2f\u0c02":t<17?"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02":t<20?"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02":"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"},week:{dow:0,doy:6}})}(n("wd/R"))},YRex:function(t,e,n){!function(t){"use strict";t.defineLocale("ug-cn",{months:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),monthsShort:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),weekdays:"\u064a\u06d5\u0643\u0634\u06d5\u0646\u0628\u06d5_\u062f\u06c8\u0634\u06d5\u0646\u0628\u06d5_\u0633\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u0686\u0627\u0631\u0634\u06d5\u0646\u0628\u06d5_\u067e\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u062c\u06c8\u0645\u06d5_\u0634\u06d5\u0646\u0628\u06d5".split("_"),weekdaysShort:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),weekdaysMin:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649",LLL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm",LLLL:"dddd\u060c YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5"===e||"\u0633\u06d5\u06be\u06d5\u0631"===e||"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646"===e?t:"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646"===e||"\u0643\u06d5\u0686"===e?t+12:t>=11?t:t+12},meridiem:function(t,e,n){var i=100*t+e;return i<600?"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5":i<900?"\u0633\u06d5\u06be\u06d5\u0631":i<1130?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646":i<1230?"\u0686\u06c8\u0634":i<1800?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646":"\u0643\u06d5\u0686"},calendar:{sameDay:"[\u0628\u06c8\u06af\u06c8\u0646 \u0633\u0627\u0626\u06d5\u062a] LT",nextDay:"[\u0626\u06d5\u062a\u06d5 \u0633\u0627\u0626\u06d5\u062a] LT",nextWeek:"[\u0643\u06d0\u0644\u06d5\u0631\u0643\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",lastDay:"[\u062a\u06c6\u0646\u06c8\u06af\u06c8\u0646] LT",lastWeek:"[\u0626\u0627\u0644\u062f\u0649\u0646\u0642\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0643\u06d0\u064a\u0649\u0646",past:"%s \u0628\u06c7\u0631\u06c7\u0646",s:"\u0646\u06d5\u0686\u0686\u06d5 \u0633\u06d0\u0643\u0648\u0646\u062a",ss:"%d \u0633\u06d0\u0643\u0648\u0646\u062a",m:"\u0628\u0649\u0631 \u0645\u0649\u0646\u06c7\u062a",mm:"%d \u0645\u0649\u0646\u06c7\u062a",h:"\u0628\u0649\u0631 \u0633\u0627\u0626\u06d5\u062a",hh:"%d \u0633\u0627\u0626\u06d5\u062a",d:"\u0628\u0649\u0631 \u0643\u06c8\u0646",dd:"%d \u0643\u06c8\u0646",M:"\u0628\u0649\u0631 \u0626\u0627\u064a",MM:"%d \u0626\u0627\u064a",y:"\u0628\u0649\u0631 \u064a\u0649\u0644",yy:"%d \u064a\u0649\u0644"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"-\u0643\u06c8\u0646\u0649";case"w":case"W":return t+"-\u06be\u06d5\u067e\u062a\u06d5";default:return t}},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"\u060c")},week:{dow:1,doy:7}})}(n("wd/R"))},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},Z4QM:function(t,e,n){!function(t){"use strict";var e=["\u062c\u0646\u0648\u0631\u064a","\u0641\u064a\u0628\u0631\u0648\u0631\u064a","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u064a\u0644","\u0645\u0626\u064a","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0621\u0650","\u0622\u06af\u0633\u067d","\u0633\u064a\u067e\u067d\u0645\u0628\u0631","\u0622\u06aa\u067d\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u068a\u0633\u0645\u0628\u0631"],n=["\u0622\u0686\u0631","\u0633\u0648\u0645\u0631","\u0627\u06b1\u0627\u0631\u0648","\u0627\u0631\u0628\u0639","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639","\u0687\u0646\u0687\u0631"];t.defineLocale("sd",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(t){return"\u0634\u0627\u0645"===t},meridiem:function(t,e,n){return t<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0627\u0684] LT",nextDay:"[\u0633\u0680\u0627\u06bb\u064a] LT",nextWeek:"dddd [\u0627\u06b3\u064a\u0646 \u0647\u0641\u062a\u064a \u062a\u064a] LT",lastDay:"[\u06aa\u0627\u0644\u0647\u0647] LT",lastWeek:"[\u06af\u0632\u0631\u064a\u0644 \u0647\u0641\u062a\u064a] dddd [\u062a\u064a] LT",sameElse:"L"},relativeTime:{future:"%s \u067e\u0648\u0621",past:"%s \u0627\u06b3",s:"\u0686\u0646\u062f \u0633\u064a\u06aa\u0646\u068a",ss:"%d \u0633\u064a\u06aa\u0646\u068a",m:"\u0647\u06aa \u0645\u0646\u067d",mm:"%d \u0645\u0646\u067d",h:"\u0647\u06aa \u06aa\u0644\u0627\u06aa",hh:"%d \u06aa\u0644\u0627\u06aa",d:"\u0647\u06aa \u068f\u064a\u0646\u0647\u0646",dd:"%d \u068f\u064a\u0646\u0647\u0646",M:"\u0647\u06aa \u0645\u0647\u064a\u0646\u0648",MM:"%d \u0645\u0647\u064a\u0646\u0627",y:"\u0647\u06aa \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(n("wd/R"))},ZAMP:function(t,e,n){!function(t){"use strict";t.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n("wd/R"))},Zduo:function(t,e,n){!function(t){"use strict";t.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_a\u016dgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_a\u016dg_sept_okt_nov_dec".split("_"),weekdays:"diman\u0109o_lundo_mardo_merkredo_\u0135a\u016ddo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_\u0135a\u016d_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_\u0135a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(t){return"p"===t.charAt(0).toLowerCase()},meridiem:function(t,e,n){return t>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016d je] LT",nextDay:"[Morga\u016d je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera\u016d je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta\u016d %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(n("wd/R"))},aIdf:function(t,e,n){!function(t){"use strict";function e(t,e,n){return t+" "+function(t,e){return 2===e?function(t){var e={m:"v",b:"v",d:"z"};return void 0===e[t.charAt(0)]?t:e[t.charAt(0)]+t.substring(1)}(t):t}({mm:"munutenn",MM:"miz",dd:"devezh"}[n],t)}function n(t){return t>9?n(t%10):t}var i=[/^gen/i,/^c[\u02bc\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],r=/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,o=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];t.defineLocale("br",{months:"Genver_C\u02bchwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C\u02bchwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc\u02bcher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:o,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\u02bc\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:o,monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc\u02bchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec\u02bch da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s \u02bczo",s:"un nebeud segondenno\xf9",ss:"%d eilenn",m:"ur vunutenn",mm:e,h:"un eur",hh:"%d eur",d:"un devezh",dd:e,M:"ur miz",MM:e,y:"ur bloaz",yy:function(t){switch(n(t)){case 1:case 3:case 4:case 5:case 9:return t+" bloaz";default:return t+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(t){return t+(1===t?"a\xf1":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(t){return"g.m."===t},meridiem:function(t,e,n){return t<12?"a.m.":"g.m."}})}(n("wd/R"))},aIsn:function(t,e,n){!function(t){"use strict";t.defineLocale("mi",{months:"Kohi-t\u0101te_Hui-tanguru_Pout\u016b-te-rangi_Paenga-wh\u0101wh\u0101_Haratua_Pipiri_H\u014dngoingoi_Here-turi-k\u014dk\u0101_Mahuru_Whiringa-\u0101-nuku_Whiringa-\u0101-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_H\u014dngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"R\u0101tapu_Mane_T\u016brei_Wenerei_T\u0101ite_Paraire_H\u0101tarei".split("_"),weekdaysShort:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),weekdaysMin:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te h\u0113kona ruarua",ss:"%d h\u0113kona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n("wd/R"))},aQkU:function(t,e,n){!function(t){"use strict";t.defineLocale("mk",{months:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d\u0438_\u0458\u0443\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u0458\u0430\u043d_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a_\u043f\u0435\u0442\u043e\u043a_\u0441\u0430\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u0430\u0431".split("_"),weekdaysMin:"\u043de_\u043fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043d\u0435\u0441 \u0432\u043e] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043e] LT",nextWeek:"[\u0412\u043e] dddd [\u0432\u043e] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043e] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043e] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0438\u043e\u0442] dddd [\u0432\u043e] LT"}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435\u0434 %s",s:"\u043d\u0435\u043a\u043e\u043b\u043a\u0443 \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u0435\u0434\u043d\u0430 \u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0435\u0434\u0435\u043d \u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0435\u0434\u0435\u043d \u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u0435\u0434\u0435\u043d \u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0438",y:"\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-\u0435\u0432":0===n?t+"-\u0435\u043d":n>10&&n<20?t+"-\u0442\u0438":1===e?t+"-\u0432\u0438":2===e?t+"-\u0440\u0438":7===e||8===e?t+"-\u043c\u0438":t+"-\u0442\u0438"},week:{dow:1,doy:7}})}(n("wd/R"))},b1Dy:function(t,e,n){!function(t){"use strict";t.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n("wd/R"))},bOMt:function(t,e,n){!function(t){"use strict";t.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},bXm7:function(t,e,n){!function(t){"use strict";var e={0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044b",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044b",10:"-\u0448\u044b",20:"-\u0448\u044b",30:"-\u0448\u044b",40:"-\u0448\u044b",50:"-\u0448\u0456",60:"-\u0448\u044b",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044b",100:"-\u0448\u0456"};t.defineLocale("kk",{months:"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),monthsShort:"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),weekdays:"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),weekdaysShort:"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),weekdaysMin:"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u0456\u043d \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04a3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u0435\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u04a3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043d\u0434\u0435",past:"%s \u0431\u04b1\u0440\u044b\u043d",s:"\u0431\u0456\u0440\u043d\u0435\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0456\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(n("wd/R"))},bYM6:function(t,e,n){!function(t){"use strict";t.defineLocale("ar-tn",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(n("wd/R"))},bpih:function(t,e,n){!function(t){"use strict";t.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n("wd/R"))},bxKX:function(t,e,n){!function(t){"use strict";t.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n("wd/R"))},cRix:function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");t.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xf4fr\xfbne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien min\xfat",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n("wd/R"))},crnd:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},czMo:function(t,e,n){!function(t){"use strict";t.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})}(n("wd/R"))},dNwA:function(t,e,n){!function(t){"use strict";t.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(n("wd/R"))},"e+ae":function(t,e,n){!function(t){"use strict";var e="janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),n="jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_");function i(t){return t>1&&t<5}function r(t,e,n,r){var o=t+" ";switch(n){case"s":return e||r?"p\xe1r sek\xfand":"p\xe1r sekundami";case"ss":return e||r?o+(i(t)?"sekundy":"sek\xfand"):o+"sekundami";case"m":return e?"min\xfata":r?"min\xfatu":"min\xfatou";case"mm":return e||r?o+(i(t)?"min\xfaty":"min\xfat"):o+"min\xfatami";case"h":return e?"hodina":r?"hodinu":"hodinou";case"hh":return e||r?o+(i(t)?"hodiny":"hod\xedn"):o+"hodinami";case"d":return e||r?"de\u0148":"d\u0148om";case"dd":return e||r?o+(i(t)?"dni":"dn\xed"):o+"d\u0148ami";case"M":return e||r?"mesiac":"mesiacom";case"MM":return e||r?o+(i(t)?"mesiace":"mesiacov"):o+"mesiacmi";case"y":return e||r?"rok":"rokom";case"yy":return e||r?o+(i(t)?"roky":"rokov"):o+"rokmi"}}t.defineLocale("sk",{months:e,monthsShort:n,weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v\u010dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xfa nede\u013eu o] LT";case 1:case 2:return"[minul\xfd] dddd [o] LT";case 3:return"[minul\xfa stredu o] LT";case 4:case 5:return"[minul\xfd] dddd [o] LT";case 6:return"[minul\xfa sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},fzPg:function(t,e,n){!function(t){"use strict";t.defineLocale("yo",{months:"S\u1eb9\u0301r\u1eb9\u0301_E\u0300re\u0300le\u0300_\u1eb8r\u1eb9\u0300na\u0300_I\u0300gbe\u0301_E\u0300bibi_O\u0300ku\u0300du_Ag\u1eb9mo_O\u0300gu\u0301n_Owewe_\u1ecc\u0300wa\u0300ra\u0300_Be\u0301lu\u0301_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),monthsShort:"S\u1eb9\u0301r_E\u0300rl_\u1eb8rn_I\u0300gb_E\u0300bi_O\u0300ku\u0300_Ag\u1eb9_O\u0300gu\u0301_Owe_\u1ecc\u0300wa\u0300_Be\u0301l_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),weekdays:"A\u0300i\u0300ku\u0301_Aje\u0301_I\u0300s\u1eb9\u0301gun_\u1eccj\u1ecd\u0301ru\u0301_\u1eccj\u1ecd\u0301b\u1ecd_\u1eb8ti\u0300_A\u0300ba\u0301m\u1eb9\u0301ta".split("_"),weekdaysShort:"A\u0300i\u0300k_Aje\u0301_I\u0300s\u1eb9\u0301_\u1eccjr_\u1eccjb_\u1eb8ti\u0300_A\u0300ba\u0301".split("_"),weekdaysMin:"A\u0300i\u0300_Aj_I\u0300s_\u1eccr_\u1eccb_\u1eb8t_A\u0300b".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[O\u0300ni\u0300 ni] LT",nextDay:"[\u1ecc\u0300la ni] LT",nextWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301n'b\u1ecd] [ni] LT",lastDay:"[A\u0300na ni] LT",lastWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301l\u1ecd\u0301] [ni] LT",sameElse:"L"},relativeTime:{future:"ni\u0301 %s",past:"%s k\u1ecdja\u0301",s:"i\u0300s\u1eb9ju\u0301 aaya\u0301 die",ss:"aaya\u0301 %d",m:"i\u0300s\u1eb9ju\u0301 kan",mm:"i\u0300s\u1eb9ju\u0301 %d",h:"wa\u0301kati kan",hh:"wa\u0301kati %d",d:"\u1ecdj\u1ecd\u0301 kan",dd:"\u1ecdj\u1ecd\u0301 %d",M:"osu\u0300 kan",MM:"osu\u0300 %d",y:"\u1ecddu\u0301n kan",yy:"\u1ecddu\u0301n %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"\u1ecdj\u1ecd\u0301 %d",week:{dow:1,doy:4}})}(n("wd/R"))},gVVK:function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r=t+" ";switch(n){case"s":return e||i?"nekaj sekund":"nekaj sekundami";case"ss":return r+(1===t?e?"sekundo":"sekundi":2===t?e||i?"sekundi":"sekundah":t<5?e||i?"sekunde":"sekundah":"sekund");case"m":return e?"ena minuta":"eno minuto";case"mm":return r+(1===t?e?"minuta":"minuto":2===t?e||i?"minuti":"minutama":t<5?e||i?"minute":"minutami":e||i?"minut":"minutami");case"h":return e?"ena ura":"eno uro";case"hh":return r+(1===t?e?"ura":"uro":2===t?e||i?"uri":"urama":t<5?e||i?"ure":"urami":e||i?"ur":"urami");case"d":return e||i?"en dan":"enim dnem";case"dd":return r+(1===t?e||i?"dan":"dnem":2===t?e||i?"dni":"dnevoma":e||i?"dni":"dnevi");case"M":return e||i?"en mesec":"enim mesecem";case"MM":return r+(1===t?e||i?"mesec":"mesecem":2===t?e||i?"meseca":"mesecema":t<5?e||i?"mesece":"meseci":e||i?"mesecev":"meseci");case"y":return e||i?"eno leto":"enim letom";case"yy":return r+(1===t?e||i?"leto":"letom":2===t?e||i?"leti":"letoma":t<5?e||i?"leta":"leti":e||i?"let":"leti")}}t.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[v\u010deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n("wd/R"))},gekB:function(t,e,n){!function(t){"use strict";var e="nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),n=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",e[7],e[8],e[9]];function i(t,i,r,o){var a="";switch(r){case"s":return o?"muutaman sekunnin":"muutama sekunti";case"ss":a=o?"sekunnin":"sekuntia";break;case"m":return o?"minuutin":"minuutti";case"mm":a=o?"minuutin":"minuuttia";break;case"h":return o?"tunnin":"tunti";case"hh":a=o?"tunnin":"tuntia";break;case"d":return o?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":a=o?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return o?"kuukauden":"kuukausi";case"MM":a=o?"kuukauden":"kuukautta";break;case"y":return o?"vuoden":"vuosi";case"yy":a=o?"vuoden":"vuotta"}return function(t,i){return t<10?i?n[t]:e[t]:t}(t,o)+" "+a}t.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},gjCT:function(t,e,n){!function(t){"use strict";var e={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},n={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"};t.defineLocale("ar-sa",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return"\u0645"===t},meridiem:function(t,e,n){return t<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(t){return t.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(t){return n[t]}).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"\u060c")},week:{dow:0,doy:6}})}(n("wd/R"))},hKrs:function(t,e,n){!function(t){"use strict";t.defineLocale("bg",{months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0443_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043d\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u041c\u0438\u043d\u0430\u043b\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u041c\u0438\u043d\u0430\u043b\u0438\u044f] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",w:"\u0441\u0435\u0434\u043c\u0438\u0446\u0430",ww:"%d \u0441\u0435\u0434\u043c\u0438\u0446\u0438",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-\u0435\u0432":0===n?t+"-\u0435\u043d":n>10&&n<20?t+"-\u0442\u0438":1===e?t+"-\u0432\u0438":2===e?t+"-\u0440\u0438":7===e||8===e?t+"-\u043c\u0438":t+"-\u0442\u0438"},week:{dow:1,doy:7}})}(n("wd/R"))},honF:function(t,e,n){!function(t){"use strict";var e={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},n={"\u1041":"1","\u1042":"2","\u1043":"3","\u1044":"4","\u1045":"5","\u1046":"6","\u1047":"7","\u1048":"8","\u1049":"9","\u1040":"0"};t.defineLocale("my",{months:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e_\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e_\u1019\u1010\u103a_\u1027\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u1007\u1030\u101c\u102d\u102f\u1004\u103a_\u101e\u103c\u1002\u102f\u1010\u103a_\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c_\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c_\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c_\u1012\u102e\u1007\u1004\u103a\u1018\u102c".split("_"),monthsShort:"\u1007\u1014\u103a_\u1016\u1031_\u1019\u1010\u103a_\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u101c\u102d\u102f\u1004\u103a_\u101e\u103c_\u1005\u1000\u103a_\u1021\u1031\u102c\u1000\u103a_\u1014\u102d\u102f_\u1012\u102e".split("_"),weekdays:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031_\u1010\u1014\u1004\u103a\u1039\u101c\u102c_\u1021\u1004\u103a\u1039\u1002\u102b_\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038_\u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038_\u101e\u1031\u102c\u1000\u103c\u102c_\u1005\u1014\u1031".split("_"),weekdaysShort:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),weekdaysMin:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101a\u1014\u1031.] LT [\u1019\u103e\u102c]",nextDay:"[\u1019\u1014\u1000\u103a\u1016\u103c\u1014\u103a] LT [\u1019\u103e\u102c]",nextWeek:"dddd LT [\u1019\u103e\u102c]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103e\u102c]",lastWeek:"[\u1015\u103c\u102e\u1038\u1001\u1032\u1037\u101e\u1031\u102c] dddd LT [\u1019\u103e\u102c]",sameElse:"L"},relativeTime:{future:"\u101c\u102c\u1019\u100a\u103a\u1037 %s \u1019\u103e\u102c",past:"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103a.\u1021\u1014\u100a\u103a\u1038\u1004\u101a\u103a",ss:"%d \u1005\u1000\u1039\u1000\u1014\u1037\u103a",m:"\u1010\u1005\u103a\u1019\u102d\u1014\u1005\u103a",mm:"%d \u1019\u102d\u1014\u1005\u103a",h:"\u1010\u1005\u103a\u1014\u102c\u101b\u102e",hh:"%d \u1014\u102c\u101b\u102e",d:"\u1010\u1005\u103a\u101b\u1000\u103a",dd:"%d \u101b\u1000\u103a",M:"\u1010\u1005\u103a\u101c",MM:"%d \u101c",y:"\u1010\u1005\u103a\u1014\u103e\u1005\u103a",yy:"%d \u1014\u103e\u1005\u103a"},preparse:function(t){return t.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},week:{dow:1,doy:4}})}(n("wd/R"))},iEDd:function(t,e,n){!function(t){"use strict";t.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextDay:function(){return"[ma\xf1\xe1 "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"\xe1s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"\xe1":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"\xe1s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(t){return 0===t.indexOf("un")?"n"+t:"en "+t},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n("wd/R"))},iYuL:function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4},invalidDate:"Fecha inv\xe1lida"})}(n("wd/R"))},jUeY:function(t,e,n){!function(t){"use strict";t.defineLocale("el",{monthsNominativeEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsGenitiveEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5_\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5_\u039c\u03b1\u0390\u03bf\u03c5_\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5_\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5_\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5_\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5_\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split("_"),months:function(t,e){return t?"string"==typeof e&&/D/.test(e.substring(0,e.indexOf("MMMM")))?this._monthsGenitiveEl[t.month()]:this._monthsNominativeEl[t.month()]:this._monthsNominativeEl},monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03ca_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),meridiem:function(t,e,n){return t>11?n?"\u03bc\u03bc":"\u039c\u039c":n?"\u03c0\u03bc":"\u03a0\u039c"},isPM:function(t){return"\u03bc"===(t+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 {}] LT",nextDay:"[\u0391\u03cd\u03c1\u03b9\u03bf {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03a7\u03b8\u03b5\u03c2 {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[\u03c4\u03bf \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf] dddd [{}] LT";default:return"[\u03c4\u03b7\u03bd \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7] dddd [{}] LT"}},sameElse:"L"},calendar:function(t,e){var n,i=this._calendarEl[t],r=e&&e.hours();return n=i,("undefined"!=typeof Function&&n instanceof Function||"[object Function]"===Object.prototype.toString.call(n))&&(i=i.apply(e)),i.replace("{}",r%12==1?"\u03c3\u03c4\u03b7":"\u03c3\u03c4\u03b9\u03c2")},relativeTime:{future:"\u03c3\u03b5 %s",past:"%s \u03c0\u03c1\u03b9\u03bd",s:"\u03bb\u03af\u03b3\u03b1 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",ss:"%d \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1\u03c2 \u03bc\u03ae\u03bd\u03b1\u03c2",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1\u03c2 \u03c7\u03c1\u03cc\u03bd\u03bf\u03c2",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03b7",week:{dow:1,doy:4}})}(n("wd/R"))},jVdC:function(t,e,n){!function(t){"use strict";var e="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),i=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa\u017a/i,/^lis/i,/^gru/i];function r(t){return t%10<5&&t%10>1&&~~(t/10)%10!=1}function o(t,e,n){var i=t+" ";switch(n){case"ss":return i+(r(t)?"sekundy":"sekund");case"m":return e?"minuta":"minut\u0119";case"mm":return i+(r(t)?"minuty":"minut");case"h":return e?"godzina":"godzin\u0119";case"hh":return i+(r(t)?"godziny":"godzin");case"ww":return i+(r(t)?"tygodnie":"tygodni");case"MM":return i+(r(t)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return i+(r(t)?"lata":"lat")}}t.defineLocale("pl",{months:function(t,i){return t?/D MMMM/.test(i)?n[t.month()]:e[t.month()]:e},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015b o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel\u0119 o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W \u015brod\u0119 o] LT";case 6:return"[W sobot\u0119 o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:o,m:o,mm:o,h:o,hh:o,d:"1 dzie\u0144",dd:"%d dni",w:"tydzie\u0144",ww:o,M:"miesi\u0105c",MM:o,y:"rok",yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},jfSC:function(t,e,n){!function(t){"use strict";var e={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},n={"\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u06f0":"0"};t.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(t){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(t)},meridiem:function(t,e,n){return t<12?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",nextDay:"[\u0641\u0631\u062f\u0627 \u0633\u0627\u0639\u062a] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062a] LT",lastDay:"[\u062f\u06cc\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",lastWeek:"dddd [\u067e\u06cc\u0634] [\u0633\u0627\u0639\u062a] LT",sameElse:"L"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",ss:"%d \u062b\u0627\u0646\u06cc\u0647",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(t){return t.replace(/[\u06f0-\u06f9]/g,function(t){return n[t]}).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"\u060c")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}})}(n("wd/R"))},jnO4:function(t,e,n){!function(t){"use strict";var e={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},n={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},i=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},r={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},o=function(t){return function(e,n,o,a){var s=i(e),u=r[t][i(e)];return 2===s&&(u=u[n?0:1]),u.replace(/%d/i,e)}},a=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];t.defineLocale("ar",{months:a,monthsShort:a,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return"\u0645"===t},meridiem:function(t,e,n){return t<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:o("s"),ss:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(t){return t.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(t){return n[t]}).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(n("wd/R"))},kEOa:function(t,e,n){!function(t){"use strict";var e={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},n={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};t.defineLocale("bn",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(t){return t.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u09b0\u09be\u09a4"===e&&t>=4||"\u09a6\u09c1\u09aa\u09c1\u09b0"===e&&t<5||"\u09ac\u09bf\u0995\u09be\u09b2"===e?t+12:t},meridiem:function(t,e,n){return t<4?"\u09b0\u09be\u09a4":t<10?"\u09b8\u0995\u09be\u09b2":t<17?"\u09a6\u09c1\u09aa\u09c1\u09b0":t<20?"\u09ac\u09bf\u0995\u09be\u09b2":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(n("wd/R"))},kOpN:function(t,e,n){!function(t){"use strict";t.defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u51cc\u6668"===e||"\u65e9\u4e0a"===e||"\u4e0a\u5348"===e?t:"\u4e2d\u5348"===e?t>=11?t:t+12:"\u4e0b\u5348"===e||"\u665a\u4e0a"===e?t+12:void 0},meridiem:function(t,e,n){var i=100*t+e;return i<600?"\u51cc\u6668":i<900?"\u65e9\u4e0a":i<1130?"\u4e0a\u5348":i<1230?"\u4e2d\u5348":i<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"\u65e5";case"M":return t+"\u6708";case"w":case"W":return t+"\u9031";default:return t}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(n("wd/R"))},l5ep:function(t,e,n){!function(t){"use strict";t.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xf4l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(t){var e="";return t>20?e=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(e=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][t]),t+e},week:{dow:1,doy:4}})}(n("wd/R"))},lXzo:function(t,e,n){!function(t){"use strict";function e(t,e,n){return"m"===n?e?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":t+" "+(i=+t,r={ss:e?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:e?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",ww:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043d\u0435\u0434\u0435\u043b\u0438_\u043d\u0435\u0434\u0435\u043b\u044c",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[n].split("_"),i%10==1&&i%100!=11?r[0]:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?r[1]:r[2]);var i,r}var n=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];t.defineLocale("ru",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_")},monthsShort:{format:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),standalone:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_")},weekdays:{standalone:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),format:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?] ?dddd/},weekdaysShort:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e] dddd, [\u0432] LT"}},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd, [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",ss:e,m:e,mm:e,h:"\u0447\u0430\u0441",hh:e,d:"\u0434\u0435\u043d\u044c",dd:e,w:"\u043d\u0435\u0434\u0435\u043b\u044f",ww:e,M:"\u043c\u0435\u0441\u044f\u0446",MM:e,y:"\u0433\u043e\u0434",yy:e},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(t){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(t)},meridiem:function(t,e,n){return t<4?"\u043d\u043e\u0447\u0438":t<12?"\u0443\u0442\u0440\u0430":t<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-\u0439";case"D":return t+"-\u0433\u043e";case"w":case"W":return t+"-\u044f";default:return t}},week:{dow:1,doy:4}})}(n("wd/R"))},lYtQ:function(t,e,n){!function(t){"use strict";function e(t,e,n,i){switch(n){case"s":return e?"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434":"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d";case"ss":return t+(e?" \u0441\u0435\u043a\u0443\u043d\u0434":" \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d");case"m":case"mm":return t+(e?" \u043c\u0438\u043d\u0443\u0442":" \u043c\u0438\u043d\u0443\u0442\u044b\u043d");case"h":case"hh":return t+(e?" \u0446\u0430\u0433":" \u0446\u0430\u0433\u0438\u0439\u043d");case"d":case"dd":return t+(e?" \u04e9\u0434\u04e9\u0440":" \u04e9\u0434\u0440\u0438\u0439\u043d");case"M":case"MM":return t+(e?" \u0441\u0430\u0440":" \u0441\u0430\u0440\u044b\u043d");case"y":case"yy":return t+(e?" \u0436\u0438\u043b":" \u0436\u0438\u043b\u0438\u0439\u043d");default:return t}}t.defineLocale("mn",{months:"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),monthsShort:"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),monthsParseExact:!0,weekdays:"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),weekdaysShort:"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),weekdaysMin:"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D",LLL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm",LLLL:"dddd, YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(t){return"\u04ae\u0425"===t},meridiem:function(t,e,n){return t<12?"\u04ae\u04e8":"\u04ae\u0425"},calendar:{sameDay:"[\u04e8\u043d\u04e9\u04e9\u0434\u04e9\u0440] LT",nextDay:"[\u041c\u0430\u0440\u0433\u0430\u0430\u0448] LT",nextWeek:"[\u0418\u0440\u044d\u0445] dddd LT",lastDay:"[\u04e8\u0447\u0438\u0433\u0434\u04e9\u0440] LT",lastWeek:"[\u04e8\u043d\u0433\u04e9\u0440\u0441\u04e9\u043d] dddd LT",sameElse:"L"},relativeTime:{future:"%s \u0434\u0430\u0440\u0430\u0430",past:"%s \u04e9\u043c\u043d\u04e9",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+" \u04e9\u0434\u04e9\u0440";default:return t}}})}(n("wd/R"))},lgnt:function(t,e,n){!function(t){"use strict";var e={0:"-\u0447\u04af",1:"-\u0447\u0438",2:"-\u0447\u0438",3:"-\u0447\u04af",4:"-\u0447\u04af",5:"-\u0447\u0438",6:"-\u0447\u044b",7:"-\u0447\u0438",8:"-\u0447\u0438",9:"-\u0447\u0443",10:"-\u0447\u0443",20:"-\u0447\u044b",30:"-\u0447\u0443",40:"-\u0447\u044b",50:"-\u0447\u04af",60:"-\u0447\u044b",70:"-\u0447\u0438",80:"-\u0447\u0438",90:"-\u0447\u0443",100:"-\u0447\u04af"};t.defineLocale("ky",{months:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u0416\u0435\u043a\u0448\u0435\u043c\u0431\u0438_\u0414\u04af\u0439\u0448\u04e9\u043c\u0431\u04af_\u0428\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0428\u0430\u0440\u0448\u0435\u043c\u0431\u0438_\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0416\u0443\u043c\u0430_\u0418\u0448\u0435\u043c\u0431\u0438".split("_"),weekdaysShort:"\u0416\u0435\u043a_\u0414\u04af\u0439_\u0428\u0435\u0439_\u0428\u0430\u0440_\u0411\u0435\u0439_\u0416\u0443\u043c_\u0418\u0448\u0435".split("_"),weekdaysMin:"\u0416\u043a_\u0414\u0439_\u0428\u0439_\u0428\u0440_\u0411\u0439_\u0416\u043c_\u0418\u0448".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u04af\u043d \u0441\u0430\u0430\u0442] LT",nextDay:"[\u042d\u0440\u0442\u0435\u04a3 \u0441\u0430\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0447\u044d\u044d \u0441\u0430\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u04e9\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u043d] dddd [\u043a\u04af\u043d\u04af] [\u0441\u0430\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0438\u0447\u0438\u043d\u0434\u0435",past:"%s \u043c\u0443\u0440\u0443\u043d",s:"\u0431\u0438\u0440\u043d\u0435\u0447\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0438\u0440 \u043c\u04af\u043d\u04e9\u0442",mm:"%d \u043c\u04af\u043d\u04e9\u0442",h:"\u0431\u0438\u0440 \u0441\u0430\u0430\u0442",hh:"%d \u0441\u0430\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0438\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0438\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(n("wd/R"))},loYQ:function(t,e,n){!function(t){"use strict";var e={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},n={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};t.defineLocale("bn-bd",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(t){return t.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/\u09b0\u09be\u09a4|\u09ad\u09cb\u09b0|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be|\u09b0\u09be\u09a4/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u09b0\u09be\u09a4"===e?t<4?t:t+12:"\u09ad\u09cb\u09b0"===e||"\u09b8\u0995\u09be\u09b2"===e?t:"\u09a6\u09c1\u09aa\u09c1\u09b0"===e?t>=3?t:t+12:"\u09ac\u09bf\u0995\u09be\u09b2"===e||"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u09b0\u09be\u09a4":t<6?"\u09ad\u09cb\u09b0":t<12?"\u09b8\u0995\u09be\u09b2":t<15?"\u09a6\u09c1\u09aa\u09c1\u09b0":t<18?"\u09ac\u09bf\u0995\u09be\u09b2":t<20?"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(n("wd/R"))},lyxo:function(t,e,n){!function(t){"use strict";function e(t,e,n){var i=" ";return(t%100>=20||t>=100&&t%100==0)&&(i=" de "),t+i+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"s\u0103pt\u0103m\xe2ni",MM:"luni",yy:"ani"}[n]}t.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xe2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xeen urm\u0103",s:"c\xe2teva secunde",ss:e,m:"un minut",mm:e,h:"o or\u0103",hh:e,d:"o zi",dd:e,w:"o s\u0103pt\u0103m\xe2n\u0103",ww:e,M:"o lun\u0103",MM:e,y:"un an",yy:e},week:{dow:1,doy:7}})}(n("wd/R"))},nyYc:function(t,e,n){!function(t){"use strict";var e=/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?|janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,n=[/^janv/i,/^f\xe9vr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^ao\xfbt/i,/^sept/i,/^oct/i,/^nov/i,/^d\xe9c/i];t.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsRegex:e,monthsShortRegex:e,monthsStrictRegex:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,monthsShortStrictRegex:/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(t,e){switch(e){case"D":return t+(1===t?"er":"");default:case"M":case"Q":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}})}(n("wd/R"))},o1bE:function(t,e,n){!function(t){"use strict";var e=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},n={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},i=function(t){return function(i,r,o,a){var s=e(i),u=n[t][e(i)];return 2===s&&(u=u[r?0:1]),u.replace(/%d/i,i)}},r=["\u062c\u0627\u0646\u0641\u064a","\u0641\u064a\u0641\u0631\u064a","\u0645\u0627\u0631\u0633","\u0623\u0641\u0631\u064a\u0644","\u0645\u0627\u064a","\u062c\u0648\u0627\u0646","\u062c\u0648\u064a\u0644\u064a\u0629","\u0623\u0648\u062a","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];t.defineLocale("ar-dz",{months:r,monthsShort:r,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return"\u0645"===t},meridiem:function(t,e,n){return t<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},postformat:function(t){return t.replace(/,/g,"\u060c")},week:{dow:0,doy:4}})}(n("wd/R"))},"p/rL":function(t,e,n){!function(t){"use strict";t.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_M\u025bkalo_Zuw\u025bnkalo_Zuluyekalo_Utikalo_S\u025btanburukalo_\u0254kut\u0254burukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M\u025b_Zuw_Zul_Uti_S\u025bt_\u0254ku_Now_Des".split("_"),weekdays:"Kari_Nt\u025bn\u025bn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt\u025b_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm"},calendar:{sameDay:"[Bi l\u025br\u025b] LT",nextDay:"[Sini l\u025br\u025b] LT",nextWeek:"dddd [don l\u025br\u025b] LT",lastDay:"[Kunu l\u025br\u025b] LT",lastWeek:"dddd [t\u025bm\u025bnen l\u025br\u025b] LT",sameElse:"L"},relativeTime:{future:"%s k\u0254n\u0254",past:"a b\u025b %s b\u0254",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"l\u025br\u025b kelen",hh:"l\u025br\u025b %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(n("wd/R"))},qvJo:function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r={s:["\u0925\u094b\u0921\u092f\u093e \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940","\u0925\u094b\u0921\u0947 \u0938\u0945\u0915\u0902\u0921"],ss:[t+" \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940",t+" \u0938\u0945\u0915\u0902\u0921"],m:["\u090f\u0915\u093e \u092e\u093f\u0923\u091f\u093e\u0928","\u090f\u0915 \u092e\u093f\u0928\u0942\u091f"],mm:[t+" \u092e\u093f\u0923\u091f\u093e\u0902\u0928\u0940",t+" \u092e\u093f\u0923\u091f\u093e\u0902"],h:["\u090f\u0915\u093e \u0935\u0930\u093e\u0928","\u090f\u0915 \u0935\u0930"],hh:[t+" \u0935\u0930\u093e\u0902\u0928\u0940",t+" \u0935\u0930\u093e\u0902"],d:["\u090f\u0915\u093e \u0926\u093f\u0938\u093e\u0928","\u090f\u0915 \u0926\u0940\u0938"],dd:[t+" \u0926\u093f\u0938\u093e\u0902\u0928\u0940",t+" \u0926\u0940\u0938"],M:["\u090f\u0915\u093e \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928","\u090f\u0915 \u092e\u094d\u0939\u092f\u0928\u094b"],MM:[t+" \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928\u0940",t+" \u092e\u094d\u0939\u092f\u0928\u0947"],y:["\u090f\u0915\u093e \u0935\u0930\u094d\u0938\u093e\u0928","\u090f\u0915 \u0935\u0930\u094d\u0938"],yy:[t+" \u0935\u0930\u094d\u0938\u093e\u0902\u0928\u0940",t+" \u0935\u0930\u094d\u0938\u093e\u0902"]};return i?r[n][0]:r[n][1]}t.defineLocale("gom-deva",{months:{standalone:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u092f_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),format:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092e\u093e\u0930\u094d\u091a\u093e\u091a\u094d\u092f\u093e_\u090f\u092a\u094d\u0930\u0940\u0932\u093e\u091a\u094d\u092f\u093e_\u092e\u0947\u092f\u093e\u091a\u094d\u092f\u093e_\u091c\u0942\u0928\u093e\u091a\u094d\u092f\u093e_\u091c\u0941\u0932\u092f\u093e\u091a\u094d\u092f\u093e_\u0911\u0917\u0938\u094d\u091f\u093e\u091a\u094d\u092f\u093e_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0911\u0915\u094d\u091f\u094b\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0921\u093f\u0938\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940._\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u092f\u0924\u093e\u0930_\u0938\u094b\u092e\u093e\u0930_\u092e\u0902\u0917\u0933\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u092c\u093f\u0930\u0947\u0938\u094d\u0924\u093e\u0930_\u0938\u0941\u0915\u094d\u0930\u093e\u0930_\u0936\u0947\u0928\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0906\u092f\u0924._\u0938\u094b\u092e._\u092e\u0902\u0917\u0933._\u092c\u0941\u0927._\u092c\u094d\u0930\u0947\u0938\u094d\u0924._\u0938\u0941\u0915\u094d\u0930._\u0936\u0947\u0928.".split("_"),weekdaysMin:"\u0906_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u092c\u094d\u0930\u0947_\u0938\u0941_\u0936\u0947".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LTS:"A h:mm:ss [\u0935\u093e\u091c\u0924\u093e\u0902]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",llll:"ddd, D MMM YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]"},calendar:{sameDay:"[\u0906\u092f\u091c] LT",nextDay:"[\u092b\u093e\u0932\u094d\u092f\u093e\u0902] LT",nextWeek:"[\u092b\u0941\u0921\u0932\u094b] dddd[,] LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092b\u093e\u091f\u0932\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s \u0906\u0926\u0940\u0902",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}(\u0935\u0947\u0930)/,ordinal:function(t,e){switch(e){case"D":return t+"\u0935\u0947\u0930";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return t}},week:{dow:0,doy:3},meridiemParse:/\u0930\u093e\u0924\u0940|\u0938\u0915\u093e\u0933\u0940\u0902|\u0926\u0928\u092a\u093e\u0930\u093e\u0902|\u0938\u093e\u0902\u091c\u0947/,meridiemHour:function(t,e){return 12===t&&(t=0),"\u0930\u093e\u0924\u0940"===e?t<4?t:t+12:"\u0938\u0915\u093e\u0933\u0940\u0902"===e?t:"\u0926\u0928\u092a\u093e\u0930\u093e\u0902"===e?t>12?t:t+12:"\u0938\u093e\u0902\u091c\u0947"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"\u0930\u093e\u0924\u0940":t<12?"\u0938\u0915\u093e\u0933\u0940\u0902":t<16?"\u0926\u0928\u092a\u093e\u0930\u093e\u0902":t<20?"\u0938\u093e\u0902\u091c\u0947":"\u0930\u093e\u0924\u0940"}})}(n("wd/R"))},raLr:function(t,e,n){!function(t){"use strict";function e(t,e,n){return"m"===n?e?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===n?e?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":t+" "+(i=+t,r={ss:e?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:e?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:e?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[n].split("_"),i%10==1&&i%100!=11?r[0]:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?r[1]:r[2]);var i,r}function n(t){return function(){return t+"\u043e"+(11===this.hours()?"\u0431":"")+"] LT"}}t.defineLocale("uk",{months:{format:"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),standalone:"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_")},monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekdays:function(t,e){var n={nominative:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u0435\u0434\u0456\u043b\u044e_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044e_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),genitive:"\u043d\u0435\u0434\u0456\u043b\u0456_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430_\u0432\u0456\u0432\u0442\u043e\u0440\u043a\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u0456_\u0441\u0443\u0431\u043e\u0442\u0438".split("_")};return!0===t?n.nominative.slice(1,7).concat(n.nominative.slice(0,1)):t?n[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(e)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(e)?"genitive":"nominative"][t.day()]:n.nominative},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:n("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),nextDay:n("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:n("[\u0412\u0447\u043e\u0440\u0430 "),nextWeek:n("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return n("[\u041c\u0438\u043d\u0443\u043b\u043e\u0457] dddd [").call(this);case 1:case 2:case 4:return n("[\u041c\u0438\u043d\u0443\u043b\u043e\u0433\u043e] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",ss:e,m:e,mm:e,h:"\u0433\u043e\u0434\u0438\u043d\u0443",hh:e,d:"\u0434\u0435\u043d\u044c",dd:e,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:e,y:"\u0440\u0456\u043a",yy:e},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(t){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(t)},meridiem:function(t,e,n){return t<4?"\u043d\u043e\u0447\u0456":t<12?"\u0440\u0430\u043d\u043a\u0443":t<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u043e\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t+"-\u0439";case"D":return t+"-\u0433\u043e";default:return t}},week:{dow:1,doy:7}})}(n("wd/R"))},"s+uk":function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?r[n][0]:r[n][1]}t.defineLocale("de-at",{months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,w:e,ww:"%d Wochen",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},sp3z:function(t,e,n){!function(t){"use strict";t.defineLocale("lo",{months:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),monthsShort:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),weekdays:"\u0ead\u0eb2\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysShort:"\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysMin:"\u0e97_\u0e88_\u0ead\u0e84_\u0e9e_\u0e9e\u0eab_\u0eaa\u0e81_\u0eaa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0ea7\u0eb1\u0e99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(t){return"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"===t},meridiem:function(t,e,n){return t<12?"\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2":"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"},calendar:{sameDay:"[\u0ea1\u0eb7\u0ec9\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextDay:"[\u0ea1\u0eb7\u0ec9\u0ead\u0eb7\u0ec8\u0e99\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0edc\u0ec9\u0eb2\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastDay:"[\u0ea1\u0eb7\u0ec9\u0ea7\u0eb2\u0e99\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0ec1\u0ea5\u0ec9\u0ea7\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",sameElse:"L"},relativeTime:{future:"\u0ead\u0eb5\u0e81 %s",past:"%s\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2",s:"\u0e9a\u0ecd\u0ec8\u0ec0\u0e97\u0ebb\u0ec8\u0eb2\u0ec3\u0e94\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",ss:"%d \u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",m:"1 \u0e99\u0eb2\u0e97\u0eb5",mm:"%d \u0e99\u0eb2\u0e97\u0eb5",h:"1 \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",hh:"%d \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",d:"1 \u0ea1\u0eb7\u0ec9",dd:"%d \u0ea1\u0eb7\u0ec9",M:"1 \u0ec0\u0e94\u0eb7\u0ead\u0e99",MM:"%d \u0ec0\u0e94\u0eb7\u0ead\u0e99",y:"1 \u0e9b\u0eb5",yy:"%d \u0e9b\u0eb5"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(t){return"\u0e97\u0eb5\u0ec8"+t}})}(n("wd/R"))},"t+mt":function(t,e,n){!function(t){"use strict";t.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n("wd/R"))},tGlX:function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?r[n][0]:r[n][1]}t.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,w:e,ww:"%d Wochen",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},tT3J:function(t,e,n){!function(t){"use strict";t.defineLocale("tzm-latn",{months:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu\u1e0d",mm:"%d minu\u1e0d",h:"sa\u025ba",hh:"%d tassa\u025bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(n("wd/R"))},tUCv:function(t,e,n){!function(t){"use strict";t.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(t,e){return 12===t&&(t=0),"enjing"===e?t:"siyang"===e?t>=11?t:t+12:"sonten"===e||"ndalu"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"enjing":t<15?"siyang":t<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(n("wd/R"))},tbfe:function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:4},invalidDate:"Fecha inv\xe1lida"})}(n("wd/R"))},u3GI:function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?r[n][0]:r[n][1]}t.defineLocale("de-ch",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,w:e,ww:"%d Wochen",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},uEye:function(t,e,n){!function(t){"use strict";t.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_m\xe5ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m\xe5._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m\xe5_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xe5r klokka] LT",lastWeek:"[F\xf8reg\xe5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein m\xe5nad",MM:"%d m\xe5nader",y:"eit \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},uXwI:function(t,e,n){!function(t){"use strict";var e={ss:"sekundes_sekund\u0113m_sekunde_sekundes".split("_"),m:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),mm:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),h:"stundas_stund\u0101m_stunda_stundas".split("_"),hh:"stundas_stund\u0101m_stunda_stundas".split("_"),d:"dienas_dien\u0101m_diena_dienas".split("_"),dd:"dienas_dien\u0101m_diena_dienas".split("_"),M:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),MM:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(t,e,n){return n?e%10==1&&e%100!=11?t[2]:t[3]:e%10==1&&e%100!=11?t[0]:t[1]}function i(t,i,r){return t+" "+n(e[r],t,i)}function r(t,i,r){return n(e[r],t,i)}t.defineLocale("lv",{months:"janv\u0101ris_febru\u0101ris_marts_apr\u012blis_maijs_j\u016bnijs_j\u016blijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_j\u016bn_j\u016bl_aug_sep_okt_nov_dec".split("_"),weekdays:"sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:function(t,e){return e?"da\u017eas sekundes":"da\u017e\u0101m sekund\u0113m"},ss:i,m:r,mm:i,h:r,hh:i,d:r,dd:i,M:r,MM:i,y:r,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},ulZh:function(t,e,n){var i;"undefined"!=typeof window&&(i=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,(function(e){return t[e]}).bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty,r="~";function o(){}function a(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(t,e,n,i,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new a(n,i||t,o),u=r?r+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function u(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function l(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),l.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)i.call(t,e)&&n.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},l.prototype.listeners=function(t){var e=this._events[r?r+t:t];if(!e)return[];if(e.fn)return[e.fn];for(var n=0,i=e.length,o=new Array(i);n<i;n++)o[n]=e[n].fn;return o},l.prototype.listenerCount=function(t){var e=this._events[r?r+t:t];return e?e.fn?1:e.length:0},l.prototype.emit=function(t,e,n,i,o,a){var s=r?r+t:t;if(!this._events[s])return!1;var u,l,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,i),!0;case 5:return c.fn.call(c.context,e,n,i,o),!0;case 6:return c.fn.call(c.context,e,n,i,o,a),!0}for(l=1,u=new Array(h-1);l<h;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var d,f=c.length;for(l=0;l<f;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),h){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,n);break;case 4:c[l].fn.call(c[l].context,e,n,i);break;default:if(!u)for(d=1,u=new Array(h-1);d<h;d++)u[d-1]=arguments[d];c[l].fn.apply(c[l].context,u)}}return!0},l.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},l.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},l.prototype.removeListener=function(t,e,n,i){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return u(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||i&&!a.once||n&&a.context!==n||u(this,o);else{for(var s=0,l=[],c=a.length;s<c;s++)(a[s].fn!==e||i&&!a[s].once||n&&a[s].context!==n)&&l.push(a[s]);l.length?this._events[o]=1===l.length?l[0]:l:u(this,o)}return this},l.prototype.removeAllListeners=function(t){var e;return t?this._events[e=r?r+t:t]&&u(this,e):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l},"./node_modules/url-toolkit/src/url-toolkit.js":function(t,e,n){var i,r,o,a,s;i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#.*)?$/,r=/^([^\/?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,t.exports=s={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),!(e=e.trim())){if(!n.alwaysNormalize)return t;var i=s.parseURL(t);if(!i)throw new Error("Error trying to parse base URL.");return i.path=s.normalizePath(i.path),s.buildURLFromParts(i)}var o=s.parseURL(e);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=s.normalizePath(o.path),s.buildURLFromParts(o)):e;var a=s.parseURL(t);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var u=r.exec(a.path);a.netLoc=u[1],a.path=u[2]}a.netLoc&&!a.path&&(a.path="/");var l={scheme:a.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=a.netLoc,"/"!==o.path[0]))if(o.path){var c=a.path,h=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=s.normalizePath(h)}else l.path=a.path,o.params||(l.params=a.params,o.query||(l.query=a.query));return null===l.path&&(l.path=n.alwaysNormalize?s.normalizePath(o.path):o.path),s.buildURLFromParts(l)},parseURL:function(t){var e=i.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(o,"");t.length!==(t=t.replace(a,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}}},"./node_modules/webworkify-webpack/index.js":function(t,e,n){function i(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n.oe=function(t){throw console.error(t),t};var i=n(n.s=ENTRY_MODULE);return i.default||i}function r(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function o(t,e,i){var o={};o[i]=[];var a=e.toString(),s=a.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return o;for(var u,l=s[1],c=new RegExp("(\\\\n|\\W)"+r(l)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");u=c.exec(a);)"dll-reference"!==u[3]&&o[i].push(u[3]);for(c=new RegExp("\\("+r(l)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");u=c.exec(a);)t[u[2]]||(o[i].push(u[1]),t[u[2]]=n(u[1]).m),o[u[2]]=o[u[2]]||[],o[u[2]].push(u[4]);for(var h=Object.keys(o),d=0;d<h.length;d++)for(var f=0;f<o[h[d]].length;f++)isNaN(1*o[h[d]][f])||(o[h[d]][f]=1*o[h[d]][f]);return o}function a(t){return Object.keys(t).reduce(function(e,n){return e||t[n].length>0},!1)}t.exports=function(t,e){var r={main:n.m},s=(e=e||{}).all?{main:Object.keys(r.main)}:function(t,e){for(var n={main:[e]},i={main:[]},r={main:{}};a(n);)for(var s=Object.keys(n),u=0;u<s.length;u++){var l=s[u],c=n[l].pop();if(r[l]=r[l]||{},!r[l][c]&&t[l][c]){r[l][c]=!0,i[l]=i[l]||[],i[l].push(c);for(var h=o(t,t[l][c],l),d=Object.keys(h),f=0;f<d.length;f++)n[d[f]]=n[d[f]]||[],n[d[f]]=n[d[f]].concat(h[d[f]])}}return i}(r,t),u="";Object.keys(s).filter(function(t){return"main"!==t}).forEach(function(t){for(var e=0;s[t][e];)e++;s[t].push(e),r[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",u=u+"var "+t+" = ("+i.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+s[t].map(function(e){return JSON.stringify(e)+": "+r[t][e].toString()}).join(",")+"});\n"}),u=u+"new (("+i.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+s.main.map(function(t){return JSON.stringify(t)+": "+r.main[t].toString()}).join(",")+"}))(self);";var l=new window.Blob([u],{type:"text/javascript"});if(e.bare)return l;var c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(l),h=new window.Worker(c);return h.objectURL=c,h}},"./src/crypt/decrypter.js":function(t,e,n){"use strict";n.r(e);var i=function(){function t(t,e){this.subtle=t,this.aesIV=e}return t.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},t}(),r=function(){function t(t,e){this.subtle=t,this.key=e}return t.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},t}(),o=function(){function t(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}var e=t.prototype;return e.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),n=new Uint32Array(4),i=0;i<4;i++)n[i]=e.getUint32(4*i);return n},e.initTable=function(){var t=this.sBox,e=this.invSBox,n=this.subMix,i=n[0],r=n[1],o=n[2],a=n[3],s=this.invSubMix,u=s[0],l=s[1],c=s[2],h=s[3],d=new Uint32Array(256),f=0,p=0,m=0;for(m=0;m<256;m++)d[m]=m<128?m<<1:m<<1^283;for(m=0;m<256;m++){var g=p^p<<1^p<<2^p<<3^p<<4;t[f]=g=g>>>8^255&g^99,e[g]=f;var y=d[f],v=d[y],_=d[v],b=257*d[g]^16843008*g;i[f]=b<<24|b>>>8,r[f]=b<<16|b>>>16,o[f]=b<<8|b>>>24,a[f]=b,u[g]=(b=16843009*_^65537*v^257*y^16843008*f)<<24|b>>>8,l[g]=b<<16|b>>>16,c[g]=b<<8|b>>>24,h[g]=b,f?(f=y^d[d[d[_^y]]],p^=d[d[p]]):f=p=1}},e.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),n=!0,i=0;i<e.length&&n;)n=e[i]===this.key[i],i++;if(!n){this.key=e;var r=this.keySize=e.length;if(4!==r&&6!==r&&8!==r)throw new Error("Invalid aes key size="+r);var o,a,s,u,l=this.ksRows=4*(r+6+1),c=this.keySchedule=new Uint32Array(l),h=this.invKeySchedule=new Uint32Array(l),d=this.sBox,f=this.rcon,p=this.invSubMix,m=p[0],g=p[1],y=p[2],v=p[3];for(o=0;o<l;o++)o<r?s=c[o]=e[o]:(u=s,o%r==0?(u=d[(u=u<<8|u>>>24)>>>24]<<24|d[u>>>16&255]<<16|d[u>>>8&255]<<8|d[255&u],u^=f[o/r|0]<<24):r>6&&o%r==4&&(u=d[u>>>24]<<24|d[u>>>16&255]<<16|d[u>>>8&255]<<8|d[255&u]),c[o]=s=(c[o-r]^u)>>>0);for(a=0;a<l;a++)o=l-a,u=3&a?c[o]:c[o-4],h[a]=a<4||o<=4?u:m[d[u>>>24]]^g[d[u>>>16&255]]^y[d[u>>>8&255]]^v[d[255&u]],h[a]=h[a]>>>0}},e.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},e.decrypt=function(t,e,n,i){for(var r,o,a,s,u,l,c,h,d,f,p,m,g,y,v,_,b,x=this.keySize+6,w=this.invKeySchedule,k=this.invSBox,M=this.invSubMix,S=M[0],E=M[1],L=M[2],T=M[3],C=this.uint8ArrayToUint32Array_(n),I=C[0],P=C[1],D=C[2],O=C[3],A=new Int32Array(t),R=new Int32Array(A.length),N=this.networkToHostOrderSwap;e<A.length;){for(d=N(A[e]),f=N(A[e+1]),p=N(A[e+2]),m=N(A[e+3]),u=d^w[0],l=m^w[1],c=p^w[2],h=f^w[3],g=4,y=1;y<x;y++)o=S[l>>>24]^E[c>>16&255]^L[h>>8&255]^T[255&u]^w[g+1],a=S[c>>>24]^E[h>>16&255]^L[u>>8&255]^T[255&l]^w[g+2],s=S[h>>>24]^E[u>>16&255]^L[l>>8&255]^T[255&c]^w[g+3],u=r=S[u>>>24]^E[l>>16&255]^L[c>>8&255]^T[255&h]^w[g],l=o,c=a,h=s,g+=4;r=k[u>>>24]<<24^k[l>>16&255]<<16^k[c>>8&255]<<8^k[255&h]^w[g],o=k[l>>>24]<<24^k[c>>16&255]<<16^k[h>>8&255]<<8^k[255&u]^w[g+1],a=k[c>>>24]<<24^k[h>>16&255]<<16^k[u>>8&255]<<8^k[255&l]^w[g+2],s=k[h>>>24]<<24^k[u>>16&255]<<16^k[l>>8&255]<<8^k[255&c]^w[g+3],g+=3,R[e]=N(r^I),R[e+1]=N(s^P),R[e+2]=N(a^D),R[e+3]=N(o^O),I=d,P=f,D=p,O=m,e+=4}return i?(b=(_=(v=R.buffer).byteLength)&&new DataView(v).getUint8(_-1))?v.slice(0,_-b):v:R.buffer},e.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},t}(),a=n("./src/errors.ts"),s=n("./src/utils/logger.js"),u=n("./src/events.js"),l=n("./src/utils/get-self-scope.js"),c=Object(l.getSelfScope)();e.default=function(){function t(t,e,n){var i=(void 0===n?{}:n).removePKCS7Padding,r=void 0===i||i;if(this.logEnabled=!0,this.observer=t,this.config=e,this.removePKCS7Padding=r,r)try{var o=c.crypto;o&&(this.subtle=o.subtle||o.webkitSubtle)}catch(a){}this.disableWebCrypto=!this.subtle}var e=t.prototype;return e.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},e.decrypt=function(t,e,n,a){var u=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(s.logger.log("JS AES decrypt"),this.logEnabled=!1);var l=this.decryptor;l||(this.decryptor=l=new o),l.expandKey(e),a(l.decrypt(t,0,n,this.removePKCS7Padding))}else{this.logEnabled&&(s.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var c=this.subtle;this.key!==e&&(this.key=e,this.fastAesKey=new r(c,e)),this.fastAesKey.expandKey().then(function(r){new i(c,n).decrypt(t,r).catch(function(i){u.onWebCryptoError(i,t,e,n,a)}).then(function(t){a(t)})}).catch(function(i){u.onWebCryptoError(i,t,e,n,a)})}},e.onWebCryptoError=function(t,e,n,i,r){this.config.enableSoftwareAES?(s.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(e,n,i,r)):(s.logger.error("decrypting error : "+t.message),this.observer.trigger(u.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))},e.destroy=function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)},t}()},"./src/demux/demuxer-inline.js":function(t,e,n){"use strict";n.r(e);var i=n("./src/events.js"),r=n("./src/errors.ts"),o=n("./src/crypt/decrypter.js"),a=n("./src/polyfills/number.js"),s=n("./src/utils/logger.js"),u=n("./src/utils/get-self-scope.js");function l(t,e){return 255===t[e]&&240==(246&t[e+1])}function c(t,e){return 1&t[e+1]?7:9}function h(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function d(t,e){return!!(e+1<t.length&&l(t,e))}function f(t,e){if(d(t,e)){var n=c(t,e);if(e+n>=t.length)return!1;var i=h(t,e);if(i<=n)return!1;var r=e+i;if(r===t.length||r+1<t.length&&l(t,r))return!0}return!1}function p(t,e,n,o,a){if(!t.samplerate){var u=function(t,e,n,o){var a,u,l,c,h,d=navigator.userAgent.toLowerCase(),f=o,p=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(a=1+((192&e[n+2])>>>6),!((u=(60&e[n+2])>>>2)>p.length-1))return c=(1&e[n+2])<<2,s.logger.log("manifest codec:"+o+",ADTS data:type:"+a+",sampleingIndex:"+u+"["+p[u]+"Hz],channelConfig:"+(c|=(192&e[n+3])>>>6)),/firefox/i.test(d)?u>=6?(a=5,h=new Array(4),l=u-3):(a=2,h=new Array(2),l=u):-1!==d.indexOf("android")?(a=2,h=new Array(2),l=u):(a=5,h=new Array(4),o&&(-1!==o.indexOf("mp4a.40.29")||-1!==o.indexOf("mp4a.40.5"))||!o&&u>=6?l=u-3:((o&&-1!==o.indexOf("mp4a.40.2")&&(u>=6&&1===c||/vivaldi/i.test(d))||!o&&1===c)&&(a=2,h=new Array(2)),l=u)),h[0]=a<<3,h[0]|=(14&u)>>1,h[1]|=(1&u)<<7,h[1]|=c<<3,5===a&&(h[1]|=(14&l)>>1,h[2]=(1&l)<<7,h[2]|=8,h[3]=0),{config:h,samplerate:p[u],channelCount:c,codec:"mp4a.40."+a,manifestCodec:f};t.trigger(i.default.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+u})}(e,n,o,a);t.config=u.config,t.samplerate=u.samplerate,t.channelCount=u.channelCount,t.codec=u.codec,t.manifestCodec=u.manifestCodec,s.logger.log("parsed codec:"+t.codec+",rate:"+u.samplerate+",nb channel:"+u.channelCount)}}function m(t){return 9216e4/t}function g(t,e,n,i,r){var o=function(t,e,n,i,r){var o,a,s=t.length;if(o=c(t,e),a=h(t,e),(a-=o)>0&&e+o+a<=s)return{headerLength:o,frameLength:a,stamp:n+i*r}}(e,n,i,r,m(t.samplerate));if(o){var a=o.stamp,s=o.headerLength,u=o.frameLength,l={unit:e.subarray(n+s,n+s+u),pts:a,dts:a};return t.samples.push(l),{sample:l,length:u+s}}}var y=n("./src/demux/id3.js"),v=function(){function t(t,e,n){this.observer=t,this.config=n,this.remuxer=e}var e=t.prototype;return e.resetInitSegment=function(t,e,n,i){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:i,inputTimeScale:9e4}},e.resetTimeStamp=function(){},t.probe=function(t){if(!t)return!1;for(var e=(y.default.getID3Data(t,0)||[]).length,n=t.length;e<n;e++)if(f(t,e))return s.logger.log("ADTS sync word found !"),!0;return!1},e.append=function(t,e,n,i){for(var r=this._audioTrack,o=y.default.getID3Data(t,0)||[],u=y.default.getTimeStamp(o),l=Object(a.isFiniteNumber)(u)?90*u:9e4*e,c=0,h=l,f=t.length,m=o.length,v=[{pts:h,dts:h,data:o}];m<f-1;)if(d(t,m)&&m+5<f){p(r,this.observer,t,m,r.manifestCodec);var _=g(r,t,m,l,c);if(!_){s.logger.log("Unable to parse AAC frame");break}m+=_.length,h=_.sample.pts,c++}else y.default.isHeader(t,m)?(o=y.default.getID3Data(t,m),v.push({pts:h,dts:h,data:o}),m+=o.length):m++;this.remuxer.remux(r,{samples:[]},{samples:v,inputTimeScale:9e4},{samples:[]},e,n,i)},e.destroy=function(){},t}(),_=n("./src/demux/mp4demuxer.js"),b={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(t,e,n,i,r){if(!(n+24>e.length)){var o=this.parseHeader(e,n);if(o&&n+o.frameLength<=e.length){var a=i+r*(9e4*o.samplesPerFrame/o.sampleRate),s={unit:e.subarray(n,n+o.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=o.channelCount,t.samplerate=o.sampleRate,t.samples.push(s),{sample:s,length:o.frameLength}}}},parseHeader:function(t,e){var n=t[e+1]>>3&3,i=t[e+1]>>1&3,r=t[e+2]>>4&15,o=t[e+2]>>2&3;if(1!==n&&0!==r&&15!==r&&3!==o){var a=b.SamplingRateMap[3*(3===n?0:2===n?1:2)+o],s=b.SamplesCoefficients[n][i],u=b.BytesInSlot[i],l=8*s*u;return{sampleRate:a,channelCount:t[e+3]>>6==3?1:2,frameLength:parseInt(s*(1e3*b.BitratesMap[14*(3===n?3-i:3===i?3:4)+r-1])/a+(t[e+2]>>1&1),10)*u,samplesPerFrame:l}}},isHeaderPattern:function(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])},isHeader:function(t,e){return!!(e+1<t.length&&this.isHeaderPattern(t,e))},probe:function(t,e){if(e+1<t.length&&this.isHeaderPattern(t,e)){var n=this.parseHeader(t,e),i=4;n&&n.frameLength&&(i=n.frameLength);var r=e+i;if(r===t.length||r+1<t.length&&this.isHeaderPattern(t,r))return!0}return!1}},x=b,w=function(){function t(t){this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}var e=t.prototype;return e.loadWord=function(){var t=this.data,e=this.bytesAvailable,n=t.byteLength-e,i=new Uint8Array(4),r=Math.min(4,e);if(0===r)throw new Error("no bytes available");i.set(t.subarray(n,n+r)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=8*r,this.bytesAvailable-=r},e.skipBits=function(t){var e;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,t-=(e=t>>3)>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},e.readBits=function(t){var e=Math.min(this.bitsAvailable,t),n=this.word>>>32-e;return t>32&&s.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),(e=t-e)>0&&this.bitsAvailable?n<<e|this.readBits(e):n},e.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},e.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.skipEG=function(){this.skipBits(1+this.skipLZ())},e.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},e.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},e.readBoolean=function(){return 1===this.readBits(1)},e.readUByte=function(){return this.readBits(8)},e.readUShort=function(){return this.readBits(16)},e.readUInt=function(){return this.readBits(32)},e.skipScalingList=function(t){var e,n=8,i=8;for(e=0;e<t;e++)0!==i&&(i=(n+this.readEG()+256)%256),n=0===i?n:i},e.readSPS=function(){var t,e,n,i,r,o,a,s=0,u=0,l=0,c=0,h=this.readUByte.bind(this),d=this.readBits.bind(this),f=this.readUEG.bind(this),p=this.readBoolean.bind(this),m=this.skipBits.bind(this),g=this.skipEG.bind(this),y=this.skipUEG.bind(this),v=this.skipScalingList.bind(this);if(h(),t=h(),d(5),m(3),h(),y(),100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t){var _=f();if(3===_&&m(1),y(),y(),m(1),p())for(o=3!==_?8:12,a=0;a<o;a++)p()&&v(a<6?16:64)}y();var b=f();if(0===b)f();else if(1===b)for(m(1),g(),g(),e=f(),a=0;a<e;a++)g();y(),m(1),n=f(),i=f(),0===(r=d(1))&&m(1),m(1),p()&&(s=f(),u=f(),l=f(),c=f());var x=[1,1];if(p()&&p())switch(h()){case 1:x=[1,1];break;case 2:x=[12,11];break;case 3:x=[10,11];break;case 4:x=[16,11];break;case 5:x=[40,33];break;case 6:x=[24,11];break;case 7:x=[20,11];break;case 8:x=[32,11];break;case 9:x=[80,33];break;case 10:x=[18,11];break;case 11:x=[15,11];break;case 12:x=[64,33];break;case 13:x=[160,99];break;case 14:x=[4,3];break;case 15:x=[3,2];break;case 16:x=[2,1];break;case 255:x=[h()<<8|h(),h()<<8|h()]}return{width:Math.ceil(16*(n+1)-2*s-2*u),height:(2-r)*(i+1)*16-(r?2:4)*(l+c),pixelRatio:x}},e.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t}(),k=function(){function t(t,e,n,i){this.decryptdata=n,this.discardEPB=i,this.decrypter=new o.default(t,e,{removePKCS7Padding:!1})}var e=t.prototype;return e.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,e)},e.decryptAacSample=function(t,e,n,i){var r=t[e].unit,o=r.subarray(16,r.length-r.length%16),a=o.buffer.slice(o.byteOffset,o.byteOffset+o.length),s=this;this.decryptBuffer(a,function(o){o=new Uint8Array(o),r.set(o,16),i||s.decryptAacSamples(t,e+1,n)})},e.decryptAacSamples=function(t,e,n){for(;;e++){if(e>=t.length)return void n();if(!(t[e].unit.length<32)){var i=this.decrypter.isSync();if(this.decryptAacSample(t,e,n,i),!i)return}}},e.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,n=new Int8Array(e),i=0,r=32;r<=t.length-16;r+=160,i+=16)n.set(t.subarray(r,r+16),i);return n},e.getAvcDecryptedUnit=function(t,e){e=new Uint8Array(e);for(var n=0,i=32;i<=t.length-16;i+=160,n+=16)t.set(e.subarray(n,n+16),i);return t},e.decryptAvcSample=function(t,e,n,i,r,o){var a=this.discardEPB(r.data),s=this.getAvcEncryptedData(a),u=this;this.decryptBuffer(s.buffer,function(s){r.data=u.getAvcDecryptedUnit(a,s),o||u.decryptAvcSamples(t,e,n+1,i)})},e.decryptAvcSamples=function(t,e,n,i){for(;;e++,n=0){if(e>=t.length)return void i();for(var r=t[e].units;!(n>=r.length);n++){var o=r[n];if(!(o.data.length<=48||1!==o.type&&5!==o.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(t,e,n,i,o,a),!a)return}}}},t}(),M={video:1,audio:2,id3:3,text:4},S=function(){function t(t,e,n,i){this.observer=t,this.config=n,this.typeSupported=i,this.remuxer=e,this.sampleAes=null,this.pmtUnknownTypes={}}var e=t.prototype;return e.setDecryptData=function(t){this.sampleAes=null!=t&&null!=t.key&&"SAMPLE-AES"===t.method?new k(this.observer,this.config,t,this.discardEPB):null},t.probe=function(e){var n=t._syncOffset(e);return!(n<0||(n&&s.logger.warn("MPEG2-TS detected but first sync word found @ offset "+n+", junk ahead ?"),0))},t._syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),n=0;n<e;){if(71===t[n]&&71===t[n+188]&&71===t[n+376])return n;n++}return-1},t.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:M[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:"video"===t?0:void 0,isAAC:"audio"===t||void 0,duration:"audio"===t?e:void 0}},e.resetInitSegment=function(e,n,i,r){this.pmtParsed=!1,this._pmtId=-1,this.pmtUnknownTypes={},this._avcTrack=t.createTrack("video",r),this._audioTrack=t.createTrack("audio",r),this._id3Track=t.createTrack("id3",r),this._txtTrack=t.createTrack("text",r),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=n,this.videoCodec=i,this._duration=r},e.resetTimeStamp=function(){},e.append=function(e,n,o,a){var u,l,c,h,d,f=e.length,p=!1;this.pmtUnknownTypes={},this.contiguous=o;var m=this.pmtParsed,g=this._avcTrack,y=this._audioTrack,v=this._id3Track,_=g.pid,b=y.pid,x=v.pid,w=this._pmtId,k=g.pesData,M=y.pesData,S=v.pesData,E=this._parsePAT,L=this._parsePMT.bind(this),T=this._parsePES,C=this._parseAVCPES.bind(this),I=this._parseAACPES.bind(this),P=this._parseMPEGPES.bind(this),D=this._parseID3PES.bind(this),O=t._syncOffset(e);for(f-=(f+O)%188,u=O;u<f;u+=188)if(71===e[u]){if(l=!!(64&e[u+1]),c=((31&e[u+1])<<8)+e[u+2],(48&e[u+3])>>4>1){if((h=u+5+e[u+4])===u+188)continue}else h=u+4;switch(c){case _:l&&(k&&(d=T(k))&&C(d,!1),k={data:[],size:0}),k&&(k.data.push(e.subarray(h,u+188)),k.size+=u+188-h);break;case b:l&&(M&&(d=T(M))&&(y.isAAC?I(d):P(d)),M={data:[],size:0}),M&&(M.data.push(e.subarray(h,u+188)),M.size+=u+188-h);break;case x:l&&(S&&(d=T(S))&&D(d),S={data:[],size:0}),S&&(S.data.push(e.subarray(h,u+188)),S.size+=u+188-h);break;case 0:l&&(h+=e[h]+1),w=this._pmtId=E(e,h);break;case w:l&&(h+=e[h]+1);var A=L(e,h,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(_=A.avc)>0&&(g.pid=_),(b=A.audio)>0&&(y.pid=b,y.isAAC=A.isAAC),(x=A.id3)>0&&(v.pid=x),p&&!m&&(s.logger.log("reparse from beginning"),p=!1,u=O-188),m=this.pmtParsed=!0;break;case 17:case 8191:break;default:p=!0}}else this.observer.trigger(i.default.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});k&&(d=T(k))?(C(d,!0),g.pesData=null):g.pesData=k,M&&(d=T(M))?(y.isAAC?I(d):P(d),y.pesData=null):(M&&M.size&&s.logger.log("last AAC PES packet truncated,might overlap between fragments"),y.pesData=M),S&&(d=T(S))?(D(d),v.pesData=null):v.pesData=S,null==this.sampleAes?this.remuxer.remux(y,g,v,this._txtTrack,n,o,a):this.decryptAndRemux(y,g,v,this._txtTrack,n,o,a)},e.decryptAndRemux=function(t,e,n,i,r,o,a){if(t.samples&&t.isAAC){var s=this;this.sampleAes.decryptAacSamples(t.samples,0,function(){s.decryptAndRemuxAvc(t,e,n,i,r,o,a)})}else this.decryptAndRemuxAvc(t,e,n,i,r,o,a)},e.decryptAndRemuxAvc=function(t,e,n,i,r,o,a){if(e.samples){var s=this;this.sampleAes.decryptAvcSamples(e.samples,0,0,function(){s.remuxer.remux(t,e,n,i,r,o,a)})}else this.remuxer.remux(t,e,n,i,r,o,a)},e.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},e._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},e._trackUnknownPmt=function(t,e,n){var i=this.pmtUnknownTypes[t]||0;return 0===i&&(this.pmtUnknownTypes[t]=0,e.call(s.logger,n)),this.pmtUnknownTypes[t]++,i},e._parsePMT=function(t,e,n,i){var r,o,a={audio:-1,avc:-1,id3:-1,isAAC:!0};for(r=e+3+((15&t[e+1])<<8|t[e+2])-4,e+=12+((15&t[e+10])<<8|t[e+11]);e<r;){switch(o=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!i){this._trackUnknownPmt(t[e],s.logger.warn,"ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===a.audio&&(a.audio=o);break;case 21:-1===a.id3&&(a.id3=o);break;case 219:if(!i){this._trackUnknownPmt(t[e],s.logger.warn,"H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===a.avc&&(a.avc=o);break;case 3:case 4:n?-1===a.audio&&(a.audio=o,a.isAAC=!1):this._trackUnknownPmt(t[e],s.logger.warn,"MPEG audio found, not supported in this browser");break;case 36:this._trackUnknownPmt(t[e],s.logger.warn,"Unsupported HEVC stream type found");break;default:this._trackUnknownPmt(t[e],s.logger.log,"Unknown stream type:"+t[e])}e+=5+((15&t[e+3])<<8|t[e+4])}return a},e._parsePES=function(t){var e,n,i,r,o,a,u,l,c=0,h=t.data;if(!t||0===t.size)return null;for(;h[0].length<19&&h.length>1;){var d=new Uint8Array(h[0].length+h[1].length);d.set(h[0]),d.set(h[1],h[0].length),h[0]=d,h.splice(1,1)}if(1===((e=h[0])[0]<<16)+(e[1]<<8)+e[2]){if((i=(e[4]<<8)+e[5])&&i>t.size-6)return null;if(192&(n=e[7])&&(a=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&n?a-(u=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)>54e5&&(s.logger.warn(Math.round((a-u)/9e4)+"s delta between PTS and DTS, align them"),a=u):u=a),t.size<=(l=(r=e[8])+9))return null;t.size-=l,o=new Uint8Array(t.size);for(var f=0,p=h.length;f<p;f++){var m=(e=h[f]).byteLength;if(l){if(l>m){l-=m;continue}e=e.subarray(l),m-=l,l=0}o.set(e,c),c+=m}return i&&(i-=r+3),{data:o,pts:a,dts:u,len:i}}return null},e.pushAccesUnit=function(t,e){if(t.units.length&&t.frame){var n=e.samples,i=n.length;if(isNaN(t.pts)){if(!i)return void e.dropped++;var r=n[i-1];t.pts=r.pts,t.dts=r.dts}!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(i||this.contiguous)?(t.id=i,n.push(t)):e.dropped++}t.debug.length&&s.logger.log(t.pts+"/"+t.dts+":"+t.debug)},e._parseAVCPES=function(t,e){var n,i,r,o=this,a=this._avcTrack,s=this._parseAVCNALu(t.data),u=this.avcSample,l=!1,c=this.pushAccesUnit.bind(this),h=function(t,e,n,i){return{key:t,pts:e,dts:n,units:[],debug:i}};t.data=null,u&&s.length&&!a.audFound&&(c(u,a),u=this.avcSample=h(!1,t.pts,t.dts,"")),s.forEach(function(e){switch(e.type){case 1:i=!0,u||(u=o.avcSample=h(!0,t.pts,t.dts,"")),u.frame=!0;var s=e.data;if(l&&s.length>4){var d=new w(s).readSliceType();2!==d&&4!==d&&7!==d&&9!==d||(u.key=!0)}break;case 5:i=!0,u||(u=o.avcSample=h(!0,t.pts,t.dts,"")),u.key=!0,u.frame=!0;break;case 6:i=!0,(n=new w(o.discardEPB(e.data))).readUByte();for(var f=0,p=0,m=!1,g=0;!m&&n.bytesAvailable>1;){f=0;do{f+=g=n.readUByte()}while(255===g);p=0;do{p+=g=n.readUByte()}while(255===g);if(4===f&&0!==n.bytesAvailable){if(m=!0,181===n.readUByte()&&49===n.readUShort()&&1195456820===n.readUInt()&&3===n.readUByte()){var v=n.readUByte(),_=31&v,b=[v,n.readUByte()];for(r=0;r<_;r++)b.push(n.readUByte()),b.push(n.readUByte()),b.push(n.readUByte());o._insertSampleInOrder(o._txtTrack.samples,{type:3,pts:t.pts,bytes:b})}}else if(5===f&&0!==n.bytesAvailable){if(m=!0,p>16){var x=[];for(r=0;r<16;r++)x.push(n.readUByte().toString(16)),3!==r&&5!==r&&7!==r&&9!==r||x.push("-");var k=p-16,M=new Uint8Array(k);for(r=0;r<k;r++)M[r]=n.readUByte();o._insertSampleInOrder(o._txtTrack.samples,{pts:t.pts,payloadType:f,uuid:x.join(""),userDataBytes:M,userData:Object(y.utf8ArrayToStr)(M.buffer)})}}else if(p<n.bytesAvailable)for(r=0;r<p;r++)n.readUByte()}break;case 7:if(i=!0,l=!0,!a.sps){var S=(n=new w(e.data)).readSPS();a.width=S.width,a.height=S.height,a.pixelRatio=S.pixelRatio,a.sps=[e.data],a.duration=o._duration;var E=e.data.subarray(1,4),L="avc1.";for(r=0;r<3;r++){var T=E[r].toString(16);T.length<2&&(T="0"+T),L+=T}a.codec=L}break;case 8:i=!0,a.pps||(a.pps=[e.data]);break;case 9:i=!1,a.audFound=!0,u&&c(u,a),u=o.avcSample=h(!1,t.pts,t.dts,"");break;case 12:i=!1;break;default:i=!1,u&&(u.debug+="unknown NAL "+e.type+" ")}u&&i&&u.units.push(e)}),e&&u&&(c(u,a),this.avcSample=null)},e._insertSampleInOrder=function(t,e){var n=t.length;if(n>0){if(e.pts>=t[n-1].pts)t.push(e);else for(var i=n-1;i>=0;i--)if(e.pts<t[i].pts){t.splice(i,0,e);break}}else t.push(e)},e._getLastNalUnit=function(){var t,e=this.avcSample;if(!e||0===e.units.length){var n=this._avcTrack.samples;e=n[n.length-1]}if(e){var i=e.units;t=i[i.length-1]}return t},e._parseAVCNALu=function(t){var e,n,i,r,o=0,a=t.byteLength,s=this._avcTrack,u=s.naluState||0,l=u,c=[],h=-1;for(-1===u&&(h=0,r=31&t[0],u=0,o=1);o<a;)if(e=t[o++],u)if(1!==u)if(e)if(1===e){if(h>=0)i={data:t.subarray(h,o-u-1),type:r},c.push(i);else{var d=this._getLastNalUnit();if(d&&(l&&o<=4-l&&d.state&&(d.data=d.data.subarray(0,d.data.byteLength-l)),(n=o-u-1)>0)){var f=new Uint8Array(d.data.byteLength+n);f.set(d.data,0),f.set(t.subarray(0,n),d.data.byteLength),d.data=f}}o<a?(h=o,r=31&t[o],u=0):u=-1}else u=0;else u=3;else u=e?0:2;else u=e?0:1;if(h>=0&&u>=0&&(i={data:t.subarray(h,a),type:r,state:u},c.push(i)),0===c.length){var p=this._getLastNalUnit();if(p){var m=new Uint8Array(p.data.byteLength+t.byteLength);m.set(p.data,0),m.set(t,p.data.byteLength),p.data=m}}return s.naluState=u,c},e.discardEPB=function(t){for(var e,n,i=t.byteLength,r=[],o=1;o<i-2;)0===t[o]&&0===t[o+1]&&3===t[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var a=0;for(o=0;o<e;a++,o++)a===r[0]&&(a++,r.shift()),n[o]=t[a];return n},e._parseAACPES=function(t){var e,n,o,a,u,l,c,h=this._audioTrack,f=t.data,y=t.pts,v=this.aacOverFlow,_=this.aacLastPTS;if(v){var b=new Uint8Array(v.byteLength+f.byteLength);b.set(v,0),b.set(f,v.byteLength),f=b}for(o=0,u=f.length;o<u-1&&!d(f,o);o++);if(!o||(o<u-1?(l="AAC PES did not start with ADTS header,offset:"+o,c=!1):(l="no ADTS header found in AAC PES",c=!0),s.logger.warn("parsing error:"+l),this.observer.trigger(i.default.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.FRAG_PARSING_ERROR,fatal:c,reason:l}),!c)){if(p(h,this.observer,f,o,this.audioCodec),n=0,e=m(h.samplerate),v&&_){var x=_+e;Math.abs(x-y)>1&&(s.logger.log("AAC: align PTS for overlapping frames by "+Math.round((x-y)/90)),y=x)}for(;o<u;){if(d(f,o)){if(o+5<u){var w=g(h,f,o,y,n);if(w){o+=w.length,a=w.sample.pts,n++;continue}}break}o++}v=o<u?f.subarray(o,u):null,this.aacOverFlow=v,this.aacLastPTS=a}},e._parseMPEGPES=function(t){for(var e=t.data,n=e.length,i=0,r=0,o=t.pts;r<n;)if(x.isHeader(e,r)){var a=x.appendFrame(this._audioTrack,e,r,o,i);if(!a)break;r+=a.length,i++}else r++},e._parseID3PES=function(t){this._id3Track.samples.push(t)},t}(),E=function(){function t(t,e,n){this.observer=t,this.config=n,this.remuxer=e}var e=t.prototype;return e.resetInitSegment=function(t,e,n,i){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:e,duration:i,inputTimeScale:9e4}},e.resetTimeStamp=function(){},t.probe=function(t){var e,n,i=y.default.getID3Data(t,0);if(i&&void 0!==y.default.getTimeStamp(i))for(e=i.length,n=Math.min(t.length-1,e+100);e<n;e++)if(x.probe(t,e))return s.logger.log("MPEG Audio sync word found !"),!0;return!1},e.append=function(t,e,n,i){for(var r=y.default.getID3Data(t,0)||[],o=y.default.getTimeStamp(r),a=void 0!==o?90*o:9e4*e,s=r.length,u=t.length,l=0,c=0,h=this._audioTrack,d=[{pts:a,dts:a,data:r}];s<u;)if(x.isHeader(t,s)){var f=x.appendFrame(h,t,s,a,l);if(!f)break;s+=f.length,c=f.sample.pts,l++}else y.default.isHeader(t,s)?(r=y.default.getID3Data(t,s),d.push({pts:c,dts:c,data:r}),s+=r.length):s++;this.remuxer.remux(h,{samples:[]},{samples:d,inputTimeScale:9e4},{samples:[]},e,n,i)},e.destroy=function(){},t}(),L=function(){function t(){}return t.getSilentFrame=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},t}(),T=Math.pow(2,32)-1,C=function(){function t(){}return t.init=function(){var e;for(e in t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]})t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:n,audio:i};var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=o,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,a,u,a,s),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,r))},t.box=function(t){for(var e,n=Array.prototype.slice.call(arguments,1),i=8,r=n.length,o=r;r--;)i+=n[r].byteLength;for((e=new Uint8Array(i))[0]=i>>24&255,e[1]=i>>16&255,e[2]=i>>8&255,e[3]=255&i,e.set(t,4),r=0,i=8;r<o;r++)e.set(n[r],i),i+=n[r].byteLength;return e},t.hdlr=function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])},t.mdat=function(e){return t.box(t.types.mdat,e)},t.mdhd=function(e,n){n*=e;var i=Math.floor(n/(T+1)),r=Math.floor(n%(T+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))},t.mdia=function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))},t.mfhd=function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},t.minf=function(e){return t.box(t.types.minf,"audio"===e.type?t.box(t.types.smhd,t.SMHD):t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))},t.moof=function(e,n,i){return t.box(t.types.moof,t.mfhd(e),t.traf(i,n))},t.moov=function(e){for(var n=e.length,i=[];n--;)i[n]=t.trak(e[n]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(i).concat(t.mvex(e)))},t.mvex=function(e){for(var n=e.length,i=[];n--;)i[n]=t.trex(e[n]);return t.box.apply(null,[t.types.mvex].concat(i))},t.mvhd=function(e,n){n*=e;var i=Math.floor(n/(T+1)),r=Math.floor(n%(T+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,r>>24,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,o)},t.sdtp=function(e){var n,i,r=e.samples||[],o=new Uint8Array(4+r.length);for(i=0;i<r.length;i++)o[i+4]=(n=r[i].flags).dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t.box(t.types.sdtp,o)},t.stbl=function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(e){var n,i,r,o=[],a=[];for(n=0;n<e.sps.length;n++)o.push((r=(i=e.sps[n]).byteLength)>>>8&255),o.push(255&r),o=o.concat(Array.prototype.slice.call(i));for(n=0;n<e.pps.length;n++)a.push((r=(i=e.pps[n]).byteLength)>>>8&255),a.push(255&r),a=a.concat(Array.prototype.slice.call(i));var s=t.box(t.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|e.sps.length].concat(o).concat([e.pps.length]).concat(a))),u=e.width,l=e.height,c=e.pixelRatio[0],h=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,255&u,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,h>>24,h>>16&255,h>>8&255,255&h])))},t.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},t.mp4a=function(e){var n=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),t.box(t.types.esds,t.esds(e)))},t.mp3=function(e){var n=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))},t.stsd=function(e){return t.box(t.types.stsd,t.STSD,"audio"===e.type?e.isAAC||"mp3"!==e.codec?t.mp4a(e):t.mp3(e):t.avc1(e))},t.tkhd=function(e){var n=e.id,i=e.duration*e.timescale,r=e.width,o=e.height,a=Math.floor(i/(T+1)),s=Math.floor(i%(T+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,o>>8&255,255&o,0,0]))},t.traf=function(e,n){var i=t.sdtp(e),r=e.id,o=Math.floor(n/(T+1)),a=Math.floor(n%(T+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,a>>24,a>>16&255,a>>8&255,255&a])),t.trun(e,i.length+16+20+8+16+8+8),i)},t.trak=function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))},t.trex=function(e){var n=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(e,n){var i,r,o,a,s,u,l=e.samples||[],c=l.length,h=12+16*c,d=new Uint8Array(h);for(d.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,(n+=8+h)>>>24&255,n>>>16&255,n>>>8&255,255&n],0),i=0;i<c;i++)d.set([(o=(r=l[i]).duration)>>>24&255,o>>>16&255,o>>>8&255,255&o,(a=r.size)>>>24&255,a>>>16&255,a>>>8&255,255&a,(s=r.flags).isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,(u=r.cts)>>>24&255,u>>>16&255,u>>>8&255,255&u],12+16*i);return t.box(t.types.trun,d)},t.initSegment=function(e){t.types||t.init();var n,i=t.moov(e);return(n=new Uint8Array(t.FTYP.byteLength+i.byteLength)).set(t.FTYP),n.set(i,t.FTYP.byteLength),n},t}();function I(t,e,n,i){void 0===n&&(n=1),void 0===i&&(i=!1);var r=t*e*n;return i?Math.round(r):r}function P(t,e){return void 0===e&&(e=!1),I(t,1e3,1/9e4,e)}function D(t,e){return void 0===e&&(e=1),I(t,9e4,1/e)}var O=D(10),A=D(.2),R=null;function N(t,e){var n;if(void 0===e)return t;for(n=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=n;return t}var F,Y=function(){function t(t,e,n,i){if(this.observer=t,this.config=e,this.typeSupported=n,this.ISGenerated=!1,null===R){var r=navigator.userAgent.match(/Chrome\/(\d+)/i);R=r?parseInt(r[1]):0}}var e=t.prototype;return e.destroy=function(){},e.resetTimeStamp=function(t){this._initPTS=this._initDTS=t},e.resetInitSegment=function(){this.ISGenerated=!1},e.getVideoStartPts=function(t){var e=!1,n=t.reduce(function(t,n){var i=n.pts-t;return i<-4294967296?(e=!0,N(t,n.pts)):i>0?t:n.pts},t[0].pts);return e&&s.logger.debug("PTS rollover detected"),n},e.remux=function(t,e,n,r,o,a,u){if(this.ISGenerated||this.generateIS(t,e,o),this.ISGenerated){var l=t.samples.length,c=e.samples.length,h=o,d=o;if(l&&c){var f=this.getVideoStartPts(e.samples),p=(N(t.samples[0].pts,f)-f)/e.inputTimeScale;h+=Math.max(0,p),d+=Math.max(0,-p)}if(l){t.timescale||(s.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(t,e,o));var m,g=this.remuxAudio(t,h,a,u);c&&(g&&(m=g.endPTS-g.startPTS),e.timescale||(s.logger.warn("regenerate InitSegment as video detected"),this.generateIS(t,e,o)),this.remuxVideo(e,d,a,m))}else if(c){var y=this.remuxVideo(e,d,a,0,u);y&&t.codec&&this.remuxEmptyAudio(t,h,a,y)}}n.samples.length&&this.remuxID3(n,o),r.samples.length&&this.remuxText(r,o),this.observer.trigger(i.default.FRAG_PARSED)},e.generateIS=function(t,e,n){var o,a,u=this.observer,l=t.samples,c=e.samples,h=this.typeSupported,d="audio/mp4",f={},p={tracks:f},m=void 0===this._initPTS;if(m&&(o=a=1/0),t.config&&l.length&&(t.timescale=t.samplerate,s.logger.log("audio sampling rate : "+t.samplerate),t.isAAC||(h.mpeg?(d="audio/mpeg",t.codec=""):h.mp3&&(t.codec="mp3")),f.audio={container:d,codec:t.codec,initSegment:!t.isAAC&&h.mpeg?new Uint8Array:C.initSegment([t]),metadata:{channelCount:t.channelCount}},m&&(o=a=l[0].pts-Math.round(t.inputTimeScale*n))),e.sps&&e.pps&&c.length){var g=e.inputTimeScale;if(e.timescale=g,f.video={container:"video/mp4",codec:e.codec,initSegment:C.initSegment([e]),metadata:{width:e.width,height:e.height}},m){var y=this.getVideoStartPts(c),v=Math.round(g*n);a=Math.min(a,N(c[0].dts,y)-v),o=Math.min(o,y-v),this.observer.trigger(i.default.INIT_PTS_FOUND,{initPTS:o})}}else m&&f.audio&&this.observer.trigger(i.default.INIT_PTS_FOUND,{initPTS:o});Object.keys(f).length?(u.trigger(i.default.FRAG_PARSING_INIT_SEGMENT,p),this.ISGenerated=!0,m&&(this._initPTS=o,this._initDTS=a)):u.trigger(i.default.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},e.remuxVideo=function(t,e,n,o){var a,u,l,c,h,d=t.timescale,f=t.samples,p=[],m=f.length,g=this._initPTS,y=8,v=Number.POSITIVE_INFINITY,_=Number.NEGATIVE_INFINITY,b=0,x=!1,w=this.nextAvcDts;if(0!==m){n||(w=e*d-(f[0].pts-N(f[0].dts,f[0].pts)));for(var k=0;k<m;k++){var M=f[k];M.pts=N(M.pts-g,w),M.dts=N(M.dts-g,w),M.dts>M.pts&&(b=Math.max(Math.min(b,M.pts-M.dts),-1*A)),M.dts<f[k>0?k-1:k].dts&&(x=!0)}x&&f.sort(function(t,e){return t.dts-e.dts||t.pts-e.pts||t.id-e.id}),c=f[0].dts,h=f[m-1].dts;var S=Math.round((h-c)/(m-1));if(b<0){if(b<-2*S){s.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+P(-S,!0)+" ms");for(var E=b,L=0;L<m;L++)f[L].dts=E=Math.max(E,f[L].pts-S),f[L].pts=Math.max(E,f[L].pts)}else{s.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+P(b,!0)+" ms to overcome this issue");for(var T=0;T<m;T++)f[T].dts=f[T].dts+b}c=f[0].dts,h=f[m-1].dts}if(n){var I=c-w,D=I>S;if(D||I<-1){s.logger.warn(D?"AVC: "+P(I,!0)+" ms ("+I+"dts) hole between fragments detected, filling it":"AVC: "+P(-I,!0)+" ms ("+I+"dts) overlapping between fragments detected");var O=f[0].pts-I;f[0].dts=c=w,f[0].pts=O,s.logger.log("Video: First PTS/DTS adjusted: "+P(O,!0)+"/"+P(c,!0)+", delta: "+P(I,!0)+" ms")}}R&&R<75&&(c=Math.max(0,c));for(var F=0,Y=0,z=0;z<m;z++){for(var j=f[z],B=j.units,H=B.length,U=0,V=0;V<H;V++)U+=B[V].data.length;Y+=U,F+=H,j.length=U,j.dts=Math.max(j.dts,c),j.pts=Math.max(j.pts,j.dts,0),v=Math.min(j.pts,v),_=Math.max(j.pts,_)}h=f[m-1].dts;var q=Y+4*F+8;try{u=new Uint8Array(q)}catch(ct){return void this.observer.trigger(i.default.ERROR,{type:r.ErrorTypes.MUX_ERROR,details:r.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:q,reason:"fail allocating video mdat "+q})}var G=new DataView(u.buffer);G.setUint32(0,q),u.set(C.types.mdat,4);for(var W=0;W<m;W++){for(var X,K=f[W],Z=K.units,Q=0,J=0,$=Z.length;J<$;J++){var tt=Z[J],et=tt.data,nt=tt.data.byteLength;G.setUint32(y,nt),u.set(et,y+=4),y+=nt,Q+=4+nt}if(W<m-1)a=f[W+1].dts-K.dts;else{var it=this.config,rt=K.dts-f[W>0?W-1:W].dts;if(it.stretchShortVideoTrack){var ot=Math.floor(it.maxBufferHole*d),at=(o?v+o*d:this.nextAudioPts)-K.pts;at>ot?((a=at-rt)<0&&(a=rt),s.logger.log("It is approximately "+P(at,!1)+" ms to the next segment; using duration "+P(a,!1)+" ms for the last video frame.")):a=rt}else a=rt}X=Math.round(K.pts-K.dts),p.push({size:Q,duration:a,cts:X,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:K.key?2:1,isNonSync:K.key?0:1}})}this.nextAvcDts=h+a;var st=t.dropped;if(t.nbNalu=0,t.dropped=0,p.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var ut=p[0].flags;ut.dependsOn=2,ut.isNonSync=0}t.samples=p,l=C.moof(t.sequenceNumber++,c,t),t.samples=[];var lt={data1:l,data2:u,startPTS:v/d,endPTS:(_+a)/d,startDTS:c/d,endDTS:this.nextAvcDts/d,type:"video",hasAudio:!1,hasVideo:!0,nb:p.length,dropped:st};return this.observer.trigger(i.default.FRAG_PARSING_DATA,lt),lt}},e.remuxAudio=function(t,e,n,o){var a,u,l,c,h,d,f=t.inputTimeScale,p=f/t.timescale,m=(t.isAAC?1024:1152)*p,g=this._initPTS,y=!t.isAAC&&this.typeSupported.mpeg,v=y?0:8,_=t.samples,b=[],x=this.nextAudioPts;if(n|=_.length&&x&&(o&&Math.abs(e-x/f)<.1||Math.abs(_[0].pts-x-g)<20*m),_.forEach(function(t){t.pts=t.dts=N(t.pts-g,e*f)}),0!==(_=_.filter(function(t){return t.pts>=0})).length){if(n||(x=o?Math.max(0,e*f):_[0].pts),t.isAAC)for(var w=this.config.maxAudioFramesDrift,k=0,M=x;k<_.length;){var S=_[k],E=S.pts,T=E-M;if(T<=-w*m)n||k>0?(s.logger.warn("Dropping 1 audio frame @ "+P(M,!0)/1e3+"s due to "+P(T,!0)+" ms overlap."),_.splice(k,1)):(s.logger.warn("Audio frame @ "+P(E,!0)/1e3+"s overlaps nextAudioPts by "+P(T,!0)+" ms."),M=E+m,k++);else if(T>=w*m&&T<O&&M){var I=Math.round(T/m);s.logger.warn("Injecting "+I+" audio frames @ "+P(M,!0)/1e3+"s due to "+P(T,!0)+" ms gap.");for(var D=0;D<I;D++){var A=Math.max(M,0);(u=L.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),u=S.unit.subarray()),_.splice(k,0,{unit:u,pts:A,dts:A}),M+=m,k++}S.pts=S.dts=M,M+=m,k++}else Math.abs(T),S.pts=S.dts=M,M+=m,k++}for(var R=_.length,F=0;R--;)F+=_[R].unit.byteLength;for(var Y=0,z=_.length;Y<z;Y++){var j=_[Y],B=j.unit,H=j.pts;if(void 0!==d&&a)a.duration=Math.round((H-d)/p);else{var U=H-x,V=0;if(n&&t.isAAC&&U){if(U>0&&U<O)V=Math.round((H-x)/m),s.logger.log(P(U,!0)+" ms hole between AAC samples detected,filling it"),V>0&&((u=L.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(u=B.subarray()),F+=V*u.length);else if(U<-12){s.logger.log("drop overlapping AAC sample, expected/parsed/delta: "+P(x,!0)+" ms / "+P(H,!0)+" ms / "+P(-U,!0)+" ms"),F-=B.byteLength;continue}H=x}if(h=H,!(F>0))return;F+=v;try{l=new Uint8Array(F)}catch(Q){return void this.observer.trigger(i.default.ERROR,{type:r.ErrorTypes.MUX_ERROR,details:r.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:F,reason:"fail allocating audio mdat "+F})}y||(new DataView(l.buffer).setUint32(0,F),l.set(C.types.mdat,4));for(var q=0;q<V;q++)(u=L.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(s.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),u=B.subarray()),l.set(u,v),v+=u.byteLength,b.push(a={size:u.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}})}l.set(B,v);var G=B.byteLength;v+=G,b.push(a={size:G,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}}),d=H}var W=0;if((R=b.length)>=2&&(a.duration=W=b[R-2].duration),R){this.nextAudioPts=x=d+p*W,t.samples=b,c=y?new Uint8Array:C.moof(t.sequenceNumber++,h/p,t),t.samples=[];var X=h/f,K=x/f,Z={data1:c,data2:l,startPTS:X,endPTS:K,startDTS:X,endDTS:K,type:"audio",hasAudio:!0,hasVideo:!1,nb:R};return this.observer.trigger(i.default.FRAG_PARSING_DATA,Z),Z}return null}},e.remuxEmptyAudio=function(t,e,n,i){var r=t.inputTimeScale,o=this.nextAudioPts,a=(void 0!==o?o:i.startDTS*r)+this._initDTS,u=r/(t.samplerate?t.samplerate:r)*1024,l=Math.ceil((i.endDTS*r+this._initDTS-a)/u),c=L.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(s.logger.warn("remux empty Audio"),c){for(var h=[],d=0;d<l;d++){var f=a+d*u;h.push({unit:c,pts:f,dts:f})}t.samples=h,this.remuxAudio(t,e,n)}else s.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},e.remuxID3=function(t,e){var n=t.samples.length;if(n){for(var r=t.inputTimeScale,o=this._initPTS,a=this._initDTS,s=0;s<n;s++){var u=t.samples[s];u.pts=N(u.pts-o,e*r)/r,u.dts=N(u.dts-a,e*r)/r}this.observer.trigger(i.default.FRAG_PARSING_METADATA,{samples:t.samples}),t.samples=[]}},e.remuxText=function(t,e){var n=t.samples.length,r=t.inputTimeScale,o=this._initPTS;if(n){for(var a=0;a<n;a++){var s=t.samples[a];s.pts=N(s.pts-o,e*r)/r}t.samples.sort(function(t,e){return t.pts-e.pts}),this.observer.trigger(i.default.FRAG_PARSING_USERDATA,{samples:t.samples})}t.samples=[]},t}(),z=function(){function t(t){this.observer=t}var e=t.prototype;return e.destroy=function(){},e.resetTimeStamp=function(){},e.resetInitSegment=function(){},e.remux=function(t,e,n,r,o,a,s,u){var l=this.observer,c="";t&&(c+="audio"),e&&(c+="video"),l.trigger(i.default.FRAG_PARSING_DATA,{data1:u,startPTS:o,startDTS:o,type:c,hasAudio:!!t,hasVideo:!!e,nb:1,dropped:0}),l.trigger(i.default.FRAG_PARSED)},t}(),j=Object(u.getSelfScope)();try{F=j.performance.now.bind(j.performance)}catch(B){s.logger.debug("Unable to use Performance API on this environment"),F=j.Date.now}e.default=function(){function t(t,e,n,i){this.observer=t,this.typeSupported=e,this.config=n,this.vendor=i}var e=t.prototype;return e.destroy=function(){var t=this.demuxer;t&&t.destroy()},e.push=function(t,e,n,r,a,s,u,l,c,h,d,f){var p=this;if(t.byteLength>0&&null!=e&&null!=e.key&&"AES-128"===e.method){var m=this.decrypter;null==m&&(m=this.decrypter=new o.default(this.observer,this.config));var g=F();m.decrypt(t,e.key.buffer,e.iv.buffer,function(t){var o=F();p.observer.trigger(i.default.FRAG_DECRYPTED,{stats:{tstart:g,tdecrypt:o}}),p.pushDecrypted(new Uint8Array(t),e,new Uint8Array(n),r,a,s,u,l,c,h,d,f)})}else this.pushDecrypted(new Uint8Array(t),e,new Uint8Array(n),r,a,s,u,l,c,h,d,f)},e.pushDecrypted=function(t,e,n,o,a,s,u,l,c,h,d,f){var p=this.demuxer,m=this.remuxer;if(!p||u||l){for(var g,y=this.observer,b=this.typeSupported,x=this.config,w=[{demux:S,remux:Y},{demux:_.default,remux:z},{demux:v,remux:Y},{demux:E,remux:Y}],k=0,M=w.length;k<M&&!(g=w[k]).demux.probe(t);k++);if(!g)return void y.trigger(i.default.ERROR,{type:r.ErrorTypes.MEDIA_ERROR,details:r.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});m&&m instanceof g.remux||(m=new g.remux(y,x,b,this.vendor)),p&&p instanceof g.demux||(p=new g.demux(y,m,x,b),this.probe=g.demux.probe),this.demuxer=p,this.remuxer=m}(u||l)&&(p.resetInitSegment(n,o,a,h),m.resetInitSegment()),u&&(p.resetTimeStamp(f),m.resetTimeStamp(f)),"function"==typeof p.setDecryptData&&p.setDecryptData(e),p.append(t,s,c,d)},t}()},"./src/demux/demuxer-worker.js":function(t,e,n){"use strict";n.r(e);var i=n("./src/demux/demuxer-inline.js"),r=n("./src/events.js"),o=n("./src/utils/logger.js"),a=n("./node_modules/eventemitter3/index.js");e.default=function(t){var e=new a.EventEmitter;e.trigger=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t,t].concat(i))},e.off=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.removeListener.apply(e,[t].concat(i))};var n=function(e,n){t.postMessage({event:e,data:n})};t.addEventListener("message",function(r){var a=r.data;switch(a.cmd){case"init":var s=JSON.parse(a.config);t.demuxer=new i.default(e,a.typeSupported,s,a.vendor),Object(o.enableLogs)(s.debug),n("init",null);break;case"demux":t.demuxer.push(a.data,a.decryptdata,a.initSegment,a.audioCodec,a.videoCodec,a.timeOffset,a.discontinuity,a.trackSwitch,a.contiguous,a.duration,a.accurateTimeOffset,a.defaultInitPTS)}}),e.on(r.default.FRAG_DECRYPTED,n),e.on(r.default.FRAG_PARSING_INIT_SEGMENT,n),e.on(r.default.FRAG_PARSED,n),e.on(r.default.ERROR,n),e.on(r.default.FRAG_PARSING_METADATA,n),e.on(r.default.FRAG_PARSING_USERDATA,n),e.on(r.default.INIT_PTS_FOUND,n),e.on(r.default.FRAG_PARSING_DATA,function(e,n){var i=[],r={event:e,data:n};n.data1&&(r.data1=n.data1.buffer,i.push(n.data1.buffer),delete n.data1),n.data2&&(r.data2=n.data2.buffer,i.push(n.data2.buffer),delete n.data2),t.postMessage(r,i)})}},"./src/demux/id3.js":function(t,e,n){"use strict";n.r(e),n.d(e,"utf8ArrayToStr",function(){return s});var i,r=n("./src/utils/get-self-scope.js"),o=function(){function t(){}return t.isHeader=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.isFooter=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.getID3Data=function(e,n){for(var i=n,r=0;t.isHeader(e,n);)r+=10,r+=t._readSize(e,n+6),t.isFooter(e,n+10)&&(r+=10),n+=r;if(r>0)return e.subarray(i,i+r)},t._readSize=function(t,e){var n=0;return n=(127&t[e])<<21,n|=(127&t[e+1])<<14,(n|=(127&t[e+2])<<7)|127&t[e+3]},t.getTimeStamp=function(e){for(var n=t.getID3Frames(e),i=0;i<n.length;i++){var r=n[i];if(t.isTimeStampFrame(r))return t._readTimeStamp(r)}},t.isTimeStampFrame=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},t._getFrameData=function(e){var n=String.fromCharCode(e[0],e[1],e[2],e[3]),i=t._readSize(e,4);return{type:n,size:i,data:e.subarray(10,10+i)}},t.getID3Frames=function(e){for(var n=0,i=[];t.isHeader(e,n);){for(var r=t._readSize(e,n+6),o=(n+=10)+r;n+8<o;){var a=t._getFrameData(e.subarray(n)),s=t._decodeFrame(a);s&&i.push(s),n+=a.size+10}t.isFooter(e,n)&&(n+=10)}return i},t._decodeFrame=function(e){return"PRIV"===e.type?t._decodePrivFrame(e):"W"===e.type[0]?t._decodeURLFrame(e):t._decodeTextFrame(e)},t._readTimeStamp=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),n=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return n/=45,1&e[3]&&(n+=47721858.84),Math.round(n)}},t._decodePrivFrame=function(e){if(!(e.size<2)){var n=t._utf8ArrayToStr(e.data,!0),i=new Uint8Array(e.data.subarray(n.length+1));return{key:e.type,info:n,data:i.buffer}}},t._decodeTextFrame=function(e){if(!(e.size<2)){if("TXXX"===e.type){var n=1,i=t._utf8ArrayToStr(e.data.subarray(n),!0),r=t._utf8ArrayToStr(e.data.subarray(n+=i.length+1));return{key:e.type,info:i,data:r}}var o=t._utf8ArrayToStr(e.data.subarray(1));return{key:e.type,data:o}}},t._decodeURLFrame=function(e){if("WXXX"===e.type){if(e.size<2)return;var n=1,i=t._utf8ArrayToStr(e.data.subarray(n),!0),r=t._utf8ArrayToStr(e.data.subarray(n+=i.length+1));return{key:e.type,info:i,data:r}}var o=t._utf8ArrayToStr(e.data);return{key:e.type,data:o}},t._utf8ArrayToStr=function(t,e){void 0===e&&(e=!1);var n=a();if(n){var i=n.decode(t);if(e){var r=i.indexOf("\0");return-1!==r?i.substring(0,r):i}return i.replace(/\0/g,"")}for(var o,s,u,l=t.length,c="",h=0;h<l;){if(0===(o=t[h++])&&e)return c;if(0!==o&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c+=String.fromCharCode(o);break;case 12:case 13:s=t[h++],c+=String.fromCharCode((31&o)<<6|63&s);break;case 14:s=t[h++],u=t[h++],c+=String.fromCharCode((15&o)<<12|(63&s)<<6|(63&u)<<0)}}return c},t}();function a(){var t=Object(r.getSelfScope)();return i||void 0===t.TextDecoder||(i=new t.TextDecoder("utf-8")),i}var s=o._utf8ArrayToStr;e.default=o},"./src/demux/mp4demuxer.js":function(t,e,n){"use strict";n.r(e);var i=n("./src/utils/logger.js"),r=n("./src/events.js"),o=Math.pow(2,32)-1;e.default=function(){function t(t,e){this.observer=t,this.remuxer=e}var e=t.prototype;return e.resetTimeStamp=function(t){this.initPTS=t},e.resetInitSegment=function(e,n,i,o){if(e&&e.byteLength){var a=this.initData=t.parseInitSegment(e);null==n&&(n="mp4a.40.5"),null==i&&(i="avc1.42e01e");var s={};a.audio&&a.video?s.audiovideo={container:"video/mp4",codec:n+","+i,initSegment:o?e:null}:(a.audio&&(s.audio={container:"audio/mp4",codec:n,initSegment:o?e:null}),a.video&&(s.video={container:"video/mp4",codec:i,initSegment:o?e:null})),this.observer.trigger(r.default.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else n&&(this.audioCodec=n),i&&(this.videoCodec=i)},t.probe=function(e){return t.findBox({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length>0},t.bin2str=function(t){return String.fromCharCode.apply(null,t)},t.readUint16=function(t,e){t.data&&(e+=t.start,t=t.data);var n=t[e]<<8|t[e+1];return n<0?65536+n:n},t.readUint32=function(t,e){t.data&&(e+=t.start,t=t.data);var n=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return n<0?4294967296+n:n},t.writeUint32=function(t,e,n){t.data&&(e+=t.start,t=t.data),t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n},t.findBox=function(e,n){var i,r,o,a,s,u,l=[];if(e.data?(s=e.start,o=e.end,e=e.data):(s=0,o=e.byteLength),!n.length)return null;for(i=s;i<o;)u=(r=t.readUint32(e,i))>1?i+r:o,t.bin2str(e.subarray(i+4,i+8))===n[0]&&(1===n.length?l.push({data:e,start:i+8,end:u}):(a=t.findBox({data:e,start:i+8,end:u},n.slice(1))).length&&(l=l.concat(a))),i=u;return l},t.parseSegmentIndex=function(e){var n,i=t.findBox(e,["moov"])[0],r=i?i.end:null,o=0,a=t.findBox(e,["sidx"]);if(!a||!a[0])return null;n=[];var s=(a=a[0]).data[0],u=t.readUint32(a,o=0===s?8:16);o+=4,o+=0===s?8:16;var l=a.end+0,c=t.readUint16(a,o+=2);o+=2;for(var h=0;h<c;h++){var d=o,f=t.readUint32(a,d);d+=4;var p=2147483647&f;if(1==(2147483648&f)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var m=t.readUint32(a,d);d+=4,n.push({referenceSize:p,subsegmentDuration:m,info:{duration:m/u,start:l,end:l+p-1}}),l+=p,o=d+=4}return{earliestPresentationTime:0,timescale:u,version:s,referencesCount:c,references:n,moovEndOffset:r}},t.parseInitSegment=function(e){var n=[];return t.findBox(e,["moov","trak"]).forEach(function(e){var r=t.findBox(e,["tkhd"])[0];if(r){var o=r.data[r.start],a=0===o?12:20,s=t.readUint32(r,a),u=t.findBox(e,["mdia","mdhd"])[0];if(u){var l=t.readUint32(u,a=0===(o=u.data[u.start])?12:20),c=t.findBox(e,["mdia","hdlr"])[0];if(c){var h={soun:"audio",vide:"video"}[t.bin2str(c.data.subarray(c.start+8,c.start+12))];if(h){var d=t.findBox(e,["mdia","minf","stbl","stsd"]);if(d.length){var f=t.bin2str((d=d[0]).data.subarray(d.start+12,d.start+16));i.logger.log("MP4Demuxer:"+h+":"+f+" found")}n[s]={timescale:l,type:h},n[h]={timescale:l,id:s}}}}}}),n},t.getStartDTS=function(e,n){var i,r,o;return i=t.findBox(n,["moof","traf"]),r=[].concat.apply([],i.map(function(n){return t.findBox(n,["tfhd"]).map(function(i){var r,o;return r=t.readUint32(i,4),o=e[r].timescale||9e4,t.findBox(n,["tfdt"]).map(function(e){var n,i;return n=e.data[e.start],i=t.readUint32(e,4),1===n&&(i*=Math.pow(2,32),i+=t.readUint32(e,8)),i})[0]/o})})),o=Math.min.apply(null,r),isFinite(o)?o:0},t.offsetStartDTS=function(e,n,i){t.findBox(n,["moof","traf"]).map(function(n){return t.findBox(n,["tfhd"]).map(function(r){var a=t.readUint32(r,4),s=e[a].timescale||9e4;t.findBox(n,["tfdt"]).map(function(e){var n=e.data[e.start],r=t.readUint32(e,4);if(0===n)t.writeUint32(e,4,r-i*s);else{r*=Math.pow(2,32),r+=t.readUint32(e,8),r-=i*s,r=Math.max(r,0);var a=Math.floor(r/(o+1)),u=Math.floor(r%(o+1));t.writeUint32(e,4,a),t.writeUint32(e,8,u)}})})})},e.append=function(e,n,i,o){var a=this.initData;a||(this.resetInitSegment(e,this.audioCodec,this.videoCodec,!1),a=this.initData);var s,u=this.initPTS;if(void 0===u){var l=t.getStartDTS(a,e);this.initPTS=u=l-n,this.observer.trigger(r.default.INIT_PTS_FOUND,{initPTS:u})}t.offsetStartDTS(a,e,u),s=t.getStartDTS(a,e),this.remuxer.remux(a.audio,a.video,null,null,s,i,o,e)},e.destroy=function(){},t}()},"./src/errors.ts":function(t,e,n){"use strict";var i,r;n.r(e),n.d(e,"ErrorTypes",function(){return i}),n.d(e,"ErrorDetails",function(){return r}),function(t){t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError"}(i||(i={})),function(t){t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException"}(r||(r={}))},"./src/events.js":function(t,e,n){"use strict";n.r(e),e.default={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",LEVELS_UPDATED:"hlsLevelsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",CUES_PARSED:"hlsCuesParsed",NON_NATIVE_TEXT_TRACKS_FOUND:"hlsNonNativeTextTracksFound",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition",LIVE_BACK_BUFFER_REACHED:"hlsLiveBackBufferReached"}},"./src/hls.ts":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return Ce});var i={};n.r(i),n.d(i,"newCue",function(){return jt});var r,o,a=n("./node_modules/url-toolkit/src/url-toolkit.js"),s=n("./src/errors.ts"),u=n("./src/polyfills/number.js"),l=n("./src/events.js"),c=n("./src/utils/logger.js"),h={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},d=function(){function t(t){this.hls=void 0,this.handledEvents=void 0,this.useGenericHandler=void 0,this.hls=t,this.onEvent=this.onEvent.bind(this);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.handledEvents=n,this.useGenericHandler=!0,this.registerListeners()}var e=t.prototype;return e.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},e.onHandlerDestroying=function(){},e.onHandlerDestroyed=function(){},e.isEventHandler=function(){return"object"==typeof this.handledEvents&&this.handledEvents.length&&"function"==typeof this.onEvent},e.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){if(h[t])throw new Error("Forbidden event-name: "+t);this.hls.on(t,this.onEvent)},this)},e.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){this.hls.off(t,this.onEvent)},this)},e.onEvent=function(t,e){this.onEventGeneric(t,e)},e.onEventGeneric=function(t,e){try{(function(t,e){var n="on"+t.replace("hls","");if("function"!=typeof this[n])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,e)}).call(this,t,e).call()}catch(n){c.logger.error("An internal error happened while handling event "+t+'. Error message: "'+n.message+'". Here is a stacktrace:',n),this.hls.trigger(l.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:t,err:n})}},t}();!function(t){t.MANIFEST="manifest",t.LEVEL="level",t.AUDIO_TRACK="audioTrack",t.SUBTITLE_TRACK="subtitleTrack"}(r||(r={})),function(t){t.MAIN="main",t.AUDIO="audio",t.SUBTITLE="subtitle"}(o||(o={}));var f,p=n("./src/demux/mp4demuxer.js"),m=function(){function t(t,e){this._uri=null,this.baseuri=void 0,this.reluri=void 0,this.method=null,this.key=null,this.iv=null,this.baseuri=t,this.reluri=e}var e;return(e=[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=Object(a.buildAbsoluteURL)(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}();!function(t){t.AUDIO="audio",t.VIDEO="video"}(f||(f={}));var g=function(){function t(){var t;this._url=null,this._byteRange=null,this._decryptdata=null,this._elementaryStreams=((t={})[f.AUDIO]=!1,t[f.VIDEO]=!1,t),this.deltaPTS=0,this.rawProgramDateTime=null,this.programDateTime=null,this.title=null,this.tagList=[],this.cc=void 0,this.type=void 0,this.relurl=void 0,this.baseurl=void 0,this.duration=void 0,this.start=void 0,this.sn=0,this.urlId=0,this.level=0,this.levelkey=void 0,this.loader=void 0}var e,n=t.prototype;return n.setByteRange=function(t,e){var n=t.split("@",2),i=[];i[0]=1===n.length?e?e.byteRangeEndOffset:0:parseInt(n[1]),i[1]=parseInt(n[0])+i[0],this._byteRange=i},n.addElementaryStream=function(t){this._elementaryStreams[t]=!0},n.hasElementaryStream=function(t){return!0===this._elementaryStreams[t]},n.createInitializationVector=function(t){for(var e=new Uint8Array(16),n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e},n.setDecryptDataFromLevelKey=function(t,e){var n=t;return(null==t?void 0:t.method)&&t.uri&&!t.iv&&((n=new m(t.baseuri,t.reluri)).method=t.method,n.iv=this.createInitializationVector(e)),n},(e=[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=Object(a.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(t){this._url=t}},{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var t=this.sn;"number"!=typeof t&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&c.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),t=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,t)}return this._decryptdata}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object(u.isFiniteNumber)(this.programDateTime))return null;var t=Object(u.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*t}},{key:"encrypted",get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}(),y=function(){function t(t){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=t,this.version=null}var e;return(e=[{key:"hasProgramDateTime",get:function(){return!(!this.fragments[0]||!Object(u.isFiniteNumber)(this.fragments[0].programDateTime))}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}(),v=/^(\d+)x(\d+)$/,_=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,b=function(){function t(e){for(var n in"string"==typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(n)&&(this[n]=e[n])}var e=t.prototype;return e.decimalInteger=function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var n=new Uint8Array(e.length/2),i=0;i<e.length/2;i++)n[i]=parseInt(e.slice(2*i,2*i+2),16);return n}return null},e.hexadecimalIntegerAsNumber=function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.decimalFloatingPoint=function(t){return parseFloat(this[t])},e.enumeratedString=function(t){return this[t]},e.decimalResolution=function(t){var e=v.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},t.parseAttrList=function(t){var e,n={};for(_.lastIndex=0;null!==(e=_.exec(t));){var i=e[2];0===i.indexOf('"')&&i.lastIndexOf('"')===i.length-1&&(i=i.slice(1,-1)),n[e[1]]=i}return n},t}(),x={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};function w(t,e){return MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}var k=/(?:#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)|#EXT-X-SESSION-DATA:([^\n\r]*)[\r\n]+)/g,M=/#EXT-X-MEDIA:(.*)/g,S=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),E=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,L=/\.(mp4|m4s|m4v|m4a)$/i,T=function(){function t(){}return t.findGroup=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i.id===e)return i}},t.convertAVC1ToAVCOTI=function(t){var e,n=t.split(".");return n.length>2?(e=n.shift()+".",e+=parseInt(n.shift()).toString(16),e+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):e=t,e},t.resolve=function(t,e){return a.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},t.parseMasterPlaylist=function(e,n){var i,r=[],o={},a=!1;function s(t,e){["video","audio"].forEach(function(n){var i=t.filter(function(t){return function(t,e){var n=x[e];return!!n&&!0===n[t.slice(0,4)]}(t,n)});if(i.length){var r=i.filter(function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)});e[n+"Codec"]=r.length>0?r[0]:i[0],t=t.filter(function(t){return-1===i.indexOf(t)})}}),e.unknownCodecs=t}for(k.lastIndex=0;null!=(i=k.exec(e));)if(i[1]){var u={},l=u.attrs=new b(i[1]);u.url=t.resolve(i[2],n);var c=l.decimalResolution("RESOLUTION");c&&(u.width=c.width,u.height=c.height),u.bitrate=l.decimalInteger("AVERAGE-BANDWIDTH")||l.decimalInteger("BANDWIDTH"),u.name=l.NAME,s([].concat((l.CODECS||"").split(/[ ,]+/)),u),u.videoCodec&&-1!==u.videoCodec.indexOf("avc1")&&(u.videoCodec=t.convertAVC1ToAVCOTI(u.videoCodec)),r.push(u)}else if(i[3]){var h=new b(i[3]);h["DATA-ID"]&&(a=!0,o[h["DATA-ID"]]=h)}return{levels:r,sessionData:a?o:null}},t.parseMasterPlaylistMedia=function(e,n,i,r){var o;void 0===r&&(r=[]);var a=[],s=0;for(M.lastIndex=0;null!==(o=M.exec(e));){var u=new b(o[1]);if(u.TYPE===i){var l={attrs:u,id:s++,groupId:u["GROUP-ID"],instreamId:u["INSTREAM-ID"],name:u.NAME||u.LANGUAGE,type:i,default:"YES"===u.DEFAULT,autoselect:"YES"===u.AUTOSELECT,forced:"YES"===u.FORCED,lang:u.LANGUAGE};if(u.URI&&(l.url=t.resolve(u.URI,n)),r.length){var c=t.findGroup(r,l.groupId);l.audioCodec=c?c.codec:r[0].codec}a.push(l)}}return a},t.parseLevelPlaylist=function(t,e,n,i,r){var o,a,s,l=0,h=0,d=new y(e),f=0,p=null,v=new g,_=null;for(S.lastIndex=0;null!==(o=S.exec(t));){var x=o[1];if(x){v.duration=parseFloat(x);var w=(" "+o[2]).slice(1);v.title=w||null,v.tagList.push(w?["INF",x,w]:["INF",x])}else if(o[3]){if(Object(u.isFiniteNumber)(v.duration)){var k=l++;v.type=i,v.start=h,s&&(v.levelkey=s),v.sn=k,v.level=n,v.cc=f,v.urlId=r,v.baseurl=e,v.relurl=(" "+o[3]).slice(1),C(v,p),d.fragments.push(v),p=v,h+=v.duration,v=new g}}else if(o[4]){var M=(" "+o[4]).slice(1);p?v.setByteRange(M,p):v.setByteRange(M)}else if(o[5])v.rawProgramDateTime=(" "+o[5]).slice(1),v.tagList.push(["PROGRAM-DATE-TIME",v.rawProgramDateTime]),null===_&&(_=d.fragments.length);else{if(!(o=o[0].match(E))){c.logger.warn("No matches on slow regex match for level playlist!");continue}for(a=1;a<o.length&&void 0===o[a];a++);var T=(" "+o[a+1]).slice(1),I=(" "+o[a+2]).slice(1);switch(o[a]){case"#":v.tagList.push(I?[T,I]:[T]);break;case"PLAYLIST-TYPE":d.type=T.toUpperCase();break;case"MEDIA-SEQUENCE":l=d.startSN=parseInt(T);break;case"TARGETDURATION":d.targetduration=parseFloat(T);break;case"VERSION":d.version=parseInt(T);break;case"EXTM3U":break;case"ENDLIST":d.live=!1;break;case"DIS":f++,v.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":f=parseInt(T);break;case"KEY":var P=new b(T),D=P.enumeratedString("METHOD"),O=P.URI,A=P.hexadecimalInteger("IV");if("com.apple.streamingkeydelivery"===(P.KEYFORMAT||"identity")){c.logger.warn("Keyformat com.apple.streamingkeydelivery is not supported");continue}D&&(s=new m(e,O),O&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(D)>=0&&(s.method=D,s.key=null,s.iv=A));break;case"START":var R=new b(T).decimalFloatingPoint("TIME-OFFSET");Object(u.isFiniteNumber)(R)&&(d.startTimeOffset=R);break;case"MAP":var N=new b(T);v.relurl=N.URI,N.BYTERANGE&&v.setByteRange(N.BYTERANGE),v.baseurl=e,v.level=n,v.type=i,v.sn="initSegment",d.initSegment=v,(v=new g).rawProgramDateTime=d.initSegment.rawProgramDateTime;break;default:c.logger.warn("line parsed but not handled: "+o)}}}return(v=p)&&!v.relurl&&(d.fragments.pop(),h-=v.duration),d.totalduration=h,d.averagetargetduration=h/d.fragments.length,d.endSN=l-1,d.startCC=d.fragments[0]?d.fragments[0].cc:0,d.endCC=f,!d.initSegment&&d.fragments.length&&d.fragments.every(function(t){return L.test(t.relurl)})&&(c.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(v=new g).relurl=d.fragments[0].relurl,v.baseurl=e,v.level=n,v.type=i,v.sn="initSegment",d.initSegment=v,d.needSidxRanges=!0),_&&function(t,e){for(var n=t[e],i=e-1;i>=0;i--){var r=t[i];r.programDateTime=n.programDateTime-1e3*r.duration,n=r}}(d.fragments,_),d},t}();function C(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):(null==e?void 0:e.programDateTime)&&(t.programDateTime=e.endProgramDateTime),Object(u.isFiniteNumber)(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}var I=window.performance,P=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,l.default.MANIFEST_LOADING,l.default.LEVEL_LOADING,l.default.AUDIO_TRACK_LOADING,l.default.SUBTITLE_TRACK_LOADING)||this).loaders={},n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.canHaveQualityLevels=function(t){return t!==r.AUDIO_TRACK&&t!==r.SUBTITLE_TRACK},i.mapContextToLevelType=function(t){switch(t.type){case r.AUDIO_TRACK:return o.AUDIO;case r.SUBTITLE_TRACK:return o.SUBTITLE;default:return o.MAIN}},i.getResponseUrl=function(t,e){var n=t.url;return void 0!==n&&0!==n.indexOf("data:")||(n=e.url),n};var a=i.prototype;return a.createInternalLoader=function(t){var e=this.hls.config,n=new(e.pLoader||e.loader)(e);return t.loader=n,this.loaders[t.type]=n,n},a.getInternalLoader=function(t){return this.loaders[t.type]},a.resetInternalLoader=function(t){this.loaders[t]&&delete this.loaders[t]},a.destroyInternalLoaders=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}},a.destroy=function(){this.destroyInternalLoaders(),t.prototype.destroy.call(this)},a.onManifestLoading=function(t){this.load({url:t.url,type:r.MANIFEST,level:0,id:null,responseType:"text"})},a.onLevelLoading=function(t){this.load({url:t.url,type:r.LEVEL,level:t.level,id:t.id,responseType:"text"})},a.onAudioTrackLoading=function(t){this.load({url:t.url,type:r.AUDIO_TRACK,level:null,id:t.id,responseType:"text"})},a.onSubtitleTrackLoading=function(t){this.load({url:t.url,type:r.SUBTITLE_TRACK,level:null,id:t.id,responseType:"text"})},a.load=function(t){var e=this.hls.config;c.logger.debug("Loading playlist of type "+t.type+", level: "+t.level+", id: "+t.id);var n,i,o,a,s=this.getInternalLoader(t);if(s){var u=s.context;if(u&&u.url===t.url)return c.logger.trace("playlist request ongoing"),!1;c.logger.warn("aborting previous loader for type: "+t.type),s.abort()}switch(t.type){case r.MANIFEST:n=e.manifestLoadingMaxRetry,i=e.manifestLoadingTimeOut,o=e.manifestLoadingRetryDelay,a=e.manifestLoadingMaxRetryTimeout;break;case r.LEVEL:n=0,a=0,o=0,i=e.levelLoadingTimeOut;break;default:n=e.levelLoadingMaxRetry,i=e.levelLoadingTimeOut,o=e.levelLoadingRetryDelay,a=e.levelLoadingMaxRetryTimeout}s=this.createInternalLoader(t);var l={timeout:i,maxRetry:n,retryDelay:o,maxRetryDelay:a},h={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return c.logger.debug("Calling internal loader delegate for URL: "+t.url),s.load(t,l,h),!0},a.loadsuccess=function(t,e,n,i){if(void 0===i&&(i=null),n.isSidxRequest)return this._handleSidxRequest(t,n),void this._handlePlaylistLoaded(t,e,n,i);if(this.resetInternalLoader(n.type),"string"!=typeof t.data)throw new Error('expected responseType of "text" for PlaylistLoader');var r=t.data;e.tload=I.now(),0===r.indexOf("#EXTM3U")?r.indexOf("#EXTINF:")>0||r.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(t,e,n,i):this._handleMasterPlaylist(t,e,n,i):this._handleManifestParsingError(t,n,"no EXTM3U delimiter",i)},a.loaderror=function(t,e,n){void 0===n&&(n=null),this._handleNetworkError(e,n,!1,t)},a.loadtimeout=function(t,e,n){void 0===n&&(n=null),this._handleNetworkError(e,n,!0)},a._handleMasterPlaylist=function(t,e,n,r){var o=this.hls,a=t.data,s=i.getResponseUrl(t,n),u=T.parseMasterPlaylist(a,s),h=u.levels,d=u.sessionData;if(h.length){var f=h.map(function(t){return{id:t.attrs.AUDIO,codec:t.audioCodec}}),p=T.parseMasterPlaylistMedia(a,s,"AUDIO",f),m=T.parseMasterPlaylistMedia(a,s,"SUBTITLES"),g=T.parseMasterPlaylistMedia(a,s,"CLOSED-CAPTIONS");if(p.length){var y=!1;p.forEach(function(t){t.url||(y=!0)}),!1===y&&h[0].audioCodec&&!h[0].attrs.AUDIO&&(c.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),p.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:{},url:""}))}o.trigger(l.default.MANIFEST_LOADED,{levels:h,audioTracks:p,subtitles:m,captions:g,url:s,stats:e,networkDetails:r,sessionData:d})}else this._handleManifestParsingError(t,n,"no level found in manifest",r)},a._handleTrackOrLevelPlaylist=function(t,e,n,o){var a=this.hls,c=n.id,h=n.level,d=n.type,f=i.getResponseUrl(t,n),p=Object(u.isFiniteNumber)(c)?c:0,m=Object(u.isFiniteNumber)(h)?h:p,g=i.mapContextToLevelType(n),y=T.parseLevelPlaylist(t.data,f,m,g,p);y.tload=e.tload,y.fragments.length?(d===r.MANIFEST&&a.trigger(l.default.MANIFEST_LOADED,{levels:[{url:f,details:y}],audioTracks:[],url:f,stats:e,networkDetails:o,sessionData:null}),e.tparsed=I.now(),y.needSidxRanges?this.load({url:y.initSegment.url,isSidxRequest:!0,type:d,level:h,levelDetails:y,id:c,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"}):(n.levelDetails=y,this._handlePlaylistLoaded(t,e,n,o))):a.trigger(l.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:f,reason:"no fragments found in level",level:"number"==typeof n.level?n.level:void 0})},a._handleSidxRequest=function(t,e){if("string"==typeof t.data)throw new Error("sidx request must be made with responseType of array buffer");var n=p.default.parseSegmentIndex(new Uint8Array(t.data));if(n){var i=e.levelDetails;n.references.forEach(function(t,e){var n=t.info;if(i){var r=i.fragments[e];0===r.byteRange.length&&r.setByteRange(String(1+n.end-n.start)+"@"+String(n.start))}}),i&&i.initSegment.setByteRange(String(n.moovEndOffset)+"@0")}},a._handleManifestParsingError=function(t,e,n,i){this.hls.trigger(l.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:t.url,reason:n,networkDetails:i})},a._handleNetworkError=function(t,e,n,i){var o,a;void 0===n&&(n=!1),void 0===i&&(i=null),c.logger.info("A network error occured while loading a "+t.type+"-type playlist");var u=this.getInternalLoader(t);switch(t.type){case r.MANIFEST:o=n?s.ErrorDetails.MANIFEST_LOAD_TIMEOUT:s.ErrorDetails.MANIFEST_LOAD_ERROR,a=!0;break;case r.LEVEL:o=n?s.ErrorDetails.LEVEL_LOAD_TIMEOUT:s.ErrorDetails.LEVEL_LOAD_ERROR,a=!1;break;case r.AUDIO_TRACK:o=n?s.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,a=!1;break;default:a=!1}u&&(u.abort(),this.resetInternalLoader(t.type));var h={type:s.ErrorTypes.NETWORK_ERROR,details:o,fatal:a,url:t.url,loader:u,context:t,networkDetails:e};i&&(h.response=i),this.hls.trigger(l.default.ERROR,h)},a._handlePlaylistLoaded=function(t,e,n,o){var a=n.type,s=n.level,u=n.id,c=n.levelDetails;if(c&&c.targetduration)if(i.canHaveQualityLevels(n.type))this.hls.trigger(l.default.LEVEL_LOADED,{details:c,level:s||0,id:u||0,stats:e,networkDetails:o});else switch(a){case r.AUDIO_TRACK:this.hls.trigger(l.default.AUDIO_TRACK_LOADED,{details:c,id:u,stats:e,networkDetails:o});break;case r.SUBTITLE_TRACK:this.hls.trigger(l.default.SUBTITLE_TRACK_LOADED,{details:c,id:u,stats:e,networkDetails:o})}else this._handleManifestParsingError(t,n,"invalid target duration",o)},i}(d),D=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,l.default.FRAG_LOADING)||this).loaders={},n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.destroy=function(){var e=this.loaders;for(var n in e){var i=e[n];i&&i.destroy()}this.loaders={},t.prototype.destroy.call(this)},r.onFragLoading=function(t){var e=t.frag,n=e.type,i=this.loaders,r=this.hls.config,o=r.fLoader,a=r.loader;e.loaded=0;var s,l,h,d=i[n];d&&(c.logger.warn("abort previous fragment loader for type: "+n),d.abort()),d=i[n]=e.loader=r.fLoader?new o(r):new a(r),s={url:e.url,frag:e,responseType:"arraybuffer",progressData:!1};var f=e.byteRangeStartOffset,p=e.byteRangeEndOffset;Object(u.isFiniteNumber)(f)&&Object(u.isFiniteNumber)(p)&&(s.rangeStart=f,s.rangeEnd=p),l={timeout:r.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:r.fragLoadingMaxRetryTimeout},h={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},d.load(s,l,h)},r.loadsuccess=function(t,e,n,i){void 0===i&&(i=null);var r=t.data,o=n.frag;o.loader=void 0,this.loaders[o.type]=void 0,this.hls.trigger(l.default.FRAG_LOADED,{payload:r,frag:o,stats:e,networkDetails:i})},r.loaderror=function(t,e,n){void 0===n&&(n=null);var i=e.frag,r=i.loader;r&&r.abort(),this.loaders[i.type]=void 0,this.hls.trigger(l.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t,networkDetails:n})},r.loadtimeout=function(t,e,n){void 0===n&&(n=null);var i=e.frag,r=i.loader;r&&r.abort(),this.loaders[i.type]=void 0,this.hls.trigger(l.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag,networkDetails:n})},r.loadprogress=function(t,e,n,i){void 0===i&&(i=null);var r=e.frag;r.loaded=t.loaded,this.hls.trigger(l.default.FRAG_LOAD_PROGRESS,{frag:r,stats:t,networkDetails:i})},i}(d),O=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,l.default.KEY_LOADING)||this).loaders={},n.decryptkey=null,n.decrypturl=null,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.destroy=function(){for(var e in this.loaders){var n=this.loaders[e];n&&n.destroy()}this.loaders={},t.prototype.destroy.call(this)},r.onKeyLoading=function(t){var e=t.frag,n=e.type,i=this.loaders[n];if(e.decryptdata){var r=e.decryptdata.uri;if(r!==this.decrypturl||null===this.decryptkey){var o=this.hls.config;if(i&&(c.logger.warn("abort previous key loader for type:"+n),i.abort()),!r)return void c.logger.warn("key uri is falsy");e.loader=this.loaders[n]=new o.loader(o),this.decrypturl=r,this.decryptkey=null;var a={url:r,frag:e,responseType:"arraybuffer"},s={timeout:o.fragLoadingTimeOut,maxRetry:0,retryDelay:o.fragLoadingRetryDelay,maxRetryDelay:o.fragLoadingMaxRetryTimeout},u={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};e.loader.load(a,s,u)}else this.decryptkey&&(e.decryptdata.key=this.decryptkey,this.hls.trigger(l.default.KEY_LOADED,{frag:e}))}else c.logger.warn("Missing decryption data on fragment in onKeyLoading")},r.loadsuccess=function(t,e,n){var i=n.frag;i.decryptdata?(this.decryptkey=i.decryptdata.key=new Uint8Array(t.data),i.loader=void 0,delete this.loaders[i.type],this.hls.trigger(l.default.KEY_LOADED,{frag:i})):c.logger.error("after key load, decryptdata unset")},r.loaderror=function(t,e){var n=e.frag,i=n.loader;i&&i.abort(),delete this.loaders[n.type],this.hls.trigger(l.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:n,response:t})},r.loadtimeout=function(t,e){var n=e.frag,i=n.loader;i&&i.abort(),delete this.loaders[n.type],this.hls.trigger(l.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},i}(d),A=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,l.default.BUFFER_APPENDED,l.default.FRAG_BUFFERED,l.default.FRAG_LOADED)||this).bufferPadding=.2,n.fragments=Object.create(null),n.timeRanges=Object.create(null),n.config=e.config,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,d.prototype.destroy.call(this),t.prototype.destroy.call(this)},r.getBufferedFrag=function(t,e){var n=this.fragments,i=Object.keys(n).filter(function(i){var r=n[i];if(r.body.type!==e)return!1;if(!r.buffered)return!1;var o=r.body;return o.startPTS<=t&&t<=o.endPTS});if(0===i.length)return null;var r=i.pop();return n[r].body},r.detectEvictedFragments=function(t,e){var n=this;Object.keys(this.fragments).forEach(function(i){var r=n.fragments[i];if(r&&r.buffered){var o=r.range[t];if(o)for(var a=o.time,s=0;s<a.length;s++){var u=a[s];if(!n.isTimeBuffered(u.startPTS,u.endPTS,e)){n.removeFragment(r.body);break}}}})},r.detectPartialFragments=function(t){var e=this,n=this.getFragmentKey(t),i=this.fragments[n];i&&(i.buffered=!0,Object.keys(this.timeRanges).forEach(function(n){t.hasElementaryStream(n)&&(i.range[n]=e.getBufferedTimes(t.startPTS,t.endPTS,e.timeRanges[n]))}))},r.getBufferedTimes=function(t,e,n){for(var i,r,o=[],a=!1,s=0;s<n.length;s++){if(i=n.start(s)-this.bufferPadding,r=n.end(s)+this.bufferPadding,t>=i&&e<=r){o.push({startPTS:Math.max(t,n.start(s)),endPTS:Math.min(e,n.end(s))});break}if(t<r&&e>i)o.push({startPTS:Math.max(t,n.start(s)),endPTS:Math.min(e,n.end(s))}),a=!0;else if(e<=i)break}return{time:o,partial:a}},r.getFragmentKey=function(t){return t.type+"_"+t.level+"_"+t.urlId+"_"+t.sn},r.getPartialFragment=function(t){var e,n,i,r=this,o=null,a=0;return Object.keys(this.fragments).forEach(function(s){var u=r.fragments[s];r.isPartial(u)&&(i=u.body.endPTS+r.bufferPadding,t>=(n=u.body.startPTS-r.bufferPadding)&&t<=i&&(e=Math.min(t-n,i-t),a<=e&&(o=u.body,a=e)))}),o},r.getState=function(t){var e=this.getFragmentKey(t),n=this.fragments[e],i="NOT_LOADED";return void 0!==n&&(i=n.buffered?!0===this.isPartial(n)?"PARTIAL":"OK":"APPENDING"),i},r.isPartial=function(t){return!0===t.buffered&&(void 0!==t.range.video&&!0===t.range.video.partial||void 0!==t.range.audio&&!0===t.range.audio.partial)},r.isTimeBuffered=function(t,e,n){for(var i,r,o=0;o<n.length;o++){if(i=n.start(o)-this.bufferPadding,r=n.end(o)+this.bufferPadding,t>=i&&e<=r)return!0;if(e<=i)return!1}return!1},r.onFragLoaded=function(t){var e=t.frag;Object(u.isFiniteNumber)(e.sn)&&!e.bitrateTest&&(this.fragments[this.getFragmentKey(e)]={body:e,range:Object.create(null),buffered:!1})},r.onBufferAppended=function(t){var e=this;this.timeRanges=t.timeRanges,Object.keys(this.timeRanges).forEach(function(t){e.detectEvictedFragments(t,e.timeRanges[t])})},r.onFragBuffered=function(t){this.detectPartialFragments(t.frag)},r.hasFragment=function(t){var e=this.getFragmentKey(t);return void 0!==this.fragments[e]},r.removeFragment=function(t){var e=this.getFragmentKey(t);delete this.fragments[e]},r.removeAllFragments=function(){this.fragments=Object.create(null)},i}(d),R=function(t,e){for(var n=0,i=t.length-1,r=null,o=null;n<=i;){var a=e(o=t[r=(n+i)/2|0]);if(a>0)n=r+1;else{if(!(a<0))return o;i=r-1}}return null},N=function(){function t(){}return t.isBuffered=function(t,e){try{if(t)for(var n=t.buffered,i=0;i<n.length;i++)if(e>=n.start(i)&&e<=n.end(i))return!0}catch(r){}return!1},t.bufferInfo=function(t,e,n){try{if(t){var i,r=t.buffered,o=[];for(i=0;i<r.length;i++)o.push({start:r.start(i),end:r.end(i)});return this.bufferedInfo(o,e,n)}}catch(a){}return{len:0,start:e,end:e,nextStart:void 0}},t.bufferedInfo=function(t,e,n){t.sort(function(t,e){return t.start-e.start||e.end-t.end});var i=[];if(n)for(var r=0;r<t.length;r++){var o=i.length;if(o){var a=i[o-1].end;t[r].start-a<n?t[r].end>a&&(i[o-1].end=t[r].end):i.push(t[r])}else i.push(t[r])}else i=t;for(var s,u=0,l=e,c=e,h=0;h<i.length;h++){var d=i[h].start,f=i[h].end;if(e+n>=d&&e<f)l=d,u=(c=f)-e;else if(e+n<d){s=d;break}}return{len:u,start:l,end:c,nextStart:s}},t}(),F=n("./node_modules/eventemitter3/index.js"),Y=n("./node_modules/webworkify-webpack/index.js"),z=n("./src/demux/demuxer-inline.js");function j(){return window.MediaSource||window.WebKitMediaSource}var B=n("./src/utils/get-self-scope.js"),H=function(t){var e,n;function i(){return t.apply(this,arguments)||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.prototype.trigger=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.emit.apply(this,[t,t].concat(n))},i}(F.EventEmitter),U=Object(B.getSelfScope)(),V=j()||{isTypeSupported:function(){return!1}},q=function(){function t(t,e){var n=this;this.hls=t,this.id=e;var i=this.observer=new H,r=t.config,o=function(e,i){(i=i||{}).frag=n.frag,i.id=n.id,t.trigger(e,i)};i.on(l.default.FRAG_DECRYPTED,o),i.on(l.default.FRAG_PARSING_INIT_SEGMENT,o),i.on(l.default.FRAG_PARSING_DATA,o),i.on(l.default.FRAG_PARSED,o),i.on(l.default.ERROR,o),i.on(l.default.FRAG_PARSING_METADATA,o),i.on(l.default.FRAG_PARSING_USERDATA,o),i.on(l.default.INIT_PTS_FOUND,o);var a={mp4:V.isTypeSupported("video/mp4"),mpeg:V.isTypeSupported("audio/mpeg"),mp3:V.isTypeSupported('audio/mp4; codecs="mp3"')},u=navigator.vendor;if(r.enableWorker&&"undefined"!=typeof Worker){var h;c.logger.log("demuxing in webworker");try{h=this.w=Y("./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),h.addEventListener("message",this.onwmsg),h.onerror=function(e){t.trigger(l.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},h.postMessage({cmd:"init",typeSupported:a,vendor:u,id:e,config:JSON.stringify(r)})}catch(d){c.logger.warn("Error in worker:",d),c.logger.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),h&&U.URL.revokeObjectURL(h.objectURL),this.demuxer=new z.default(i,a,r,u),this.w=void 0}}else this.demuxer=new z.default(i,a,r,u)}var e=t.prototype;return e.destroy=function(){var t=this.w;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null;else{var e=this.demuxer;e&&(e.destroy(),this.demuxer=null)}var n=this.observer;n&&(n.removeAllListeners(),this.observer=null)},e.push=function(t,e,n,i,r,o,a,s){var l=this.w,h=Object(u.isFiniteNumber)(r.startPTS)?r.startPTS:r.start,d=r.decryptdata,f=this.frag,p=!(f&&r.cc===f.cc),m=!(f&&r.level===f.level),g=!m&&f&&r.sn===f.sn+1;if(p&&c.logger.log(this.id+":discontinuity detected"),m&&c.logger.log(this.id+":switch detected"),this.frag=r,l)l.postMessage({cmd:"demux",data:t,decryptdata:d,initSegment:e,audioCodec:n,videoCodec:i,timeOffset:h,discontinuity:p,trackSwitch:m,contiguous:g,duration:o,accurateTimeOffset:a,defaultInitPTS:s},t instanceof ArrayBuffer?[t]:[]);else{var y=this.demuxer;y&&y.push(t,d,e,n,i,h,p,m,g,o,a,s)}},e.onWorkerMessage=function(t){var e=t.data,n=this.hls;switch(e.event){case"init":U.URL.revokeObjectURL(this.w.objectURL);break;case l.default.FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data2&&(e.data.data2=new Uint8Array(e.data2));default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,n.trigger(e.event,e.data)}},t}();function G(t,e,n){switch(e){case"audio":t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds.push(n);break;case"text":t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds.push(n)}}function W(t,e,n){var i=t[e],r=t[n],o=r.startPTS;Object(u.isFiniteNumber)(o)?n>e?(i.duration=o-i.start,i.duration<0&&c.logger.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")):(r.duration=i.start-o,r.duration<0&&c.logger.warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!")):r.start=n>e?i.start+(i.cc===r.cc&&i.minEndPTS?i.minEndPTS-i.start:i.duration):Math.max(i.start-r.duration,0)}function X(t,e,n,i,r,o){var a=n,s=i;if(Object(u.isFiniteNumber)(e.startPTS)){var l=Math.abs(e.startPTS-n);e.deltaPTS=Object(u.isFiniteNumber)(e.deltaPTS)?Math.max(l,e.deltaPTS):l,a=Math.max(n,e.startPTS),n=Math.min(n,e.startPTS),s=Math.min(i,e.endPTS),i=Math.max(i,e.endPTS),r=Math.min(r,e.startDTS),o=Math.max(o,e.endDTS)}var c=n-e.start;e.start=e.startPTS=n,e.maxStartPTS=a,e.endPTS=i,e.minEndPTS=s,e.startDTS=r,e.endDTS=o,e.duration=i-n;var h,d,f,p=e.sn;if(!t||p<t.startSN||p>t.endSN)return 0;for((d=t.fragments)[h=p-t.startSN]=e,f=h;f>0;f--)W(d,f,f-1);for(f=h;f<d.length-1;f++)W(d,f,f+1);return t.PTSKnown=!0,c}function K(t,e){e.initSegment&&t.initSegment&&(e.initSegment=t.initSegment);var n,i=0;if(Z(t,e,function(t,r){i=t.cc-r.cc,Object(u.isFiniteNumber)(t.startPTS)&&(r.start=r.startPTS=t.startPTS,r.endPTS=t.endPTS,r.duration=t.duration,r.backtracked=t.backtracked,r.dropped=t.dropped,n=r),e.PTSKnown=!0}),e.PTSKnown){if(i){c.logger.log("discontinuity sliding from playlist, take drift into account");for(var r=e.fragments,o=0;o<r.length;o++)r[o].cc+=i}n?X(e,n,n.startPTS,n.endPTS,n.startDTS,n.endDTS):function(t,e){var n=e.startSN-t.startSN,i=t.fragments,r=e.fragments;if(!(n<0||n>i.length))for(var o=0;o<r.length;o++)r[o].start+=i[n].start}(t,e),e.PTSKnown=t.PTSKnown}}function Z(t,e,n){if(t&&e)for(var i=Math.max(t.startSN,e.startSN)-e.startSN,r=Math.min(t.endSN,e.endSN)-e.startSN,o=e.startSN-t.startSN,a=i;a<=r;a++){var s=t.fragments[o+a],u=e.fragments[a];if(!s||!u)break;n(s,u,a)}}function Q(t,e,n){var i=1e3*(e.averagetargetduration?e.averagetargetduration:e.targetduration),r=i/2;return t&&e.endSN===t.endSN&&(i=r),n&&(i=Math.max(r,i-(window.performance.now()-n))),Math.round(i)}var J=function(t){for(var e="",n=t.length,i=0;i<n;i++)e+="["+t.start(i).toFixed(3)+","+t.end(i).toFixed(3)+"]";return e};function $(t,e){e.fragments.forEach(function(e){if(e){var n=e.start+t;e.start=e.startPTS=n,e.endPTS=n+e.duration}}),e.PTSKnown=!0}function tt(t,e,n){!function(t,e,n){if(function(t,e,n){var i=!1;return e&&e.details&&n&&(n.endCC>n.startCC||t&&t.cc<n.startCC)&&(i=!0),i}(t,n,e)){var i=function(t,e){var n=t.fragments,i=e.fragments;if(i.length&&n.length){var r=function(t,e){for(var n=null,i=0;i<t.length;i+=1){var r=t[i];if(r&&r.cc===e){n=r;break}}return n}(n,i[0].cc);if(r&&(!r||r.startPTS))return r;c.logger.log("No frag in previous level to align on")}else c.logger.log("No fragments to align")}(n.details,e);i&&(c.logger.log("Adjusting PTS using last level due to CC increase within current level"),$(i.start,e))}}(t,n,e),!n.PTSKnown&&e&&function(t,e){if(e&&e.fragments.length){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;var n=(t.fragments[0].programDateTime-e.fragments[0].programDateTime)/1e3+e.fragments[0].start;Object(u.isFiniteNumber)(n)&&(c.logger.log("adjusting PTS using programDateTime delta, sliding:"+n.toFixed(3)),$(n,t))}}(n,e.details)}function et(t,e,n){if(null===e||!Array.isArray(t)||!t.length||!Object(u.isFiniteNumber)(e))return null;if(e<(t[0].programDateTime||0))return null;if(e>=(t[t.length-1].endProgramDateTime||0))return null;n=n||0;for(var i=0;i<t.length;++i){var r=t[i];if(rt(e,n,r))return r}return null}function nt(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=0);var r=null;return t?r=e[t.sn-e[0].sn+1]:0===n&&0===e[0].start&&(r=e[0]),r&&0===it(n,i,r)?r:R(e,it.bind(null,n,i))||r}function it(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0);var i=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-i<=t?1:n.start-i>t&&n.start?-1:0}function rt(t,e,n){var i=1e3*Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return(n.endProgramDateTime||0)-i>t}var ot=function(){function t(t,e,n,i){this.config=t,this.media=e,this.fragmentTracker=n,this.hls=i,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1}var e=t.prototype;return e.poll=function(t){var e=this.config,n=this.media,i=this.stalled,r=n.currentTime,o=n.seeking,a=this.seeking&&!o,s=!this.seeking&&o;if(this.seeking=o,r===t){if((s||a)&&(this.stalled=null),!n.paused&&!n.ended&&0!==n.playbackRate&&n.buffered.length){var u=N.bufferInfo(n,r,0),l=u.nextStart||0;if(u.len>0||l){if(o){var h=u.len>2,d=!l||l-r>2&&!this.fragmentTracker.getPartialFragment(r);if(h||d)return;this.moved=!1}if(!this.moved&&this.stalled){var f=Math.max(l,u.start||0)-r;if(f>0&&f<=2)return void this._trySkipBufferHole(null)}var p=self.performance.now();if(null!==i){var m=p-i;!o&&m>=250&&this._reportStall(u.len);var g=N.bufferInfo(n,r,e.maxBufferHole);this._tryFixBufferStall(g,m)}else this.stalled=p}}}else if(this.moved=!0,null!==i){if(this.stallReported){var y=self.performance.now()-i;c.logger.warn("playback not stuck anymore @"+r+", after "+Math.round(y)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},e._tryFixBufferStall=function(t,e){var n=this.config,i=this.fragmentTracker.getPartialFragment(this.media.currentTime);i&&this._trySkipBufferHole(i)||t.len>n.maxBufferHole&&e>1e3*n.highBufferWatchdogPeriod&&(c.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},e._reportStall=function(t){var e=this.hls,n=this.media;this.stallReported||(this.stallReported=!0,c.logger.warn("Playback stalling at @"+n.currentTime+" due to low buffer (buffer="+t+")"),e.trigger(l.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:t}))},e._trySkipBufferHole=function(t){for(var e=this.config,n=this.hls,i=this.media,r=i.currentTime,o=0,a=0;a<i.buffered.length;a++){var u=i.buffered.start(a);if(r+e.maxBufferHole>=o&&r<u){var h=Math.max(u+.05,i.currentTime+.1);return c.logger.warn("skipping hole, adjusting currentTime from "+r+" to "+h),this.moved=!0,this.stalled=null,i.currentTime=h,t&&n.trigger(l.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+r+" to "+h,frag:t}),h}o=i.buffered.end(a)}return 0},e._tryNudgeBuffer=function(){var t=this.config,e=this.hls,n=this.media,i=n.currentTime,r=(this.nudgeRetry||0)+1;if(this.nudgeRetry=r,r<t.nudgeMaxRetry){var o=i+r*t.nudgeOffset;c.logger.warn("Nudging 'currentTime' from "+i+" to "+o),n.currentTime=o,e.trigger(l.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else c.logger.error("Playhead still not moving while enough data buffered @"+i+" after "+t.nudgeMaxRetry+" nudges"),e.trigger(l.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},t}();function at(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var st,ut=function(t){var e,n;function i(e){for(var n,i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return(n=t.call.apply(t,[this,e].concat(r))||this)._boundTick=void 0,n._tickTimer=null,n._tickInterval=null,n._tickCallCount=0,n._boundTick=n.tick.bind(at(n)),n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},r.hasInterval=function(){return!!this._tickInterval},r.hasNextTick=function(){return!!this._tickTimer},r.setInterval=function(t){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,t),!0)},r.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},r.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},r.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)),this._tickCallCount=0)},r.doTick=function(){},i}(d),lt=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.doTick=function(){},r.startLoad=function(){},r.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragmentTracker.removeFragment(t)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state="STOPPED"},r._streamEnded=function(t,e){var n=this.fragCurrent;if(!e.live&&n&&!n.backtracked&&n.sn===e.endSN&&!t.nextStart){var i=this.fragmentTracker.getState(n);return"PARTIAL"===i||"OK"===i}return!1},r.onMediaSeeking=function(){var t=this.config,e=this.media,n=this.state,i=e?e.currentTime:null,r=N.bufferInfo(this.mediaBuffer||e,i,this.config.maxBufferHole);if(c.logger.log("media seeking to "+(Object(u.isFiniteNumber)(i)?i.toFixed(3):i)),"FRAG_LOADING"===n){var o=this.fragCurrent;if(0===r.len&&o){var a=t.maxFragLookUpTolerance;i<o.start-a||i>o.start+o.duration+a?(o.loader&&(c.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),o.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state="IDLE"):c.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else"ENDED"===n&&(0===r.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state="IDLE");e&&(this.lastCurrentTime=i),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=i),this.tick()},r.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},r.onHandlerDestroying=function(){this.stopLoad(),t.prototype.onHandlerDestroying.call(this)},r.onHandlerDestroyed=function(){this.state="STOPPED",this.fragmentTracker=null},r.computeLivePosition=function(t,e){return t+Math.max(0,e.totalduration-(void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration))},i}(ut),ct=function(t){var e,n;function i(e,n){var i;return(i=t.call(this,e,l.default.MEDIA_ATTACHED,l.default.MEDIA_DETACHING,l.default.MANIFEST_LOADING,l.default.MANIFEST_PARSED,l.default.LEVEL_LOADED,l.default.LEVELS_UPDATED,l.default.KEY_LOADED,l.default.FRAG_LOADED,l.default.FRAG_LOAD_EMERGENCY_ABORTED,l.default.FRAG_PARSING_INIT_SEGMENT,l.default.FRAG_PARSING_DATA,l.default.FRAG_PARSED,l.default.ERROR,l.default.AUDIO_TRACK_SWITCHING,l.default.AUDIO_TRACK_SWITCHED,l.default.BUFFER_CREATED,l.default.BUFFER_APPENDED,l.default.BUFFER_FLUSHED)||this).fragmentTracker=n,i.config=e.config,i.audioCodecSwap=!1,i._state="STOPPED",i.stallReported=!1,i.gapController=null,i.altAudio=!1,i.audioOnly=!1,i.bitrateTest=!1,i}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,a=i.prototype;return a.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var i=n.startLevel;-1===i&&(n.config.testBandwidth?(i=0,this.bitrateTest=!0):i=n.nextAutoLevel),this.level=n.nextLoadLevel=i,this.loadedmetadata=!1}e>0&&-1===t&&(c.logger.log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state="IDLE",this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this.forceStartLoad=!0,this.state="STOPPED"},a.stopLoad=function(){this.forceStartLoad=!1,t.prototype.stopLoad.call(this)},a.doTick=function(){switch(this.state){case"BUFFER_FLUSHING":this.fragLoadError=0;break;case"IDLE":this._doTickIdle();break;case"WAITING_LEVEL":var t=this.levels[this.level];t&&t.details&&(this.state="IDLE");break;case"FRAG_LOADING_WAITING_RETRY":var e=window.performance.now(),n=this.retryDate;(!n||e>=n||this.media&&this.media.seeking)&&(c.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state="IDLE")}this._checkBuffer(),this._checkFragmentChanged()},a._doTickIdle=function(){var t=this.hls,e=t.config,n=this.media;if(void 0!==this.levelLastLoaded&&(n||!this.startFragRequested&&e.startFragPrefetch))if(this.altAudio&&this.audioOnly)this.demuxer.frag=null;else{var i;i=this.loadedmetadata?n.currentTime:this.nextLoadPosition;var r=t.nextLoadLevel,o=this.levels[r];if(o){var a,s=o.bitrate;a=s?Math.max(8*e.maxBufferSize/s,e.maxBufferLength):e.maxBufferLength,a=Math.min(a,e.maxMaxBufferLength);var u=i<e.maxBufferHole?Math.max(2,e.maxBufferHole):e.maxBufferHole,h=N.bufferInfo(this.mediaBuffer?this.mediaBuffer:n,i,u),d=h.len;if(!(d>=a)){c.logger.trace("buffer length of "+d.toFixed(3)+" is below max of "+a.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=r;var f=o.details;if(!f||f.live&&this.levelLastLoaded!==r)this.state="WAITING_LEVEL";else{if(this._streamEnded(h,f)){var p={};return this.altAudio&&(p.type="video"),this.hls.trigger(l.default.BUFFER_EOS,p),void(this.state="ENDED")}this._fetchPayloadOrEos(i,h,f)}}}}},a._fetchPayloadOrEos=function(t,e,n){var i=this.fragPrevious,r=n.fragments,o=r.length;if(0!==o){var a,s=r[0].start,u=r[o-1].start+r[o-1].duration,l=e.end;if(n.initSegment&&!n.initSegment.data)a=n.initSegment;else if(n.live){var h=this.config.initialLiveManifestSize;if(o<h)return void c.logger.warn("Can not start playback of a level, reason: not enough fragments "+o+" < "+h);if(null===(a=this._ensureFragmentAtLivePoint(n,l,s,u,i,r)))return}else l<s&&(a=r[0]);a||(a=this._findFragment(s,i,o,r,l,u,n)),a&&(a.encrypted?this._loadKey(a,n):this._loadFragment(a,n,t,l))}},a._ensureFragmentAtLivePoint=function(t,e,n,i,r,o){var a,s=this.hls.config,l=this.media,h=1/0;if(void 0!==s.liveMaxLatencyDuration?h=s.liveMaxLatencyDuration:Object(u.isFiniteNumber)(s.liveMaxLatencyDurationCount)&&(h=s.liveMaxLatencyDurationCount*t.targetduration),e<Math.max(n-s.maxFragLookUpTolerance,i-h)){var d=this.liveSyncPosition=this.computeLivePosition(n,t);e=d,l&&!l.paused&&l.readyState&&l.duration>d&&d>l.currentTime&&(c.logger.log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+d.toFixed(3)),l.currentTime=d),this.nextLoadPosition=d}if(t.PTSKnown&&e>i&&l&&l.readyState)return null;if(this.startFragRequested&&!t.PTSKnown&&r)if(t.hasProgramDateTime)c.logger.log("live playlist, switching playlist, load frag with same PDT: "+r.programDateTime),a=et(o,r.endProgramDateTime,s.maxFragLookUpTolerance);else{var f=r.sn+1;if(f>=t.startSN&&f<=t.endSN){var p=o[f-t.startSN];r.cc===p.cc&&c.logger.log("live playlist, switching playlist, load frag with next SN: "+(a=p).sn)}a||(a=R(o,function(t){return r.cc-t.cc}))&&c.logger.log("live playlist, switching playlist, load frag with same CC: "+a.sn)}return a},a._findFragment=function(t,e,n,i,r,o,a){var s,u=this.hls.config;if(s=r<o?nt(e,i,r,r>o-u.maxFragLookUpTolerance?0:u.maxFragLookUpTolerance):i[n-1]){var l=s.sn-a.startSN,h=i[l-1],d=i[l+1];if(e&&s.sn===e.sn)if(e&&s.level===e.level&&!s.backtracked)if(s.sn<a.endSN){var f=e.deltaPTS;f&&f>u.maxBufferHole&&e.dropped&&l?(s=h,c.logger.warn("Previous fragment was dropped with large PTS gap between audio and video. Maybe fragment is not starting with a keyframe? Loading previous one to try to overcome this")):"OK"!==this.fragmentTracker.getState(s=d)&&c.logger.log("Re-loading fragment with SN: "+s.sn)}else s=null;else s.backtracked&&(d&&d.backtracked?(c.logger.warn("Already backtracked from fragment "+d.sn+", will not backtrack to fragment "+s.sn+". Loading fragment "+d.sn),s=d):(c.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),s.dropped=0,h?(s=h).backtracked=!0:l&&(s=null)))}return s},a._loadKey=function(t,e){c.logger.log("Loading key for "+t.sn+" of ["+e.startSN+"-"+e.endSN+"], level "+this.level),this.state="KEY_LOADING",this.hls.trigger(l.default.KEY_LOADING,{frag:t})},a._loadFragment=function(t,e,n,i){var r=this.fragmentTracker.getState(t);this.fragCurrent=t,"initSegment"!==t.sn&&(this.startFragRequested=!0),Object(u.isFiniteNumber)(t.sn)&&!t.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),t.backtracked||"NOT_LOADED"===r||"PARTIAL"===r?(t.autoLevel=this.hls.autoLevelEnabled,t.bitrateTest=this.bitrateTest,c.logger.log("Loading "+t.sn+" of ["+e.startSN+"-"+e.endSN+"], level "+this.level+", "+(this.loadedmetadata?"currentTime":"nextLoadPosition")+": "+parseFloat(n.toFixed(3))+", bufferEnd: "+parseFloat(i.toFixed(3))),this.hls.trigger(l.default.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new q(this.hls,"main")),this.state="FRAG_LOADING"):"APPENDING"===r&&this._reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t)},a.getBufferedFrag=function(t){return this.fragmentTracker.getBufferedFrag(t,o.MAIN)},a.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.endPTS+.5):null},a._checkFragmentChanged=function(){var t,e,n=this.media;if(n&&n.readyState&&!1===n.seeking&&((e=n.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=e),N.isBuffered(n,e)?t=this.getBufferedFrag(e):N.isBuffered(n,e+.1)&&(t=this.getBufferedFrag(e+.1)),t)){var i=t;if(i!==this.fragPlaying){this.hls.trigger(l.default.FRAG_CHANGED,{frag:i});var r=i.level;this.fragPlaying&&this.fragPlaying.level===r||this.hls.trigger(l.default.LEVEL_SWITCHED,{level:r}),this.fragPlaying=i}}},a.immediateLevelSwitch=function(){if(c.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t,e=this.media;e?(t=e.paused)||e.pause():t=!0,this.previouslyPaused=t}var n=this.fragCurrent;n&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},a.immediateLevelSwitchEnd=function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,t.currentTime>0&&N.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())},a.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var e,n=this.getBufferedFrag(t.currentTime);if(n&&n.startPTS>1&&this.flushMainBuffer(0,n.startPTS-1),t.paused)e=0;else{var i=this.fragLastKbps;e=i&&this.fragCurrent?this.fragCurrent.duration*this.levels[this.hls.nextLoadLevel].bitrate/(1e3*i)+1:0}var r=this.getBufferedFrag(t.currentTime+e);if(r){var o=this.followingBufferedFrag(r);if(o){var a=this.fragCurrent;a&&a.loader&&a.loader.abort(),this.fragCurrent=null;var s=Math.max(r.endPTS,o.maxStartPTS+Math.min(this.config.maxFragLookUpTolerance,o.duration));this.flushMainBuffer(s,Number.POSITIVE_INFINITY)}}}},a.flushMainBuffer=function(t,e){this.state="BUFFER_FLUSHING";var n={startOffset:t,endOffset:e};this.altAudio&&(n.type="video"),this.hls.trigger(l.default.BUFFER_FLUSHING,n)},a.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.hls.startLoad(n.startPosition),this.gapController=new ot(n,e,this.fragmentTracker,this.hls)},a.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(c.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.levels;e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.backtracked=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.fragmentTracker.removeAllFragments(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},a.onMediaSeeked=function(){var t=this.media,e=t?t.currentTime:void 0;Object(u.isFiniteNumber)(e)&&c.logger.log("media seeked to "+e.toFixed(3)),this.tick()},a.onManifestLoading=function(){c.logger.log("trigger BUFFER_RESET"),this.hls.trigger(l.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},a.onManifestParsed=function(t){var e,n=!1,i=!1;t.levels.forEach(function(t){(e=t.audioCodec)&&(-1!==e.indexOf("mp4a.40.2")&&(n=!0),-1!==e.indexOf("mp4a.40.5")&&(i=!0))}),this.audioCodecSwitch=n&&i,this.audioCodecSwitch&&c.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.altAudio=t.altAudio,this.levels=t.levels,this.startFragRequested=!1;var r=this.config;(r.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(r.startPosition)},a.onLevelLoaded=function(t){var e=t.details,n=t.level,i=this.levels[this.levelLastLoaded],r=this.levels[n],o=e.totalduration,a=0;if(c.logger.log("level "+n+" loaded ["+e.startSN+","+e.endSN+"],duration:"+o),e.live||r.details&&r.details.live){var s=r.details;s&&e.fragments.length>0?(K(s,e),this.liveSyncPosition=this.computeLivePosition(a=e.fragments[0].start,s),e.PTSKnown&&Object(u.isFiniteNumber)(a)?c.logger.log("live playlist sliding:"+a.toFixed(3)):(c.logger.log("live playlist - outdated PTS, unknown sliding"),tt(this.fragPrevious,i,e))):(c.logger.log("live playlist - first load, unknown sliding"),e.PTSKnown=!1,tt(this.fragPrevious,i,e))}else e.PTSKnown=!1;if(r.details=e,this.levelLastLoaded=n,this.hls.trigger(l.default.LEVEL_UPDATED,{details:e,level:n}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var h=e.startTimeOffset;Object(u.isFiniteNumber)(h)?(h<0&&(c.logger.log("negative start time offset "+h+", count from end of last fragment"),h=a+o+h),c.logger.log("start time offset found in playlist, adjust startPosition to "+h),this.startPosition=h):e.live?(this.startPosition=this.computeLivePosition(a,e),c.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}"WAITING_LEVEL"===this.state&&(this.state="IDLE"),this.tick()},a.onKeyLoaded=function(){"KEY_LOADING"===this.state&&(this.state="IDLE",this.tick())},a.onFragLoaded=function(t){var e=this.fragCurrent,n=this.hls,i=this.media,r=t.frag;if("FRAG_LOADING"===this.state&&e&&"main"===r.type&&r.level===e.level&&r.sn===e.sn){var o=t.stats,a=this.levels[e.level],s=a.details;if(this.bitrateTest=!1,this.stats=o,c.logger.log("Loaded "+e.sn+" of ["+s.startSN+" ,"+s.endSN+"],level "+e.level),r.bitrateTest&&n.nextLoadLevel)this.state="IDLE",this.startFragRequested=!1,o.tparsed=o.tbuffered=window.performance.now(),n.trigger(l.default.FRAG_BUFFERED,{stats:o,frag:e,id:"main"}),this.tick();else if("initSegment"===r.sn)this.state="IDLE",o.tparsed=o.tbuffered=window.performance.now(),s.initSegment.data=t.payload,n.trigger(l.default.FRAG_BUFFERED,{stats:o,frag:e,id:"main"}),this.tick();else{c.logger.log("Parsing "+e.sn+" of ["+s.startSN+" ,"+s.endSN+"],level "+e.level+", cc "+e.cc),this.state="PARSING",this.pendingBuffering=!0,this.appended=!1,r.bitrateTest&&(r.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:r}));var u=!(i&&i.seeking)&&(s.PTSKnown||!s.live),h=s.initSegment?s.initSegment.data:[],d=this._getAudioCodec(a);(this.demuxer=this.demuxer||new q(this.hls,"main")).push(t.payload,h,d,a.videoCodec,e,s.totalduration,u)}}this.fragLoadError=0},a.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&"PARSING"===this.state){var i,r,o=t.tracks;if(this.audioOnly=o.audio&&!o.video,this.altAudio&&!this.audioOnly&&delete o.audio,r=o.audio){var a=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();a&&this.audioCodecSwap&&(c.logger.log("swapping playlist audio codec"),a=-1!==a.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==r.metadata.channelCount&&-1===s.indexOf("firefox")&&(a="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==r.container&&c.logger.log("Android: force audio codec to "+(a="mp4a.40.2")),r.levelCodec=a,r.id=t.id}for(i in(r=o.video)&&(r.levelCodec=this.levels[this.level].videoCodec,r.id=t.id),this.hls.trigger(l.default.BUFFER_CODECS,o),o){c.logger.log("main track:"+i+",container:"+(r=o[i]).container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var u=r.initSegment;u&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(l.default.BUFFER_APPENDING,{type:i,data:u,parent:"main",content:"initSegment"}))}this.tick()}},a.onFragParsingData=function(t){var e=this,n=this.fragCurrent,i=t.frag;if(n&&"main"===t.id&&i.sn===n.sn&&i.level===n.level&&("audio"!==t.type||!this.altAudio)&&"PARSING"===this.state){var r=this.levels[this.level],o=n;if(Object(u.isFiniteNumber)(t.endPTS)||(t.endPTS=t.startPTS+n.duration,t.endDTS=t.startDTS+n.duration),!0===t.hasAudio&&o.addElementaryStream(f.AUDIO),!0===t.hasVideo&&o.addElementaryStream(f.VIDEO),c.logger.log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(o.dropped=t.dropped,o.dropped)if(o.backtracked)c.logger.warn("Already backtracked on this fragment, appending with the gap",o.sn);else{var a=r.details;if(!a||o.sn!==a.startSN)return c.logger.warn("missing video frame(s), backtracking fragment",o.sn),this.fragmentTracker.removeFragment(o),o.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state="IDLE",this.fragPrevious=o,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),void this.tick();c.logger.warn("missing video frame(s) on first frag, appending with gap",o.sn)}else o.backtracked=!1;var s=X(r.details,o,t.startPTS,t.endPTS,t.startDTS,t.endDTS),h=this.hls;h.trigger(l.default.LEVEL_PTS_UPDATED,{details:r.details,level:this.level,drift:s,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach(function(n){n&&n.length&&"PARSING"===e.state&&(e.appended=!0,e.pendingBuffering=!0,h.trigger(l.default.BUFFER_APPENDING,{type:t.type,data:n,parent:"main",content:"data"}))}),this.tick()}},a.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&"PARSING"===this.state&&(this.stats.tparsed=window.performance.now(),this.state="PARSED",this._checkAppendedParsed())},a.onAudioTrackSwitching=function(t){var e=this.altAudio,n=t.id;if(!t.url){if(this.mediaBuffer!==this.media){c.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var i=this.fragCurrent;i.loader&&(c.logger.log("switching to main audio track, cancel main fragment load"),i.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state="IDLE"}var r=this.hls;e&&r.trigger(l.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),r.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:n})}},a.onAudioTrackSwitched=function(t){var e=!!this.hls.audioTracks[t.id].url;if(e){var n=this.videoBuffer;n&&this.mediaBuffer!==n&&(c.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=n)}this.altAudio=e,this.tick()},a.onBufferCreated=function(t){var e,n,i=t.tracks,r=!1;for(var o in i){var a=i[o];"main"===a.id?(n=o,e=a,"video"===o&&(this.videoBuffer=i[o].buffer)):r=!0}r&&e?(c.logger.log("alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=e.buffer):this.mediaBuffer=this.media},a.onBufferAppended=function(t){if("main"===t.parent){var e=this.state;"PARSING"!==e&&"PARSED"!==e||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},a._checkAppendedParsed=function(){if(!("PARSED"!==this.state||this.appended&&this.pendingBuffering)){var t=this.fragCurrent;if(t){c.logger.log("main buffered : "+J((this.mediaBuffer?this.mediaBuffer:this.media).buffered)),this.fragPrevious=t;var e=this.stats;e.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*e.total/(e.tbuffered-e.tfirst)),this.hls.trigger(l.default.FRAG_BUFFERED,{stats:e,frag:t,id:"main"}),this.state="IDLE"}(this.loadedmetadata||this.startPosition<=0)&&this.tick()}},a.onError=function(t){var e=t.frag||this.fragCurrent;if(!e||"main"===e.type){var n=!!this.media&&N.isBuffered(this.media,this.media.currentTime)&&N.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:case s.ErrorDetails.KEY_LOAD_ERROR:case s.ErrorDetails.KEY_LOAD_TIMEOUT:if(!t.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var i=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);c.logger.warn("mediaController: frag loading failed, retry in "+i+" ms"),this.retryDate=window.performance.now()+i,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state="FRAG_LOADING_WAITING_RETRY"}else c.logger.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state="ERROR";break;case s.ErrorDetails.LEVEL_LOAD_ERROR:case s.ErrorDetails.LEVEL_LOAD_TIMEOUT:"ERROR"!==this.state&&(t.fatal?(this.state="ERROR",c.logger.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||"WAITING_LEVEL"!==this.state||(this.state="IDLE"));break;case s.ErrorDetails.BUFFER_FULL_ERROR:"main"!==t.parent||"PARSING"!==this.state&&"PARSED"!==this.state||(n?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state="IDLE"):(c.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},a._reduceMaxBufferLength=function(t){var e=this.config;return e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,c.logger.warn("main:reduce max buffer length to "+e.maxMaxBufferLength+"s"),!0)},a._checkBuffer=function(){var t=this.media;if(t&&0!==t.readyState){var e=(this.mediaBuffer?this.mediaBuffer:t).buffered;!this.loadedmetadata&&e.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,e)}},a.onFragLoadEmergencyAborted=function(){this.state="IDLE",this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},a.onBufferFlushed=function(){var t=this.mediaBuffer?this.mediaBuffer:this.media;t&&this.fragmentTracker.detectEvictedFragments(this.audioOnly?f.AUDIO:f.VIDEO,t.buffered),this.state="IDLE",this.fragPrevious=null},a.onLevelsUpdated=function(t){this.levels=t.levels},a.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},a._seekToStartPos=function(){var t=this.media,e=t.currentTime,n=this.startPosition;if(e!==n&&n>=0){if(t.seeking)return void c.logger.log("could not seek to "+n+", already seeking at "+e);var i=(t.buffered.length?t.buffered.start(0):0)-n;i>0&&i<this.config.maxBufferHole&&(c.logger.log("adjusting start position by "+i+" to match buffer start"),this.startPosition=n+=i),c.logger.log("seek to target start position "+n+" from current time "+e+". ready state "+t.readyState),t.currentTime=n}},a._getAudioCodec=function(t){var e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&(c.logger.log("swapping playlist audio codec"),e&&(e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),e},(r=[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,c.logger.log("main stream-controller: "+e+"->"+t),this.hls.trigger(l.default.STREAM_STATE_TRANSITION,{previousState:e,nextState:t})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var t=this.media;if(t){var e=this.getBufferedFrag(t.currentTime);if(e)return e.level}return-1}},{key:"nextBufferedFrag",get:function(){var t=this.media;return t?this.followingBufferedFrag(this.getBufferedFrag(t.currentTime)):null}},{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(t){this._liveSyncPosition=t}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(i.prototype,r),i}(lt),ht=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,l.default.MANIFEST_LOADED,l.default.LEVEL_LOADED,l.default.AUDIO_TRACK_SWITCHED,l.default.FRAG_LOADED,l.default.ERROR)||this).canload=!1,n.currentLevelIndex=null,n.manualLevelIndex=-1,n.timer=null,st=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,o=i.prototype;return o.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},o.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},o.startLoad=function(){var t=this._levels;this.canload=!0,this.levelRetryCount=0,t&&t.forEach(function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)}),null!==this.timer&&this.loadLevel()},o.stopLoad=function(){this.canload=!1},o.onManifestLoaded=function(t){var e,n=[],i=[],r={},o=null,a=!1,u=!1;if(t.levels.forEach(function(t){var e=t.attrs;t.loadError=0,t.fragmentError=!1,a=a||!!t.videoCodec,u=u||!!t.audioCodec,st&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),(o=r[t.bitrate])?o.url.push(t.url):(t.url=[t.url],t.urlId=0,r[t.bitrate]=t,n.push(t)),e&&(e.AUDIO&&G(o||t,"audio",e.AUDIO),e.SUBTITLES&&G(o||t,"text",e.SUBTITLES))}),a&&u&&(n=n.filter(function(t){return!!t.videoCodec})),n=n.filter(function(t){var e=t.audioCodec,n=t.videoCodec;return(!e||w(e,"audio"))&&(!n||w(n,"video"))}),t.audioTracks&&(i=t.audioTracks.filter(function(t){return!t.audioCodec||w(t.audioCodec,"audio")})).forEach(function(t,e){t.id=e}),n.length>0){e=n[0].bitrate,n.sort(function(t,e){return t.bitrate-e.bitrate}),this._levels=n;for(var h=0;h<n.length;h++)if(n[h].bitrate===e){this._firstLevel=h,c.logger.log("manifest loaded,"+n.length+" level(s) found, first bitrate:"+e);break}this.hls.trigger(l.default.MANIFEST_PARSED,{levels:n,audioTracks:i,firstLevel:this._firstLevel,stats:t.stats,audio:u,video:a,altAudio:!(u&&!a)&&i.some(function(t){return!!t.url})})}else this.hls.trigger(l.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},o.setLevelInternal=function(t){var e=this._levels,n=this.hls;if(t>=0&&t<e.length){if(this.clearTimer(),this.currentLevelIndex!==t){c.logger.log("switching to level "+t),this.currentLevelIndex=t;var i=e[t];i.level=t,n.trigger(l.default.LEVEL_SWITCHING,i)}var r=e[t],o=r.details;if(!o||o.live){var a=r.urlId;n.trigger(l.default.LEVEL_LOADING,{url:r.url[a],level:t,id:a})}}else n.trigger(l.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})},o.onError=function(t){if(t.fatal)t.type===s.ErrorTypes.NETWORK_ERROR&&this.clearTimer();else{var e,n=!1,i=!1;switch(t.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:case s.ErrorDetails.KEY_LOAD_ERROR:case s.ErrorDetails.KEY_LOAD_TIMEOUT:e=t.frag.level,i=!0;break;case s.ErrorDetails.LEVEL_LOAD_ERROR:case s.ErrorDetails.LEVEL_LOAD_TIMEOUT:e=t.context.level,n=!0;break;case s.ErrorDetails.REMUX_ALLOC_ERROR:e=t.level,n=!0}void 0!==e&&this.recoverLevel(t,e,n,i)}},o.recoverLevel=function(t,e,n,i){var r,o,a,s=this,u=this.hls.config,l=t.details,h=this._levels[e];if(h.loadError++,h.fragmentError=i,n){if(!(this.levelRetryCount+1<=u.levelLoadingMaxRetry))return c.logger.error("level controller, cannot recover from "+l+" error"),this.currentLevelIndex=null,this.clearTimer(),void(t.fatal=!0);o=Math.min(Math.pow(2,this.levelRetryCount)*u.levelLoadingRetryDelay,u.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return s.loadLevel()},o),t.levelRetry=!0,this.levelRetryCount++,c.logger.warn("level controller, "+l+", retry in "+o+" ms, current retry count is "+this.levelRetryCount)}(n||i)&&((r=h.url.length)>1&&h.loadError<r?(h.urlId=(h.urlId+1)%r,h.details=void 0,c.logger.warn("level controller, "+l+" for level "+e+": switching to redundant URL-id "+h.urlId)):-1===this.manualLevelIndex?(c.logger.warn("level controller, "+l+": switch to "+(a=0===e?this._levels.length-1:e-1)),this.hls.nextAutoLevel=this.currentLevelIndex=a):i&&(c.logger.warn("level controller, "+l+": reload a fragment"),this.currentLevelIndex=null))},o.onFragLoaded=function(t){var e=t.frag;if(void 0!==e&&"main"===e.type){var n=this._levels[e.level];void 0!==n&&(n.fragmentError=!1,n.loadError=0,this.levelRetryCount=0)}},o.onLevelLoaded=function(t){var e=this,n=t.level,i=t.details;if(n===this.currentLevelIndex){var r=this._levels[n];if(r.fragmentError||(r.loadError=0,this.levelRetryCount=0),i.live){var o=Q(r.details,i,t.stats.trequest);c.logger.log("live playlist, reload in "+Math.round(o)+" ms"),this.timer=setTimeout(function(){return e.loadLevel()},o)}else this.clearTimer()}},o.onAudioTrackSwitched=function(t){var e=this.hls.audioTracks[t.id].groupId,n=this.hls.levels[this.currentLevelIndex];if(n&&n.audioGroupIds){for(var i=-1,r=0;r<n.audioGroupIds.length;r++)if(n.audioGroupIds[r]===e){i=r;break}i!==n.urlId&&(n.urlId=i,this.startLoad())}},o.loadLevel=function(){if(c.logger.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var t=this._levels[this.currentLevelIndex];if("object"==typeof t&&t.url.length>0){var e=this.currentLevelIndex,n=t.urlId,i=t.url[n];c.logger.log("Attempt loading level index "+e+" with URL-id "+n),this.hls.trigger(l.default.LEVEL_LOADING,{url:i,level:e,id:n})}}},o.removeLevel=function(t,e){var n=this.levels.filter(function(n,i){return i!==t||n.url.length>1&&void 0!==e&&(n.url=n.url.filter(function(t,n){return n!==e}),n.urlId=0,!0)}).map(function(t,e){var n=t.details;return n&&n.fragments&&n.fragments.forEach(function(t){t.level=e}),t});this._levels=n,this.hls.trigger(l.default.LEVELS_UPDATED,{levels:n})},(r=[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;e&&(t=Math.min(t,e.length-1),this.currentLevelIndex===t&&e[t].details||this.setLevelInternal(t))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(i.prototype,r),i}(d),dt=n("./src/demux/id3.js");function ft(t,e){var n;try{n=new Event("addtrack")}catch(i){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)}function pt(t){if(null==t?void 0:t.cues)for(;t.cues.length>0;)t.removeCue(t.cues[0])}var mt=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,l.default.MEDIA_ATTACHED,l.default.MEDIA_DETACHING,l.default.FRAG_PARSING_METADATA,l.default.LIVE_BACK_BUFFER_REACHED)||this).id3Track=void 0,n.media=void 0,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.destroy=function(){d.prototype.destroy.call(this)},r.onMediaAttached=function(t){this.media=t.media},r.onMediaDetaching=function(){pt(this.id3Track),this.id3Track=void 0,this.media=void 0},r.getID3Track=function(t){for(var e=0;e<t.length;e++){var n=t[e];if("metadata"===n.kind&&"id3"===n.label)return ft(n,this.media),n}return this.media.addTextTrack("metadata","id3")},r.onFragParsingMetadata=function(t){var e=t.frag,n=t.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var i=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,r=0;r<n.length;r++){var o=dt.default.getID3Frames(n[r].data);if(o){var a=Math.max(n[r].pts,0),s=r<n.length-1?n[r+1].pts:e.endPTS;s||(s=e.start+e.duration),s-a<=0&&(s=a+.25);for(var u=0;u<o.length;u++){var l=o[u];if(!dt.default.isTimeStampFrame(l)){var c=new i(a,s,"");c.value=l,this.id3Track.addCue(c)}}}}},r.onLiveBackBufferReached=function(t){var e=this.id3Track;if(e&&e.cues&&e.cues.length){var n=function(t,e){if(e<t[0].endTime)return t[0];if(e>t[t.length-1].endTime)return t[t.length-1];for(var n=0,i=t.length-1;n<=i;){var r=Math.floor((i+n)/2);if(e<t[r].endTime)i=r-1;else{if(!(e>t[r].endTime))return t[r];n=r+1}}return t[n].endTime-e<e-t[i].endTime?t[n]:t[i]}(e.cues,t.bufferEnd);if(n)for(;e.cues[0]!==n;)e.removeCue(e.cues[0])}},i}(d),gt=function(){function t(t){this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}var e=t.prototype;return e.sample=function(t,e){var n=Math.pow(this.alpha_,t);this.estimate_=e*(1-n)+n*this.estimate_,this.totalWeight_+=t},e.getTotalWeight=function(){return this.totalWeight_},e.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_},t}(),yt=function(){function t(t,e,n,i){this.hls=void 0,this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.hls=t,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new gt(e),this.fast_=new gt(n)}var e=t.prototype;return e.sample=function(t,e){var n=(t=Math.max(t,this.minDelayMs_))/1e3,i=8*e/n;this.fast_.sample(n,i),this.slow_.sample(n,i)},e.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},e.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},e.destroy=function(){},t}(),vt=window.performance,_t=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,l.default.FRAG_LOADING,l.default.FRAG_LOADED,l.default.FRAG_BUFFERED,l.default.ERROR)||this).lastLoadedFragLevel=0,n._nextAutoLevel=-1,n.hls=e,n.timer=null,n._bwEstimator=null,n.onCheck=n._abandonRulesCheck.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n)),n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,o=i.prototype;return o.destroy=function(){this.clearTimer(),d.prototype.destroy.call(this)},o.onFragLoading=function(t){var e=t.frag;if("main"===e.type&&(this.timer||(this.fragCurrent=e,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var n,i,r=this.hls,o=r.config;r.levels[e.level].details.live?(n=o.abrEwmaFastLive,i=o.abrEwmaSlowLive):(n=o.abrEwmaFastVoD,i=o.abrEwmaSlowVoD),this._bwEstimator=new yt(r,i,n,o.abrEwmaDefaultEstimate)}},o._abandonRulesCheck=function(){var t=this.hls,e=t.media,n=this.fragCurrent;if(n){var i=n.loader;if(!i||i.stats&&i.stats.aborted)return c.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var r=i.stats;if(e&&r&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&n.autoLevel&&n.level){var o=vt.now()-r.trequest,a=Math.abs(e.playbackRate);if(o>500*n.duration/a){var s=t.levels,u=Math.max(1,r.bw?r.bw/8:1e3*r.loaded/o),h=s[n.level];if(!h)return;var d=h.realBitrate?Math.max(h.realBitrate,h.bitrate):h.bitrate,f=r.total?r.total:Math.max(r.loaded,Math.round(n.duration*d/8)),p=e.currentTime,m=(f-r.loaded)/u,g=(N.bufferInfo(e,p,t.config.maxBufferHole).end-p)/a;if(g<2*n.duration/a&&m>g){var y,v=t.minAutoLevel;for(y=n.level-1;y>v;y--){var _=s[y].realBitrate?Math.max(s[y].realBitrate,s[y].bitrate):s[y].bitrate;if(n.duration*_/(6.4*u)<g)break}void 0<m&&(c.logger.warn("loading too slow, abort fragment loading and switch to level "+y+":fragLoadedDelay["+y+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+(void 0).toFixed(1)+"<"+m.toFixed(1)+":"+g.toFixed(1)),t.nextLoadLevel=y,this._bwEstimator.sample(o,r.loaded),i.abort(),this.clearTimer(),t.trigger(l.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:r}))}}}}},o.onFragLoaded=function(t){var e=t.frag;if("main"===e.type&&Object(u.isFiniteNumber)(e.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var n=this.hls.levels[e.level],i=(n.loaded?n.loaded.bytes:0)+t.stats.loaded,r=(n.loaded?n.loaded.duration:0)+t.frag.duration;n.loaded={bytes:i,duration:r},n.realBitrate=Math.round(8*i/r)}if(t.frag.bitrateTest){var o=t.stats;o.tparsed=o.tbuffered=o.tload,this.onFragBuffered(t)}}},o.onFragBuffered=function(t){var e=t.stats,n=t.frag;if(!0!==e.aborted&&"main"===n.type&&Object(u.isFiniteNumber)(n.sn)&&(!n.bitrateTest||e.tload===e.tbuffered)){var i=e.tparsed-e.trequest;c.logger.log("latency/loading/parsing/append/kbps:"+Math.round(e.tfirst-e.trequest)+"/"+Math.round(e.tload-e.tfirst)+"/"+Math.round(e.tparsed-e.tload)+"/"+Math.round(e.tbuffered-e.tparsed)+"/"+Math.round(8*e.loaded/(e.tbuffered-e.trequest))),this._bwEstimator.sample(i,e.loaded),e.bwEstimate=this._bwEstimator.getEstimate(),this.bitrateTestDelay=n.bitrateTest?i/1e3:0}},o.onError=function(t){switch(t.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},o.clearTimer=function(){clearInterval(this.timer),this.timer=null},o._findBestLevel=function(t,e,n,i,r,o,a,s,u){for(var l=r;l>=i;l--){var h=u[l];if(h){var d,f=h.details,p=f?f.totalduration/f.fragments.length:e,m=!!f&&f.live;d=l<=t?a*n:s*n;var g=u[l].realBitrate?Math.max(u[l].realBitrate,u[l].bitrate):u[l].bitrate,y=g*p/d;if(c.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+l+"/"+Math.round(d)+"/"+g+"/"+p+"/"+o+"/"+y),d>g&&(!y||m&&!this.bitrateTestDelay||y<o))return l}}return-1},(r=[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this._bwEstimator;if(!(-1===t||e&&e.canEstimate()))return t;var n=this._nextABRAutoLevel;return-1!==t&&(n=Math.min(t,n)),n},set:function(t){this._nextAutoLevel=t}},{key:"_nextABRAutoLevel",get:function(){var t=this.hls,e=t.maxAutoLevel,n=t.levels,i=t.config,r=t.minAutoLevel,o=t.media,a=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,u=o?o.currentTime:0,l=o&&0!==o.playbackRate?Math.abs(o.playbackRate):1,h=this._bwEstimator?this._bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,d=(N.bufferInfo(o,u,i.maxBufferHole).end-u)/l,f=this._findBestLevel(a,s,h,r,e,d,i.abrBandWidthFactor,i.abrBandWidthUpFactor,n);if(f>=0)return f;c.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var p=s?Math.min(s,i.maxStarvationDelay):i.maxStarvationDelay,m=i.abrBandWidthFactor,g=i.abrBandWidthUpFactor;if(0===d){var y=this.bitrateTestDelay;y&&(p=(s?Math.min(s,i.maxLoadingDelay):i.maxLoadingDelay)-y,c.logger.trace("bitrate test took "+Math.round(1e3*y)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*p)+" ms"),m=g=1)}return f=this._findBestLevel(a,s,h,r,e,d+p,m,g,n),Math.max(f,0)}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(i.prototype,r),i}(d),bt=j(),xt=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,l.default.MEDIA_ATTACHING,l.default.MEDIA_DETACHING,l.default.MANIFEST_PARSED,l.default.BUFFER_RESET,l.default.BUFFER_APPENDING,l.default.BUFFER_CODECS,l.default.BUFFER_EOS,l.default.BUFFER_FLUSHING,l.default.LEVEL_PTS_UPDATED,l.default.LEVEL_UPDATED)||this)._msDuration=null,n._levelDuration=null,n._levelTargetDuration=10,n._live=null,n._objectUrl=null,n._needsFlush=!1,n._needsEos=!1,n.config=void 0,n.audioTimestampOffset=void 0,n.bufferCodecEventsExpected=0,n._bufferCodecEventsTotal=0,n.media=null,n.mediaSource=null,n.segments=[],n.parent=void 0,n.appending=!1,n.appended=0,n.appendError=0,n.flushBufferCounter=0,n.tracks={},n.pendingTracks={},n.sourceBuffer={},n.flushRange=[],n._onMediaSourceOpen=function(){c.logger.log("media source opened"),n.hls.trigger(l.default.MEDIA_ATTACHED,{media:n.media});var t=n.mediaSource;t&&t.removeEventListener("sourceopen",n._onMediaSourceOpen),n.checkPendingTracks()},n._onMediaSourceClose=function(){c.logger.log("media source closed")},n._onMediaSourceEnded=function(){c.logger.log("media source ended")},n._onSBUpdateEnd=function(){if(n.audioTimestampOffset&&n.sourceBuffer.audio){var t=n.sourceBuffer.audio;c.logger.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+n.audioTimestampOffset),t.timestampOffset=n.audioTimestampOffset,delete n.audioTimestampOffset}n._needsFlush&&n.doFlush(),n._needsEos&&n.checkEos(),n.appending=!1;var e=n.parent,i=n.segments.reduce(function(t,n){return n.parent===e?t+1:t},0),r={},o=n.sourceBuffer;for(var a in o){var s=o[a];if(!s)throw Error("handling source buffer update end error: source buffer for "+a+" uninitilized and unable to update buffered TimeRanges.");r[a]=s.buffered}n.hls.trigger(l.default.BUFFER_APPENDED,{parent:e,pending:i,timeRanges:r}),n._needsFlush||n.doAppending(),n.updateMediaElementDuration(),0===i&&n.flushLiveBackBuffer()},n._onSBUpdateError=function(t){c.logger.error("sourceBuffer error:",t),n.hls.trigger(l.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},n.config=e.config,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.destroy=function(){d.prototype.destroy.call(this)},r.onLevelPtsUpdated=function(t){var e=this.tracks.audio;if("audio"===t.type&&e&&"audio/mpeg"===e.container){var n=this.sourceBuffer.audio;if(!n)throw Error("Level PTS Updated and source buffer for audio uninitalized");if(Math.abs(n.timestampOffset-t.start)>.1){var i=n.updating;try{n.abort()}catch(r){c.logger.warn("can not abort audio buffer: "+r)}i?this.audioTimestampOffset=t.start:(c.logger.warn("change mpeg audio timestamp offset from "+n.timestampOffset+" to "+t.start),n.timestampOffset=t.start)}}},r.onManifestParsed=function(t){var e=2;(t.audio&&!t.video||!t.altAudio)&&(e=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=e,c.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},r.onMediaAttaching=function(t){var e=this.media=t.media;if(e&&bt){var n=this.mediaSource=new bt;n.addEventListener("sourceopen",this._onMediaSourceOpen),n.addEventListener("sourceended",this._onMediaSourceEnded),n.addEventListener("sourceclose",this._onMediaSourceClose),e.src=window.URL.createObjectURL(n),this._objectUrl=e.src}},r.onMediaDetaching=function(){c.logger.log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(e){c.logger.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),this.media&&(this._objectUrl&&window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):c.logger.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.hls.trigger(l.default.MEDIA_DETACHED)},r.checkPendingTracks=function(){var t=this.bufferCodecEventsExpected,e=this.pendingTracks,n=Object.keys(e).length;(n&&!t||2===n)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())},r.onBufferReset=function(){var t=this.sourceBuffer;for(var e in t){var n=t[e];try{n&&(this.mediaSource&&this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this._onSBUpdateEnd),n.removeEventListener("error",this._onSBUpdateError))}catch(i){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},r.onBufferCodecs=function(t){var e=this;Object.keys(this.sourceBuffer).length||(Object.keys(t).forEach(function(n){e.pendingTracks[n]=t[n]}),this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},r.createSourceBuffers=function(t){var e=this.sourceBuffer,n=this.mediaSource;if(!n)throw Error("createSourceBuffers called when mediaSource was null");for(var i in t)if(!e[i]){var r=t[i];if(!r)throw Error("source buffer exists for track "+i+", however track does not");var o=r.levelCodec||r.codec,a=r.container+";codecs="+o;c.logger.log("creating sourceBuffer("+a+")");try{var u=e[i]=n.addSourceBuffer(a);u.addEventListener("updateend",this._onSBUpdateEnd),u.addEventListener("error",this._onSBUpdateError),this.tracks[i]={buffer:u,codec:o,id:r.id,container:r.container,levelCodec:r.levelCodec}}catch(h){c.logger.error("error while trying to add sourceBuffer:"+h.message),this.hls.trigger(l.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:h,mimeType:a})}}this.hls.trigger(l.default.BUFFER_CREATED,{tracks:this.tracks})},r.onBufferAppending=function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())},r.onBufferEos=function(t){for(var e in this.sourceBuffer)if(!t.type||t.type===e){var n=this.sourceBuffer[e];n&&!n.ended&&(n.ended=!0,c.logger.log(e+" sourceBuffer now EOS"))}this.checkEos()},r.checkEos=function(){var t=this.sourceBuffer,e=this.mediaSource;if(e&&"open"===e.readyState){for(var n in t){var i=t[n];if(i){if(!i.ended)return;if(i.updating)return void(this._needsEos=!0)}}c.logger.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(r){c.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},r.onBufferFlushing=function(t){t.type?this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}):(this.flushRange.push({start:t.startOffset,end:t.endOffset,type:"video"}),this.flushRange.push({start:t.startOffset,end:t.endOffset,type:"audio"})),this.flushBufferCounter=0,this.doFlush()},r.flushLiveBackBuffer=function(){if(this._live){var t=this.config.liveBackBufferLength;if(isFinite(t)&&!(t<0))if(this.media)for(var e=this.media.currentTime,n=this.sourceBuffer,i=Object.keys(n),r=e-Math.max(t,this._levelTargetDuration),o=i.length-1;o>=0;o--){var a=i[o],s=n[a];if(s){var u=s.buffered;u.length>0&&r>u.start(0)&&this.removeBufferRange(a,s,0,r)&&this.hls.trigger(l.default.LIVE_BACK_BUFFER_REACHED,{bufferEnd:r})}}else c.logger.error("flushLiveBackBuffer called without attaching media")}},r.onLevelUpdated=function(t){var e=t.details;e.fragments.length>0&&(this._levelDuration=e.totalduration+e.fragments[0].start,this._levelTargetDuration=e.averagetargetduration||e.targetduration||10,this._live=e.live,this.updateMediaElementDuration())},r.updateMediaElementDuration=function(){var t,e=this.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var n in this.sourceBuffer){var i=this.sourceBuffer[n];if(i&&!0===i.updating)return}t=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===e.liveDurationInfinity?(c.logger.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>t||!Object(u.isFiniteNumber)(t))&&(c.logger.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},r.doFlush=function(){for(;this.flushRange.length;){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,n=this.sourceBuffer;try{for(var i in n){var r=n[i];r&&(e+=r.buffered.length)}}catch(o){c.logger.error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(l.default.BUFFER_FLUSHED)}},r.doAppending=function(){var t=this.config,e=this.hls,n=this.segments,i=this.sourceBuffer;if(Object.keys(i).length){if(!this.media||this.media.error)return this.segments=[],void c.logger.error("trying to append although a media error occured, flush segment and abort");if(!this.appending){var r=n.shift();if(r)try{var o=i[r.type];if(!o)return void this._onSBUpdateEnd();if(o.updating)return void n.unshift(r);o.ended=!1,this.parent=r.parent,o.appendBuffer(r.data),this.appendError=0,this.appended++,this.appending=!0}catch(u){c.logger.error("error while trying to append buffer:"+u.message),n.unshift(r);var a={type:s.ErrorTypes.MEDIA_ERROR,parent:r.parent,details:"",fatal:!1};22===u.code?(this.segments=[],a.details=s.ErrorDetails.BUFFER_FULL_ERROR):(this.appendError++,a.details=s.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>t.appendErrorMaxRetry&&(c.logger.log("fail "+t.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],a.fatal=!0)),e.trigger(l.default.ERROR,a)}}}},r.flushBuffer=function(t,e,n){var i=this.sourceBuffer;if(!Object.keys(i).length)return!0;var r="null";if(this.media&&(r=this.media.currentTime.toFixed(3)),c.logger.log("flushBuffer,pos/start/end: "+r+"/"+t+"/"+e),this.flushBufferCounter>=this.appended)return c.logger.warn("abort flushing too many retries"),!0;var o=i[n];if(o){if(o.ended=!1,o.updating)return c.logger.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(n,o,t,e))return this.flushBufferCounter++,!1}return c.logger.log("buffer flushed"),!0},r.removeBufferRange=function(t,e,n,i){try{for(var r=0;r<e.buffered.length;r++){var o=e.buffered.start(r),a=e.buffered.end(r),s=Math.max(o,n),u=Math.min(a,i);if(Math.min(u,a)-s>.5){var l="null";return this.media&&(l=this.media.currentTime.toString()),c.logger.log("sb remove "+t+" ["+s+","+u+"], of ["+o+","+a+"], pos:"+l),e.remove(s,u),!0}}}catch(h){c.logger.warn("removeBufferRange failed",h)}return!1},i}(d);function wt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var kt=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,l.default.FPS_DROP_LEVEL_CAPPING,l.default.MEDIA_ATTACHING,l.default.MANIFEST_PARSED,l.default.LEVELS_UPDATED,l.default.BUFFER_CODECS,l.default.MEDIA_DETACHING)||this).autoLevelCapping=Number.POSITIVE_INFINITY,n.firstLevel=null,n.levels=[],n.media=null,n.restrictedLevels=[],n.timer=null,n.clientRect=null,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,o,a,s=i.prototype;return s.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this.clientRect=null,this.stopCapping())},s.onFpsDropLevelCapping=function(t){i.isLevelAllowed(t.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(t.droppedLevel)},s.onMediaAttaching=function(t){this.media=t.media instanceof window.HTMLVideoElement?t.media:null},s.onManifestParsed=function(t){var e=this.hls;this.restrictedLevels=[],this.levels=t.levels,this.firstLevel=t.firstLevel,e.config.capLevelToPlayerSize&&t.video&&this.startCapping()},s.onBufferCodecs=function(t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()},s.onLevelsUpdated=function(t){this.levels=t.levels},s.onMediaDetaching=function(){this.stopCapping()},s.detectPlayerSize=function(){if(this.media){var t=this.levels?this.levels.length:0;if(t){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},s.getMaxLevel=function(t){var e=this;if(!this.levels)return-1;var n=this.levels.filter(function(n,r){return i.isLevelAllowed(r,e.restrictedLevels)&&r<=t});return this.clientRect=null,i.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)},s.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},s.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},s.getDimensions=function(){if(this.clientRect)return this.clientRect;var t=this.media,e={width:0,height:0};if(t){var n=t.getBoundingClientRect();e.width=n.width,e.height=n.height,e.width||e.height||(e.width=n.right-n.left||t.width||0,e.height=n.bottom-n.top||t.height||0)}return this.clientRect=e,e},i.isLevelAllowed=function(t,e){return void 0===e&&(e=[]),-1===e.indexOf(t)},i.getMaxLevelByMediaSize=function(t,e,n){if(!t||t&&!t.length)return-1;for(var i,r,o=t.length-1,a=0;a<t.length;a+=1){var s=t[a];if((s.width>=e||s.height>=n)&&(i=s,!(r=t[a+1])||i.width!==r.width||i.height!==r.height)){o=a;break}}return o},r=i,a=[{key:"contentScaleFactor",get:function(){var t=1;try{t=window.devicePixelRatio}catch(e){}return t}}],(o=[{key:"mediaWidth",get:function(){return this.getDimensions().width*i.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*i.contentScaleFactor}}])&&wt(r.prototype,o),a&&wt(r,a),i}(d),Mt=window.performance,St=function(t){var e,n;function i(e){return t.call(this,e,l.default.MEDIA_ATTACHING)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},r.onMediaAttaching=function(t){var e=this.hls.config;e.capLevelOnFPSDrop&&("function"==typeof(this.video=t.media instanceof window.HTMLVideoElement?t.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod))},r.checkFPS=function(t,e,n){var i=Mt.now();if(e){if(this.lastTime){var r=n-this.lastDroppedFrames,o=e-this.lastDecodedFrames,a=1e3*r/(i-this.lastTime),s=this.hls;if(s.trigger(l.default.FPS_DROP,{currentDropped:r,currentDecoded:o,totalDroppedFrames:n}),a>0&&r>s.config.fpsDroppedMonitoringThreshold*o){var u=s.currentLevel;c.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(-1===s.autoLevelCapping||s.autoLevelCapping>=u)&&(s.trigger(l.default.FPS_DROP_LEVEL_CAPPING,{level:u-=1,droppedLevel:s.currentLevel}),s.autoLevelCapping=u,s.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=n,this.lastDecodedFrames=e}},r.checkFPSInterval=function(){var t=this.video;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},i}(d),Et=function(){function t(t){t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}var e=t.prototype;return e.destroy=function(){this.abort(),this.loader=null},e.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},e.load=function(t,e,n){this.context=t,this.config=e,this.callbacks=n,this.stats={trequest:window.performance.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},e.loadInternal=function(){var t,e=this.context;t=this.loader=new window.XMLHttpRequest;var n=this.stats;n.tfirst=0,n.loaded=0;var i=this.xhrSetup;try{if(i)try{i(t,e.url)}catch(r){t.open("GET",e.url,!0),i(t,e.url)}t.readyState||t.open("GET",e.url,!0)}catch(r){return void this.callbacks.onError({code:t.status,text:r.message},e,t)}e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),t.send()},e.readystatechange=function(t){var e=t.currentTarget,n=e.readyState,i=this.stats,r=this.context,o=this.config;if(!i.aborted&&n>=2)if(window.clearTimeout(this.requestTimeout),0===i.tfirst&&(i.tfirst=Math.max(window.performance.now(),i.trequest)),4===n){var a,s,u=e.status;u>=200&&u<300?(i.tload=Math.max(i.tfirst,window.performance.now()),s="arraybuffer"===r.responseType?(a=e.response).byteLength:(a=e.responseText).length,i.loaded=i.total=s,this.callbacks.onSuccess({url:e.responseURL,data:a},i,r,e)):i.retry>=o.maxRetry||u>=400&&u<499?(c.logger.error(u+" while loading "+r.url),this.callbacks.onError({code:u,text:e.statusText},r,e)):(c.logger.warn(u+" while loading "+r.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,o.maxRetryDelay),i.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),o.timeout)},e.loadtimeout=function(){c.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},e.loadprogress=function(t){var e=t.currentTarget,n=this.stats;n.loaded=t.loaded,t.lengthComputable&&(n.total=t.total);var i=this.callbacks.onProgress;i&&i(n,this.context,null,e)},t}(),Lt=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,l.default.MANIFEST_LOADING,l.default.MANIFEST_PARSED,l.default.AUDIO_TRACK_LOADED,l.default.AUDIO_TRACK_SWITCHED,l.default.LEVEL_LOADED,l.default.ERROR)||this)._trackId=-1,n._selectDefaultTrack=!0,n.tracks=[],n.trackIdBlacklist=Object.create(null),n.audioGroupId=null,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,o=i.prototype;return o.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},o.onManifestParsed=function(t){var e=this.tracks=t.audioTracks||[];this.hls.trigger(l.default.AUDIO_TRACKS_UPDATED,{audioTracks:e}),this._selectAudioGroup(this.hls.nextLoadLevel)},o.onAudioTrackLoaded=function(t){t.id>=this.tracks.length?c.logger.warn("Invalid audio track id:",t.id):(c.logger.log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.hasInterval()&&this.setInterval(1e3*t.details.targetduration),!t.details.live&&this.hasInterval()&&this.clearInterval())},o.onAudioTrackSwitched=function(t){var e=this.tracks[t.id].groupId;e&&this.audioGroupId!==e&&(this.audioGroupId=e)},o.onLevelLoaded=function(t){this._selectAudioGroup(t.level)},o.onError=function(t){t.type===s.ErrorTypes.NETWORK_ERROR&&(t.fatal&&this.clearInterval(),t.details===s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&(c.logger.warn("Network failure on audio-track id:",t.context.id),this._handleLoadError()))},o._setAudioTrack=function(t){if(this._trackId===t&&this.tracks[this._trackId].details)c.logger.debug("Same id as current audio-track passed, and track details available -> no-op");else if(t<0||t>=this.tracks.length)c.logger.warn("Invalid id passed to audio-track controller");else{var e=this.tracks[t];c.logger.log("Now switching to audio-track index "+t),this.clearInterval(),this._trackId=t,this.hls.trigger(l.default.AUDIO_TRACK_SWITCHING,{id:e.id,type:e.type,url:e.url}),this._loadTrackDetailsIfNeeded(e)}},o.doTick=function(){this._updateTrack(this._trackId)},o._selectAudioGroup=function(t){var e=this.hls.levels[t];if(e&&e.audioGroupIds){var n=e.audioGroupIds[e.urlId];this.audioGroupId!==n&&(this.audioGroupId=n,this._selectInitialAudioTrack())}},o._selectInitialAudioTrack=function(){var t=this,e=this.tracks;if(e.length){var n=this.tracks[this._trackId],i=null;if(n&&(i=n.name),this._selectDefaultTrack){var r=e.filter(function(t){return t.default});r.length?e=r:c.logger.warn("No default audio tracks defined")}var o=!1,a=function(){e.forEach(function(e){o||t.audioGroupId&&e.groupId!==t.audioGroupId||i&&i!==e.name||(t._setAudioTrack(e.id),o=!0)})};a(),o||(i=null,a()),o||(c.logger.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(l.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},o._needsTrackLoading=function(t){var e=t.details;return!(e&&!e.live||!t.url)},o._loadTrackDetailsIfNeeded=function(t){if(this._needsTrackLoading(t)){var e=t.url,n=t.id;c.logger.log("loading audio-track playlist for id: "+n),this.hls.trigger(l.default.AUDIO_TRACK_LOADING,{url:e,id:n})}},o._updateTrack=function(t){t<0||t>=this.tracks.length||(this.clearInterval(),this._trackId=t,c.logger.log("trying to update audio-track "+t),this._loadTrackDetailsIfNeeded(this.tracks[t]))},o._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var t=this._trackId,e=this.tracks[t],n=e.name,i=e.language;c.logger.warn("Loading failed on audio track id: "+t+", group-id: "+e.groupId+', name/language: "'+n+'" / "'+i+'"');for(var r=t,o=0;o<this.tracks.length;o++)if(!this.trackIdBlacklist[o]&&this.tracks[o].name===n){r=o;break}r!==t?(c.logger.log("Attempting audio-track fallback id:",r,"group-id:",this.tracks[r].groupId),this._setAudioTrack(r)):c.logger.warn('No fallback audio-track found for name/language: "'+n+'" / "'+i+'"')},(r=[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this._trackId},set:function(t){this._setAudioTrack(t),this._selectDefaultTrack=!1}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(i.prototype,r),i}(ut),Tt=window.performance,Ct=function(t){var e,n;function i(e,n){var i;return(i=t.call(this,e,l.default.MEDIA_ATTACHED,l.default.MEDIA_DETACHING,l.default.AUDIO_TRACKS_UPDATED,l.default.AUDIO_TRACK_SWITCHING,l.default.AUDIO_TRACK_LOADED,l.default.KEY_LOADED,l.default.FRAG_LOADED,l.default.FRAG_PARSING_INIT_SEGMENT,l.default.FRAG_PARSING_DATA,l.default.FRAG_PARSED,l.default.ERROR,l.default.BUFFER_RESET,l.default.BUFFER_CREATED,l.default.BUFFER_APPENDED,l.default.BUFFER_FLUSHED,l.default.INIT_PTS_FOUND)||this).fragmentTracker=n,i.config=e.config,i.audioCodecSwap=!1,i._state="STOPPED",i.initPTS=[],i.waitingFragment=null,i.videoTrackCC=null,i.waitingVideoCC=null,i}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,o=i.prototype;return o.onInitPtsFound=function(t){var e=t.frag.cc,n=t.initPTS;"main"===t.id&&(this.initPTS[e]=n,this.videoTrackCC=e,c.logger.log("InitPTS for cc: "+e+" found from main: "+n),"WAITING_INIT_PTS"===this.state&&this.tick())},o.startLoad=function(t){if(this.tracks){var e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,e>0&&-1===t?(c.logger.log("audio:override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state="IDLE"):(this.lastCurrentTime=this.startPosition?this.startPosition:t,this.state="STARTING"),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=t,this.state="STOPPED"},o.doTick=function(){var t,e,n,i=this.hls,r=i.config;switch(this.state){case"ERROR":case"PAUSED":case"BUFFER_FLUSHING":break;case"STARTING":this.state="WAITING_TRACK",this.loadedmetadata=!1;break;case"IDLE":var o=this.tracks;if(!o)break;if(!this.media&&(this.startFragRequested||!r.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(void 0===(t=this.nextLoadPosition))break;var a=this.mediaBuffer?this.mediaBuffer:this.media,s=this.videoBuffer?this.videoBuffer:this.media,h=t<r.maxBufferHole?Math.max(2,r.maxBufferHole):r.maxBufferHole,d=N.bufferInfo(a,t,h),f=N.bufferInfo(s,t,h),p=d.len,m=d.end,g=this.fragPrevious,y=Math.min(r.maxBufferLength,r.maxMaxBufferLength),v=Math.max(y,f.len),_=this.audioSwitch,b=this.trackId;if((p<v||_)&&b<o.length){if(void 0===(n=o[b].details)){this.state="WAITING_TRACK";break}if(!_&&this._streamEnded(d,n))return this.hls.trigger(l.default.BUFFER_EOS,{type:"audio"}),void(this.state="ENDED");var x,w=n.fragments,k=w.length,M=w[0].start,S=w[k-1].start+w[k-1].duration;if(_)if(n.live&&!n.PTSKnown)c.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),m=0;else if(m=t,n.PTSKnown&&t<M){if(!(d.end>M||d.nextStart))return;c.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=M+.05}if(n.initSegment&&!n.initSegment.data)x=n.initSegment;else if(m<=M){if(x=w[0],null!==this.videoTrackCC&&x.cc!==this.videoTrackCC&&(x=function(t,e){return R(t,function(t){return t.cc<e?1:t.cc>e?-1:0})}(w,this.videoTrackCC)),n.live&&x.loadIdx&&x.loadIdx===this.fragLoadIdx){var E=d.nextStart?d.nextStart:M;return c.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(E+.05)),void(this.media.currentTime=E+.05)}}else{var L,T=r.maxFragLookUpTolerance,C=g?w[g.sn-w[0].sn+1]:void 0;m<S?(m>S-T&&(T=0),L=C&&!it(m,T,C)?C:R(w,function(t){return it(m,T,t)})):L=w[k-1],L&&(x=L,M=L.start,g&&x.level===g.level&&x.sn===g.sn&&(x.sn<n.endSN?"OK"!==this.fragmentTracker.getState(x=w[x.sn+1-n.startSN])&&c.logger.log("SN just loaded, load next one: "+x.sn):x=null))}x&&(x.encrypted?(c.logger.log("Loading key for "+x.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+b),this.state="KEY_LOADING",i.trigger(l.default.KEY_LOADING,{frag:x})):(this.fragCurrent=x,(_||"NOT_LOADED"===this.fragmentTracker.getState(x))&&(c.logger.log("Loading "+x.sn+", cc: "+x.cc+" of ["+n.startSN+" ,"+n.endSN+"],track "+b+", "+(this.loadedmetadata?"currentTime":"nextLoadPosition")+": "+t+", bufferEnd: "+m.toFixed(3)),"initSegment"!==x.sn&&(this.startFragRequested=!0),Object(u.isFiniteNumber)(x.sn)&&(this.nextLoadPosition=x.start+x.duration),i.trigger(l.default.FRAG_LOADING,{frag:x}),this.state="FRAG_LOADING")))}break;case"WAITING_TRACK":(e=this.tracks[this.trackId])&&e.details&&(this.state="IDLE");break;case"FRAG_LOADING_WAITING_RETRY":var I=Tt.now(),P=this.retryDate;a=this.media,(!P||I>=P||a&&a.seeking)&&(c.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state="IDLE");break;case"WAITING_INIT_PTS":var D=this.waitingFragment;if(D){var O=D.frag.cc;if(void 0!==this.initPTS[O])this.waitingFragment=null,this.state="FRAG_LOADING",this.onFragLoaded(D);else if(this.videoTrackCC!==this.waitingVideoCC)c.logger.log("Waiting fragment cc ("+O+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var A=N.bufferInfo(this.mediaBuffer,this.media.currentTime,r.maxBufferHole);it(A.end,r.maxFragLookUpTolerance,D.frag)<0&&(c.logger.log("Waiting fragment cc ("+O+") @ "+D.frag.start+" cancelled because another fragment at "+A.end+" is needed"),this.clearWaitingFragment())}}else this.state="IDLE"}},o.clearWaitingFragment=function(){var t=this.waitingFragment;t&&(this.fragmentTracker.removeFragment(t.frag),this.waitingFragment=null,this.waitingVideoCC=null,this.state="IDLE")},o.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended);var n=this.config;this.tracks&&n.autoStartLoad&&this.startLoad(n.startPosition)},o.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(c.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},o.onAudioTracksUpdated=function(t){c.logger.log("audio tracks updated"),this.tracks=t.audioTracks},o.onAudioTrackSwitching=function(t){var e=!!t.url;this.trackId=t.id,this.fragCurrent=null,this.clearWaitingFragment(),this.state="PAUSED",e?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),e&&(this.audioSwitch=!0,this.state="IDLE"),this.tick()},o.onAudioTrackLoaded=function(t){var e=t.details,n=t.id,i=this.tracks[n],r=i.details,o=0;if(c.logger.log("track "+n+" loaded ["+e.startSN+","+e.endSN+"],duration:"+e.totalduration),e.live||r&&r.live?r&&e.fragments.length>0?(K(r,e),o=e.fragments[0].start,c.logger.log(e.PTSKnown?"live audio playlist sliding:"+o.toFixed(3):"live audio playlist - outdated PTS, unknown sliding")):(e.PTSKnown=!1,c.logger.log("live audio playlist - first load, unknown sliding")):e.PTSKnown=!1,i.details=e,!this.startFragRequested){if(-1===this.startPosition){var a=e.startTimeOffset;Object(u.isFiniteNumber)(a)?(c.logger.log("start time offset found in playlist, adjust startPosition to "+a),this.startPosition=a):e.live?(this.startPosition=this.computeLivePosition(o,e),c.logger.log("compute startPosition for audio-track to "+this.startPosition)):this.startPosition=0}this.nextLoadPosition=this.startPosition}"WAITING_TRACK"===this.state&&(this.state="IDLE"),this.tick()},o.onKeyLoaded=function(){"KEY_LOADING"===this.state&&(this.state="IDLE",this.tick())},o.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag;if("FRAG_LOADING"===this.state&&e&&"audio"===n.type&&n.level===e.level&&n.sn===e.sn){var i=this.tracks[this.trackId],r=i.details,o=r.totalduration,a=e.level,s=e.sn,u=e.cc,h=this.config.defaultAudioCodec||i.audioCodec||"mp4a.40.2",d=this.stats=t.stats;if("initSegment"===s)this.state="IDLE",d.tparsed=d.tbuffered=Tt.now(),r.initSegment.data=t.payload,this.hls.trigger(l.default.FRAG_BUFFERED,{stats:d,frag:e,id:"audio"}),this.tick();else{this.state="PARSING",this.appended=!1,this.demuxer||(this.demuxer=new q(this.hls,"audio"));var f=this.initPTS[u],p=r.initSegment?r.initSegment.data:[];void 0!==f?(this.pendingBuffering=!0,c.logger.log("Demuxing "+s+" of ["+r.startSN+" ,"+r.endSN+"],track "+a),this.demuxer.push(t.payload,p,h,null,e,o,!1,f)):(c.logger.log("Unknown video PTS for cc "+u+", waiting for video PTS before demuxing audio frag "+s+" of ["+r.startSN+" ,"+r.endSN+"],track "+a),this.waitingFragment=t,this.waitingVideoCC=this.videoTrackCC,this.state="WAITING_INIT_PTS")}}this.fragLoadError=0},o.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&"PARSING"===this.state){var i,r=t.tracks;if(r.video&&delete r.video,i=r.audio){i.levelCodec=i.codec,i.id=t.id,this.hls.trigger(l.default.BUFFER_CODECS,r),c.logger.log("audio track:audio,container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var o=i.initSegment;if(o){var a={type:"audio",data:o,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[a]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(l.default.BUFFER_APPENDING,a))}this.tick()}}},o.onFragParsingData=function(t){var e=this,n=this.fragCurrent,i=t.frag;if(n&&"audio"===t.id&&"audio"===t.type&&i.sn===n.sn&&i.level===n.level&&"PARSING"===this.state){var r=this.trackId,o=this.tracks[r],a=this.hls;Object(u.isFiniteNumber)(t.endPTS)||(t.endPTS=t.startPTS+n.duration,t.endDTS=t.startDTS+n.duration),n.addElementaryStream(f.AUDIO),c.logger.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),X(o.details,n,t.startPTS,t.endPTS);var h=this.media,d=!1;if(this.audioSwitch)if(h&&h.readyState){var p=h.currentTime;c.logger.log("switching audio track : currentTime:"+p),p>=t.startPTS&&(c.logger.log("switching audio track : flushing all audio"),this.state="BUFFER_FLUSHING",a.trigger(l.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),d=!0,this.audioSwitch=!1,a.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:r}))}else this.audioSwitch=!1,a.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:r});var m=this.pendingData;if(!m)return c.logger.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void a.trigger(l.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([t.data1,t.data2].forEach(function(e){e&&e.length&&m.push({type:t.type,data:e,parent:"audio",content:"data"})}),!d&&m.length&&(m.forEach(function(t){"PARSING"===e.state&&(e.pendingBuffering=!0,e.hls.trigger(l.default.BUFFER_APPENDING,t))}),this.pendingData=[],this.appended=!0)),this.tick()}},o.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&"PARSING"===this.state&&(this.stats.tparsed=Tt.now(),this.state="PARSED",this._checkAppendedParsed())},o.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},o.onBufferCreated=function(t){var e=t.tracks.audio;e&&(this.mediaBuffer=e.buffer,this.loadedmetadata=!0),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},o.onBufferAppended=function(t){if("audio"===t.parent){var e=this.state;"PARSING"!==e&&"PARSED"!==e||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},o._checkAppendedParsed=function(){if(!("PARSED"!==this.state||this.appended&&this.pendingBuffering)){var t=this.fragCurrent,e=this.stats,n=this.hls;if(t){this.fragPrevious=t,e.tbuffered=Tt.now(),n.trigger(l.default.FRAG_BUFFERED,{stats:e,frag:t,id:"audio"});var i=this.mediaBuffer?this.mediaBuffer:this.media;i&&c.logger.log("audio buffered : "+J(i.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,n.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state="IDLE"}this.tick()}},o.onError=function(t){var e=t.frag;if(!e||"audio"===e.type)switch(t.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:var n=t.frag;if(n&&"audio"!==n.type)break;if(!t.fatal){var i=this.fragLoadError;i?i++:i=1;var r=this.config;if(i<=r.fragLoadingMaxRetry){this.fragLoadError=i;var o=Math.min(Math.pow(2,i-1)*r.fragLoadingRetryDelay,r.fragLoadingMaxRetryTimeout);c.logger.warn("AudioStreamController: frag loading failed, retry in "+o+" ms"),this.retryDate=Tt.now()+o,this.state="FRAG_LOADING_WAITING_RETRY"}else c.logger.error("AudioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state="ERROR"}break;case s.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case s.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case s.ErrorDetails.KEY_LOAD_ERROR:case s.ErrorDetails.KEY_LOAD_TIMEOUT:"ERROR"!==this.state&&(this.state=t.fatal?"ERROR":"IDLE",c.logger.warn("AudioStreamController: "+t.details+" while loading frag, now switching to "+this.state+" state ..."));break;case s.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===t.parent&&("PARSING"===this.state||"PARSED"===this.state)){var a=this.mediaBuffer,u=this.media.currentTime;if(a&&N.isBuffered(a,u)&&N.isBuffered(a,u+.5)){var h=this.config;h.maxMaxBufferLength>=h.maxBufferLength&&(h.maxMaxBufferLength/=2,c.logger.warn("AudioStreamController: reduce max buffer length to "+h.maxMaxBufferLength+"s")),this.state="IDLE"}else c.logger.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state="BUFFER_FLUSHING",this.hls.trigger(l.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}},o.onBufferFlushed=function(){var t=this,e=this.pendingData;e&&e.length?(c.logger.log("AudioStreamController: appending pending audio data after buffer flushed"),e.forEach(function(e){t.hls.trigger(l.default.BUFFER_APPENDING,e)}),this.appended=!0,this.pendingData=[],this.state="PARSED"):(this.state="IDLE",this.fragPrevious=null,this.tick())},(r=[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,c.logger.log("audio stream:"+e+"->"+t)}},get:function(){return this._state}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(i.prototype,r),i}(lt),It=function(){if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var t={"":!0,lr:!0,rl:!0},e={start:!0,middle:!0,end:!0,left:!0,right:!0};function n(t){return"string"==typeof t&&!!e[t.toLowerCase()]&&t.toLowerCase()}function i(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function r(e,r,o){var a=this,s={enumerable:!0};a.hasBeenReset=!1;var u="",l=!1,c=e,h=r,d=o,f=null,p="",m=!0,g="auto",y="start",v=50,_="middle",b=50,x="middle";Object.defineProperty(a,"id",i({},s,{get:function(){return u},set:function(t){u=""+t}})),Object.defineProperty(a,"pauseOnExit",i({},s,{get:function(){return l},set:function(t){l=!!t}})),Object.defineProperty(a,"startTime",i({},s,{get:function(){return c},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");c=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"endTime",i({},s,{get:function(){return h},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"text",i({},s,{get:function(){return d},set:function(t){d=""+t,this.hasBeenReset=!0}})),Object.defineProperty(a,"region",i({},s,{get:function(){return f},set:function(t){f=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"vertical",i({},s,{get:function(){return p},set:function(e){var n=function(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");p=n,this.hasBeenReset=!0}})),Object.defineProperty(a,"snapToLines",i({},s,{get:function(){return m},set:function(t){m=!!t,this.hasBeenReset=!0}})),Object.defineProperty(a,"line",i({},s,{get:function(){return g},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"lineAlign",i({},s,{get:function(){return y},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"position",i({},s,{get:function(){return v},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"positionAlign",i({},s,{get:function(){return _},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(a,"size",i({},s,{get:function(){return b},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(a,"align",i({},s,{get:function(){return x},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");x=e,this.hasBeenReset=!0}})),a.displayState=void 0}return r.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},r}(),Pt=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};function Dt(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new Pt,this.regionList=[]}function Ot(){this.values=Object.create(null)}function At(t,e,n,i){var r=i?t.split(i):[t];for(var o in r)if("string"==typeof r[o]){var a=r[o].split(n);2===a.length&&e(a[0],a[1])}}Ot.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var Rt=new It(0,0,0),Nt="middle"===Rt.align?"middle":"center";function Ft(t,e,n){var i=t;function r(){var e=function(t){function e(t,e,n,i){return 3600*(0|t)+60*(0|e)+(0|n)+(0|i)/1e3}var n=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}(t);if(null===e)throw new Error("Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=r(),o(),"--\x3e"!==t.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);t=t.substr(3),o(),e.endTime=r(),o(),function(t,e){var i=new Ot;At(t,function(t,e){switch(t){case"region":for(var r=n.length-1;r>=0;r--)if(n[r].id===e){i.set(t,n[r].region);break}break;case"vertical":i.alt(t,e,["rl","lr"]);break;case"line":var o=e.split(","),a=o[0];i.integer(t,a),i.percent(t,a)&&i.set("snapToLines",!1),i.alt(t,a,["auto"]),2===o.length&&i.alt("lineAlign",o[1],["start",Nt,"end"]);break;case"position":o=e.split(","),i.percent(t,o[0]),2===o.length&&i.alt("positionAlign",o[1],["start",Nt,"end","line-left","line-right","auto"]);break;case"size":i.percent(t,e);break;case"align":i.alt(t,e,["start",Nt,"end","left","right"])}},/:/,/\s/),e.region=i.get("region",null),e.vertical=i.get("vertical","");var r=i.get("line","auto");"auto"===r&&-1===Rt.line&&(r=-1),e.line=r,e.lineAlign=i.get("lineAlign","start"),e.snapToLines=i.get("snapToLines",!0),e.size=i.get("size",100),e.align=i.get("align",Nt);var o=i.get("position","auto");"auto"===o&&50===Rt.position&&(o="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=o}(t,e)}function Yt(t){return t.replace(/<br(?: \/)?>/gi,"\n")}Dt.prototype={parse:function(t){var e=this;function n(){var t=e.buffer,n=0;for(t=Yt(t);n<t.length&&"\r"!==t[n]&&"\n"!==t[n];)++n;var i=t.substr(0,n);return"\r"===t[n]&&++n,"\n"===t[n]&&++n,e.buffer=t.substr(n),i}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var i;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var r=(i=n()).match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(!r||!r[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}for(var o=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(o?o=!1:i=n(),e.state){case"HEADER":/:/.test(i)?At(i,function(t,e){},/:/):i||(e.state="ID");continue;case"NOTE":i||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){e.state="NOTE";break}if(!i)continue;if(e.cue=new It(0,0,""),e.state="CUE",-1===i.indexOf("--\x3e")){e.cue.id=i;continue}case"CUE":try{Ft(i,e.cue,e.regionList)}catch(s){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var a=-1!==i.indexOf("--\x3e");if(!i||a&&(o=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=i;continue;case"BADCUE":i||(e.state="ID");continue}}}catch(s){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(t){throw t}return this.onflush&&this.onflush(),this}};var zt=Dt;function jt(t,e,n,i){for(var r,o,a,s,u,l=[],c=window.VTTCue||TextTrackCue,h=0;h<i.rows.length;h++)if(a=!0,s=0,u="",!(r=i.rows[h]).isEmpty()){for(var d=0;d<r.chars.length;d++)r.chars[d].uchar.match(/\s/)&&a?s++:(u+=r.chars[d].uchar,a=!1);r.cueStartTime=e,e===n&&(n+=1e-4),s>=16?s--:s++,(o=new c(e,n,Yt(u.trim()))).line=navigator.userAgent.match(/Firefox\//)?h+1:h>7?h-2:h+1,o.align="left",o.position=Math.max(0,Math.min(100,s/32*100)),l.push(o),t&&t.addCue(o)}return l}var Bt,Ht={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Ut=function(t){var e=t;return Ht.hasOwnProperty(t)&&(e=Ht[t]),String.fromCharCode(e)},Vt={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},qt={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Gt={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Wt={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Xt=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];!function(t){t[t.ERROR=0]="ERROR",t[t.TEXT=1]="TEXT",t[t.WARNING=2]="WARNING",t[t.INFO=2]="INFO",t[t.DEBUG=3]="DEBUG",t[t.DATA=3]="DATA"}(Bt||(Bt={}));var Kt=function(){function t(){this.time=null,this.verboseLevel=Bt.ERROR}return t.prototype.log=function(t,e){this.verboseLevel>=t&&c.logger.log(this.time+" ["+t+"] "+e)},t}(),Zt=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].toString(16));return e},Qt=function(){function t(t,e,n,i,r){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=t||"white",this.underline=e||!1,this.italics=n||!1,this.background=i||"black",this.flash=r||!1}var e=t.prototype;return e.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},e.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],n=0;n<e.length;n++){var i=e[n];t.hasOwnProperty(i)&&(this[i]=t[i])}},e.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},e.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},e.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},e.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},t}(),Jt=function(){function t(t,e,n,i,r,o){this.uchar=void 0,this.penState=void 0,this.uchar=t||" ",this.penState=new Qt(e,n,i,r,o)}var e=t.prototype;return e.reset=function(){this.uchar=" ",this.penState.reset()},e.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},e.setPenState=function(t){this.penState.copy(t)},e.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},e.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},e.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},t}(),$t=function(){function t(t){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var e=0;e<100;e++)this.chars.push(new Jt);this.logger=t,this.pos=0,this.currPenState=new Qt}var e=t.prototype;return e.equals=function(t){for(var e=!0,n=0;n<100;n++)if(!this.chars[n].equals(t.chars[n])){e=!1;break}return e},e.copy=function(t){for(var e=0;e<100;e++)this.chars[e].copy(t.chars[e])},e.isEmpty=function(){for(var t=!0,e=0;e<100;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},e.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(this.logger.log(Bt.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>100&&(this.logger.log(Bt.DEBUG,"Too large cursor position "+this.pos),this.pos=100)},e.moveCursor=function(t){var e=this.pos+t;if(t>1)for(var n=this.pos+1;n<e+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(e)},e.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},e.insertChar=function(t){t>=144&&this.backSpace();var e=Ut(t);this.pos>=100?this.logger.log(Bt.ERROR,"Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))},e.clearFromPos=function(t){var e;for(e=t;e<100;e++)this.chars[e].reset()},e.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},e.clearToEndOfRow=function(){this.clearFromPos(this.pos)},e.getTextString=function(){for(var t=[],e=!0,n=0;n<100;n++){var i=this.chars[n].uchar;" "!==i&&(e=!1),t.push(i)}return e?"":t.join("")},e.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},t}(),te=function(){function t(t){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var e=0;e<15;e++)this.rows.push(new $t(t));this.logger=t,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var e=t.prototype;return e.reset=function(){for(var t=0;t<15;t++)this.rows[t].clear();this.currRow=14},e.equals=function(t){for(var e=!0,n=0;n<15;n++)if(!this.rows[n].equals(t.rows[n])){e=!1;break}return e},e.copy=function(t){for(var e=0;e<15;e++)this.rows[e].copy(t.rows[e])},e.isEmpty=function(){for(var t=!0,e=0;e<15;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},e.backSpace=function(){this.rows[this.currRow].backSpace()},e.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},e.insertChar=function(t){this.rows[this.currRow].insertChar(t)},e.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},e.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},e.setCursor=function(t){this.logger.log(Bt.INFO,"setCursor: "+t),this.rows[this.currRow].setCursor(t)},e.setPAC=function(t){this.logger.log(Bt.INFO,"pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var n=0;n<15;n++)this.rows[n].clear();var i=this.currRow+1-this.nrRollUpRows,r=this.lastOutputScreen;if(r){var o=r.rows[i].cueStartTime,a=this.logger.time;if(o&&null!==a&&o<a)for(var s=0;s<this.nrRollUpRows;s++)this.rows[e-this.nrRollUpRows+s+1].copy(r.rows[i+s])}}this.currRow=e;var u=this.rows[this.currRow];if(null!==t.indent){var l=Math.max(t.indent-1,0);u.setCursor(t.indent),t.color=u.chars[l].penState.foreground}this.setPen({foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1})},e.setBkgData=function(t){this.logger.log(Bt.INFO,"bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},e.setRollUpRows=function(t){this.nrRollUpRows=t},e.rollUp=function(){if(null!==this.nrRollUpRows){this.logger.log(Bt.TEXT,this.getDisplayText());var t=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(Bt.INFO,"Rolling up")}else this.logger.log(Bt.DEBUG,"roll_up but nrRollUpRows not set yet")},e.getDisplayText=function(t){t=t||!1;for(var e=[],n="",i=0;i<15;i++){var r=this.rows[i].getTextString();r&&e.push(t?"Row "+(i+1)+": '"+r+"'":r.trim())}return e.length>0&&(n=t?"["+e.join(" | ")+"]":e.join("\n")),n},e.getTextAndFormat=function(){return this.rows},t}(),ee=function(){function t(t,e,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new te(n),this.nonDisplayedMemory=new te(n),this.lastOutputScreen=new te(n),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}var e=t.prototype;return e.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},e.getHandler=function(){return this.outputFilter},e.setHandler=function(t){this.outputFilter=t},e.setPAC=function(t){this.writeScreen.setPAC(t)},e.setBkgData=function(t){this.writeScreen.setBkgData(t)},e.setMode=function(t){t!==this.mode&&(this.mode=t,this.logger.log(Bt.INFO,"MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},e.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);this.logger.log(Bt.INFO,(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(Bt.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},e.ccRCL=function(){this.logger.log(Bt.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},e.ccBS=function(){this.logger.log(Bt.INFO,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},e.ccAOF=function(){},e.ccAON=function(){},e.ccDER=function(){this.logger.log(Bt.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},e.ccRU=function(t){this.logger.log(Bt.INFO,"RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},e.ccFON=function(){this.logger.log(Bt.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},e.ccRDC=function(){this.logger.log(Bt.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},e.ccTR=function(){this.logger.log(Bt.INFO,"TR"),this.setMode("MODE_TEXT")},e.ccRTD=function(){this.logger.log(Bt.INFO,"RTD"),this.setMode("MODE_TEXT")},e.ccEDM=function(){this.logger.log(Bt.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},e.ccCR=function(){this.logger.log(Bt.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},e.ccENM=function(){this.logger.log(Bt.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},e.ccEOC=function(){if(this.logger.log(Bt.INFO,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(Bt.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},e.ccTO=function(t){this.logger.log(Bt.INFO,"TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},e.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground="white";else{var n=Math.floor(t/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}this.logger.log(Bt.INFO,"MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},e.outputDataUpdate=function(t){void 0===t&&(t=!1);var e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},e.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},t}();function ne(t,e,n){n.a=t,n.b=e}function ie(t,e,n){return n.a===t&&n.b===e}var re=function(){function t(t,e,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var i=new Kt;this.channels=[null,new ee(t,e,i),new ee(t+1,n,i)],this.cmdHistory={a:null,b:null},this.logger=i}var e=t.prototype;return e.getHandler=function(t){return this.channels[t].getHandler()},e.setHandler=function(t,e){this.channels[t].setHandler(e)},e.addData=function(t,e){var n,i,r,o=!1;this.logger.time=t;for(var a=0;a<e.length;a+=2)if(r=127&e[a+1],0!=(i=127&e[a])||0!==r){if(this.logger.log(Bt.DATA,"["+Zt([e[a],e[a+1]])+"] -> ("+Zt([i,r])+")"),(n=this.parseCmd(i,r))||(n=this.parseMidrow(i,r)),n||(n=this.parsePAC(i,r)),n||(n=this.parseBackgroundAttributes(i,r)),!n&&(o=this.parseChars(i,r))){var s=this.currentChannel;s&&s>0?this.channels[s].insertChars(o):this.logger.log(Bt.WARNING,"No channel found yet. TEXT-MODE?")}n||o||this.logger.log(Bt.WARNING,"Couldn't parse cleaned data "+Zt([i,r])+" orig: "+Zt([e[a],e[a+1]]))}},e.parseCmd=function(t,e){var n=this.cmdHistory;if(!((20===t||28===t||21===t||29===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=33&&e<=35))return!1;if(ie(t,e,n))return ne(null,null,n),this.logger.log(Bt.DEBUG,"Repeated command ("+Zt([t,e])+") is dropped"),!0;var i=20===t||21===t||23===t?1:2,r=this.channels[i];return 20===t||21===t||28===t||29===t?32===e?r.ccRCL():33===e?r.ccBS():34===e?r.ccAOF():35===e?r.ccAON():36===e?r.ccDER():37===e?r.ccRU(2):38===e?r.ccRU(3):39===e?r.ccRU(4):40===e?r.ccFON():41===e?r.ccRDC():42===e?r.ccTR():43===e?r.ccRTD():44===e?r.ccEDM():45===e?r.ccCR():46===e?r.ccENM():47===e&&r.ccEOC():r.ccTO(e-32),ne(t,e,n),this.currentChannel=i,!0},e.parseMidrow=function(t,e){var n=0;if((17===t||25===t)&&e>=32&&e<=47){if((n=17===t?1:2)!==this.currentChannel)return this.logger.log(Bt.ERROR,"Mismatch channel in midrow parsing"),!1;var i=this.channels[n];return!!i&&(i.ccMIDROW(e),this.logger.log(Bt.DEBUG,"MIDROW ("+Zt([t,e])+")"),!0)}return!1},e.parsePAC=function(t,e){var n=this.cmdHistory;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127||(16===t||24===t)&&e>=64&&e<=95))return!1;if(ie(t,e,n))return ne(null,null,n),!0;var i=t<=23?1:2,r=this.channels[i];return!!r&&(r.setPAC(this.interpretPAC(e>=64&&e<=95?1===i?Vt[t]:Gt[t]:1===i?qt[t]:Wt[t],e)),ne(t,e,n),this.currentChannel=i,!0)},e.interpretPAC=function(t,e){var n,i={color:null,italics:!1,indent:null,underline:!1,row:t};return i.underline=1==(1&(n=e>95?e-96:e-64)),n<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(i.italics=!0,i.color="white"):i.indent=4*Math.floor((n-16)/2),i},e.parseChars=function(t,e){var n,i,r=null,o=null;if(t>=25?(n=2,o=t-8):(n=1,o=t),o>=17&&o<=19?(this.logger.log(Bt.INFO,"Special char '"+Ut(i=17===o?e+80:18===o?e+112:e+144)+"' in channel "+n),r=[i]):t>=32&&t<=127&&(r=0===e?[t]:[t,e]),r){var a=Zt(r);this.logger.log(Bt.DEBUG,"Char codes =  "+a.join(",")),ne(t,e,this.cmdHistory)}return r},e.parseBackgroundAttributes=function(t,e){var n;if(!((16===t||24===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=45&&e<=47))return!1;var i={};return 16===t||24===t?(n=Math.floor((e-32)/2),i.background=Xt[n],e%2==1&&(i.background=i.background+"_semi")):45===e?i.background="transparent":(i.foreground="black",47===e&&(i.underline=!0)),this.channels[t<=23?1:2].setBkgData(i),ne(t,e,this.cmdHistory),!0},e.reset=function(){for(var t=0;t<Object.keys(this.channels).length;t++){var e=this.channels[t];e&&e.reset()}this.cmdHistory={a:null,b:null}},e.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++){var n=this.channels[e];n&&n.cueSplitAtTime(t)}},t}(),oe=function(){function t(t,e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=t,this.trackName=e}var e=t.prototype;return e.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},e.newCue=function(t,e,n){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)},e.reset=function(){this.cueRanges=[]},t}(),ae=function(t,e,n){return t.substr(n||0,e.length)===e},se=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return(e>>>0).toString()};function ue(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function le(t,e){return t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}var ce=function(t){var e,n;function i(e){var n;if((n=t.call(this,e,l.default.MEDIA_ATTACHING,l.default.MEDIA_DETACHING,l.default.FRAG_PARSING_USERDATA,l.default.FRAG_DECRYPTED,l.default.MANIFEST_LOADING,l.default.MANIFEST_LOADED,l.default.FRAG_LOADED,l.default.INIT_PTS_FOUND)||this).media=null,n.config=void 0,n.enabled=!0,n.Cues=void 0,n.textTracks=[],n.tracks=[],n.initPTS=[],n.unparsedVttFrags=[],n.captionsTracks={},n.nonNativeCaptionsTracks={},n.captionsProperties=void 0,n.cea608Parser1=void 0,n.cea608Parser2=void 0,n.lastSn=-1,n.prevCC=-1,n.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},n.hls=e,n.config=e.config,n.Cues=e.config.cueHandler,n.captionsProperties={textTrack1:{label:n.config.captionsTextTrack1Label,languageCode:n.config.captionsTextTrack1LanguageCode},textTrack2:{label:n.config.captionsTextTrack2Label,languageCode:n.config.captionsTextTrack2LanguageCode},textTrack3:{label:n.config.captionsTextTrack3Label,languageCode:n.config.captionsTextTrack3LanguageCode},textTrack4:{label:n.config.captionsTextTrack4Label,languageCode:n.config.captionsTextTrack4LanguageCode}},n.config.enableCEA708Captions){var i=new oe(ue(n),"textTrack1"),r=new oe(ue(n),"textTrack2"),o=new oe(ue(n),"textTrack3"),a=new oe(ue(n),"textTrack4");n.cea608Parser1=new re(1,i,r),n.cea608Parser2=new re(3,o,a)}return n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.addCues=function(t,e,n,i,r){for(var o,a,s=!1,u=r.length;u--;){var c=r[u],h=(o=c[0],a=e,Math.min(c[1],n)-Math.max(o,a));if(h>=0&&(c[0]=Math.min(c[0],e),c[1]=Math.max(c[1],n),s=!0,h/(n-e)>.5))return}if(s||r.push([e,n]),this.config.renderTextTracksNatively)this.Cues.newCue(this.captionsTracks[t],e,n,i);else{var d=this.Cues.newCue(null,e,n,i);this.hls.trigger(l.default.CUES_PARSED,{type:"captions",cues:d,track:t})}},r.onInitPtsFound=function(t){var e=this,n=this.unparsedVttFrags;"main"===t.id&&(this.initPTS[t.frag.cc]=t.initPTS),n.length&&(this.unparsedVttFrags=[],n.forEach(function(t){e.onFragLoaded(t)}))},r.getExistingTrack=function(t){var e=this.media;if(e)for(var n=0;n<e.textTracks.length;n++){var i=e.textTracks[n];if(i[t])return i}return null},r.createCaptionsTrack=function(t){this.config.renderTextTracksNatively?this.createNativeTrack(t):this.createNonNativeTrack(t)},r.createNativeTrack=function(t){if(!this.captionsTracks[t]){var e=this.captionsTracks,n=this.media,i=this.captionsProperties[t],r=i.label,o=i.languageCode,a=this.getExistingTrack(t);if(a)e[t]=a,pt(e[t]),ft(e[t],n);else{var s=this.createTextTrack("captions",r,o);s&&(s[t]=!0,e[t]=s)}}},r.createNonNativeTrack=function(t){if(!this.nonNativeCaptionsTracks[t]){var e=this.captionsProperties[t];if(e){var n={_id:t,label:e.label,kind:"captions",default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[t]=n,this.hls.trigger(l.default.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[n]})}}},r.createTextTrack=function(t,e,n){var i=this.media;if(i)return i.addTextTrack(t,e,n)},r.destroy=function(){t.prototype.destroy.call(this)},r.onMediaAttaching=function(t){this.media=t.media,this._cleanTracks()},r.onMediaDetaching=function(){var t=this.captionsTracks;Object.keys(t).forEach(function(e){pt(t[e]),delete t[e]}),this.nonNativeCaptionsTracks={}},r.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={}},r._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var n=0;n<e.length;n++)pt(e[n])}},r.onManifestLoaded=function(t){var e=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset()),this.config.enableWebVTT){var n=t.subtitles||[],i=this.tracks&&n&&this.tracks.length===n.length;if(this.tracks=t.subtitles||[],this.config.renderTextTracksNatively){var r=this.media?this.media.textTracks:[];this.tracks.forEach(function(t,n){var i;if(n<r.length){for(var o=null,a=0;a<r.length;a++)if(le(r[a],t)){o=r[a];break}o&&(i=o)}i||(i=e.createTextTrack("subtitles",t.name,t.lang)),i.mode=t.default?e.hls.subtitleDisplay?"showing":"hidden":"disabled",e.textTracks.push(i)})}else if(!i&&this.tracks&&this.tracks.length){var o=this.tracks.map(function(t){return{label:t.name,kind:t.type.toLowerCase(),default:t.default,subtitleTrack:t}});this.hls.trigger(l.default.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:o})}}this.config.enableCEA708Captions&&t.captions&&t.captions.forEach(function(t){var n=/(?:CC|SERVICE)([1-4])/.exec(t.instreamId);if(n){var i=e.captionsProperties["textTrack"+n[1]];i&&(i.label=t.name,t.lang&&(i.languageCode=t.lang),i.media=t)}})},r.onFragLoaded=function(t){var e=t.frag,n=t.payload,i=this.cea608Parser1,r=this.cea608Parser2,o=this.initPTS,a=this.unparsedVttFrags;if("main"===e.type){var s=e.sn;e.sn!==this.lastSn+1&&i&&r&&(i.reset(),r.reset()),this.lastSn=s}else if("subtitle"===e.type)if(n.byteLength){if(!Object(u.isFiniteNumber)(o[e.cc]))return a.push(t),void(o.length&&this.hls.trigger(l.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e}));var c=e.decryptdata;null!=c&&null!=c.key&&"AES-128"===c.method||this._parseVTTs(e,n)}else this.hls.trigger(l.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})},r._parseVTTs=function(t,e){var n=this,i=this.hls,r=this.textTracks,o=this.vttCCs;o[t.cc]||(o[t.cc]={start:t.start,prevCC:this.prevCC,new:!0},this.prevCC=t.cc),function(e,o,a,s,h,d){var f,p=Object(dt.utf8ArrayToStr)(new Uint8Array(e)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),m="00:00.000",g=0,y=0,v=0,_=[],b=!0,x=!1,w=new zt;w.oncue=function(t){var e=a[s],n=a.ccOffset;e&&e.new&&(void 0!==y?n=a.ccOffset=e.start:function(t,e,n){var i=t[e],r=t[i.prevCC];if(!r||!r.new&&i.new)return t.ccOffset=t.presentationOffset=i.start,void(i.new=!1);for(;r&&r.new;)t.ccOffset+=i.start-r.start,i.new=!1,r=t[(i=r).prevCC];t.presentationOffset=n}(a,s,v)),v&&(n=v-a.presentationOffset),x&&(t.startTime+=n-y,t.endTime+=n-y),t.id=se(t.startTime.toString())+se(t.endTime.toString())+se(t.text),t.text=decodeURIComponent(encodeURIComponent(t.text)),t.endTime>0&&_.push(t)},w.onparsingerror=function(t){f=t},w.onflush=function(){f&&d?d(f):function(e){if(n.config.renderTextTracksNatively){var o=r[t.level];if("disabled"===o.mode)return void i.trigger(l.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t});e.forEach(function(t){if(!o.cues.getCueById(t.id))try{if(o.addCue(t),!o.cues.getCueById(t.id))throw new Error("addCue is failed for: "+t)}catch(n){c.logger.debug("Failed occurred on adding cues: "+n);var e=new window.TextTrackCue(t.startTime,t.endTime,t.text);e.id=t.id,o.addCue(e)}})}else i.trigger(l.default.CUES_PARSED,{type:"subtitles",cues:e,track:n.tracks[t.level].default?"default":"subtitles"+t.level});i.trigger(l.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})}(_)},p.forEach(function(t){if(b){if(ae(t,"X-TIMESTAMP-MAP=")){b=!1,x=!0,t.substr(16).split(",").forEach(function(t){ae(t,"LOCAL:")?m=t.substr(6):ae(t,"MPEGTS:")&&(g=parseInt(t.substr(7)))});try{o+(9e4*a[s].start||0)<0&&(o+=8589934592),g-=o,y=function(t){var e=parseInt(t.substr(-3)),n=parseInt(t.substr(-6,2)),i=parseInt(t.substr(-9,2)),r=t.length>9?parseInt(t.substr(0,t.indexOf(":"))):0;if(!(Object(u.isFiniteNumber)(e)&&Object(u.isFiniteNumber)(n)&&Object(u.isFiniteNumber)(i)&&Object(u.isFiniteNumber)(r)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+t);return e+=1e3*n,(e+=6e4*i)+36e5*r}(m)/1e3,v=g/9e4}catch(e){x=!1,f=e}return}""===t&&(b=!1)}w.parse(t+"\n")}),w.flush()}(e,this.initPTS[t.cc],o,t.cc,0,function(e){c.logger.log("Failed to parse VTT cue: "+e),i.trigger(l.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})})},r.onFragDecrypted=function(t){var e=t.frag,n=t.payload;if("subtitle"===e.type){if(!Object(u.isFiniteNumber)(this.initPTS[e.cc]))return void this.unparsedVttFrags.push(t);this._parseVTTs(e,n)}},r.onFragParsingUserdata=function(t){var e=this.cea608Parser1,n=this.cea608Parser2;if(this.enabled&&e&&n)for(var i=0;i<t.samples.length;i++){var r=t.samples[i].bytes;if(r){var o=this.extractCea608Data(r);e.addData(t.samples[i].pts,o[0]),n.addData(t.samples[i].pts,o[1])}}},r.extractCea608Data=function(t){for(var e=31&t[0],n=2,i=[[],[]],r=0;r<e;r++){var o=t[n++],a=127&t[n++],s=127&t[n++],u=3&o;0===a&&0===s||0!=(4&o)&&(0!==u&&1!==u||(i[u].push(a),i[u].push(s)))}return i},i}(d);function he(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];"subtitles"===i.kind&&i.label&&e.push(t[n])}return e}var de,fe=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,l.default.MEDIA_ATTACHED,l.default.MEDIA_DETACHING,l.default.MANIFEST_LOADED,l.default.SUBTITLE_TRACK_LOADED)||this).tracks=[],n.trackId=-1,n.media=null,n.stopped=!0,n.subtitleDisplay=!0,n.queuedDefaultTrack=null,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,o=i.prototype;return o.destroy=function(){d.prototype.destroy.call(this)},o.onMediaAttached=function(t){var e=this;this.media=t.media,this.media&&(Object(u.isFiniteNumber)(this.queuedDefaultTrack)&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=null),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){e.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},o.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),Object(u.isFiniteNumber)(this.subtitleTrack)&&(this.queuedDefaultTrack=this.subtitleTrack),he(this.media.textTracks).forEach(function(t){pt(t)}),this.subtitleTrack=-1,this.media=null)},o.onManifestLoaded=function(t){var e=this,n=t.subtitles||[];this.tracks=n,this.hls.trigger(l.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:n}),n.forEach(function(t){t.default&&(e.media?e.subtitleTrack=t.id:e.queuedDefaultTrack=t.id)})},o.onSubtitleTrackLoaded=function(t){var e=this,n=t.id,i=t.details,r=this.trackId,o=this.tracks,a=o[r];if(n>=o.length||n!==r||!a||this.stopped)this._clearReloadTimer();else if(c.logger.log("subtitle track "+n+" loaded"),i.live){var s=Q(a.details,i,t.stats.trequest);c.logger.log("Reloading live subtitle playlist in "+s+"ms"),this.timer=setTimeout(function(){e._loadCurrentTrack()},s)}else this._clearReloadTimer()},o.startLoad=function(){this.stopped=!1,this._loadCurrentTrack()},o.stopLoad=function(){this.stopped=!0,this._clearReloadTimer()},o._clearReloadTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},o._loadCurrentTrack=function(){var t=this.trackId,e=this.hls,n=this.tracks[t];t<0||!n||n.details&&!n.details.live||(c.logger.log("Loading subtitle track "+t),e.trigger(l.default.SUBTITLE_TRACK_LOADING,{url:n.url,id:t}))},o._toggleTrackModes=function(t){var e=this.media,n=this.subtitleDisplay,i=this.trackId;if(e){var r=he(e.textTracks);if(-1===t)[].slice.call(r).forEach(function(t){t.mode="disabled"});else{var o=r[i];o&&(o.mode="disabled")}var a=r[t];a&&(a.mode=n?"showing":"hidden")}},o._setSubtitleTrackInternal=function(t){var e=this.hls,n=this.tracks;!Object(u.isFiniteNumber)(t)||t<-1||t>=n.length||(this.trackId=t,c.logger.log("Switching to subtitle track "+t),e.trigger(l.default.SUBTITLE_TRACK_SWITCH,{id:t}),this._loadCurrentTrack())},o._onTextTracksChanged=function(){if(this.media&&this.hls.config.renderTextTracksNatively){for(var t=-1,e=he(this.media.textTracks),n=0;n<e.length;n++)if("hidden"===e[n].mode)t=n;else if("showing"===e[n].mode){t=n;break}this.subtitleTrack=t}},(r=[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.trackId!==t&&(this._toggleTrackModes(t),this._setSubtitleTrackInternal(t))}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(i.prototype,r),i}(d),pe=n("./src/crypt/decrypter.js"),me=window.performance,ge=function(t){var e,n;function i(e,n){var i;return(i=t.call(this,e,l.default.MEDIA_ATTACHED,l.default.MEDIA_DETACHING,l.default.ERROR,l.default.KEY_LOADED,l.default.FRAG_LOADED,l.default.SUBTITLE_TRACKS_UPDATED,l.default.SUBTITLE_TRACK_SWITCH,l.default.SUBTITLE_TRACK_LOADED,l.default.SUBTITLE_FRAG_PROCESSED,l.default.LEVEL_UPDATED)||this).fragmentTracker=n,i.config=e.config,i.state="STOPPED",i.tracks=[],i.tracksBuffered=[],i.currentTrackId=-1,i.decrypter=new pe.default(e,e.config),i.lastAVStart=0,i._onMediaSeeking=i.onMediaSeeking.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i)),i}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=i.prototype;return r.startLoad=function(){this.stopLoad(),this.state="IDLE";var t=this.tracks[this.currentTrackId];t&&t.details&&(this.setInterval(500),this.tick())},r.onSubtitleFragProcessed=function(t){var e=t.frag,n=t.success;if(this.fragPrevious=e,this.state="IDLE",n){var i=this.tracksBuffered[this.currentTrackId];if(i){for(var r,o=e.start,a=0;a<i.length;a++)if(o>=i[a].start&&o<=i[a].end){r=i[a];break}var s=e.start+e.duration;r?r.end=s:i.push(r={start:o,end:s})}}},r.onMediaAttached=function(t){var e=t.media;this.media=e,e.addEventListener("seeking",this._onMediaSeeking),this.state="IDLE"},r.onMediaDetaching=function(){var t=this;this.media&&(this.media.removeEventListener("seeking",this._onMediaSeeking),this.fragmentTracker.removeAllFragments(),this.currentTrackId=-1,this.tracks.forEach(function(e){t.tracksBuffered[e.id]=[]}),this.media=null,this.state="STOPPED")},r.onError=function(t){var e=t.frag;e&&"subtitle"===e.type&&(this.fragCurrent&&this.fragCurrent.loader&&this.fragCurrent.loader.abort(),this.state="IDLE")},r.onSubtitleTracksUpdated=function(t){var e=this;c.logger.log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=t.subtitleTracks,this.tracks.forEach(function(t){e.tracksBuffered[t.id]=[]})},r.onSubtitleTrackSwitch=function(t){if(this.currentTrackId=t.id,this.tracks&&this.tracks.length&&-1!==this.currentTrackId){var e=this.tracks[this.currentTrackId];e&&e.details&&this.setInterval(500)}else this.clearInterval()},r.onSubtitleTrackLoaded=function(t){var e=t.id,n=t.details,i=this.currentTrackId,r=this.tracks,o=r[i];e>=r.length||e!==i||!o||(n.live&&function(t,e,n){void 0===n&&(n=0);var i=-1;Z(t,e,function(t,e,n){e.start=t.start,i=n});var r=e.fragments;if(i<0)r.forEach(function(t){t.start+=n});else for(var o=i+1;o<r.length;o++)r[o].start=r[o-1].start+r[o-1].duration}(o.details,n,this.lastAVStart),o.details=n,this.setInterval(500))},r.onKeyLoaded=function(){"KEY_LOADING"===this.state&&(this.state="IDLE")},r.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag.decryptdata,i=t.frag,r=this.hls;if("FRAG_LOADING"===this.state&&e&&"subtitle"===t.frag.type&&e.sn===t.frag.sn&&t.payload.byteLength>0&&n&&n.key&&"AES-128"===n.method){var o=me.now();this.decrypter.decrypt(t.payload,n.key.buffer,n.iv.buffer,function(t){var e=me.now();r.trigger(l.default.FRAG_DECRYPTED,{frag:i,payload:t,stats:{tstart:o,tdecrypt:e}})})}},r.onLevelUpdated=function(t){var e=t.details.fragments;this.lastAVStart=e.length?e[0].start:0},r.doTick=function(){if(this.media)switch(this.state){case"IDLE":var t=this.config,e=this.currentTrackId,n=this.fragmentTracker,i=this.media,r=this.tracks;if(!r||!r[e]||!r[e].details)break;var o,a=t.maxBufferHole,s=t.maxFragLookUpTolerance,u=Math.min(t.maxBufferLength,t.maxMaxBufferLength),h=N.bufferedInfo(this._getBuffered(),i.currentTime,a),d=h.end,f=r[e].details,p=f.fragments,m=p.length;if(h.len>u)return;var g=this.fragPrevious;d<p[m-1].start+p[m-1].duration?(g&&f.hasProgramDateTime&&(o=et(p,g.endProgramDateTime,s)),o||(o=nt(g,p,d,s))):o=p[m-1],o&&o.encrypted?(c.logger.log("Loading key for "+o.sn),this.state="KEY_LOADING",this.hls.trigger(l.default.KEY_LOADING,{frag:o})):o&&"NOT_LOADED"===n.getState(o)&&(this.fragCurrent=o,this.state="FRAG_LOADING",this.hls.trigger(l.default.FRAG_LOADING,{frag:o}))}else this.state="IDLE"},r.stopLoad=function(){this.lastAVStart=0,this.fragPrevious=null,t.prototype.stopLoad.call(this)},r._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},r.onMediaSeeking=function(){if(this.fragCurrent){var t=this.media?this.media.currentTime:0,e=this.config.maxFragLookUpTolerance;(t<this.fragCurrent.start-e||t>this.fragCurrent.start+this.fragCurrent.duration+e)&&(this.fragCurrent.loader&&this.fragCurrent.loader.abort(),this.fragmentTracker.removeFragment(this.fragCurrent),this.fragCurrent=null,this.fragPrevious=null,this.state="IDLE",this.tick())}},i}(lt);!function(t){t.WIDEVINE="com.widevine.alpha",t.PLAYREADY="com.microsoft.playready"}(de||(de={}));var ye="undefined"!=typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null,ve=function(t){var e,n;function i(e){var n;return(n=t.call(this,e,l.default.MEDIA_ATTACHED,l.default.MEDIA_DETACHED,l.default.MANIFEST_PARSED)||this)._widevineLicenseUrl=void 0,n._licenseXhrSetup=void 0,n._emeEnabled=void 0,n._requestMediaKeySystemAccess=void 0,n._drmSystemOptions=void 0,n._config=void 0,n._mediaKeysList=[],n._media=null,n._hasSetMediaKeys=!1,n._requestLicenseFailureCount=0,n.mediaKeysPromise=null,n._onMediaEncrypted=function(t){if(c.logger.log('Media is encrypted using "'+t.initDataType+'" init data type'),!n.mediaKeysPromise)return c.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void n.hls.trigger(l.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});var e=function(e){n._media&&(n._attemptSetMediaKeys(e),n._generateRequestWithPreferredKeySession(t.initDataType,t.initData))};n.mediaKeysPromise.then(e).catch(e)},n._config=e.config,n._widevineLicenseUrl=n._config.widevineLicenseUrl,n._licenseXhrSetup=n._config.licenseXhrSetup,n._emeEnabled=n._config.emeEnabled,n._requestMediaKeySystemAccess=n._config.requestMediaKeySystemAccessFunc,n._drmSystemOptions=e.config.drmSystemOptions,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,o=i.prototype;return o.getLicenseServerUrl=function(t){switch(t){case de.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+t+'"')},o._attemptKeySystemAccess=function(t,e,n){var i=this,r=function(t,e,n,i){switch(t){case de.WIDEVINE:return function(t,e,n){var i={audioCapabilities:[],videoCapabilities:[]};return t.forEach(function(t){i.audioCapabilities.push({contentType:'audio/mp4; codecs="'+t+'"',robustness:n.audioRobustness||""})}),e.forEach(function(t){i.videoCapabilities.push({contentType:'video/mp4; codecs="'+t+'"',robustness:n.videoRobustness||""})}),[i]}(e,n,i);default:throw new Error("Unknown key-system: "+t)}}(t,e,n,this._drmSystemOptions);c.logger.log("Requesting encrypted media key-system access");var o=this.requestMediaKeySystemAccess(t,r);this.mediaKeysPromise=o.then(function(e){return i._onMediaKeySystemAccessObtained(t,e)}),o.catch(function(e){c.logger.error('Failed to obtain key-system "'+t+'" access:',e)})},o._onMediaKeySystemAccessObtained=function(t,e){var n=this;c.logger.log('Access for key-system "'+t+'" obtained');var i={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:e,mediaKeySystemDomain:t};this._mediaKeysList.push(i);var r=Promise.resolve().then(function(){return e.createMediaKeys()}).then(function(e){return i.mediaKeys=e,c.logger.log('Media-keys created for key-system "'+t+'"'),n._onMediaKeysCreated(),e});return r.catch(function(t){c.logger.error("Failed to create media-keys:",t)}),r},o._onMediaKeysCreated=function(){var t=this;this._mediaKeysList.forEach(function(e){e.mediaKeysSession||(e.mediaKeysSession=e.mediaKeys.createSession(),t._onNewMediaKeySession(e.mediaKeysSession))})},o._onNewMediaKeySession=function(t){var e=this;c.logger.log("New key-system session "+t.sessionId),t.addEventListener("message",function(n){e._onKeySessionMessage(t,n.message)},!1)},o._onKeySessionMessage=function(t,e){c.logger.log("Got EME message event, creating license request"),this._requestLicense(e,function(e){c.logger.log("Received license data (length: "+(e?e.byteLength:e)+"), updating key-session"),t.update(e)})},o._attemptSetMediaKeys=function(t){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var e=this._mediaKeysList[0];if(!e||!e.mediaKeys)return c.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(l.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});c.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(e.mediaKeys),this._hasSetMediaKeys=!0}},o._generateRequestWithPreferredKeySession=function(t,e){var n=this,i=this._mediaKeysList[0];if(!i)return c.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(l.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(i.mediaKeysSessionInitialized)c.logger.warn("Key-Session already initialized but requested again");else{var r=i.mediaKeysSession;if(!r)return c.logger.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(l.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0});if(!e)return c.logger.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(l.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});c.logger.log('Generating key-session request for "'+t+'" init data type'),i.mediaKeysSessionInitialized=!0,r.generateRequest(t,e).then(function(){c.logger.debug("Key-session generation succeeded")}).catch(function(t){c.logger.error("Error generating key-session request:",t),n.hls.trigger(l.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})}},o._createLicenseXhr=function(t,e,n){var i=new XMLHttpRequest,r=this._licenseXhrSetup;try{if(r)try{r(i,t)}catch(o){i.open("POST",t,!0),r(i,t)}i.readyState||i.open("POST",t,!0)}catch(o){throw new Error("issue setting up KeySystem license XHR "+o)}return i.responseType="arraybuffer",i.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,i,t,e,n),i},o._onLicenseRequestReadyStageChange=function(t,e,n,i){switch(t.readyState){case 4:if(200===t.status)this._requestLicenseFailureCount=0,c.logger.log("License request succeeded"),"arraybuffer"!==t.responseType&&c.logger.warn("xhr response type was not set to the expected arraybuffer for license request"),i(t.response);else{if(c.logger.error("License Request XHR failed ("+e+"). Status: "+t.status+" ("+t.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>3)return void this.hls.trigger(l.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});c.logger.warn("Retrying license request, "+(3-this._requestLicenseFailureCount+1)+" attempts left"),this._requestLicense(n,i)}}},o._generateLicenseRequestChallenge=function(t,e){switch(t.mediaKeySystemDomain){case de.WIDEVINE:return e}throw new Error("unsupported key-system: "+t.mediaKeySystemDomain)},o._requestLicense=function(t,e){c.logger.log("Requesting content license for key-system");var n=this._mediaKeysList[0];if(!n)return c.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(l.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var i=this.getLicenseServerUrl(n.mediaKeySystemDomain),r=this._createLicenseXhr(i,t,e);c.logger.log("Sending license request to URL: "+i);var o=this._generateLicenseRequestChallenge(n,t);r.send(o)}catch(a){c.logger.error("Failure requesting DRM license: "+a),this.hls.trigger(l.default.ERROR,{type:s.ErrorTypes.KEY_SYSTEM_ERROR,details:s.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},o.onMediaAttached=function(t){if(this._emeEnabled){var e=t.media;this._media=e,e.addEventListener("encrypted",this._onMediaEncrypted)}},o.onMediaDetached=function(){var t=this._media,e=this._mediaKeysList;t&&(t.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(e.map(function(t){if(t.mediaKeysSession)return t.mediaKeysSession.close().catch(function(){})})).then(function(){return t.setMediaKeys(null)}).catch(function(){}))},o.onManifestParsed=function(t){if(this._emeEnabled){var e=t.levels.map(function(t){return t.audioCodec}),n=t.levels.map(function(t){return t.videoCodec});this._attemptKeySystemAccess(de.WIDEVINE,e,n)}},(r=[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(i.prototype,r),i}(d);function _e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function be(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_e(Object(n),!0).forEach(function(e){xe(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function xe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var we=be(be({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Et,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:_t,bufferController:xt,capLevelController:kt,fpsController:St,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:ye,testBandwidth:!0},{cueHandler:i,enableCEA708Captions:!0,enableWebVTT:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:ge,subtitleTrackController:fe,timelineController:ce,audioStreamController:Ct,audioTrackController:Lt,emeController:ve});function ke(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function Me(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ke(Object(n),!0).forEach(function(e){Se(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Se(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ee(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Le(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Te(t,e,n){return e&&Le(t.prototype,e),n&&Le(t,n),t}var Ce=function(t){var e,n;function i(e){var n;void 0===e&&(e={}),(n=t.call(this)||this).config=void 0,n._autoLevelCapping=void 0,n.abrController=void 0,n.capLevelController=void 0,n.levelController=void 0,n.streamController=void 0,n.networkControllers=void 0,n.audioTrackController=void 0,n.subtitleTrackController=void 0,n.emeController=void 0,n.coreComponents=void 0,n.media=null,n.url=null;var r=i.DefaultConfig;if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");n.config=Me(Me({},r),e);var o=Ee(n).config;if(void 0!==o.liveMaxLatencyDurationCount&&o.liveMaxLatencyDurationCount<=o.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==o.liveMaxLatencyDuration&&(void 0===o.liveSyncDuration||o.liveMaxLatencyDuration<=o.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(c.enableLogs)(o.debug),n._autoLevelCapping=-1;var a=n.abrController=new o.abrController(Ee(n)),s=new o.bufferController(Ee(n)),u=n.capLevelController=new o.capLevelController(Ee(n)),l=new o.fpsController(Ee(n)),h=new P(Ee(n)),d=new D(Ee(n)),f=new O(Ee(n)),p=new mt(Ee(n)),m=n.levelController=new ht(Ee(n)),g=new A(Ee(n)),y=[m,n.streamController=new ct(Ee(n),g)],v=o.audioStreamController;v&&y.push(new v(Ee(n),g)),n.networkControllers=y;var _=[h,d,f,a,s,u,l,p,g];if(v=o.audioTrackController){var b=new v(Ee(n));n.audioTrackController=b,_.push(b)}if(v=o.subtitleTrackController){var x=new v(Ee(n));n.subtitleTrackController=x,y.push(x)}if(v=o.emeController){var w=new v(Ee(n));n.emeController=w,_.push(w)}return(v=o.subtitleStreamController)&&y.push(new v(Ee(n),g)),(v=o.timelineController)&&_.push(new v(Ee(n))),n.coreComponents=_,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.isSupported=function(){return function(){var t=j();if(!t)return!1;var e=self.SourceBuffer||self.WebKitSourceBuffer;return!(!t||"function"!=typeof t.isTypeSupported||!t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')||e&&(!e.prototype||"function"!=typeof e.prototype.appendBuffer||"function"!=typeof e.prototype.remove))}()},Te(i,null,[{key:"version",get:function(){return"0.14.17"}},{key:"Events",get:function(){return l.default}},{key:"ErrorTypes",get:function(){return s.ErrorTypes}},{key:"ErrorDetails",get:function(){return s.ErrorDetails}},{key:"DefaultConfig",get:function(){return i.defaultConfig?i.defaultConfig:we},set:function(t){i.defaultConfig=t}}]);var r=i.prototype;return r.destroy=function(){c.logger.log("destroy"),this.trigger(l.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(t){t.destroy()}),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},r.attachMedia=function(t){c.logger.log("attachMedia"),this.media=t,this.trigger(l.default.MEDIA_ATTACHING,{media:t})},r.detachMedia=function(){c.logger.log("detachMedia"),this.trigger(l.default.MEDIA_DETACHING),this.media=null},r.loadSource=function(t){t=a.buildAbsoluteURL(window.location.href,t,{alwaysNormalize:!0}),c.logger.log("loadSource:"+t),this.url=t,this.trigger(l.default.MANIFEST_LOADING,{url:t})},r.startLoad=function(t){void 0===t&&(t=-1),c.logger.log("startLoad("+t+")"),this.networkControllers.forEach(function(e){e.startLoad(t)})},r.stopLoad=function(){c.logger.log("stopLoad"),this.networkControllers.forEach(function(t){t.stopLoad()})},r.swapAudioCodec=function(){c.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},r.recoverMediaError=function(){c.logger.log("recoverMediaError");var t=this.media;this.detachMedia(),t&&this.attachMedia(t)},r.removeLevel=function(t,e){void 0===e&&(e=0),this.levelController.removeLevel(t,e)},Te(i,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){c.logger.log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){c.logger.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){c.logger.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){c.logger.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){c.logger.log("set startLevel:"+t),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}},{key:"capLevelToPlayerSize",set:function(t){var e=!!t;e!==this.config.capLevelToPlayerSize&&(e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=e)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){c.logger.log("set autoLevelCapping:"+t),this._autoLevelCapping=t}},{key:"bandwidthEstimate",get:function(){var t=this.abrController._bwEstimator;return t?t.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var t=this.levels,e=this.config.minAutoBitrate,n=t?t.length:0,i=0;i<n;i++)if((t[i].realBitrate?Math.max(t[i].realBitrate,t[i].bitrate):t[i].bitrate)>e)return i;return 0}},{key:"maxAutoLevel",get:function(){var t=this.levels,e=this.autoLevelCapping;return-1===e&&t&&t.length?t.length-1:e}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}}]),i}(H);Ce.defaultConfig=void 0},"./src/polyfills/number.js":function(t,e,n){"use strict";n.r(e),n.d(e,"isFiniteNumber",function(){return i}),n.d(e,"MAX_SAFE_INTEGER",function(){return r});var i=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},r=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/utils/get-self-scope.js":function(t,e,n){"use strict";function i(){return"undefined"==typeof window?self:window}n.r(e),n.d(e,"getSelfScope",function(){return i})},"./src/utils/logger.js":function(t,e,n){"use strict";n.r(e),n.d(e,"enableLogs",function(){return c}),n.d(e,"logger",function(){return h});var i=n("./src/utils/get-self-scope.js");function r(){}var o={trace:r,debug:r,log:r,warn:r,info:r,error:r},a=o;function s(t,e){return"["+t+"] > "+e}var u=Object(i.getSelfScope)();function l(t){var e=u.console[t];return e?function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];i[0]&&(i[0]=s(t,i[0])),e.apply(u.console,i)}:r}var c=function(t){if(u.console&&!0===t||"object"==typeof t){!function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];n.forEach(function(e){a[e]=t[e]?t[e].bind(t):l(e)})}(t,"debug","log","info","warn","error");try{a.log()}catch(e){a=o}}else a=o},h=a}}).default},t.exports=i())},wQk9:function(t,e,n){!function(t){"use strict";t.defineLocale("tzm",{months:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),monthsShort:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),weekdays:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysShort:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysMin:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2d30\u2d59\u2d37\u2d45 \u2d34] LT",nextDay:"[\u2d30\u2d59\u2d3d\u2d30 \u2d34] LT",nextWeek:"dddd [\u2d34] LT",lastDay:"[\u2d30\u2d5a\u2d30\u2d4f\u2d5c \u2d34] LT",lastWeek:"dddd [\u2d34] LT",sameElse:"L"},relativeTime:{future:"\u2d37\u2d30\u2d37\u2d45 \u2d59 \u2d62\u2d30\u2d4f %s",past:"\u2d62\u2d30\u2d4f %s",s:"\u2d49\u2d4e\u2d49\u2d3d",ss:"%d \u2d49\u2d4e\u2d49\u2d3d",m:"\u2d4e\u2d49\u2d4f\u2d53\u2d3a",mm:"%d \u2d4e\u2d49\u2d4f\u2d53\u2d3a",h:"\u2d59\u2d30\u2d44\u2d30",hh:"%d \u2d5c\u2d30\u2d59\u2d59\u2d30\u2d44\u2d49\u2d4f",d:"\u2d30\u2d59\u2d59",dd:"%d o\u2d59\u2d59\u2d30\u2d4f",M:"\u2d30\u2d62o\u2d53\u2d54",MM:"%d \u2d49\u2d62\u2d62\u2d49\u2d54\u2d4f",y:"\u2d30\u2d59\u2d33\u2d30\u2d59",yy:"%d \u2d49\u2d59\u2d33\u2d30\u2d59\u2d4f"},week:{dow:6,doy:12}})}(n("wd/R"))},"wd/R":function(t,e,n){(function(t){t.exports=function(){"use strict";var e,i;function r(){return e.apply(null,arguments)}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function a(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(s(t,e))return!1;return!0}function l(t){return void 0===t}function c(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function h(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function d(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function f(t,e){for(var n in e)s(e,n)&&(t[n]=e[n]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function p(t,e,n,i){return Me(t,e,n,i,!0).utc()}function m(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function g(t){if(null==t._isValid){var e=m(t),n=i.call(e.parsedDateParts,function(t){return null!=t}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return r;t._isValid=r}return t._isValid}function y(t){var e=p(NaN);return null!=t?f(m(e),t):m(e).userInvalidated=!0,e}i=Array.prototype.some?Array.prototype.some:function(t){var e,n=Object(this),i=n.length>>>0;for(e=0;e<i;e++)if(e in n&&t.call(this,n[e],e,n))return!0;return!1};var v=r.momentProperties=[],_=!1;function b(t,e){var n,i,r;if(l(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),l(e._i)||(t._i=e._i),l(e._f)||(t._f=e._f),l(e._l)||(t._l=e._l),l(e._strict)||(t._strict=e._strict),l(e._tzm)||(t._tzm=e._tzm),l(e._isUTC)||(t._isUTC=e._isUTC),l(e._offset)||(t._offset=e._offset),l(e._pf)||(t._pf=m(e)),l(e._locale)||(t._locale=e._locale),v.length>0)for(n=0;n<v.length;n++)l(r=e[i=v[n]])||(t[i]=r);return t}function x(t){b(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===_&&(_=!0,r.updateOffset(this),_=!1)}function w(t){return t instanceof x||null!=t&&null!=t._isAMomentObject}function k(t){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function M(t,e){var n=!0;return f(function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,t),n){var i,o,a,u=[];for(o=0;o<arguments.length;o++){if(i="","object"==typeof arguments[o]){for(a in i+="\n["+o+"] ",arguments[0])s(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[o];u.push(i)}k(t+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)},e)}var S,E={};function L(t,e){null!=r.deprecationHandler&&r.deprecationHandler(t,e),E[t]||(k(e),E[t]=!0)}function T(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function C(t,e){var n,i=f({},t);for(n in e)s(e,n)&&(a(t[n])&&a(e[n])?(i[n]={},f(i[n],t[n]),f(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)s(t,n)&&!s(e,n)&&a(t[n])&&(i[n]=f({},i[n]));return i}function I(t){null!=t&&this.set(t)}function P(t,e,n){var i=""+Math.abs(t);return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,e-i.length)).toString().substr(1)+i}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,S=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)s(t,e)&&n.push(e);return n};var D=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,O=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,A={},R={};function N(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(R[t]=r),e&&(R[e[0]]=function(){return P(r.apply(this,arguments),e[1],e[2])}),n&&(R[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function F(t,e){return t.isValid()?(e=Y(e,t.localeData()),A[e]=A[e]||function(t){var e,n,i,r=t.match(D);for(e=0,n=r.length;e<n;e++)r[e]=R[r[e]]?R[r[e]]:(i=r[e]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(e){var i,o="";for(i=0;i<n;i++)o+=T(r[i])?r[i].call(e,t):r[i];return o}}(e),A[e](t)):t.localeData().invalidDate()}function Y(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}for(O.lastIndex=0;n>=0&&O.test(t);)t=t.replace(O,i),O.lastIndex=0,n-=1;return t}var z={};function j(t,e){var n=t.toLowerCase();z[n]=z[n+"s"]=z[e]=t}function B(t){return"string"==typeof t?z[t]||z[t.toLowerCase()]:void 0}function H(t){var e,n,i={};for(n in t)s(t,n)&&(e=B(n))&&(i[e]=t[n]);return i}var U={};function V(t,e){U[t]=e}function q(t){return t%4==0&&t%100!=0||t%400==0}function G(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function W(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=G(e)),n}function X(t,e){return function(n){return null!=n?(Z(this,t,n),r.updateOffset(this,e),this):K(this,t)}}function K(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Z(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&q(t.year())&&1===t.month()&&29===t.date()?(n=W(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),wt(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}var Q,J=/\d/,$=/\d\d/,tt=/\d{3}/,et=/\d{4}/,nt=/[+-]?\d{6}/,it=/\d\d?/,rt=/\d\d\d\d?/,ot=/\d\d\d\d\d\d?/,at=/\d{1,3}/,st=/\d{1,4}/,ut=/[+-]?\d{1,6}/,lt=/\d+/,ct=/[+-]?\d+/,ht=/Z|[+-]\d\d:?\d\d/gi,dt=/Z|[+-]\d\d(?::?\d\d)?/gi,ft=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function pt(t,e,n){Q[t]=T(e)?e:function(t,i){return t&&n?n:e}}function mt(t,e){return s(Q,t)?Q[t](e._strict,e._locale):new RegExp(gt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r})))}function gt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Q={};var yt,vt={};function _t(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),c(e)&&(i=function(t,n){n[e]=W(t)}),n=0;n<t.length;n++)vt[t[n]]=i}function bt(t,e){_t(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function xt(t,e,n){null!=e&&s(vt,t)&&vt[t](e,n._a,n,t)}function wt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=(e%12+12)%12;return t+=(e-n)/12,1===n?q(t)?29:28:31-n%7%2}yt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},N("M",["MM",2],"Mo",function(){return this.month()+1}),N("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),N("MMMM",0,0,function(t){return this.localeData().months(this,t)}),j("month","M"),V("month",8),pt("M",it),pt("MM",it,$),pt("MMM",function(t,e){return e.monthsShortRegex(t)}),pt("MMMM",function(t,e){return e.monthsRegex(t)}),_t(["M","MM"],function(t,e){e[1]=W(t)-1}),_t(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[1]=r:m(n).invalidMonth=t});var kt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Mt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),St=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Et=ft,Lt=ft;function Tt(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=p([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(r=yt.call(this._shortMonthsParse,a))?r:null:-1!==(r=yt.call(this._longMonthsParse,a))?r:null:"MMM"===e?-1!==(r=yt.call(this._shortMonthsParse,a))||-1!==(r=yt.call(this._longMonthsParse,a))?r:null:-1!==(r=yt.call(this._longMonthsParse,a))||-1!==(r=yt.call(this._shortMonthsParse,a))?r:null}function Ct(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=W(e);else if(!c(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),wt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function It(t){return null!=t?(Ct(this,t),r.updateOffset(this,!0),this):K(this,"Month")}function Pt(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;e<12;e++)n=p([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;e<12;e++)i[e]=gt(i[e]),r[e]=gt(r[e]);for(e=0;e<24;e++)o[e]=gt(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Dt(t){return q(t)?366:365}N("Y",0,0,function(){var t=this.year();return t<=9999?P(t,4):"+"+t}),N(0,["YY",2],0,function(){return this.year()%100}),N(0,["YYYY",4],0,"year"),N(0,["YYYYY",5],0,"year"),N(0,["YYYYYY",6,!0],0,"year"),j("year","y"),V("year",1),pt("Y",ct),pt("YY",it,$),pt("YYYY",st,et),pt("YYYYY",ut,nt),pt("YYYYYY",ut,nt),_t(["YYYYY","YYYYYY"],0),_t("YYYY",function(t,e){e[0]=2===t.length?r.parseTwoDigitYear(t):W(t)}),_t("YY",function(t,e){e[0]=r.parseTwoDigitYear(t)}),_t("Y",function(t,e){e[0]=parseInt(t,10)}),r.parseTwoDigitYear=function(t){return W(t)+(W(t)>68?1900:2e3)};var Ot=X("FullYear",!0);function At(t,e,n,i,r,o,a){var s;return t<100&&t>=0?(s=new Date(t+400,e,n,i,r,o,a),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,n,i,r,o,a),s}function Rt(t){var e,n;return t<100&&t>=0?((n=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Nt(t,e,n){var i=7+e-n;return-(7+Rt(t,0,i).getUTCDay()-e)%7+i-1}function Ft(t,e,n,i,r){var o,a,s=1+7*(e-1)+(7+n-i)%7+Nt(t,i,r);return s<=0?a=Dt(o=t-1)+s:s>Dt(t)?(o=t+1,a=s-Dt(t)):(o=t,a=s),{year:o,dayOfYear:a}}function Yt(t,e,n){var i,r,o=Nt(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?i=a+zt(r=t.year()-1,e,n):a>zt(t.year(),e,n)?(i=a-zt(t.year(),e,n),r=t.year()+1):(r=t.year(),i=a),{week:i,year:r}}function zt(t,e,n){var i=Nt(t,e,n),r=Nt(t+1,e,n);return(Dt(t)-i+r)/7}function jt(t,e){return t.slice(e,7).concat(t.slice(0,e))}N("w",["ww",2],"wo","week"),N("W",["WW",2],"Wo","isoWeek"),j("week","w"),j("isoWeek","W"),V("week",5),V("isoWeek",5),pt("w",it),pt("ww",it,$),pt("W",it),pt("WW",it,$),bt(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=W(t)}),N("d",0,"do","day"),N("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),N("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),N("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),N("e",0,0,"weekday"),N("E",0,0,"isoWeekday"),j("day","d"),j("weekday","e"),j("isoWeekday","E"),V("day",11),V("weekday",11),V("isoWeekday",11),pt("d",it),pt("e",it),pt("E",it),pt("dd",function(t,e){return e.weekdaysMinRegex(t)}),pt("ddd",function(t,e){return e.weekdaysShortRegex(t)}),pt("dddd",function(t,e){return e.weekdaysRegex(t)}),bt(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:m(n).invalidWeekday=t}),bt(["d","e","E"],function(t,e,n,i){e[i]=W(t)});var Bt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ht="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ut="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Vt=ft,qt=ft,Gt=ft;function Wt(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=p([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(r=yt.call(this._weekdaysParse,a))?r:null:"ddd"===e?-1!==(r=yt.call(this._shortWeekdaysParse,a))?r:null:-1!==(r=yt.call(this._minWeekdaysParse,a))?r:null:"dddd"===e?-1!==(r=yt.call(this._weekdaysParse,a))||-1!==(r=yt.call(this._shortWeekdaysParse,a))||-1!==(r=yt.call(this._minWeekdaysParse,a))?r:null:"ddd"===e?-1!==(r=yt.call(this._shortWeekdaysParse,a))||-1!==(r=yt.call(this._weekdaysParse,a))||-1!==(r=yt.call(this._minWeekdaysParse,a))?r:null:-1!==(r=yt.call(this._minWeekdaysParse,a))||-1!==(r=yt.call(this._weekdaysParse,a))||-1!==(r=yt.call(this._shortWeekdaysParse,a))?r:null}function Xt(){function t(t,e){return e.length-t.length}var e,n,i,r,o,a=[],s=[],u=[],l=[];for(e=0;e<7;e++)n=p([2e3,1]).day(e),i=gt(this.weekdaysMin(n,"")),r=gt(this.weekdaysShort(n,"")),o=gt(this.weekdays(n,"")),a.push(i),s.push(r),u.push(o),l.push(i),l.push(r),l.push(o);a.sort(t),s.sort(t),u.sort(t),l.sort(t),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Kt(){return this.hours()%12||12}function Zt(t,e){N(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Qt(t,e){return e._meridiemParse}N("H",["HH",2],0,"hour"),N("h",["hh",2],0,Kt),N("k",["kk",2],0,function(){return this.hours()||24}),N("hmm",0,0,function(){return""+Kt.apply(this)+P(this.minutes(),2)}),N("hmmss",0,0,function(){return""+Kt.apply(this)+P(this.minutes(),2)+P(this.seconds(),2)}),N("Hmm",0,0,function(){return""+this.hours()+P(this.minutes(),2)}),N("Hmmss",0,0,function(){return""+this.hours()+P(this.minutes(),2)+P(this.seconds(),2)}),Zt("a",!0),Zt("A",!1),j("hour","h"),V("hour",13),pt("a",Qt),pt("A",Qt),pt("H",it),pt("h",it),pt("k",it),pt("HH",it,$),pt("hh",it,$),pt("kk",it,$),pt("hmm",rt),pt("hmmss",ot),pt("Hmm",rt),pt("Hmmss",ot),_t(["H","HH"],3),_t(["k","kk"],function(t,e,n){var i=W(t);e[3]=24===i?0:i}),_t(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),_t(["h","hh"],function(t,e,n){e[3]=W(t),m(n).bigHour=!0}),_t("hmm",function(t,e,n){var i=t.length-2;e[3]=W(t.substr(0,i)),e[4]=W(t.substr(i)),m(n).bigHour=!0}),_t("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[3]=W(t.substr(0,i)),e[4]=W(t.substr(i,2)),e[5]=W(t.substr(r)),m(n).bigHour=!0}),_t("Hmm",function(t,e,n){var i=t.length-2;e[3]=W(t.substr(0,i)),e[4]=W(t.substr(i))}),_t("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[3]=W(t.substr(0,i)),e[4]=W(t.substr(i,2)),e[5]=W(t.substr(r))});var Jt,$t=X("Hours",!0),te={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:kt,monthsShort:Mt,week:{dow:0,doy:6},weekdays:Bt,weekdaysMin:Ut,weekdaysShort:Ht,meridiemParse:/[ap]\.?m?\.?/i},ee={},ne={};function ie(t,e){var n,i=Math.min(t.length,e.length);for(n=0;n<i;n+=1)if(t[n]!==e[n])return n;return i}function re(t){return t?t.toLowerCase().replace("_","-"):t}function oe(e){var i=null;if(void 0===ee[e]&&void 0!==t&&t&&t.exports)try{i=Jt._abbr,n("RnhZ")("./"+e),ae(i)}catch(r){ee[e]=null}return ee[e]}function ae(t,e){var n;return t&&((n=l(e)?ue(t):se(t,e))?Jt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Jt._abbr}function se(t,e){if(null!==e){var n,i=te;if(e.abbr=t,null!=ee[t])L("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=ee[t]._config;else if(null!=e.parentLocale)if(null!=ee[e.parentLocale])i=ee[e.parentLocale]._config;else{if(null==(n=oe(e.parentLocale)))return ne[e.parentLocale]||(ne[e.parentLocale]=[]),ne[e.parentLocale].push({name:t,config:e}),null;i=n._config}return ee[t]=new I(C(i,e)),ne[t]&&ne[t].forEach(function(t){se(t.name,t.config)}),ae(t),ee[t]}return delete ee[t],null}function ue(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Jt;if(!o(t)){if(e=oe(t))return e;t=[t]}return function(t){for(var e,n,i,r,o=0;o<t.length;){for(e=(r=re(t[o]).split("-")).length,n=(n=re(t[o+1]))?n.split("-"):null;e>0;){if(i=oe(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&ie(r,n)>=e-1)break;e--}o++}return Jt}(t)}function le(t){var e,n=t._a;return n&&-2===m(t).overflow&&(e=n[1]<0||n[1]>11?1:n[2]<1||n[2]>wt(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,m(t)._overflowDayOfYear&&(e<0||e>2)&&(e=2),m(t)._overflowWeeks&&-1===e&&(e=7),m(t)._overflowWeekday&&-1===e&&(e=8),m(t).overflow=e),t}var ce=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,he=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,de=/Z|[+-]\d\d(?::?\d\d)?/,fe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],pe=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],me=/^\/?Date\((-?\d+)/i,ge=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ye={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ve(t){var e,n,i,r,o,a,s=t._i,u=ce.exec(s)||he.exec(s);if(u){for(m(t).iso=!0,e=0,n=fe.length;e<n;e++)if(fe[e][1].exec(u[1])){r=fe[e][0],i=!1!==fe[e][2];break}if(null==r)return void(t._isValid=!1);if(u[3]){for(e=0,n=pe.length;e<n;e++)if(pe[e][1].exec(u[3])){o=(u[2]||" ")+pe[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(u[4]){if(!de.exec(u[4]))return void(t._isValid=!1);a="Z"}t._f=r+(o||"")+(a||""),we(t)}else t._isValid=!1}function _e(t){var e,n,i,r,o,a,s,u,l,c=ge.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){if(n=c[3],i=c[2],r=c[5],o=c[6],a=c[7],s=[(u=c[4],l=parseInt(u,10),l<=49?2e3+l:l<=999?1900+l:l),Mt.indexOf(n),parseInt(i,10),parseInt(r,10),parseInt(o,10)],a&&s.push(parseInt(a,10)),!function(t,e,n){return!t||Ht.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(m(n).weekdayMismatch=!0,n._isValid=!1,!1)}(c[1],e=s,t))return;t._a=e,t._tzm=function(t,e,n){if(t)return ye[t];if(e)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}(c[8],c[9],c[10]),t._d=Rt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),m(t).rfc2822=!0}else t._isValid=!1}function be(t,e,n){return null!=t?t:null!=e?e:n}function xe(t){var e,n,i,o,a,s=[];if(!t._d){for(i=function(t){var e=new Date(r.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,n,i,r,o,a,s,u,l;null!=(e=t._w).GG||null!=e.W||null!=e.E?(o=1,a=4,n=be(e.GG,t._a[0],Yt(Se(),1,4).year),i=be(e.W,1),((r=be(e.E,1))<1||r>7)&&(u=!0)):(o=t._locale._week.dow,a=t._locale._week.doy,l=Yt(Se(),o,a),n=be(e.gg,t._a[0],l.year),i=be(e.w,l.week),null!=e.d?((r=e.d)<0||r>6)&&(u=!0):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(u=!0)):r=o),i<1||i>zt(n,o,a)?m(t)._overflowWeeks=!0:null!=u?m(t)._overflowWeekday=!0:(s=Ft(n,i,r,o,a),t._a[0]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(a=be(t._a[0],i[0]),(t._dayOfYear>Dt(a)||0===t._dayOfYear)&&(m(t)._overflowDayOfYear=!0),n=Rt(a,0,t._dayOfYear),t._a[1]=n.getUTCMonth(),t._a[2]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=i[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?Rt:At).apply(null,s),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==o&&(m(t).weekdayMismatch=!0)}}function we(t){if(t._f!==r.ISO_8601)if(t._f!==r.RFC_2822){t._a=[],m(t).empty=!0;var e,n,i,o,a,s,u=""+t._i,l=u.length,c=0;for(i=Y(t._f,t._locale).match(D)||[],e=0;e<i.length;e++)(n=(u.match(mt(o=i[e],t))||[])[0])&&((a=u.substr(0,u.indexOf(n))).length>0&&m(t).unusedInput.push(a),u=u.slice(u.indexOf(n)+n.length),c+=n.length),R[o]?(n?m(t).empty=!1:m(t).unusedTokens.push(o),xt(o,n,t)):t._strict&&!n&&m(t).unusedTokens.push(o);m(t).charsLeftOver=l-c,u.length>0&&m(t).unusedInput.push(u),t._a[3]<=12&&!0===m(t).bigHour&&t._a[3]>0&&(m(t).bigHour=void 0),m(t).parsedDateParts=t._a.slice(0),m(t).meridiem=t._meridiem,t._a[3]=function(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0),e):e}(t._locale,t._a[3],t._meridiem),null!==(s=m(t).era)&&(t._a[0]=t._locale.erasConvertYear(s,t._a[0])),xe(t),le(t)}else _e(t);else ve(t)}function ke(t){var e=t._i,n=t._f;return t._locale=t._locale||ue(t._l),null===e||void 0===n&&""===e?y({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),w(e)?new x(le(e)):(h(e)?t._d=e:o(n)?function(t){var e,n,i,r,o,a,s=!1;if(0===t._f.length)return m(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,a=!1,e=b({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],we(e),g(e)&&(a=!0),o+=m(e).charsLeftOver,o+=10*m(e).unusedTokens.length,m(e).score=o,s?o<i&&(i=o,n=e):(null==i||o<i||a)&&(i=o,n=e,a&&(s=!0));f(t,n||e)}(t):n?we(t):function(t){var e=t._i;l(e)?t._d=new Date(r.now()):h(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=me.exec(t._i);null===e?(ve(t),!1===t._isValid&&(delete t._isValid,_e(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:r.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):o(e)?(t._a=d(e.slice(0),function(t){return parseInt(t,10)}),xe(t)):a(e)?function(t){if(!t._d){var e=H(t._i);t._a=d([e.year,e.month,void 0===e.day?e.date:e.day,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),xe(t)}}(t):c(e)?t._d=new Date(e):r.createFromInputFallback(t)}(t),g(t)||(t._d=null),t))}function Me(t,e,n,i,r){var s,l={};return!0!==e&&!1!==e||(i=e,e=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(a(t)&&u(t)||o(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=r,l._l=n,l._i=t,l._f=e,l._strict=i,(s=new x(le(ke(l))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Se(t,e,n,i){return Me(t,e,n,i,!1)}r.createFromInputFallback=M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),r.ISO_8601=function(){},r.RFC_2822=function(){};var Ee=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Se.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:y()}),Le=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Se.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:y()});function Te(t,e){var n,i;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return Se();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}var Ce=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ie(t){var e=H(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||e.isoWeek||0,a=e.day||0,u=e.hour||0,l=e.minute||0,c=e.second||0,h=e.millisecond||0;this._isValid=function(t){var e,n,i=!1;for(e in t)if(s(t,e)&&(-1===yt.call(Ce,e)||null!=t[e]&&isNaN(t[e])))return!1;for(n=0;n<Ce.length;++n)if(t[Ce[n]]){if(i)return!1;parseFloat(t[Ce[n]])!==W(t[Ce[n]])&&(i=!0)}return!0}(e),this._milliseconds=+h+1e3*c+6e4*l+1e3*u*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=ue(),this._bubble()}function Pe(t){return t instanceof Ie}function De(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Oe(t,e){N(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+P(~~(t/60),2)+e+P(~~t%60,2)})}Oe("Z",":"),Oe("ZZ",""),pt("Z",dt),pt("ZZ",dt),_t(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Re(dt,t)});var Ae=/([\+\-]|\d\d)/gi;function Re(t,e){var n,i,r=(e||"").match(t);return null===r?null:0===(i=60*(n=((r[r.length-1]||[])+"").match(Ae)||["-",0,0])[1]+W(n[2]))?0:"+"===n[0]?i:-i}function Ne(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(w(t)||h(t)?t.valueOf():Se(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Se(t).local()}function Fe(t){return-Math.round(t._d.getTimezoneOffset())}function Ye(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var ze=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,je=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Be(t,e){var n,i,r,o,a,u,l=t,h=null;return Pe(t)?l={ms:t._milliseconds,d:t._days,M:t._months}:c(t)||!isNaN(+t)?(l={},e?l[e]=+t:l.milliseconds=+t):(h=ze.exec(t))?(n="-"===h[1]?-1:1,l={y:0,d:W(h[2])*n,h:W(h[3])*n,m:W(h[4])*n,s:W(h[5])*n,ms:W(De(1e3*h[6]))*n}):(h=je.exec(t))?l={y:He(h[2],n="-"===h[1]?-1:1),M:He(h[3],n),w:He(h[4],n),d:He(h[5],n),h:He(h[6],n),m:He(h[7],n),s:He(h[8],n)}:null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(o=Se(l.from),a=Se(l.to),r=o.isValid()&&a.isValid()?(a=Ne(a,o),o.isBefore(a)?u=Ue(o,a):((u=Ue(a,o)).milliseconds=-u.milliseconds,u.months=-u.months),u):{milliseconds:0,months:0},(l={}).ms=r.milliseconds,l.M=r.months),i=new Ie(l),Pe(t)&&s(t,"_locale")&&(i._locale=t._locale),Pe(t)&&s(t,"_isValid")&&(i._isValid=t._isValid),i}function He(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ue(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ve(t,e){return function(n,i){var r;return null===i||isNaN(+i)||(L(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),qe(this,Be(n,i),t),this}}function qe(t,e,n,i){var o=e._milliseconds,a=De(e._days),s=De(e._months);t.isValid()&&(i=null==i||i,s&&Ct(t,K(t,"Month")+s*n),a&&Z(t,"Date",K(t,"Date")+a*n),o&&t._d.setTime(t._d.valueOf()+o*n),i&&r.updateOffset(t,a||s))}Be.fn=Ie.prototype,Be.invalid=function(){return Be(NaN)};var Ge=Ve(1,"add"),We=Ve(-1,"subtract");function Xe(t){return"string"==typeof t||t instanceof String}function Ke(t){return w(t)||h(t)||Xe(t)||c(t)||function(t){var e=o(t),n=!1;return e&&(n=0===t.filter(function(e){return!c(e)&&Xe(t)}).length),e&&n}(t)||function(t){var e,n=a(t)&&!u(t),i=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(e=0;e<r.length;e+=1)i=i||s(t,r[e]);return n&&i}(t)||null==t}function Ze(t){var e,n=a(t)&&!u(t),i=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<r.length;e+=1)i=i||s(t,r[e]);return n&&i}function Qe(t,e){if(t.date()<e.date())return-Qe(e,t);var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,"months");return-(n+(e-i<0?(e-i)/(i-t.clone().add(n-1,"months")):(e-i)/(t.clone().add(n+1,"months")-i)))||0}function Je(t){var e;return void 0===t?this._locale._abbr:(null!=(e=ue(t))&&(this._locale=e),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var $e=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function tn(){return this._locale}function en(t,e){return(t%e+e)%e}function nn(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-126227808e5:new Date(t,e,n).valueOf()}function rn(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-126227808e5:Date.UTC(t,e,n)}function on(t,e){return e.erasAbbrRegex(t)}function an(){var t,e,n=[],i=[],r=[],o=[],a=this.eras();for(t=0,e=a.length;t<e;++t)i.push(gt(a[t].name)),n.push(gt(a[t].abbr)),r.push(gt(a[t].narrow)),o.push(gt(a[t].name)),o.push(gt(a[t].abbr)),o.push(gt(a[t].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+i.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function sn(t,e){N(0,[t,t.length],0,e)}function un(t,e,n,i,r){var o;return null==t?Yt(this,i,r).year:(e>(o=zt(t,i,r))&&(e=o),ln.call(this,t,e,n,i,r))}function ln(t,e,n,i,r){var o=Ft(t,e,n,i,r),a=Rt(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}N("N",0,0,"eraAbbr"),N("NN",0,0,"eraAbbr"),N("NNN",0,0,"eraAbbr"),N("NNNN",0,0,"eraName"),N("NNNNN",0,0,"eraNarrow"),N("y",["y",1],"yo","eraYear"),N("y",["yy",2],0,"eraYear"),N("y",["yyy",3],0,"eraYear"),N("y",["yyyy",4],0,"eraYear"),pt("N",on),pt("NN",on),pt("NNN",on),pt("NNNN",function(t,e){return e.erasNameRegex(t)}),pt("NNNNN",function(t,e){return e.erasNarrowRegex(t)}),_t(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,i){var r=n._locale.erasParse(t,i,n._strict);r?m(n).era=r:m(n).invalidEra=t}),pt("y",lt),pt("yy",lt),pt("yyy",lt),pt("yyyy",lt),pt("yo",function(t,e){return e._eraYearOrdinalRegex||lt}),_t(["y","yy","yyy","yyyy"],0),_t(["yo"],function(t,e,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=t.match(n._locale._eraYearOrdinalRegex)),e[0]=n._locale.eraYearOrdinalParse?n._locale.eraYearOrdinalParse(t,r):parseInt(t,10)}),N(0,["gg",2],0,function(){return this.weekYear()%100}),N(0,["GG",2],0,function(){return this.isoWeekYear()%100}),sn("gggg","weekYear"),sn("ggggg","weekYear"),sn("GGGG","isoWeekYear"),sn("GGGGG","isoWeekYear"),j("weekYear","gg"),j("isoWeekYear","GG"),V("weekYear",1),V("isoWeekYear",1),pt("G",ct),pt("g",ct),pt("GG",it,$),pt("gg",it,$),pt("GGGG",st,et),pt("gggg",st,et),pt("GGGGG",ut,nt),pt("ggggg",ut,nt),bt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=W(t)}),bt(["gg","GG"],function(t,e,n,i){e[i]=r.parseTwoDigitYear(t)}),N("Q",0,"Qo","quarter"),j("quarter","Q"),V("quarter",7),pt("Q",J),_t("Q",function(t,e){e[1]=3*(W(t)-1)}),N("D",["DD",2],"Do","date"),j("date","D"),V("date",9),pt("D",it),pt("DD",it,$),pt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),_t(["D","DD"],2),_t("Do",function(t,e){e[2]=W(t.match(it)[0])});var cn=X("Date",!0);N("DDD",["DDDD",3],"DDDo","dayOfYear"),j("dayOfYear","DDD"),V("dayOfYear",4),pt("DDD",at),pt("DDDD",tt),_t(["DDD","DDDD"],function(t,e,n){n._dayOfYear=W(t)}),N("m",["mm",2],0,"minute"),j("minute","m"),V("minute",14),pt("m",it),pt("mm",it,$),_t(["m","mm"],4);var hn=X("Minutes",!1);N("s",["ss",2],0,"second"),j("second","s"),V("second",15),pt("s",it),pt("ss",it,$),_t(["s","ss"],5);var dn,fn,pn=X("Seconds",!1);for(N("S",0,0,function(){return~~(this.millisecond()/100)}),N(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),N(0,["SSS",3],0,"millisecond"),N(0,["SSSS",4],0,function(){return 10*this.millisecond()}),N(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),N(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),N(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),N(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),N(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),j("millisecond","ms"),V("millisecond",16),pt("S",at,J),pt("SS",at,$),pt("SSS",at,tt),dn="SSSS";dn.length<=9;dn+="S")pt(dn,lt);function mn(t,e){e[6]=W(1e3*("0."+t))}for(dn="S";dn.length<=9;dn+="S")_t(dn,mn);fn=X("Milliseconds",!1),N("z",0,0,"zoneAbbr"),N("zz",0,0,"zoneName");var gn=x.prototype;function yn(t){return t}gn.add=Ge,gn.calendar=function(t,e){1===arguments.length&&(arguments[0]?Ke(arguments[0])?(t=arguments[0],e=void 0):Ze(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Se(),i=Ne(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",a=e&&(T(e[o])?e[o].call(this,n):e[o]);return this.format(a||this.localeData().calendar(o,this,Se(n)))},gn.clone=function(){return new x(this)},gn.diff=function(t,e,n){var i,r,o;if(!this.isValid())return NaN;if(!(i=Ne(t,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),e=B(e)){case"year":o=Qe(this,i)/12;break;case"month":o=Qe(this,i);break;case"quarter":o=Qe(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:G(o)},gn.endOf=function(t){var e,n;if(void 0===(t=B(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?rn:nn,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-en(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-en(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-en(e,1e3)-1}return this._d.setTime(e),r.updateOffset(this,!0),this},gn.format=function(t){t||(t=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var e=F(this,t);return this.localeData().postformat(e)},gn.from=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||Se(t).isValid())?Be({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},gn.fromNow=function(t){return this.from(Se(),t)},gn.to=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||Se(t).isValid())?Be({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},gn.toNow=function(t){return this.to(Se(),t)},gn.get=function(t){return T(this[t=B(t)])?this[t]():this},gn.invalidAt=function(){return m(this).overflow},gn.isAfter=function(t,e){var n=w(t)?t:Se(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=B(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},gn.isBefore=function(t,e){var n=w(t)?t:Se(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=B(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},gn.isBetween=function(t,e,n,i){var r=w(t)?t:Se(t),o=w(e)?e:Se(e);return!!(this.isValid()&&r.isValid()&&o.isValid())&&("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(o,n):!this.isAfter(o,n))},gn.isSame=function(t,e){var n,i=w(t)?t:Se(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=B(e)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},gn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},gn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},gn.isValid=function(){return g(this)},gn.lang=$e,gn.locale=Je,gn.localeData=tn,gn.max=Le,gn.min=Ee,gn.parsingFlags=function(){return f({},m(this))},gn.set=function(t,e){if("object"==typeof t){var n,i=function(t){var e,n=[];for(e in t)s(t,e)&&n.push({unit:e,priority:U[e]});return n.sort(function(t,e){return t.priority-e.priority}),n}(t=H(t));for(n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit])}else if(T(this[t=B(t)]))return this[t](e);return this},gn.startOf=function(t){var e,n;if(void 0===(t=B(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?rn:nn,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=en(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=en(e,6e4);break;case"second":e=this._d.valueOf(),e-=en(e,1e3)}return this._d.setTime(e),r.updateOffset(this,!0),this},gn.subtract=We,gn.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},gn.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},gn.toDate=function(){return new Date(this.valueOf())},gn.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?F(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",F(n,"Z")):F(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},gn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,n="moment",i="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),t="["+n+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(t+e+"-MM-DD[T]HH:mm:ss.SSS"+i+'[")]')},"undefined"!=typeof Symbol&&null!=Symbol.for&&(gn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),gn.toJSON=function(){return this.isValid()?this.toISOString():null},gn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},gn.unix=function(){return Math.floor(this.valueOf()/1e3)},gn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},gn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},gn.eraName=function(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until)return i[t].name;if(i[t].until<=n&&n<=i[t].since)return i[t].name}return""},gn.eraNarrow=function(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until)return i[t].narrow;if(i[t].until<=n&&n<=i[t].since)return i[t].narrow}return""},gn.eraAbbr=function(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until)return i[t].abbr;if(i[t].until<=n&&n<=i[t].since)return i[t].abbr}return""},gn.eraYear=function(){var t,e,n,i,o=this.localeData().eras();for(t=0,e=o.length;t<e;++t)if(n=o[t].since<=o[t].until?1:-1,i=this.clone().startOf("day").valueOf(),o[t].since<=i&&i<=o[t].until||o[t].until<=i&&i<=o[t].since)return(this.year()-r(o[t].since).year())*n+o[t].offset;return this.year()},gn.year=Ot,gn.isLeapYear=function(){return q(this.year())},gn.weekYear=function(t){return un.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},gn.isoWeekYear=function(t){return un.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},gn.quarter=gn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},gn.month=It,gn.daysInMonth=function(){return wt(this.year(),this.month())},gn.week=gn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},gn.isoWeek=gn.isoWeeks=function(t){var e=Yt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},gn.weeksInYear=function(){var t=this.localeData()._week;return zt(this.year(),t.dow,t.doy)},gn.weeksInWeekYear=function(){var t=this.localeData()._week;return zt(this.weekYear(),t.dow,t.doy)},gn.isoWeeksInYear=function(){return zt(this.year(),1,4)},gn.isoWeeksInISOWeekYear=function(){return zt(this.isoWeekYear(),1,4)},gn.date=cn,gn.day=gn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},gn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},gn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},gn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},gn.hour=gn.hours=$t,gn.minute=gn.minutes=hn,gn.second=gn.seconds=pn,gn.millisecond=gn.milliseconds=fn,gn.utcOffset=function(t,e,n){var i,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Re(dt,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(i=Fe(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!e||this._changeInProgress?qe(this,Be(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Fe(this)},gn.utc=function(t){return this.utcOffset(0,t)},gn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Fe(this),"m")),this},gn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Re(ht,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},gn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Se(t).utcOffset():0,(this.utcOffset()-t)%60==0)},gn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},gn.isLocal=function(){return!!this.isValid()&&!this._isUTC},gn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},gn.isUtc=Ye,gn.isUTC=Ye,gn.zoneAbbr=function(){return this._isUTC?"UTC":""},gn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},gn.dates=M("dates accessor is deprecated. Use date instead.",cn),gn.months=M("months accessor is deprecated. Use month instead",It),gn.years=M("years accessor is deprecated. Use year instead",Ot),gn.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),gn.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var t,e={};return b(e,this),(e=ke(e))._a?(t=e._isUTC?p(e._a):Se(e._a),this._isDSTShifted=this.isValid()&&function(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(i=0;i<r;i++)W(t[i])!==W(e[i])&&a++;return a+o}(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var vn=I.prototype;function _n(t,e,n,i){var r=ue(),o=p().set(i,e);return r[n](o,t)}function bn(t,e,n){if(c(t)&&(e=t,t=void 0),t=t||"",null!=e)return _n(t,e,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=_n(t,i,n,"month");return r}function xn(t,e,n,i){"boolean"==typeof t?(c(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,c(e)&&(n=e,e=void 0),e=e||"");var r,o=ue(),a=t?o._week.dow:0,s=[];if(null!=n)return _n(e,(n+a)%7,i,"day");for(r=0;r<7;r++)s[r]=_n(e,(r+a)%7,i,"day");return s}vn.calendar=function(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return T(i)?i.call(e,n):i},vn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(D).map(function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t}).join(""),this._longDateFormat[t])},vn.invalidDate=function(){return this._invalidDate},vn.ordinal=function(t){return this._ordinal.replace("%d",t)},vn.preparse=yn,vn.postformat=yn,vn.relativeTime=function(t,e,n,i){var r=this._relativeTime[n];return T(r)?r(t,e,n,i):r.replace(/%d/i,t)},vn.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return T(n)?n(e):n.replace(/%s/i,e)},vn.set=function(t){var e,n;for(n in t)s(t,n)&&(T(e=t[n])?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},vn.eras=function(t,e){var n,i,o,a=this._eras||ue("en")._eras;for(n=0,i=a.length;n<i;++n){switch(typeof a[n].since){case"string":o=r(a[n].since).startOf("day"),a[n].since=o.valueOf()}switch(typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":o=r(a[n].until).startOf("day").valueOf(),a[n].until=o.valueOf()}}return a},vn.erasParse=function(t,e,n){var i,r,o,a,s,u=this.eras();for(t=t.toUpperCase(),i=0,r=u.length;i<r;++i)if(o=u[i].name.toUpperCase(),a=u[i].abbr.toUpperCase(),s=u[i].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return u[i];break;case"NNNN":if(o===t)return u[i];break;case"NNNNN":if(s===t)return u[i]}else if([o,a,s].indexOf(t)>=0)return u[i]},vn.erasConvertYear=function(t,e){var n=t.since<=t.until?1:-1;return void 0===e?r(t.since).year():r(t.since).year()+(e-t.offset)*n},vn.erasAbbrRegex=function(t){return s(this,"_erasAbbrRegex")||an.call(this),t?this._erasAbbrRegex:this._erasRegex},vn.erasNameRegex=function(t){return s(this,"_erasNameRegex")||an.call(this),t?this._erasNameRegex:this._erasRegex},vn.erasNarrowRegex=function(t){return s(this,"_erasNarrowRegex")||an.call(this),t?this._erasNarrowRegex:this._erasRegex},vn.months=function(t,e){return t?o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||St).test(e)?"format":"standalone"][t.month()]:o(this._months)?this._months:this._months.standalone},vn.monthsShort=function(t,e){return t?o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[St.test(e)?"format":"standalone"][t.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},vn.monthsParse=function(t,e,n){var i,r,o;if(this._monthsParseExact)return Tt.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=p([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},vn.monthsRegex=function(t){return this._monthsParseExact?(s(this,"_monthsRegex")||Pt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Lt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},vn.monthsShortRegex=function(t){return this._monthsParseExact?(s(this,"_monthsRegex")||Pt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=Et),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},vn.week=function(t){return Yt(t,this._week.dow,this._week.doy).week},vn.firstDayOfYear=function(){return this._week.doy},vn.firstDayOfWeek=function(){return this._week.dow},vn.weekdays=function(t,e){var n=o(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?jt(n,this._week.dow):t?n[t.day()]:n},vn.weekdaysMin=function(t){return!0===t?jt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},vn.weekdaysShort=function(t){return!0===t?jt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},vn.weekdaysParse=function(t,e,n){var i,r,o;if(this._weekdaysParseExact)return Wt.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=p([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},vn.weekdaysRegex=function(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Xt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Vt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},vn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Xt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},vn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Xt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Gt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},vn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},vn.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},ae("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===W(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),r.lang=M("moment.lang is deprecated. Use moment.locale instead.",ae),r.langData=M("moment.langData is deprecated. Use moment.localeData instead.",ue);var wn=Math.abs;function kn(t,e,n,i){var r=Be(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function Mn(t){return t<0?Math.floor(t):Math.ceil(t)}function Sn(t){return 4800*t/146097}function En(t){return 146097*t/4800}function Ln(t){return function(){return this.as(t)}}var Tn=Ln("ms"),Cn=Ln("s"),In=Ln("m"),Pn=Ln("h"),Dn=Ln("d"),On=Ln("w"),An=Ln("M"),Rn=Ln("Q"),Nn=Ln("y");function Fn(t){return function(){return this.isValid()?this._data[t]:NaN}}var Yn=Fn("milliseconds"),zn=Fn("seconds"),jn=Fn("minutes"),Bn=Fn("hours"),Hn=Fn("days"),Un=Fn("months"),Vn=Fn("years"),qn=Math.round,Gn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Wn(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}var Xn=Math.abs;function Kn(t){return(t>0)-(t<0)||+t}function Zn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,i,r,o,a,s,u=Xn(this._milliseconds)/1e3,l=Xn(this._days),c=Xn(this._months),h=this.asSeconds();return h?(t=G(u/60),e=G(t/60),u%=60,t%=60,n=G(c/12),c%=12,i=u?u.toFixed(3).replace(/\.?0+$/,""):"",r=h<0?"-":"",o=Kn(this._months)!==Kn(h)?"-":"",a=Kn(this._days)!==Kn(h)?"-":"",s=Kn(this._milliseconds)!==Kn(h)?"-":"",r+"P"+(n?o+n+"Y":"")+(c?o+c+"M":"")+(l?a+l+"D":"")+(e||t||u?"T":"")+(e?s+e+"H":"")+(t?s+t+"M":"")+(u?s+i+"S":"")):"P0D"}var Qn=Ie.prototype;return Qn.isValid=function(){return this._isValid},Qn.abs=function(){var t=this._data;return this._milliseconds=wn(this._milliseconds),this._days=wn(this._days),this._months=wn(this._months),t.milliseconds=wn(t.milliseconds),t.seconds=wn(t.seconds),t.minutes=wn(t.minutes),t.hours=wn(t.hours),t.months=wn(t.months),t.years=wn(t.years),this},Qn.add=function(t,e){return kn(this,t,e,1)},Qn.subtract=function(t,e){return kn(this,t,e,-1)},Qn.as=function(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=B(t))||"quarter"===t||"year"===t)switch(n=this._months+Sn(e=this._days+i/864e5),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(En(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},Qn.asMilliseconds=Tn,Qn.asSeconds=Cn,Qn.asMinutes=In,Qn.asHours=Pn,Qn.asDays=Dn,Qn.asWeeks=On,Qn.asMonths=An,Qn.asQuarters=Rn,Qn.asYears=Nn,Qn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*W(this._months/12):NaN},Qn._bubble=function(){var t,e,n,i,r,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Mn(En(s)+a),a=0,s=0),u.milliseconds=o%1e3,t=G(o/1e3),u.seconds=t%60,e=G(t/60),u.minutes=e%60,n=G(e/60),u.hours=n%24,a+=G(n/24),s+=r=G(Sn(a)),a-=Mn(En(r)),i=G(s/12),s%=12,u.days=a,u.months=s,u.years=i,this},Qn.clone=function(){return Be(this)},Qn.get=function(t){return t=B(t),this.isValid()?this[t+"s"]():NaN},Qn.milliseconds=Yn,Qn.seconds=zn,Qn.minutes=jn,Qn.hours=Bn,Qn.days=Hn,Qn.weeks=function(){return G(this.days()/7)},Qn.months=Un,Qn.years=Vn,Qn.humanize=function(t,e){if(!this.isValid())return this.localeData().invalidDate();var n,i,r=!1,o=Gn;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(r=t),"object"==typeof e&&(o=Object.assign({},Gn,e),null!=e.s&&null==e.ss&&(o.ss=e.s-1)),i=function(t,e,n,i){var r=Be(t).abs(),o=qn(r.as("s")),a=qn(r.as("m")),s=qn(r.as("h")),u=qn(r.as("d")),l=qn(r.as("M")),c=qn(r.as("w")),h=qn(r.as("y")),d=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||a<=1&&["m"]||a<n.m&&["mm",a]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(d=d||c<=1&&["w"]||c<n.w&&["ww",c]),(d=d||l<=1&&["M"]||l<n.M&&["MM",l]||h<=1&&["y"]||["yy",h])[2]=e,d[3]=+t>0,d[4]=i,Wn.apply(null,d)}(this,!r,o,n=this.localeData()),r&&(i=n.pastFuture(+this,i)),n.postformat(i)},Qn.toISOString=Zn,Qn.toString=Zn,Qn.toJSON=Zn,Qn.locale=Je,Qn.localeData=tn,Qn.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Zn),Qn.lang=$e,N("X",0,0,"unix"),N("x",0,0,"valueOf"),pt("x",ct),pt("X",/[+-]?\d+(\.\d{1,3})?/),_t("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t))}),_t("x",function(t,e,n){n._d=new Date(W(t))}),r.version="2.29.1",e=Se,r.fn=gn,r.min=function(){return Te("isBefore",[].slice.call(arguments,0))},r.max=function(){return Te("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=p,r.unix=function(t){return Se(1e3*t)},r.months=function(t,e){return bn(t,e,"months")},r.isDate=h,r.locale=ae,r.invalid=y,r.duration=Be,r.isMoment=w,r.weekdays=function(t,e,n){return xn(t,e,n,"weekdays")},r.parseZone=function(){return Se.apply(null,arguments).parseZone()},r.localeData=ue,r.isDuration=Pe,r.monthsShort=function(t,e){return bn(t,e,"monthsShort")},r.weekdaysMin=function(t,e,n){return xn(t,e,n,"weekdaysMin")},r.defineLocale=se,r.updateLocale=function(t,e){if(null!=e){var n,i,r=te;null!=ee[t]&&null!=ee[t].parentLocale?ee[t].set(C(ee[t]._config,e)):(null!=(i=oe(t))&&(r=i._config),e=C(r,e),null==i&&(e.abbr=t),(n=new I(e)).parentLocale=ee[t],ee[t]=n),ae(t)}else null!=ee[t]&&(null!=ee[t].parentLocale?(ee[t]=ee[t].parentLocale,t===ae()&&ae(t)):null!=ee[t]&&delete ee[t]);return ee[t]},r.locales=function(){return S(ee)},r.weekdaysShort=function(t,e,n){return xn(t,e,n,"weekdaysShort")},r.normalizeUnits=B,r.relativeTimeRounding=function(t){return void 0===t?qn:"function"==typeof t&&(qn=t,!0)},r.relativeTimeThreshold=function(t,e){return void 0!==Gn[t]&&(void 0===e?Gn[t]:(Gn[t]=e,"s"===t&&(Gn.ss=e-1),!0))},r.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=gn,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()}).call(this,n("YuTi")(t))},x6pH:function(t,e,n){!function(t){"use strict";t.defineLocale("he",{months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05d4\u05d9\u05d5\u05dd \u05d1\u05be]LT",nextDay:"[\u05de\u05d7\u05e8 \u05d1\u05be]LT",nextWeek:"dddd [\u05d1\u05e9\u05e2\u05d4] LT",lastDay:"[\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05be]LT",lastWeek:"[\u05d1\u05d9\u05d5\u05dd] dddd [\u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e9\u05e2\u05d4] LT",sameElse:"L"},relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:function(t){return 2===t?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":t+" \u05e9\u05e2\u05d5\u05ea"},d:"\u05d9\u05d5\u05dd",dd:function(t){return 2===t?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":t+" \u05d9\u05de\u05d9\u05dd"},M:"\u05d7\u05d5\u05d3\u05e9",MM:function(t){return 2===t?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":t+" \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},y:"\u05e9\u05e0\u05d4",yy:function(t){return 2===t?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":t%10==0&&10!==t?t+" \u05e9\u05e0\u05d4":t+" \u05e9\u05e0\u05d9\u05dd"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(t){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(t)},meridiem:function(t,e,n){return t<5?"\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8":t<10?"\u05d1\u05d1\u05d5\u05e7\u05e8":t<12?n?'\u05dc\u05e4\u05e0\u05d4"\u05e6':"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":t<18?n?'\u05d0\u05d7\u05d4"\u05e6':"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":"\u05d1\u05e2\u05e8\u05d1"}})}(n("wd/R"))},yPMs:function(t,e,n){!function(t){"use strict";t.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),weekdays:"E Diel_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),weekdaysShort:"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M\xeb_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(t){return"M"===t.charAt(0)},meridiem:function(t,e,n){return t<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xeb] LT",nextDay:"[Nes\xebr n\xeb] LT",nextWeek:"dddd [n\xeb] LT",lastDay:"[Dje n\xeb] LT",lastWeek:"dddd [e kaluar n\xeb] LT",sameElse:"L"},relativeTime:{future:"n\xeb %s",past:"%s m\xeb par\xeb",s:"disa sekonda",ss:"%d sekonda",m:"nj\xeb minut\xeb",mm:"%d minuta",h:"nj\xeb or\xeb",hh:"%d or\xeb",d:"nj\xeb dit\xeb",dd:"%d dit\xeb",M:"nj\xeb muaj",MM:"%d muaj",y:"nj\xeb vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},z1FC:function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var r={s:["viensas secunds","'iensas secunds"],ss:[t+" secunds",t+" secunds"],m:["'n m\xedut","'iens m\xedut"],mm:[t+" m\xeduts",t+" m\xeduts"],h:["'n \xfeora","'iensa \xfeora"],hh:[t+" \xfeoras",t+" \xfeoras"],d:["'n ziua","'iensa ziua"],dd:[t+" ziuas",t+" ziuas"],M:["'n mes","'iens mes"],MM:[t+" mesen",t+" mesen"],y:["'n ar","'iens ar"],yy:[t+" ars",t+" ars"]};return i||e?r[n][0]:r[n][1]}t.defineLocale("tzl",{months:"Januar_Fevraglh_Mar\xe7_Avr\xefu_Mai_G\xfcn_Julia_Guscht_Setemvar_Listop\xe4ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_G\xfcn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"S\xfaladi_L\xfane\xe7i_Maitzi_M\xe1rcuri_Xh\xfaadi_Vi\xe9ner\xe7i_S\xe1turi".split("_"),weekdaysShort:"S\xfal_L\xfan_Mai_M\xe1r_Xh\xfa_Vi\xe9_S\xe1t".split("_"),weekdaysMin:"S\xfa_L\xfa_Ma_M\xe1_Xh_Vi_S\xe1".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(t){return"d'o"===t.toLowerCase()},meridiem:function(t,e,n){return t>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xe0] LT",nextDay:"[dem\xe0 \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[ieiri \xe0] LT",lastWeek:"[s\xfcr el] dddd [lasteu \xe0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},z3Vd:function(t,e,n){!function(t){"use strict";var e="pagh_wa\u2019_cha\u2019_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(t,n,i,r){var o=function(t){var n=Math.floor(t%1e3/100),i=Math.floor(t%100/10),r=t%10,o="";return n>0&&(o+=e[n]+"vatlh"),i>0&&(o+=(""!==o?" ":"")+e[i]+"maH"),r>0&&(o+=(""!==o?" ":"")+e[r]),""===o?"pagh":o}(t);switch(i){case"ss":return o+" lup";case"mm":return o+" tup";case"hh":return o+" rep";case"dd":return o+" jaj";case"MM":return o+" jar";case"yy":return o+" DIS"}}t.defineLocale("tlh",{months:"tera\u2019 jar wa\u2019_tera\u2019 jar cha\u2019_tera\u2019 jar wej_tera\u2019 jar loS_tera\u2019 jar vagh_tera\u2019 jar jav_tera\u2019 jar Soch_tera\u2019 jar chorgh_tera\u2019 jar Hut_tera\u2019 jar wa\u2019maH_tera\u2019 jar wa\u2019maH wa\u2019_tera\u2019 jar wa\u2019maH cha\u2019".split("_"),monthsShort:"jar wa\u2019_jar cha\u2019_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa\u2019maH_jar wa\u2019maH wa\u2019_jar wa\u2019maH cha\u2019".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(t){var e=t;return-1!==t.indexOf("jaj")?e.slice(0,-3)+"leS":-1!==t.indexOf("jar")?e.slice(0,-3)+"waQ":-1!==t.indexOf("DIS")?e.slice(0,-3)+"nem":e+" pIq"},past:function(t){var e=t;return-1!==t.indexOf("jaj")?e.slice(0,-3)+"Hu\u2019":-1!==t.indexOf("jar")?e.slice(0,-3)+"wen":-1!==t.indexOf("DIS")?e.slice(0,-3)+"ben":e+" ret"},s:"puS lup",ss:n,m:"wa\u2019 tup",mm:n,h:"wa\u2019 rep",hh:n,d:"wa\u2019 jaj",dd:n,M:"wa\u2019 jar",MM:n,y:"wa\u2019 DIS",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n("wd/R"))},zUnb:function(u,f,y){"use strict";function b(t){return"function"==typeof t}y.r(f);var w=!1,k={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else w&&console.log("RxJS: Back to a better error behavior. Thank you. <3");w=t},get useDeprecatedSynchronousErrorHandling(){return w}};function M(t){setTimeout(function(){throw t},0)}var S={closed:!0,next:function(t){},error:function(t){if(k.useDeprecatedSynchronousErrorHandling)throw t;M(t)},complete:function(){}},E=Array.isArray||function(t){return t&&"number"==typeof t.length};function L(t){return null!==t&&"object"==typeof t}var T,C=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(t,e){return"".concat(e+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),I=((T=function(){function t(e){_(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return x(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,i=this._ctorUnsubscribe,r=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var a=0;a<n.length;++a)n[a].remove(this);if(b(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(c){e=c instanceof C?P(c.errors):[c]}}if(E(o))for(var s=-1,u=o.length;++s<u;){var l=o[s];if(L(l))try{l.unsubscribe()}catch(c){e=e||[],c instanceof C?e=e.concat(P(c.errors)):e.push(c)}}if(e)throw new C(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var i=n;(n=new t)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=function(t){return t.closed=!0,t}(new T),T);function P(t){return t.reduce(function(t,e){return t.concat(e instanceof C?e.errors:e)},[])}var D="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),O=function(t){d(n,t);var e=p(n);function n(t,i,r){var o;switch(_(this,n),(o=e.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=S;break;case 1:if(!t){o.destination=S;break}if("object"==typeof t){t instanceof n?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(g(o))):(o.syncErrorThrowable=!0,o.destination=new A(g(o),t));break}default:o.syncErrorThrowable=!0,o.destination=new A(g(o),t,i,r)}return o}return x(n,[{key:D,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,h(v(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,i){var r=new n(t,e,i);return r.syncErrorThrowable=!1,r}}]),n}(I),A=function(t){d(n,t);var e=p(n);function n(t,i,r,o){var a,s;_(this,n),(a=e.call(this))._parentSubscriber=t;var u=g(a);return b(i)?s=i:i&&(s=i.next,r=i.error,o=i.complete,i!==S&&(b((u=Object.create(i)).unsubscribe)&&a.add(u.unsubscribe.bind(u)),u.unsubscribe=a.unsubscribe.bind(g(a)))),a._context=u,a._next=s,a._error=r,a._complete=o,a}return x(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;k.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=k.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):M(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;M(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};k.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),k.useDeprecatedSynchronousErrorHandling)throw n;M(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!k.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return k.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(M(i),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(O),R="function"==typeof Symbol&&Symbol.observable||"@@observable";function N(t){return t}var F,Y=((F=function(){function t(e){_(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return x(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var i=this.operator,r=function(t,e,n){if(t){if(t instanceof O)return t;if(t[D])return t[D]()}return t||e||n?new O(t,e,n):new O(S)}(t,e,n);if(r.add(i?i.call(r,this.source):this.source||k.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),k.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){k.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,i=e.destination,r=e.isStopped;if(n||r)return!1;t=i&&i instanceof O?i:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=z(e))(function(e,i){var r;r=n.subscribe(function(e){try{t(e)}catch(n){i(n),r&&r.unsubscribe()}},i,e)})}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:R,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:(0===(i=e).length?N:1===i.length?i[0]:function(t){return i.reduce(function(t,e){return e(t)},t)})(this);var i}},{key:"toPromise",value:function(t){var e=this;return new(t=z(t))(function(t,n){var i;e.subscribe(function(t){return i=t},function(t){return n(t)},function(){return t(i)})})}}]),t}()).create=function(t){return new F(t)},F);function z(t){if(t||(t=k.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var j,B=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),H=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this)).subject=t,r.subscriber=i,r.closed=!1,r}return x(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(I),U=function(t){d(n,t);var e=p(n);function n(t){var i;return _(this,n),(i=e.call(this,t)).destination=t,i}return n}(O),V=((j=function(t){d(n,t);var e=p(n);function n(){var t;return _(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return x(n,[{key:D,value:function(){return new U(this)}},{key:"lift",value:function(t){var e=new q(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new B;if(!this.isStopped)for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].next(t)}},{key:"error",value:function(t){if(this.closed)throw new B;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new B;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),i=0;i<e;i++)n[i].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new B;return h(v(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new B;return this.hasError?(t.error(this.thrownError),I.EMPTY):this.isStopped?(t.complete(),I.EMPTY):(this.observers.push(t),new H(this,t))}},{key:"asObservable",value:function(){var t=new Y;return t.source=this,t}}]),n}(Y)).create=function(t,e){return new q(t,e)},j),q=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this)).destination=t,r.source=i,r}return x(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):I.EMPTY}}]),n}(V);function G(t){return t&&"function"==typeof t.schedule}function W(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new X(t,e))}}var X=function(){function t(e,n){_(this,t),this.project=e,this.thisArg=n}return x(t,[{key:"call",value:function(t,e){return e.subscribe(new K(t,this.project,this.thisArg))}}]),t}(),K=function(t){d(n,t);var e=p(n);function n(t,i,r){var o;return _(this,n),(o=e.call(this,t)).project=i,o.count=0,o.thisArg=r||g(o),o}return x(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(O),Z=function(t){return function(e){for(var n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}};var Q="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",J=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function $(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var tt=function(t){if(t&&"function"==typeof t[R])return i=t,function(t){var e=i[R]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(J(t))return Z(t);if($(t))return n=t,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,M),t};if(t&&"function"==typeof t[Q])return e=t,function(t){for(var n=e[Q]();;){var i=void 0;try{i=n.next()}catch(r){return t.error(r),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,i,r=L(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(r," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function et(t,e){return new Y(function(n){var i=new I,r=0;return i.add(e.schedule(function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()})),i})}function nt(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[R]}(t))return function(t,e){return new Y(function(n){var i=new I;return i.add(e.schedule(function(){var r=t[R]();i.add(r.subscribe({next:function(t){i.add(e.schedule(function(){return n.next(t)}))},error:function(t){i.add(e.schedule(function(){return n.error(t)}))},complete:function(){i.add(e.schedule(function(){return n.complete()}))}}))})),i})}(t,e);if($(t))return function(t,e){return new Y(function(n){var i=new I;return i.add(e.schedule(function(){return t.then(function(t){i.add(e.schedule(function(){n.next(t),i.add(e.schedule(function(){return n.complete()}))}))},function(t){i.add(e.schedule(function(){return n.error(t)}))})})),i})}(t,e);if(J(t))return et(t,e);if(function(t){return t&&"function"==typeof t[Q]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new Y(function(n){var i,r=new I;return r.add(function(){i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(function(){i=t[Q](),r.add(e.schedule(function(){if(!n.closed){var t,e;try{var r=i.next();t=r.value,e=r.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof Y?t:new Y(tt(t))}var it=function(t){d(n,t);var e=p(n);function n(t){var i;return _(this,n),(i=e.call(this)).parent=t,i}return x(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(O),rt=function(t){d(n,t);var e=p(n);function n(){return _(this,n),e.apply(this,arguments)}return x(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(O);function ot(t,e){if(!e.closed)return t instanceof Y?t.subscribe(e):tt(t)(e)}function at(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(i){return i.pipe(at(function(n,i){return nt(t(n,i)).pipe(W(function(t,r){return e(n,t,i,r)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new st(t,n))})}var st=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_(this,t),this.project=e,this.concurrent=n}return x(t,[{key:"call",value:function(t,e){return e.subscribe(new ut(t,this.project,this.concurrent))}}]),t}(),ut=function(t){d(n,t);var e=p(n);function n(t,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _(this,n),(r=e.call(this,t)).project=i,r.concurrent=o,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return x(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new it(this),n=this.destination;n.add(e);var i=ot(t,e);i!==e&&n.add(i)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(rt);function lt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return at(N,t)}function ct(t,e){return e?et(t,e):new Y(Z(t))}function ht(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=Number.POSITIVE_INFINITY,r=null,o=e[e.length-1];return G(o)?(r=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(i=e.pop())):"number"==typeof o&&(i=e.pop()),null===r&&1===e.length&&e[0]instanceof Y?e[0]:lt(i)(ct(e,r))}function dt(){return function(t){return t.lift(new pt(t))}}var ft,pt=function(){function t(e){_(this,t),this.connectable=e}return x(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var i=new mt(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}]),t}(),mt=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this,t)).connectable=i,r}return x(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null}}]),n}(O),gt={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(ft=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this)).source=t,r.subjectFactory=i,r._refCount=0,r._isComplete=!1,r}return x(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new I).add(this.source.subscribe(new yt(this.getSubject(),this))),t.closed&&(this._connection=null,t=I.EMPTY)),t}},{key:"refCount",value:function(){return dt()(this)}}]),n}(Y).prototype)._subscribe},_isComplete:{value:ft._isComplete,writable:!0},getSubject:{value:ft.getSubject},connect:{value:ft.connect},refCount:{value:ft.refCount}},yt=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this,t)).connectable=i,r}return x(n,[{key:"_error",value:function(t){this._unsubscribe(),h(v(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),h(v(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(U);function vt(){return new V}function _t(){return function(t){return dt()((e=vt,function(t){var n;n="function"==typeof e?e:function(){return e};var i=Object.create(t,gt);return i.source=t,i.subjectFactory=n,i})(t));var e}}function bt(t){for(var e in t)if(t[e]===bt)return e;throw Error("Could not find renamed property on target object.")}function xt(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function wt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(wt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function kt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var Mt=bt({__forward_ref__:bt});function St(t){return t.__forward_ref__=St,t.toString=function(){return wt(this())},t}function Et(t){return Lt(t)?t():t}function Lt(t){return"function"==typeof t&&t.hasOwnProperty(Mt)&&t.__forward_ref__===St}function Tt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ct(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function It(t){return Pt(t,At)||Pt(t,Nt)}function Pt(t,e){return t.hasOwnProperty(e)?t[e]:null}function Dt(t){return t&&(t.hasOwnProperty(Rt)||t.hasOwnProperty(Ft))?t[Rt]:null}var Ot,At=bt({"\u0275prov":bt}),Rt=bt({"\u0275inj":bt}),Nt=bt({ngInjectableDef:bt}),Ft=bt({ngInjectorDef:bt}),Yt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function zt(t){var e=Ot;return Ot=t,e}function jt(t,e,n){var i=It(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&Yt.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(wt(t),"]"))}function Bt(t){return{toString:t}.toString()}var Ht=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Ut=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),Vt="undefined"!=typeof globalThis&&globalThis,qt="undefined"!=typeof window&&window,Gt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Wt="undefined"!=typeof global&&global,Xt=Vt||Wt||qt||Gt,Kt={},Zt=[],Qt=bt({"\u0275cmp":bt}),Jt=bt({"\u0275dir":bt}),$t=bt({"\u0275pipe":bt}),te=bt({"\u0275mod":bt}),ee=bt({"\u0275loc":bt}),ne=bt({"\u0275fac":bt}),ie=bt({__NG_ELEMENT_ID__:bt}),re=0;function oe(t){return Bt(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Ht.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Zt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ut.Emulated,id:"c",styles:t.styles||Zt,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,r=t.features,o=t.pipes;return n.id+=re++,n.inputs=he(t.inputs,e),n.outputs=he(t.outputs),r&&r.forEach(function(t){return t(n)}),n.directiveDefs=i?function(){return("function"==typeof i?i():i).map(se)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(ue)}:null,n})}function ae(t,e,n){var i=t.\u0275cmp;i.directiveDefs=function(){return e.map(se)},i.pipeDefs=function(){return n.map(ue)}}function se(t){return pe(t)||function(t){return t[Jt]||null}(t)}function ue(t){return function(t){return t[$t]||null}(t)}var le={};function ce(t){var e={type:t.type,bootstrap:t.bootstrap||Zt,declarations:t.declarations||Zt,imports:t.imports||Zt,exports:t.exports||Zt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&Bt(function(){le[t.id]=t.type}),e}function he(t,e){if(null==t)return Kt;var n={};for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,e&&(e[r]=o)}return n}var de=oe;function fe(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function pe(t){return t[Qt]||null}function me(t,e){var n=t[te]||null;if(!n&&!0===e)throw new Error("Type ".concat(wt(t)," does not have '\u0275mod' property."));return n}function ge(t){return Array.isArray(t)&&"object"==typeof t[1]}function ye(t){return Array.isArray(t)&&!0===t[1]}function ve(t){return 0!=(8&t.flags)}function _e(t){return 2==(2&t.flags)}function be(t){return 1==(1&t.flags)}function xe(t){return null!==t.template}function we(t,e){return t.hasOwnProperty(ne)?t[ne]:null}var ke=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this,function(t,e){return"".concat(t?"NG0".concat(t,": "):"").concat(e)}(t,i))).code=t,r}return n}(l(Error));function Me(t){return"string"==typeof t?t:null==t?"":String(t)}function Se(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Me(t)}function Ee(t,e){var n=e?" in "+e:"";throw new ke("201","No provider for ".concat(Se(t)," found").concat(n))}var Le=function(){function t(e,n,i){_(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=i}return x(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Te(){return Ce}function Ce(t){return t.type.prototype.ngOnChanges&&(t.setInput=Pe),Ie}function Ie(){var t=De(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===Kt)t.previous=e;else for(var i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function Pe(t,e,n,i){var r=De(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Kt,current:null}),o=r.current||(r.current={}),a=r.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Le(u&&u.currentValue,e,a===Kt),t[i]=e}function De(t){return t.__ngSimpleChanges__||null}Te.ngInherit=!0;var Oe=void 0;function Ae(){return void 0!==Oe?Oe:"undefined"!=typeof document?document:void 0}function Re(t){return!!t.listen}var Ne={createRenderer:function(t,e){return Ae()}};function Fe(t){for(;Array.isArray(t);)t=t[0];return t}function Ye(t,e){return Fe(e[t])}function ze(t,e){return Fe(e[t.index])}function je(t,e){return t.data[e]}function Be(t,e){return t[e]}function He(t,e){var n=e[t];return ge(n)?n:n[0]}function Ue(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ve(t){return 4==(4&t[2])}function qe(t){return 128==(128&t[2])}function Ge(t,e){return null==e?null:t[e]}function We(t){t[18]=0}function Xe(t,e){t[5]+=e;for(var n=t,i=t[3];null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}var Ke={lFrame:bn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ze(){return Ke.bindingsEnabled}function Qe(){return Ke.lFrame.lView}function Je(){return Ke.lFrame.tView}function $e(t){Ke.lFrame.contextLView=t}function tn(){for(var t=en();null!==t&&64===t.type;)t=t.parent;return t}function en(){return Ke.lFrame.currentTNode}function nn(t,e){var n=Ke.lFrame;n.currentTNode=t,n.isParent=e}function rn(){return Ke.lFrame.isParent}function on(){Ke.lFrame.isParent=!1}function an(){return Ke.isInCheckNoChangesMode}function sn(t){Ke.isInCheckNoChangesMode=t}function un(){var t=Ke.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ln(){return Ke.lFrame.bindingIndex}function cn(){return Ke.lFrame.bindingIndex++}function hn(t){var e=Ke.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function dn(t){Ke.lFrame.currentDirectiveIndex=t}function fn(t){var e=Ke.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function pn(){return Ke.lFrame.currentQueryIndex}function mn(t){Ke.lFrame.currentQueryIndex=t}function gn(t){var e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function yn(t,e,n){if(n&Yt.SkipSelf){for(var i=e,r=t;!(null!==(i=i.parent)||n&Yt.Host||(i=gn(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;e=i,t=r}var o=Ke.lFrame=_n();return o.currentTNode=e,o.lView=t,!0}function vn(t){var e=_n(),n=t[1];Ke.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function _n(){var t=Ke.lFrame,e=null===t?null:t.child;return null===e?bn(t):e}function bn(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function xn(){var t=Ke.lFrame;return Ke.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var wn=xn;function kn(){var t=xn();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Mn(){return Ke.lFrame.selectedIndex}function Sn(t){Ke.lFrame.selectedIndex=t}function En(){var t=Ke.lFrame;return je(t.tView,t.selectedIndex)}function Ln(){Ke.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Tn(){Ke.lFrame.currentNamespace=null}function Cn(t,e){for(var n=e.directiveStart,i=e.directiveEnd;n<i;n++){var r=t.data[n].type.prototype,o=r.ngAfterContentInit,a=r.ngAfterContentChecked,s=r.ngAfterViewInit,u=r.ngAfterViewChecked,l=r.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function In(t,e,n){On(t,e,3,n)}function Pn(t,e,n,i){(3&t[2])===n&&On(t,e,n,i)}function Dn(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function On(t,e,n,i){for(var r=null!=i?i:-1,o=e.length-1,a=0,s=void 0!==i?65535&t[18]:0;s<o;s++)if("number"==typeof e[s+1]){if(a=e[s],null!=i&&a>=i)break}else e[s]<0&&(t[18]+=65536),(a<r||-1==r)&&(An(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function An(t,e,n,i){var r=n[i]<0,o=n[i+1],a=t[r?-n[i]:n[i]];r?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(a)):o.call(a)}var Rn=function t(e,n,i){_(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i};function Nn(t,e,n){for(var i=Re(t),r=0;r<n.length;){var o=n[r];if("number"==typeof o){if(0!==o)break;r++;var a=n[r++],s=n[r++],u=n[r++];i?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var l=o,c=n[++r];Yn(l)?i&&t.setProperty(e,l,c):i?t.setAttribute(e,l,c):e.setAttribute(l,c),r++}}return r}function Fn(t){return 3===t||4===t||6===t}function Yn(t){return 64===t.charCodeAt(0)}function zn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,i=0;i<e.length;i++){var r=e[i];"number"==typeof r?n=r:0===n||jn(t,n,r,null,-1===n||2===n?e[++i]:null)}return t}function jn(t,e,n,i,r){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===i)return void(null!==r&&(t[o+1]=r));if(i===t[o+1])return void(t[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==i&&t.splice(o++,0,i),null!==r&&t.splice(o++,0,r)}function Bn(t){return-1!==t}function Hn(t){return 32767&t}function Un(t,e){for(var n=t>>16,i=e;n>0;)i=i[15],n--;return i}var Vn=!0;function qn(t){var e=Vn;return Vn=t,e}var Gn=0;function Wn(t,e){var n=Kn(t,e);if(-1!==n)return n;var i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,Xn(i.data,t),Xn(e,null),Xn(i.blueprint,null));var r=Zn(t,e),o=t.injectorIndex;if(Bn(r))for(var a=Hn(r),s=Un(r,e),u=s[1].data,l=0;l<8;l++)e[o+l]=s[a+l]|u[a+l];return e[o+8]=r,o}function Xn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Kn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Zn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,i=null,r=e;null!==r;){var o=r[1],a=o.type;if(null===(i=2===a?o.declTNode:1===a?r[6]:null))return-1;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function Qn(t,e,n){!function(t,e,n){var i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(ie)&&(i=n[ie]),null==i&&(i=n[ie]=Gn++);var r=255&i,o=1<<r,a=64&r,s=32&r,u=e.data;128&r?a?s?u[t+7]|=o:u[t+6]|=o:s?u[t+5]|=o:u[t+4]|=o:a?s?u[t+3]|=o:u[t+2]|=o:s?u[t+1]|=o:u[t]|=o}(t,e,n)}function Jn(t,e,n){if(n&Yt.Optional)return t;Ee(e,"NodeInjector")}function $n(t,e,n,i){if(n&Yt.Optional&&void 0===i&&(i=null),0==(n&(Yt.Self|Yt.Host))){var r=t[9],o=zt(void 0);try{return r?r.get(e,i,n&Yt.Optional):jt(e,i,n&Yt.Optional)}finally{zt(o)}}return Jn(i,e,n)}function ti(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Yt.Default,r=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(ie)?t[ie]:void 0;return"number"==typeof e?e>=0?255&e:ni:e}(n);if("function"==typeof o){if(!yn(e,t,i))return i&Yt.Host?Jn(r,n,i):$n(e,n,i,r);try{var a=o();if(null!=a||i&Yt.Optional)return a;Ee(n)}finally{wn()}}else if("number"==typeof o){var s=null,u=Kn(t,e),l=-1,c=i&Yt.Host?e[16][6]:null;for((-1===u||i&Yt.SkipSelf)&&(-1!==(l=-1===u?Zn(t,e):e[u+8])&&si(i,!1)?(s=e[1],u=Hn(l),e=Un(l,e)):u=-1);-1!==u;){var h=e[1];if(ai(o,u,h.data)){var d=ii(u,e,n,s,i,c);if(d!==ei)return d}-1!==(l=e[u+8])&&si(i,e[1].data[u+8]===c)&&ai(o,u,e)?(s=h,u=Hn(l),e=Un(l,e)):u=-1}}}return $n(e,n,i,r)}var ei={};function ni(){return new ui(tn(),Qe())}function ii(t,e,n,i,r,o){var a=e[1],s=a.data[t+8],u=ri(s,a,n,null==i?_e(s)&&Vn:i!=a&&0!=(3&s.type),r&Yt.Host&&o===s);return null!==u?oi(e,a,u,s):ei}function ri(t,e,n,i,r){for(var o=t.providerIndexes,a=e.data,s=1048575&o,u=t.directiveStart,l=o>>20,c=r?s+l:t.directiveEnd,h=i?s:s+l;h<c;h++){var d=a[h];if(h<u&&n===d||h>=u&&d.type===n)return h}if(r){var f=a[u];if(f&&xe(f)&&f.type===n)return u}return null}function oi(t,e,n,i){var r=t[n],o=e.data;if(r instanceof Rn){var a=r;a.resolving&&function(t,e){throw new ke("200","Circular dependency in DI detected for "+t)}(Se(o[n]));var s=qn(a.canSeeViewProviders);a.resolving=!0;var u=a.injectImpl?zt(a.injectImpl):null;yn(t,i,Yt.Default);try{r=t[n]=a.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){var i=e.type.prototype,r=i.ngOnChanges,o=i.ngOnInit,a=i.ngDoCheck;if(r){var s=Ce(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a))}(n,o[n],e)}finally{null!==u&&zt(u),qn(s),a.resolving=!1,wn()}}return r}function ai(t,e,n){var i=64&t,r=32&t;return!!((128&t?i?r?n[e+7]:n[e+6]:r?n[e+5]:n[e+4]:i?r?n[e+3]:n[e+2]:r?n[e+1]:n[e])&1<<t)}function si(t,e){return!(t&Yt.Self||t&Yt.Host&&e)}var ui=function(){function t(e,n){_(this,t),this._tNode=e,this._lView=n}return x(t,[{key:"get",value:function(t,e){return ti(this._tNode,this._lView,t,void 0,e)}}]),t}();function li(t){var e=t;if(Lt(t))return function(){var t=li(Et(e));return t?t():null};var n=we(e);if(null===n){var i=Dt(e);n=i&&i.factory}return n||null}function ci(t){return Bt(function(){for(var e=t.prototype.constructor,n=e[ne]||li(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;r&&r!==i;){var o=r[ne]||li(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return function(t){return new t}})}function hi(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var i=n.length,r=0;r<i;){var o=n[r];if(Fn(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(o===e)return n[r+1];r+=2}}return null}(tn(),t)}function di(t,e,n){return Bt(function(){var i=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function r(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof r)return i.apply(this,e),this;var o=c(r,e);return a.annotation=o,a;function a(t,e,n){for(var i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(o),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var fi=function(){function t(e,n){_(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Tt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return x(t,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),t}(),pi=new fi("AnalyzeForEntryComponents"),mi=Function;function gi(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var i=t[n];Array.isArray(i)?(e===t&&(e=t.slice(0,n)),gi(i,e)):e!==t&&e.push(i)}return e}function yi(t,e){t.forEach(function(t){return Array.isArray(t)?yi(t,e):e(t)})}function vi(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function _i(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bi(t,e){for(var n=[],i=0;i<t;i++)n.push(e);return n}function xi(t,e,n){var i=ki(t,e);return i>=0?t[1|i]=n:function(t,e,n,i){var r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i=~i,e,n),i}function wi(t,e){var n=ki(t,e);if(n>=0)return t[1|n]}function ki(t,e){return function(t,e,n){for(var i=0,r=t.length>>1;r!==i;){var o=i+(r-i>>1),a=t[o<<1];if(e===a)return o<<1;a>e?r=o:i=o+1}return~(r<<1)}(t,e)}var Mi=di("Inject",function(t){return{token:t}}),Si=di("Optional"),Ei=di("Self"),Li=di("SkipSelf"),Ti=di("Host"),Ci={},Ii=/\n/gm,Pi=bt({provide:String,useValue:bt}),Di=void 0;function Oi(t){var e=Di;return Di=t,e}function Ai(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yt.Default;if(void 0===Di)throw new Error("inject() must be called from an injection context");return null===Di?jt(t,void 0,e):Di.get(t,e&Yt.Optional?null:void 0,e)}function Ri(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yt.Default;return(Ot||Ai)(Et(t),e)}var Ni,Fi=Ri;function Yi(t){for(var e=[],n=0;n<t.length;n++){var i=Et(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");for(var r=void 0,o=Yt.Default,a=0;a<i.length;a++){var s=i[a];s instanceof Si||"Optional"===s.ngMetadataName||s===Si?o|=Yt.Optional:s instanceof Li||"SkipSelf"===s.ngMetadataName||s===Li?o|=Yt.SkipSelf:s instanceof Ei||"Self"===s.ngMetadataName||s===Ei?o|=Yt.Self:s instanceof Ti||"Host"===s.ngMetadataName||s===Ti?o|=Yt.Host:r=s instanceof Mi||s===Mi?s.token:s}e.push(Ri(r,o))}else e.push(Ri(i))}return e}function zi(t){var e;return(null===(e=function(){if(void 0===Ni&&(Ni=null,Xt.trustedTypes))try{Ni=Xt.trustedTypes.createPolicy("angular",{createHTML:function(t){return t},createScript:function(t){return t},createScriptURL:function(t){return t}})}catch(e){}return Ni}())||void 0===e?void 0:e.createHTML(t))||t}var ji=function(){function t(e){_(this,t),this.changingThisBreaksApplicationSecurity=e}return x(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}]),t}(),Bi=function(t){d(n,t);var e=p(n);function n(){return _(this,n),e.apply(this,arguments)}return x(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(ji),Hi=function(t){d(n,t);var e=p(n);function n(){return _(this,n),e.apply(this,arguments)}return x(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(ji),Ui=function(t){d(n,t);var e=p(n);function n(){return _(this,n),e.apply(this,arguments)}return x(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(ji),Vi=function(t){d(n,t);var e=p(n);function n(){return _(this,n),e.apply(this,arguments)}return x(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(ji),qi=function(t){d(n,t);var e=p(n);function n(){return _(this,n),e.apply(this,arguments)}return x(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(ji);function Gi(t){return t instanceof ji?t.changingThisBreaksApplicationSecurity:t}function Wi(t,e){var n=Xi(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===e}function Xi(t){return t instanceof ji&&t.getTypeName()||null}var Ki=function(){function t(e){_(this,t),this.inertDocumentHelper=e}return x(t,[{key:"getInertBodyElement",value:function(t){t="<body><remove></remove>"+t;try{var e=(new window.DOMParser).parseFromString(zi(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(n){return null}}}]),t}(),Zi=function(){function t(e){if(_(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var i=this.inertDocument.createElement("body");n.appendChild(i)}}return x(t,[{key:"getInertBodyElement",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=zi(t),e;var n=this.inertDocument.createElement("body");return n.innerHTML=zi(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var i=e.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||t.removeAttribute(i)}for(var r=t.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}]),t}(),Qi=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ji=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function $i(t){return(t=String(t)).match(Qi)||t.match(Ji)?t:"unsafe:"+t}function tr(t){var e,n={},i=a(t.split(","));try{for(i.s();!(e=i.n()).done;){n[e.value]=!0}}catch(r){i.e(r)}finally{i.f()}return n}function er(){for(var t={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var r=0,o=n;r<o.length;r++){var a=o[r];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var nr,ir=tr("area,br,col,hr,img,wbr"),rr=tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),or=tr("rp,rt"),ar=er(or,rr),sr=er(ir,er(rr,tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),er(or,tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ar),ur=tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lr=tr("srcset"),cr=er(ur,lr,tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hr=tr("script,style,template"),dr=function(){function t(){_(this,t),this.sanitizedSomething=!1,this.buf=[]}return x(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!sr.hasOwnProperty(e))return this.sanitizedSomething=!0,!hr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,i=t.attributes,r=0;r<i.length;r++){var o=i.item(r),a=o.name,s=a.toLowerCase();if(cr.hasOwnProperty(s)){var u=o.value;ur[s]&&(u=$i(u)),lr[s]&&(n=u,u=(n=String(n)).split(",").map(function(t){return $i(t.trim())}).join(", ")),this.buf.push(" ",a,'="',mr(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();sr.hasOwnProperty(e)&&!ir.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(mr(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}]),t}(),fr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pr=/([^\#-~ |!])/g;function mr(t){return t.replace(/&/g,"&amp;").replace(fr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(pr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function gr(t,e){var n=null;try{nr=nr||function(t){var e=new Zi(t);return function(){try{return!!(new window.DOMParser).parseFromString(zi(""),"text/html")}catch(t){return!1}}()?new Ki(e):e}(t);var i=e?String(e):"";n=nr.getInertBodyElement(i);var r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=nr.getInertBodyElement(i)}while(i!==o);return(new dr).sanitizeChildren(yr(n)||n)}finally{if(n)for(var a=yr(n)||n;a.firstChild;)a.removeChild(a.firstChild)}}function yr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var vr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function _r(t){var e=xr();return e?e.sanitize(vr.HTML,t)||"":Wi(t,"HTML")?Gi(t):gr(Ae(),Me(t))}function br(t){var e=xr();return e?e.sanitize(vr.URL,t)||"":Wi(t,"URL")?Gi(t):$i(Me(t))}function xr(){var t=Qe();return t&&t[12]}function wr(t){return t.ngDebugContext}function kr(t){return t.ngOriginalError}function Mr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];t.error.apply(t,n)}var Sr=function(){function t(){_(this,t),this._console=console}return x(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||Mr}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?wr(t)?wr(t):this._findContext(kr(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=kr(t);e&&kr(e);)e=kr(e);return e}}]),t}();function Er(t,e){t.__ngContext__=e}var Lr=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Xt);function Tr(t){return{name:"window",target:t.ownerDocument.defaultView}}function Cr(t){return{name:"document",target:t.ownerDocument}}function Ir(t){return t instanceof Function?t():t}var Pr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Dr(t,e){return(void 0)(t,e)}function Or(t){var e=t[3];return ye(e)?e[3]:e}function Ar(t){return Nr(t[13])}function Rr(t){return Nr(t[4])}function Nr(t){for(;null!==t&&!ye(t);)t=t[4];return t}function Fr(t,e,n,i,r){if(null!=i){var o,a=!1;ye(i)?o=i:ge(i)&&(a=!0,i=i[0]);var s=Fe(i);0===t&&null!==n?null==r?qr(e,n,s):Vr(e,n,s,r||null,!0):1===t&&null!==n?Vr(e,n,s,r||null,!0):2===t?function(t,e,n){var i=Wr(t,e);i&&function(t,e,n,i){Re(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,i,r){var o=n[7];o!==Fe(n)&&Fr(e,t,i,o,r);for(var a=10;a<n.length;a++){var s=n[a];to(s[1],s,t,e,i,o)}}(e,t,o,n,r)}}function Yr(t,e,n){return Re(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function zr(t,e){var n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,Xe(r,-1)),n.splice(i,1)}function jr(t,e){if(!(t.length<=10)){var n,i=10+e,r=t[i];if(r){var o=r[17];null!==o&&o!==t&&zr(o,r),e>0&&(t[i-1][4]=r[4]);var a=_i(t,10+e);to(r[1],n=r,n[11],2,null,null),n[0]=null,n[6]=null;var s=a[19];null!==s&&s.detachView(a[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Br(t,e){if(!(256&e[2])){var n=e[11];Re(n)&&n.destroyNode&&to(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Hr(t[1],t);for(;e;){var n=null;if(ge(e))n=e[13];else{var i=e[10];i&&(n=i)}if(!n){for(;e&&!e[4]&&e!==t;)ge(e)&&Hr(e[1],e),e=e[3];null===e&&(e=t),ge(e)&&Hr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Hr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var i=0;i<n.length;i+=2){var r=e[n[i]];if(!(r instanceof Rn)){var o=n[i+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(r[o[a]]);else o.call(r)}}}(t,e),function(t,e){var n=t.cleanup,i=e[7],r=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var a=n[o+1],s="function"==typeof a?a(e):Fe(e[a]),u=i[r=n[o+2]],l=n[o+3];"boolean"==typeof l?s.removeEventListener(n[o],u,l):l>=0?i[r=l]():i[r=-l].unsubscribe(),o+=2}else{var c=i[r=n[o+1]];n[o].call(c)}if(null!==i){for(var h=r+1;h<i.length;h++)(0,i[h])();e[7]=null}}(t,e),1===e[1].type&&Re(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&ye(e[3])){n!==e[3]&&zr(n,e);var i=e[19];null!==i&&i.detachView(t)}}}function Ur(t,e,n){return function(t,e,n){for(var i=e;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){var r=t.data[i.directiveStart].encapsulation;if(r===Ut.None||r===Ut.Emulated)return null}return ze(i,n)}(t,e.parent,n)}function Vr(t,e,n,i,r){Re(t)?t.insertBefore(e,n,i,r):e.insertBefore(n,i,r)}function qr(t,e,n){Re(t)?t.appendChild(e,n):e.appendChild(n)}function Gr(t,e,n,i,r){null!==i?Vr(t,e,n,i,r):qr(t,e,n)}function Wr(t,e){return Re(t)?t.parentNode(e):e.parentNode}function Xr(t,e,n){return Kr(t,e,n)}var Kr=function(t,e,n){return 40&t.type?ze(t,n):null};function Zr(t,e,n,i){var r=Ur(t,i,e),o=e[11],a=Xr(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(n))for(var s=0;s<n.length;s++)Gr(o,r,n[s],a,!1);else Gr(o,r,n,a,!1)}function Qr(t,e){if(null!==e){var n=e.type;if(3&n)return ze(e,t);if(4&n)return Jr(-1,t[e.index]);if(8&n){var i=e.child;if(null!==i)return Qr(t,i);var r=t[e.index];return ye(r)?Jr(-1,r):Fe(r)}if(32&n)return Dr(e,t)()||Fe(t[e.index]);var o=t[16],a=o[6],s=Or(o),u=a.projection[e.projection];return null!=u?Qr(s,u):Qr(t,e.next)}return null}function Jr(t,e){var n=10+t+1;if(n<e.length){var i=e[n],r=i[1].firstChild;if(null!==r)return Qr(i,r)}return e[7]}function $r(t,e,n,i,r,o,a){for(;null!=n;){var s=i[n.index],u=n.type;if(a&&0===e&&(s&&Er(Fe(s),i),n.flags|=4),64!=(64&n.flags))if(8&u)$r(t,e,n.child,i,r,o,!1),Fr(e,t,r,s,o);else if(32&u){for(var l=Dr(n,i),c=void 0;c=l();)Fr(e,t,r,c,o);Fr(e,t,r,s,o)}else 16&u?eo(t,e,i,n,r,o):Fr(e,t,r,s,o);n=a?n.projectionNext:n.next}}function to(t,e,n,i,r,o){$r(n,i,t.firstChild,e,r,o,!1)}function eo(t,e,n,i,r,o){var a=n[16],s=a[6].projection[i.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Fr(e,t,r,s[u],o);else $r(t,e,s,a[3],r,o,!0)}function no(t,e,n){Re(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function io(t,e,n){Re(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ro(t,e,n){for(var i=t.length;;){var r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){var o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function oo(t,e,n){for(var i=0;i<t.length;){var r=t[i++];if(n&&"class"===r){if(-1!==ro((r=t[i]).toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function ao(t){return 4===t.type&&"ng-template"!==t.value}function so(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function uo(t,e,n){for(var i=4,r=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Fn(t[e]))return e;return t.length}(r),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&i){if(i=2|1&i,""!==u&&!so(t,u,n)||""===u&&1===e.length){if(lo(i))return!1;a=!0}}else{var l=8&i?u:e[++s];if(8&i&&null!==t.attrs){if(!oo(t.attrs,l,n)){if(lo(i))return!1;a=!0}continue}var c=co(8&i?"class":u,r,ao(t),n);if(-1===c){if(lo(i))return!1;a=!0;continue}if(""!==l){var h;h=c>o?"":r[c+1].toLowerCase();var d=8&i?h:null;if(d&&-1!==ro(d,l,0)||2&i&&l!==h){if(lo(i))return!1;a=!0}}}}else{if(!a&&!lo(i)&&!lo(u))return!1;if(a&&lo(u))continue;a=!1,i=u|1&i}}return lo(i)||a}function lo(t){return 0==(1&t)}function co(t,e,n,i){if(null===e)return-1;var r=0;if(i||!n){for(var o=!1;r<e.length;){var a=e[r];if(a===t)return r;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++r];"string"==typeof s;)s=e[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function ho(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=0;i<e.length;i++)if(uo(t,e[i],n))return!0;return!1}function fo(t,e){t:for(var n=0;n<e.length;n++){var i=e[n];if(t.length===i.length){for(var r=0;r<t.length;r++)if(t[r]!==i[r])continue t;return!0}}return!1}function po(t,e){return t?":not("+e.trim()+")":e}function mo(t){for(var e=t[0],n=1,i=2,r="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&i){var s=t[++n];r+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""===r||lo(a)||(e+=po(o,r),r=""),i=a,o=o||!lo(i);n++}return""!==r&&(e+=po(o,r)),e}var go={};function yo(t){vo(Je(),Qe(),Mn()+t,an())}function vo(t,e,n,i){if(!i)if(3==(3&e[2])){var r=t.preOrderCheckHooks;null!==r&&In(e,r,n)}else{var o=t.preOrderHooks;null!==o&&Pn(e,o,0,n)}Sn(n)}function _o(t,e){return t<<17|e<<2}function bo(t){return t>>17&32767}function xo(t){return 2|t}function wo(t){return(131068&t)>>2}function ko(t,e){return-131069&t|e<<2}function Mo(t){return 1|t}function So(t,e){var n=t.contentQueries;if(null!==n)for(var i=0;i<n.length;i+=2){var r=n[i],o=n[i+1];if(-1!==o){var a=t.data[o];mn(r),a.contentQueries(2,e[o],o)}}}function Eo(t,e,n,i,r,o,a,s,u,l){var c=e.blueprint.slice();return c[0]=r,c[2]=140|i,We(c),c[3]=c[15]=t,c[8]=n,c[10]=a||t&&t[10],c[11]=s||t&&t[11],c[12]=u||t&&t[12]||null,c[9]=l||t&&t[9]||null,c[6]=o,c[16]=2==e.type?t[16]:c,c}function Lo(t,e,n,i,r){var o,a,s=t.data[e];if(null===s)s=function(t,e,n,i,r){var o=en(),a=rn(),s=t.data[e]=function(t,e,n,i,r,o){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=s),null!==o&&(a?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}(t,e,n,i,r),Ke.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;var u=(o=Ke.lFrame,a=o.currentTNode,o.isParent?a:a.parent);s.injectorIndex=null===u?-1:u.injectorIndex}return nn(s,!0),s}function To(t,e,n,i){if(0===n)return-1;for(var r=e.length,o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function Co(t,e,n){vn(e);try{var i=t.viewQuery;null!==i&&aa(1,i,n);var r=t.template;null!==r&&Do(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&So(t,e),t.staticViewQueries&&aa(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)ea(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,kn()}}function Io(t,e,n,i){var r=e[2];if(256!=(256&r)){vn(e);var o=an();try{We(e),Ke.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Do(t,e,n,2,i);var a=3==(3&r);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&In(e,s,null)}else{var u=t.preOrderHooks;null!==u&&Pn(e,u,0,null),Dn(e,0)}if(function(t){for(var e=Ar(t);null!==e;e=Rr(e))if(e[2])for(var n=e[9],i=0;i<n.length;i++){var r=n[i],o=r[3];0==(1024&r[2])&&Xe(o,1),r[2]|=1024}}(e),function(t){for(var e=Ar(t);null!==e;e=Rr(e))for(var n=10;n<e.length;n++){var i=e[n],r=i[1];qe(i)&&Io(r,i,r.template,i[8])}}(e),null!==t.contentQueries&&So(t,e),!o)if(a){var l=t.contentCheckHooks;null!==l&&In(e,l)}else{var c=t.contentHooks;null!==c&&Pn(e,c,1),Dn(e,1)}!function(t,e){var n,i,r,o=t.hostBindingOpCodes;if(null!==o)try{for(var a=0;a<o.length;a++){var s=o[a];if(s<0)Sn(~s);else{var u=s,l=o[++a],c=o[++a];n=l,i=u,r=void 0,(r=Ke.lFrame).bindingIndex=r.bindingRootIndex=n,dn(i),c(2,e[u])}}}finally{Sn(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)$o(t,e[n])}(e,h);var d=t.viewQuery;if(null!==d&&aa(2,d,i),!o)if(a){var f=t.viewCheckHooks;null!==f&&In(e,f)}else{var p=t.viewHooks;null!==p&&Pn(e,p,2),Dn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Xe(e[3],-1))}finally{kn()}}}function Po(t,e,n,i){var r=e[10],o=!an(),a=Ve(e);try{o&&!a&&r.begin&&r.begin(),a&&Co(t,e,i),Io(t,e,n,i)}finally{o&&!a&&r.end&&r.end()}}function Do(t,e,n,i,r){var o=Mn();try{Sn(-1),2&i&&e.length>20&&vo(t,e,20,an()),n(i,r)}finally{Sn(o)}}function Oo(t,e,n){if(ve(e))for(var i=e.directiveEnd,r=e.directiveStart;r<i;r++){var o=t.data[r];o.contentQueries&&o.contentQueries(1,n[r],r)}}function Ao(t,e,n){Ze()&&(function(t,e,n,i){var r=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Wn(n,e),Er(i,e);for(var a=n.initialInputs,s=r;s<o;s++){var u=t.data[s],l=xe(u);l&&Xo(e,n,u);var c=oi(e,t,s,n);Er(c,e),null!==a&&Zo(0,s-r,c,u,0,a),l&&(He(n.index,e)[8]=c)}}(t,e,n,ze(n,e)),128==(128&n.flags)&&function(t,e,n){var i=n.directiveStart,r=n.directiveEnd,o=n.index,a=Ke.lFrame.currentDirectiveIndex;try{Sn(o);for(var s=i;s<r;s++){var u=t.data[s],l=e[s];dn(s),null===u.hostBindings&&0===u.hostVars&&null===u.hostAttrs||Uo(u,l)}}finally{Sn(-1),dn(a)}}(t,e,n))}function Ro(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ze,i=e.localNames;if(null!==i)for(var r=e.index+1,o=0;o<i.length;o+=2){var a=i[o+1],s=-1===a?n(e,t):t[a];t[r++]=s}}function No(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Fo(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Fo(t,e,n,i,r,o,a,s,u,l){var c=20+i,h=c+r,d=function(t,e){for(var n=[],i=0;i<e;i++)n.push(i<t?null:go);return n}(c,h),f="function"==typeof l?l():l;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:s,declTNode:e,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Yo(t,e,n,i){var r=ua(e);null===n?r.push(i):(r.push(n),t.firstCreatePass&&la(t).push(i,r.length-1))}function zo(t,e,n){for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function jo(t,e,n,i,r,o,a,s){var u,l,c=ze(e,n),h=e.inputs;!s&&null!=h&&(u=h[i])?(da(t,n,u,i,r),_e(e)&&function(t,e){var n=He(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i="class"===(l=i)?"className":"for"===l?"htmlFor":"formaction"===l?"formAction":"innerHtml"===l?"innerHTML":"readonly"===l?"readOnly":"tabindex"===l?"tabIndex":l,r=null!=a?a(r,e.value||"",i):r,Re(o)?o.setProperty(c,i,r):Yn(i)||(c.setProperty?c.setProperty(i,r):c[i]=r))}function Bo(t,e,n,i){var r=!1;if(Ze()){var o=function(t,e,n){var i=t.directiveRegistry,r=null;if(i)for(var o=0;o<i.length;o++){var a=i[o];ho(n,a.selectors,!1)&&(r||(r=[]),Qn(Wn(n,e),t,a.type),xe(a)?(Vo(t,n),r.unshift(a)):r.push(a))}return r}(t,e,n),a=null===i?null:{"":-1};if(null!==o){r=!0,Go(n,t.data.length,o.length);for(var s=0;s<o.length;s++){var u=o[s];u.providersResolver&&u.providersResolver(u)}for(var l=!1,c=!1,h=To(t,e,o.length,null),d=0;d<o.length;d++){var f=o[d];n.mergedAttrs=zn(n.mergedAttrs,f.hostAttrs),Wo(t,n,e,h,f),qo(h,f,a),null!==f.contentQueries&&(n.flags|=8),null===f.hostBindings&&null===f.hostAttrs&&0===f.hostVars||(n.flags|=128);var p=f.type.prototype;!l&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),l=!0),c||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),c=!0),h++}!function(t,e){for(var n=e.directiveEnd,i=t.data,r=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var l=i[u],c=l.inputs,h=null===r||ao(e)?null:Qo(c,r);o.push(h),a=zo(c,u,a),s=zo(l.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n)}a&&function(t,e,n){if(e)for(var i=t.localNames=[],r=0;r<e.length;r+=2){var o=n[e[r+1]];if(null==o)throw new ke("301","Export of name '".concat(e[r+1],"' not found!"));i.push(e[r],o)}}(n,i,a)}return n.mergedAttrs=zn(n.mergedAttrs,n.attrs),r}function Ho(t,e,n,i,r,o){var a=o.hostBindings;if(a){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var u=~e.index;(function(t){for(var e=t.length;e>0;){var n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=u&&s.push(u),s.push(i,r,a)}}function Uo(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Vo(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function qo(t,e,n){if(n){if(e.exportAs)for(var i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;xe(e)&&(n[""]=t)}}function Go(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Wo(t,e,n,i,r){t.data[i]=r;var o=r.factory||(r.factory=we(r.type)),a=new Rn(o,xe(r),null);t.blueprint[i]=a,n[i]=a,Ho(t,e,0,i,To(t,n,r.hostVars,go),r)}function Xo(t,e,n){var i=ze(e,t),r=No(n),o=t[10],a=na(t,Eo(t,r,null,n.onPush?64:16,i,e,o,o.createRenderer(i,n),null,null));t[e.index]=a}function Ko(t,e,n,i,r,o){var a=ze(t,e);!function(t,e,n,i,r,o,a){if(null==o)Re(t)?t.removeAttribute(e,r,n):e.removeAttribute(r);else{var s=null==a?Me(o):a(o,i||"",r);Re(t)?t.setAttribute(e,r,s,n):n?e.setAttributeNS(n,r,s):e.setAttribute(r,s)}}(e[11],a,o,t.value,n,i,r)}function Zo(t,e,n,i,r,o){var a=o[e];if(null!==a)for(var s=i.setInput,u=0;u<a.length;){var l=a[u++],c=a[u++],h=a[u++];null!==s?i.setInput(n,h,l,c):n[c]=h}}function Qo(t,e){for(var n=null,i=0;i<e.length;){var r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function Jo(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function $o(t,e){var n=He(e,t);if(qe(n)){var i=n[1];80&n[2]?Io(i,n,i.template,n[8]):n[5]>0&&ta(n)}}function ta(t){for(var e=Ar(t);null!==e;e=Rr(e))for(var n=10;n<e.length;n++){var i=e[n];if(1024&i[2]){var r=i[1];Io(r,i,r.template,i[8])}else i[5]>0&&ta(i)}var o=t[1].components;if(null!==o)for(var a=0;a<o.length;a++){var s=He(o[a],t);qe(s)&&s[5]>0&&ta(s)}}function ea(t,e){var n=He(e,t),i=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),Co(i,n,n[8])}function na(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ia(t){for(;t;){t[2]|=64;var e=Or(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function ra(t,e,n){var i=e[10];i.begin&&i.begin();try{Io(t,e,t.template,n)}catch(r){throw ha(e,r),r}finally{i.end&&i.end()}}function oa(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],i=Ue(n),r=i[1];Po(r,i,r.template,n)}}(t[8])}function aa(t,e,n){mn(0),e(t,n)}var sa=Promise.resolve(null);function ua(t){return t[7]||(t[7]=[])}function la(t){return t.cleanup||(t.cleanup=[])}function ca(t,e,n){return(null===t||xe(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function ha(t,e){var n=t[9],i=n?n.get(Sr,null):null;i&&i.handleError(e)}function da(t,e,n,i,r){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],l=t.data[a];null!==l.setInput?l.setInput(u,r,i,s):u[s]=r}}function fa(t,e,n){var i=n?t.styles:null,r=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?r=kt(r,s):2==o&&(i=kt(i,s+": "+e[++a]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var pa=new fi("INJECTOR",-1),ma=function(){function t(){_(this,t)}return x(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ci;if(e===Ci){var n=new Error("NullInjectorError: No provider for ".concat(wt(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),ga=new fi("Set Injector scope."),ya={},va={},_a=[],ba=void 0;function xa(){return void 0===ba&&(ba=new ma),ba}function wa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return new ka(t,n,e||xa(),i)}var ka=function(){function t(e,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_(this,t),this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&yi(n,function(t){return r.processProvider(t,e,n)}),yi([e],function(t){return r.processInjectorType(t,[],a)}),this.records.set(pa,Ea(void 0,this));var s=this.records.get(ga);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:wt(e))}return x(t,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ci,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yt.Default;this.assertNotDestroyed();var i,r=Oi(this);try{if(!(n&Yt.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(i=t)||"object"==typeof i&&i instanceof fi)&&It(t);o=a&&this.injectableDefInScope(a)?Ea(Ma(t),ya):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&Yt.Self?xa():this.parent).get(t,e=n&Yt.Optional&&e===Ci?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(wt(t)),r)throw s;return function(t,e,n,i){var r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var r=wt(e);if(Array.isArray(e))r=e.map(wt).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):wt(s)))}r="{".concat(o.join(", "),"}")}return"".concat(n).concat(i?"("+i+")":"","[").concat(r,"]: ").concat(t.replace(Ii,"\n  "))}("\n"+t.message,r,"R3InjectorError",i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{Oi(r)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(e,n){return t.push(wt(n))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var i=this;if(!(t=Et(t)))return!1;var r=Dt(t),o=null==r&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(r=Dt(o)),null==r)return!1;if(null!=r.imports&&!s){var u;n.push(a);try{yi(r.imports,function(t){i.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))})}finally{}if(void 0!==u)for(var l=function(t){var e=u[t],n=e.ngModule,r=e.providers;yi(r,function(t){return i.processProvider(t,n,r||_a)})},c=0;c<u.length;c++)l(c)}this.injectorDefTypes.add(a),this.records.set(a,Ea(r.factory,ya));var h=r.providers;if(null!=h&&!s){var d=t;yi(h,function(t){return i.processProvider(t,d,h)})}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var i=Ta(t=Et(t))?t:Et(t&&t.provide),r=function(t,e,n){return La(t)?Ea(void 0,t.useValue):Ea(Sa(t),ya)}(t);if(Ta(t)||!0!==t.multi)this.records.get(i);else{var o=this.records.get(i);o||((o=Ea(void 0,ya,!0)).factory=function(){return Yi(o.multi)},this.records.set(i,o)),i=t,o.multi.push(t)}this.records.set(i,r)}},{key:"hydrate",value:function(t,e){var n;return e.value===ya&&(e.value=va,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();function Ma(t){var e=It(t),n=null!==e?e.factory:we(t);if(null!==n)return n;var i=Dt(t);if(null!==i)return i.factory;if(t instanceof fi)throw new Error("Token ".concat(wt(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=bi(e,"?");throw new Error("Can't resolve all parameters for ".concat(wt(t),": (").concat(n.join(", "),")."))}var i=function(t){var e=t&&(t[At]||t[Nt]);if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==i?function(){return i.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function Sa(t,e,n){var i,o=void 0;if(Ta(t)){var a=Et(t);return we(a)||Ma(a)}if(La(t))o=function(){return Et(t.useValue)};else if((i=t)&&i.useFactory)o=function(){return t.useFactory.apply(t,r(Yi(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))o=function(){return Ri(Et(t.useExisting))};else{var s=Et(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return we(s)||Ma(s);o=function(){return c(s,r(Yi(t.deps)))}}return o}function Ea(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function La(t){return null!==t&&"object"==typeof t&&Pi in t}function Ta(t){return"function"==typeof t}var Ca=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0,r=wa(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)},Ia=function(){var t=function(){function t(){_(this,t)}return x(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Ca(t,e,""):Ca(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=Ci,t.NULL=new ma,t.\u0275prov=Tt({token:t,providedIn:"any",factory:function(){return Ri(pa)}}),t.__NG_ELEMENT_ID__=-1,t}();function Pa(t,e){Cn(Ue(t)[1],tn())}function Da(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,i=[t];e;){var r=void 0;if(xe(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);var o=t;o.inputs=Oa(t.inputs),o.declaredInputs=Oa(t.declaredInputs),o.outputs=Oa(t.outputs);var a=r.hostBindings;a&&Na(t,a);var s=r.viewQuery,u=r.contentQueries;if(s&&Aa(t,s),u&&Ra(t,u),xt(t.inputs,r.inputs),xt(t.declaredInputs,r.declaredInputs),xt(t.outputs,r.outputs),xe(r)&&r.data.animation){var l=t.data;l.animation=(l.animation||[]).concat(r.data.animation)}}var c=r.features;if(c)for(var h=0;h<c.length;h++){var d=c[h];d&&d.ngInherit&&d(t),d===Da&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,i=t.length-1;i>=0;i--){var r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=zn(r.hostAttrs,n=zn(n,r.hostAttrs))}}(i)}function Oa(t){return t===Kt?{}:t===Zt?[]:t}function Aa(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,i){e(t,i),n(t,i)}:e}function Ra(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,i,r){e(t,i,r),n(t,i,r)}:e}function Na(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,i){e(t,i),n(t,i)}:e}var Fa=null;function Ya(){if(!Fa){var t=Xt.Symbol;if(t&&t.iterator)Fa=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var i=e[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Fa=i)}}return Fa}var za=function(){function t(e){_(this,t),this.wrapped=e}return x(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function ja(t){return!!Ba(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ya()in t)}function Ba(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ha(t,e,n){return t[e]=n}function Ua(t,e){return t[e]}function Va(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function qa(t,e,n,i){var r=Va(t,e,n);return Va(t,e+1,i)||r}function Ga(t,e,n,i){var r=Qe();return Va(r,cn(),e)&&(Je(),Ko(En(),r,t,e,n,i)),Ga}function Wa(t,e,n,i){return Va(t,cn(),n)?e+Me(n)+i:go}function Xa(t,e,n,i,r,o){var a=Qe(),s=Wa(a,e,n,i);return s!==go&&Ko(En(),a,t,s,r,o),Xa}function Ka(t,e,n,i,r,o,a,s){var u=Qe(),l=Je(),c=t+20,h=l.firstCreatePass?function(t,e,n,i,r,o,a,s,u){var l=e.consts,c=Lo(e,t,4,a||null,Ge(l,s));Bo(e,n,c,Ge(l,u)),Cn(e,c);var h=c.tViews=Fo(2,c,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),h.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,n,i,r,o,a):l.data[c];nn(h,!1);var d=u[11].createComment("");Zr(l,u,d,h),Er(d,u),na(u,u[c]=Jo(d,u,d,h)),be(h)&&Ao(l,u,h),null!=a&&Ro(u,h,s)}function Za(t){return Be(Ke.lFrame.contextLView,20+t)}function Qa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yt.Default,n=Qe();return null===n?Ri(t,e):ti(tn(),n,Et(t),e)}function Ja(t,e,n){var i=Qe();return Va(i,cn(),e)&&jo(Je(),En(),i,t,e,i[11],n,!1),Ja}function $a(t,e,n,i,r){var o=r?"class":"style";da(t,n,e.inputs[o],o,i)}function ts(t,e,n,i){var r=Qe(),o=Je(),a=20+t,s=r[11],u=r[a]=Yr(s,e,Ke.lFrame.currentNamespace),l=o.firstCreatePass?function(t,e,n,i,r,o,a){var s=e.consts,u=Lo(e,t,2,r,Ge(s,o));return Bo(e,n,u,Ge(s,a)),null!==u.attrs&&fa(u,u.attrs,!1),null!==u.mergedAttrs&&fa(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(a,o,r,0,e,n,i):o.data[a];nn(l,!0);var c=l.mergedAttrs;null!==c&&Nn(s,u,c);var h=l.classes;null!==h&&io(s,u,h);var d=l.styles;null!==d&&no(s,u,d),64!=(64&l.flags)&&Zr(o,r,u,l),0===Ke.lFrame.elementDepthCount&&Er(u,r),Ke.lFrame.elementDepthCount++,be(l)&&(Ao(o,r,l),Oo(o,l,r)),null!==i&&Ro(r,l)}function es(){var t=tn();rn()?on():nn(t=t.parent,!1);var e=t;Ke.lFrame.elementDepthCount--;var n=Je();n.firstCreatePass&&(Cn(n,t),ve(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&$a(n,e,Qe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&$a(n,e,Qe(),e.stylesWithoutHost,!1)}function ns(t,e,n,i){ts(t,e,n,i),es()}function is(t,e,n){var i=Qe(),r=Je(),o=t+20,a=r.firstCreatePass?function(t,e,n,i,r){var o=e.consts,a=Ge(o,i),s=Lo(e,t,8,"ng-container",a);return null!==a&&fa(s,a,!0),Bo(e,n,s,Ge(o,r)),null!==e.queries&&e.queries.elementStart(e,s),s}(o,r,i,e,n):r.data[o];nn(a,!0);var s=i[o]=i[11].createComment("");Zr(r,i,s,a),Er(s,i),be(a)&&(Ao(r,i,a),Oo(r,a,i)),null!=n&&Ro(i,a)}function rs(){var t=tn(),e=Je();rn()?on():nn(t=t.parent,!1),e.firstCreatePass&&(Cn(e,t),ve(t)&&e.queries.elementEnd(t))}function os(){return Qe()}function as(t){return!!t&&"function"==typeof t.then}function ss(t){return!!t&&"function"==typeof t.subscribe}function us(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=Qe(),o=Je(),a=tn();return cs(o,r,r[11],a,t,e,n,i),us}function ls(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=tn(),o=Qe(),a=Je();return cs(a,o,ca(fn(a.data),r,o),r,t,e,n,i),ls}function cs(t,e,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=be(i),l=t.firstCreatePass&&la(t),c=ua(e),h=!0;if(3&i.type){var d=ze(i,e),f=s?s(d):Kt,p=f.target||d,m=c.length,g=s?function(t){return s(Fe(t[i.index])).target}:i.index;if(Re(n)){var y=null;if(!s&&u&&(y=function(t,e,n,i){var r=t.cleanup;if(null!=r)for(var o=0;o<r.length-1;o+=2){var a=r[o];if(a===n&&r[o+1]===i){var s=e[7],u=r[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,r,i.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=o,y.__ngLastListenerFn__=o,h=!1;else{o=ds(i,e,o,!1);var v=n.listen(f.name||p,r,o);c.push(o,v),l&&l.push(r,g,m,m+1)}}else o=ds(i,e,o,!0),p.addEventListener(r,o,a),c.push(o),l&&l.push(r,g,m,a)}else o=ds(i,e,o,!1);var _,b=i.outputs;if(h&&null!==b&&(_=b[r])){var x=_.length;if(x)for(var w=0;w<x;w+=2){var k=e[_[w]][_[w+1]].subscribe(o),M=c.length;c.push(o,k),l&&l.push(r,i.index,M,-(M+1))}}}function hs(t,e,n){try{return!1!==e(n)}catch(i){return ha(t,i),!1}}function ds(t,e,n,i){return function r(o){if(o===Function)return n;var a=2&t.flags?He(t.index,e):e;0==(32&e[2])&&ia(a);for(var s=hs(e,n,o),u=r.__ngNextListenerFn__;u;)s=hs(e,u,o)&&s,u=u.__ngNextListenerFn__;return i&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function fs(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(Ke.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ke.lFrame.contextLView))[8]}(t)}function ps(t,e){for(var n=null,i=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),r=0;r<e.length;r++){var o=e[r];if("*"!==o){if(null===i?ho(t,o,!0):fo(i,o))return r}else n=r}return n}function ms(t){var e=Qe()[16][6];if(!e.projection)for(var n=e.projection=bi(t?t.length:1,null),i=n.slice(),r=e.child;null!==r;){var o=t?ps(r,t):0;null!==o&&(i[o]?i[o].projectionNext=r:n[o]=r,i[o]=r),r=r.next}}function gs(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=Qe(),r=Je(),o=Lo(r,20+t,16,null,n||null);null===o.projection&&(o.projection=e),on(),64!=(64&o.flags)&&function(t,e,n){eo(e[11],0,e,n,Ur(t,n,e),Xr(n.parent||e[6],n,e))}(r,i,o)}function ys(t,e,n){return vs(t,"",e,"",n),ys}function vs(t,e,n,i,r){var o=Qe(),a=Wa(o,e,n,i);return a!==go&&jo(Je(),En(),o,t,a,o[11],r,!1),vs}var _s=[];function bs(t,e,n,i,r){for(var o=t[n+1],a=null===e,s=i?bo(o):wo(o),u=!1;0!==s&&(!1===u||a);){var l=t[s+1];xs(t[s],e)&&(u=!0,t[s+1]=i?Mo(l):xo(l)),s=i?bo(l):wo(l)}u&&(t[n+1]=i?xo(o):Mo(o))}function xs(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ki(t,e)>=0}var ws={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ks(t){return t.substring(ws.key,ws.keyEnd)}function Ms(t,e){var n=ws.textEnd;return n===e?-1:(e=ws.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,ws.key=e,n),Ss(t,e,n))}function Ss(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Es(t,e,n){return Cs(t,e,n,!1),Es}function Ls(t,e){return Cs(t,e,null,!0),Ls}function Ts(t,e){for(var n=function(t){return function(t){ws.key=0,ws.keyEnd=0,ws.value=0,ws.valueEnd=0,ws.textEnd=t.length}(t),Ms(t,Ss(t,0,ws.textEnd))}(e);n>=0;n=Ms(e,n))xi(t,ks(e),!0)}function Cs(t,e,n,i){var r=Qe(),o=Je(),a=hn(2);o.firstUpdatePass&&Ds(o,t,a,i),e!==go&&Va(r,a,e)&&Rs(o,o.data[Mn()],r,r[11],t,r[a+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=wt(Gi(t)))),t}(e,n),i,a)}function Is(t,e,n,i){var r=Je(),o=hn(2);r.firstUpdatePass&&Ds(r,null,o,i);var a=Qe();if(n!==go&&Va(a,o,n)){var s=r.data[Mn()];if(Ys(s,i)&&!Ps(r,o)){var u=i?s.classesWithoutHost:s.stylesWithoutHost;null!==u&&(n=kt(u,n||"")),$a(r,s,a,n,i)}else!function(t,e,n,i,r,o,a,s){r===go&&(r=_s);for(var u=0,l=0,c=0<r.length?r[0]:null,h=0<o.length?o[0]:null;null!==c||null!==h;){var d=u<r.length?r[u+1]:void 0,f=l<o.length?o[l+1]:void 0,p=null,m=void 0;c===h?(u+=2,l+=2,d!==f&&(p=h,m=f)):null===h||null!==c&&c<h?(u+=2,p=c):(l+=2,p=h,m=f),null!==p&&Rs(t,e,n,i,p,m,a,s),c=u<r.length?r[u]:null,h=l<o.length?o[l]:null}}(r,s,a,a[11],a[o+1],a[o+1]=function(t,e,n){if(null==n||""===n)return _s;var i=[],r=Gi(n);if(Array.isArray(r))for(var o=0;o<r.length;o++)t(i,r[o],!0);else if("object"==typeof r)for(var a in r)r.hasOwnProperty(a)&&t(i,a,r[a]);else"string"==typeof r&&e(i,r);return i}(t,e,n),i,o)}}function Ps(t,e){return e>=t.expandoStartIndex}function Ds(t,e,n,i){var r=t.data;if(null===r[n+1]){var o=r[Mn()],a=Ps(t,n);Ys(o,i)&&null===e&&!a&&(e=!1),e=function(t,e,n,i){var r=fn(t),o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=As(n=Os(null,t,e,n,i),e.attrs,i),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==r)if(n=Os(r,t,e,n,i),null===o){var s=function(t,e,n){var i=n?e.classBindings:e.styleBindings;if(0!==wo(i))return t[bo(i)]}(t,e,i);void 0!==s&&Array.isArray(s)&&function(t,e,n,i){t[bo(n?e.classBindings:e.styleBindings)]=i}(t,e,i,s=As(s=Os(null,t,e,s[1],i),e.attrs,i))}else o=function(t,e,n){for(var i=void 0,r=e.directiveEnd,o=1+e.directiveStylingLast;o<r;o++)i=As(i,t[o].hostAttrs,n);return As(i,e.attrs,n)}(t,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),n}(r,o,e,i),function(t,e,n,i,r,o){var a=o?e.classBindings:e.styleBindings,s=bo(a),u=wo(a);t[i]=n;var l,c=!1;if(Array.isArray(n)){var h=n;(null===(l=h[1])||ki(h,l)>0)&&(c=!0)}else l=n;if(r)if(0!==u){var d=bo(t[s+1]);t[i+1]=_o(d,s),0!==d&&(t[d+1]=ko(t[d+1],i)),t[s+1]=131071&t[s+1]|i<<17}else t[i+1]=_o(s,0),0!==s&&(t[s+1]=ko(t[s+1],i)),s=i;else t[i+1]=_o(u,0),0===s?s=i:t[u+1]=ko(t[u+1],i),u=i;c&&(t[i+1]=xo(t[i+1])),bs(t,l,i,!0),bs(t,l,i,!1),function(t,e,n,i,r){var o=r?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&ki(o,e)>=0&&(n[i+1]=Mo(n[i+1]))}(e,l,t,i,o),a=_o(s,u),o?e.classBindings=a:e.styleBindings=a}(r,o,e,n,a,i)}}function Os(t,e,n,i,r){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(i=As(i,(o=e[s]).hostAttrs,r),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),i}function As(t,e,n){var i=n?1:2,r=-1;if(null!==e)for(var o=0;o<e.length;o++){var a=e[o];"number"==typeof a?r=a:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),xi(t,a,!!n||e[++o]))}return void 0===t?null:t}function Rs(t,e,n,i,r,o,a,s){if(3&e.type){var u=t.data,l=u[s+1];Fs(1==(1&l)?Ns(u,e,n,r,wo(l),a):void 0)||(Fs(o)||2==(2&l)&&(o=Ns(u,null,n,r,s,a)),function(t,e,n,i,r){var o=Re(t);if(e)r?o?t.addClass(n,i):n.classList.add(i):o?t.removeClass(n,i):n.classList.remove(i);else{var a=-1===i.indexOf("-")?void 0:Pr.DashCase;if(null==r)o?t.removeStyle(n,i,a):n.style.removeProperty(i);else{var s="string"==typeof r&&r.endsWith("!important");s&&(r=r.slice(0,-10),a|=Pr.Important),o?t.setStyle(n,i,r,a):n.style.setProperty(i,r,s?"important":"")}}}(i,a,Ye(Mn(),n),r,o))}}function Ns(t,e,n,i,r,o){for(var a=null===e,s=void 0;r>0;){var u=t[r],l=Array.isArray(u),c=l?u[1]:u,h=null===c,d=n[r+1];d===go&&(d=h?_s:void 0);var f=h?wi(d,i):c===i?d:void 0;if(l&&!Fs(f)&&(f=wi(u,i)),Fs(f)&&(s=f,a))return s;var p=t[r+1];r=a?bo(p):wo(p)}if(null!==e){var m=o?e.residualClasses:e.residualStyles;null!=m&&(s=wi(m,i))}return s}function Fs(t){return void 0!==t}function Ys(t,e){return 0!=(t.flags&(e?16:32))}function zs(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Qe(),i=Je(),r=t+20,o=i.firstCreatePass?Lo(i,r,1,e,null):i.data[r],a=n[r]=function(t,e){return Re(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Zr(i,n,a,o),nn(o,!1)}function js(t){return Bs("",t,""),js}function Bs(t,e,n){var i=Qe(),r=Wa(i,t,e,n);return r!==go&&function(t,e,n){var i=Ye(e,t);!function(t,e,n){Re(t)?t.setValue(e,n):e.textContent=n}(t[11],i,n)}(i,Mn(),r),Bs}function Hs(t,e,n){Is(xi,Ts,Wa(Qe(),t,e,n),!0)}function Us(t,e,n){var i=Qe();return Va(i,cn(),e)&&jo(Je(),En(),i,t,e,i[11],n,!0),Us}function Vs(t,e,n){var i=Qe();if(Va(i,cn(),e)){var r=Je(),o=En();jo(r,o,i,t,e,ca(fn(r.data),o,i),n,!0)}return Vs}var qs=void 0,Gs=["en",[["a","p"],["AM","PM"],qs],[["AM","PM"],qs,qs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qs,"{1} 'at' {0}",qs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],Ws={};function Xs(t){return t in Ws||(Ws[t]=Xt.ng&&Xt.ng.common&&Xt.ng.common.locales&&Xt.ng.common.locales[t]),Ws[t]}var Ks=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});function Zs(t){var e;null==(e=t)&&function(t,e,n,i){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}function Qs(t,e,n,i,r){if(t=Et(t),Array.isArray(t))for(var o=0;o<t.length;o++)Qs(t[o],e,n,i,r);else{var a=Je(),s=Qe(),u=Ta(t)?t:Et(t.provide),l=Sa(t),c=tn(),h=1048575&c.providerIndexes,d=c.directiveStart,f=c.providerIndexes>>20;if(Ta(t)||!t.multi){var p=new Rn(l,r,Qa),m=tu(u,e,r?h:h+f,d);-1===m?(Qn(Wn(c,s),a,u),Js(a,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(p),s.push(p)):(n[m]=p,s[m]=p)}else{var g=tu(u,e,h+f,d),y=tu(u,e,h,h+f),v=g>=0&&n[g],_=y>=0&&n[y];if(r&&!_||!r&&!v){Qn(Wn(c,s),a,u);var b=function(t,e,n,i,r){var o=new Rn(t,n,Qa);return o.multi=[],o.index=e,o.componentProviders=0,$s(o,r,i&&!n),o}(r?nu:eu,n.length,r,i,l);!r&&_&&(n[y].providerFactory=b),Js(a,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(b),s.push(b)}else Js(a,t,g>-1?g:y,$s(n[r?y:g],l,!r&&i));!r&&i&&_&&n[y].componentProviders++}}}function Js(t,e,n,i){var r=Ta(e);if(r||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[i,o]):a[s+1].push(i,o)}else a.push(n,o)}}}function $s(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function tu(t,e,n,i){for(var r=n;r<i;r++)if(e[r]===t)return r;return-1}function eu(t,e,n,i){return iu(this.multi,[])}function nu(t,e,n,i){var r,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=oi(n,n[1],this.providerFactory.index,i);iu(o,r=s.slice(0,a));for(var u=a;u<s.length;u++)r.push(s[u])}else iu(o,r=[]);return r}function iu(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function ru(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,i){return function(t,e,n){var i=Je();if(i.firstCreatePass){var r=xe(t);Qs(n,i.data,i.blueprint,r,!0),Qs(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}}var ou=function t(){_(this,t)},au=function(){function t(){_(this,t)}return x(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(wt(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),su=function(){var t=function t(){_(this,t)};return t.NULL=new au,t}();function uu(){}function lu(t,e){return new hu(ze(t,e))}var cu=function(){return lu(tn(),Qe())},hu=function(){var t=function t(e){_(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=cu,t}(),du=function t(){_(this,t)},fu=function(){var t=function t(){_(this,t)};return t.__NG_ELEMENT_ID__=function(){return pu()},t}(),pu=function(){var t=Qe(),e=He(tn().index,t);return function(t){return t[11]}(ge(e)?e:t)},mu=function(){var t=function t(){_(this,t)};return t.\u0275prov=Tt({token:t,providedIn:"root",factory:function(){return null}}),t}(),gu=function t(e){_(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},yu=new gu("11.0.7"),vu=function(){function t(){_(this,t)}return x(t,[{key:"supports",value:function(t){return ja(t)}},{key:"create",value:function(t){return new bu(t)}}]),t}(),_u=function(t,e){return e},bu=function(){function t(e){_(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||_u}return x(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,i=0,r=null;e||n;){var o=!n||e&&e.currentIndex<Mu(n,i,r)?e:n,a=Mu(o,i,r),s=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{r||(r=[]);var u=a-i,l=s-i;if(u!=l){for(var c=0;c<u;c++){var h=c<r.length?r[c]:r[c]=0,d=h+c;l<=d&&d<u&&(r[c]=h+1)}r[o.previousIndex]=l-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!ja(t))throw new Error("Error trying to diff '".concat(wt(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,i,r,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=t[s],r=this._trackByFn(s,i),null!==o&&Object.is(o.trackById,r)?(a&&(o=this._verifyReinsertion(o,i,r,s)),Object.is(o.item,i)||this._addIdentityChange(o,i)):(o=this._mismatch(o,i,r,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var i,r=t[Ya()]();!(i=r.next()).done;)e(i.value)}(t,function(t){r=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,r)?(a&&(o=e._verifyReinsertion(o,t,r,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,r,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,i){var r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new xu(e,n),r,i),t}},{key:"_verifyReinsertion",value:function(t,e,n,i){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ku),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ku),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),t}(),xu=function t(e,n){_(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},wu=function(){function t(){_(this,t),this._head=null,this._tail=null}return x(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),ku=function(){function t(){_(this,t),this.map=new Map}return x(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new wu,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),t}();function Mu(t,e,n){var i=t.previousIndex;if(null===i)return i;var r=0;return n&&i<n.length&&(r=n[i]),i+e+r}var Su=function(){function t(){_(this,t)}return x(t,[{key:"supports",value:function(t){return t instanceof Map||Ba(t)}},{key:"create",value:function(){return new Eu}}]),t}(),Eu=function(){function t(){_(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return x(t,[{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Ba(t)))throw new Error("Error trying to diff '".concat(wt(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,i){if(n&&n.key===i)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var r=e._getOrCreateRecordForKey(i,t);n=e._insertBeforeOrAppend(n,r)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}var o=new Lu(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),t}(),Lu=function t(e){_(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},Tu=function(){var t=function(){function t(e){_(this,t),this.factories=e}return x(t,[{key:"find",value:function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var i=n.factories.slice();e=e.concat(i)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Li,new Si]]}}}]),t}();return t.\u0275prov=Tt({token:t,providedIn:"root",factory:function(){return new t([new vu])}}),t}(),Cu=function(){var t=function(){function t(e){_(this,t),this.factories=e}return x(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var i=n.factories.slice();e=e.concat(i)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new Li,new Si]]}}}]),t}();return t.\u0275prov=Tt({token:t,providedIn:"root",factory:function(){return new t([new Su])}}),t}();function Iu(t,e,n,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var a=e[n.index];if(null!==a&&i.push(Fe(a)),ye(a))for(var s=10;s<a.length;s++){var u=a[s],l=u[1].firstChild;null!==l&&Iu(u[1],u,l,i)}var c=n.type;if(8&c)Iu(t,e,n.child,i);else if(32&c)for(var h=Dr(n,e),d=void 0;d=h();)i.push(d);else if(16&c){var f=e[16],p=f[6].projection[n.projection];if(Array.isArray(p))i.push.apply(i,r(p));else{var m=Or(f);Iu(m[1],m,p,i,!0)}}n=o?n.projectionNext:n.next}return i}var Pu=function(){function t(e,n){_(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return x(t,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Br(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){Yo(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){ia(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){ra(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){sn(!0);try{ra(t,e,n)}finally{sn(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,to(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}},{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return Iu(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),t}(),Du=function(t){d(n,t);var e=p(n);function n(t){var i;return _(this,n),(i=e.call(this,t))._view=t,i}return x(n,[{key:"detectChanges",value:function(){oa(this._view)}},{key:"checkNoChanges",value:function(){!function(t){sn(!0);try{oa(t)}finally{sn(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Pu),Ou=Ru,Au=function(){var t=function t(){_(this,t)};return t.__NG_ELEMENT_ID__=Ou,t.__ChangeDetectorRef__=!0,t}();function Ru(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&_e(t)){var i=He(t.index,e);return new Pu(i,i)}return 47&t.type?new Pu(e[16],e):null}(tn(),Qe(),t)}var Nu=[new Su],Fu=new Tu([new vu]),Yu=new Cu(Nu),zu=function(){return Hu(tn(),Qe())},ju=function(){var t=function t(){_(this,t)};return t.__NG_ELEMENT_ID__=zu,t}(),Bu=function(t){d(n,t);var e=p(n);function n(t,i,r){var o;return _(this,n),(o=e.call(this))._declarationLView=t,o._declarationTContainer=i,o.elementRef=r,o}return x(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=Eo(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),Co(e,n,t),new Pu(n)}}]),n}(ju);function Hu(t,e){return 4&t.type?new Bu(e,t,lu(t,e)):null}var Uu=function t(){_(this,t)},Vu=function t(){_(this,t)},qu=function(){return Zu(tn(),Qe())},Gu=function(){var t=function t(){_(this,t)};return t.__NG_ELEMENT_ID__=qu,t}(),Wu=function(t){d(n,t);var e=p(n);function n(t,i,r){var o;return _(this,n),(o=e.call(this))._lContainer=t,o._hostTNode=i,o._hostLView=r,o}return x(n,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var e=Xu(this._lContainer);return null!==e&&e[t]||null}},{key:"createEmbeddedView",value:function(t,e,n){var i=t.createEmbeddedView(e||{});return this.insert(i,n),i}},{key:"createComponent",value:function(t,e,n,i,r){var o=n||this.parentInjector;if(!r&&null==t.ngModule&&o){var a=o.get(Uu,null);a&&(r=a)}var s=t.create(o,i,void 0,r);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var i=t._lView,r=i[1];if(ye(i[3])){var o=this.indexOf(t);if(-1!==o)this.detach(o);else{var a=i[3],s=new n(a,a[6],a[3]);s.detach(s.indexOf(t))}}var u=this._adjustIndex(e),l=this._lContainer;!function(t,e,n,i){var r=10+i,o=n.length;i>0&&(n[r-1][4]=e),i<o-10?(e[4]=n[r],vi(n,10+i,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(r,i,l,u);var c=Jr(u,l),h=i[11],d=Wr(h,l[7]);return null!==d&&function(t,e,n,i,r,o){i[0]=r,i[6]=e,to(t,i,n,1,r,o)}(r,l[6],h,i,d,c),t.attachToViewContainerRef(this),vi(Ku(l),u,t),t}},{key:"move",value:function(t,e){return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=Xu(this._lContainer);return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){var e=this._adjustIndex(t,-1),n=jr(this._lContainer,e);n&&(_i(Ku(this._lContainer),e),Br(n[1],n))}},{key:"detach",value:function(t){var e=this._adjustIndex(t,-1),n=jr(this._lContainer,e);return n&&null!=_i(Ku(this._lContainer),e)?new Pu(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"element",get:function(){return lu(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new ui(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=Zn(this._hostTNode,this._hostLView);if(Bn(t)){var e=Un(t,this._hostLView),n=Hn(t);return new ui(e[1].data[n+8],e)}return new ui(null,this._hostLView)}},{key:"length",get:function(){return this._lContainer.length-10}}]),n}(Gu);function Xu(t){return t[8]}function Ku(t){return t[8]||(t[8]=[])}function Zu(t,e){var n,i=e[t.index];if(ye(i))n=i;else{var r;if(8&t.type)r=Fe(i);else{var o=e[11];r=o.createComment("");var a=ze(t,e);Vr(o,Wr(o,a),r,function(t,e){return Re(t)?t.nextSibling(e):e.nextSibling}(o,a),!1)}e[t.index]=n=Jo(i,e,r,t),na(e,n)}return new Wu(n,t,e)}var Qu={},Ju=function(t){d(n,t);var e=p(n);function n(t){var i;return _(this,n),(i=e.call(this)).ngModule=t,i}return x(n,[{key:"resolveComponentFactory",value:function(t){var e=pe(t);return new el(e,this.ngModule)}}]),n}(su);function $u(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var tl=new fi("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Lr}}),el=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this)).componentDef=t,r.ngModule=i,r.componentType=t.type,r.selector=t.selectors.map(mo).join(","),r.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],r.isBoundToModule=!!i,r}return x(n,[{key:"create",value:function(t,e,n,i){var r,o,a=(i=i||this.ngModule)?function(t,e){return{get:function(n,i,r){var o=t.get(n,Qu,r);return o!==Qu||i===Qu?o:e.get(n,i,r)}}}(t,i.injector):t,s=a.get(du,Ne),u=a.get(mu,null),l=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Re(t))return t.selectRootElement(e,n===Ut.ShadowDom);var i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(l,n,this.componentDef.encapsulation):Yr(s.createRenderer(null,this.componentDef),c,function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,f={components:[],scheduler:Lr,clean:sa,playerHandler:null,flags:0},p=Fo(0,null,null,1,0,null,null,null,null,null),m=Eo(null,p,f,d,null,null,s,l,u,a);vn(m);try{var g=function(t,e,n,i,r,o){var a=n[1];n[20]=t;var s=Lo(a,20,2,"#host",null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(fa(s,u,!0),null!==t&&(Nn(r,t,u),null!==s.classes&&io(r,t,s.classes),null!==s.styles&&no(r,t,s.styles)));var l=i.createRenderer(t,e),c=Eo(n,No(e),null,e.onPush?64:16,n[20],s,i,l,null,null);return a.firstCreatePass&&(Qn(Wn(s,n),a,e.type),Vo(a,s),Go(s,n.length,1)),na(n,c),n[20]=c}(h,this.componentDef,m,s,l);if(h)if(n)Nn(l,h,["ng-version",yu.full]);else{var y=function(t){for(var e=[],n=[],i=1,r=2;i<t.length;){var o=t[i];if("string"==typeof o)2===r?""!==o&&e.push(o,t[++i]):8===r&&n.push(o);else{if(!lo(r))break;r=o}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),v=y.attrs,_=y.classes;v&&Nn(l,h,v),_&&_.length>0&&io(l,h,_.join(" "))}if(o=je(p,20),void 0!==e)for(var b=o.projection=[],x=0;x<this.ngContentSelectors.length;x++){var w=e[x];b.push(null!=w?Array.from(w):null)}r=function(t,e,n,i,r){var o=n[1],a=function(t,e,n){var i=tn();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Wo(t,i,e,To(t,e,1,null),n));var r=oi(e,t,i.directiveStart,i);Er(r,e);var o=ze(i,e);return o&&Er(o,e),r}(o,n,e);if(i.components.push(a),t[8]=a,r&&r.forEach(function(t){return t(a,e)}),e.contentQueries){var s=tn();e.contentQueries(1,a,s.directiveStart)}var u=tn();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Sn(u.index),Ho(n[1],u,0,u.directiveStart,u.directiveEnd,e),Uo(e,a)),a}(g,this.componentDef,m,f,[Pa]),Co(p,m,null)}finally{kn()}return new nl(this.componentType,r,lu(o,m),m,o)}},{key:"inputs",get:function(){return $u(this.componentDef.inputs)}},{key:"outputs",get:function(){return $u(this.componentDef.outputs)}}]),n}(ou),nl=function(t){d(n,t);var e=p(n);function n(t,i,r,o,a){var s;return _(this,n),(s=e.call(this)).location=r,s._rootLView=o,s._tNode=a,s.instance=i,s.hostView=s.changeDetectorRef=new Du(o),s.componentType=t,s}return x(n,[{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(t){this.hostView.onDestroy(t)}},{key:"injector",get:function(){return new ui(this._tNode,this._rootLView)}}]),n}(function(){return function t(){_(this,t)}}()),il=new Map,rl=function(t){d(n,t);var e=p(n);function n(t,i){var r;_(this,n),(r=e.call(this))._parent=i,r._bootstrapComponents=[],r.injector=g(r),r.destroyCbs=[],r.componentFactoryResolver=new Ju(g(r));var o=me(t),a=t[ee]||null;return a&&Zs(a),r._bootstrapComponents=Ir(o.bootstrap),r._r3Injector=wa(t,i,[{provide:Uu,useValue:g(r)},{provide:su,useValue:r.componentFactoryResolver}],wt(t)),r._r3Injector._resolveInjectorDefTypes(),r.instance=r.get(t),r}return x(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ia.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yt.Default;return t===Ia||t===Uu||t===pa?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(Uu),ol=function(t){d(n,t);var e=p(n);function n(t){var i,r,o;return _(this,n),(i=e.call(this)).moduleType=t,null!==me(t)&&(r=t,o=new Set,function t(e){var n=me(e,!0),i=n.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(wt(e)," vs ").concat(wt(e.name)))}(i,il.get(i),e),il.set(i,e));var r,s=a(Ir(n.imports));try{for(s.s();!(r=s.n()).done;){var u=r.value;o.has(u)||(o.add(u),t(u))}}catch(l){s.e(l)}finally{s.f()}}(r)),i}return x(n,[{key:"create",value:function(t){return new rl(this.moduleType,t)}}]),n}(Vu);function al(t,e,n){var i=un()+t,r=Qe();return r[i]===go?Ha(r,i,n?e.call(n):e()):Ua(r,i)}function sl(t,e,n,i){return cl(Qe(),un(),t,e,n,i)}function ul(t,e,n,i,r){return hl(Qe(),un(),t,e,n,i,r)}function ll(t,e){var n=t[e];return n===go?void 0:n}function cl(t,e,n,i,r,o){var a=e+n;return Va(t,a,r)?Ha(t,a+1,o?i.call(o,r):i(r)):ll(t,a+1)}function hl(t,e,n,i,r,o,a){var s=e+n;return qa(t,s,r,o)?Ha(t,s+2,a?i.call(a,r,o):i(r,o)):ll(t,s+2)}function dl(t,e){var n,i=Je(),r=t+20;i.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var i=e[n];if(t===i.name)return i}throw new ke("302","The pipe '".concat(t,"' could not be found!"))}(e,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(r,n.onDestroy)):n=i.data[r];var o=n.factory||(n.factory=we(n.type)),a=zt(Qa);try{var s=qn(!1),u=o();return qn(s),function(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}(i,Qe(),r,u),u}finally{zt(a)}}function fl(t,e,n){var i=t+20,r=Qe(),o=Be(r,i);return yl(r,gl(r,i)?cl(r,un(),e,o.transform,n,o):o.transform(n))}function pl(t,e,n,i){var r=t+20,o=Qe(),a=Be(o,r);return yl(o,gl(o,r)?hl(o,un(),e,a.transform,n,i,a):a.transform(n,i))}function ml(t,e,n,i,r){var o=t+20,a=Qe(),s=Be(a,o);return yl(a,gl(a,o)?function(t,e,n,i,r,o,a,s){var u=e+n;return function(t,e,n,i,r){var o=qa(t,e,n,i);return Va(t,e+2,r)||o}(t,u,r,o,a)?Ha(t,u+3,s?i.call(s,r,o,a):i(r,o,a)):ll(t,u+3)}(a,un(),e,s.transform,n,i,r,s):s.transform(n,i,r))}function gl(t,e){return t[1].data[e].pure}function yl(t,e){return za.isWrapped(e)&&(e=za.unwrap(e),t[ln()]=go),e}var vl=function(t){d(n,t);var e=p(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _(this,n),(t=e.call(this)).__isAsync=i,t}return x(n,[{key:"emit",value:function(t){h(v(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,i){var r,o=function(t){return null},a=function(){return null};t&&"object"==typeof t?(r=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(a=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(r=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},e&&(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)}),i&&(a=this.__isAsync?function(){setTimeout(function(){return i()})}:function(){i()}));var s=h(v(n.prototype),"subscribe",this).call(this,r,o,a);return t instanceof I&&t.add(s),s}}]),n}(V);function _l(){return this._results[Ya()]()}var bl=function(){function t(){_(this,t),this.dirty=!0,this._results=[],this.changes=new vl,this.length=0;var e=Ya(),n=t.prototype;n[e]||(n[e]=_l)}return x(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=gi(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),xl=function(){function t(e){_(this,t),this.queryList=e,this.matches=null}return x(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),wl=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_(this,t),this.queries=e}return x(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var i=null!==e.contentQueries?e.contentQueries[0]:n.length,r=[],o=0;o<i;o++){var a=n.getByIndex(o);r.push(this.queries[a.indexInDeclarationView].clone())}return new t(r)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==jl(t,e).matches&&this.queries[e].setDirty()}}]),t}(),kl=function t(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_(this,t),this.predicate=e,this.descendants=n,this.isStatic=i,this.read=r},Ml=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_(this,t),this.queries=e}return x(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,i=0;i<this.length;i++){var r=null!==n?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"track",value:function(t){this.queries.push(t)}},{key:"length",get:function(){return this.queries.length}}]),t}(),Sl=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return x(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var i=0;i<n.length;i++){var r=n[i];this.matchTNodeWithReadOption(t,e,El(e,r)),this.matchTNodeWithReadOption(t,e,ri(e,t,r,!1,!1))}else n===ju?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ri(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var i=this.metadata.read;if(null!==i)if(i===hu||i===Gu||i===ju&&4&e.type)this.addMatch(e.index,-2);else{var r=ri(e,t,i,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function El(t,e){var n=t.localNames;if(null!==n)for(var i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function Ll(t,e,n,i){return-1===n?function(t,e){return 11&t.type?lu(t,e):4&t.type?Hu(t,e):null}(e,t):-2===n?function(t,e,n){return n===hu?lu(e,t):n===ju?Hu(e,t):n===Gu?Zu(e,t):void 0}(t,e,i):oi(t,t[1],n,e)}function Tl(t,e,n,i){var r=e[19].queries[i];if(null===r.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var l=a[u];s.push(l<0?null:Ll(e,o[l],a[u+1],n.metadata.read))}r.matches=s}return r.matches}function Cl(t,e,n,i){var r=t.queries.getByIndex(n),o=r.matches;if(null!==o)for(var a=Tl(t,e,r,n),s=0;s<o.length;s+=2){var u=o[s];if(u>0)i.push(a[s/2]);else{for(var l=o[s+1],c=e[-u],h=10;h<c.length;h++){var d=c[h];d[17]===d[3]&&Cl(d[1],d,l,i)}if(null!==c[9])for(var f=c[9],p=0;p<f.length;p++){var m=f[p];Cl(m[1],m,l,i)}}}return i}function Il(t){var e=Qe(),n=Je(),i=pn();mn(i+1);var r=jl(n,i);if(t.dirty&&Ve(e)===r.metadata.isStatic){if(null===r.matches)t.reset([]);else{var o=r.crossesNgTemplate?Cl(n,e,i,[]):Tl(n,e,r,i);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Pl(t,e,n){Ol(Je(),Qe(),t,e,n,!0)}function Dl(t,e,n){Ol(Je(),Qe(),t,e,n,!1)}function Ol(t,e,n,i,r,o){t.firstCreatePass&&(zl(t,new kl(n,i,o,r),-1),o&&(t.staticViewQueries=!0)),Yl(t,e)}function Al(t,e,n,i){Nl(Je(),Qe(),e,n,i,!1,tn(),t)}function Rl(t,e,n,i){Nl(Je(),Qe(),e,n,i,!0,tn(),t)}function Nl(t,e,n,i,r,o,a,s){t.firstCreatePass&&(zl(t,new kl(n,i,o,r),a.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,s),o&&(t.staticContentQueries=!0)),Yl(t,e)}function Fl(){return t=Qe(),e=pn(),t[19].queries[e].queryList;var t,e}function Yl(t,e){var n=new bl;Yo(t,e,n,n.destroy),null===e[19]&&(e[19]=new wl),e[19].queries.push(new xl(n))}function zl(t,e,n){null===t.queries&&(t.queries=new Ml),t.queries.track(new Sl(e,n))}function jl(t,e){return t.queries.getByIndex(e)}function Bl(t,e){return Hu(t,e)}var Hl=new fi("Application Initializer"),Ul=function(){var t=function(){function t(e){var n=this;_(this,t),this.appInits=e,this.resolve=uu,this.reject=uu,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return x(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var r=this.appInits[i]();as(r)&&e.push(r)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Ri(Hl,8))},t.\u0275prov=Tt({token:t,factory:t.\u0275fac}),t}(),Vl=new fi("AppId"),ql={provide:Vl,useFactory:function(){return"".concat(Gl()).concat(Gl()).concat(Gl())},deps:[]};function Gl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Wl=new fi("Platform Initializer"),Xl=new fi("Platform ID"),Kl=new fi("appBootstrapListener"),Zl=function(){var t=function(){function t(){_(this,t)}return x(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Tt({token:t,factory:t.\u0275fac}),t}(),Ql=new fi("LocaleId"),Jl=new fi("DefaultCurrencyCode"),$l=function(t){return t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Ignore=2]="Ignore",t}({}),tc=function t(e,n){_(this,t),this.ngModuleFactory=e,this.componentFactories=n},ec=function(t){return new ol(t)},nc=ec,ic=function(t){return Promise.resolve(ec(t))},rc=function(t){var e=ec(t),n=Ir(me(t).declarations).reduce(function(t,e){var n=pe(e);return n&&t.push(new el(n)),t},[]);return new tc(e,n)},oc=rc,ac=function(t){return Promise.resolve(rc(t))},sc=function(){var t=function(){function t(){_(this,t),this.compileModuleSync=nc,this.compileModuleAsync=ic,this.compileModuleAndAllComponentsSync=oc,this.compileModuleAndAllComponentsAsync=ac}return x(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Tt({token:t,factory:t.\u0275fac}),t}(),uc=new fi("compilerOptions"),lc=function t(){_(this,t)},cc=Promise.resolve(0);function hc(t){"undefined"==typeof Zone?cc.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var dc=function(){function t(e){var n,i,r=e.enableLongStackTrace,o=void 0!==r&&r,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vl(!1),this.onMicrotaskEmpty=new vl(!1),this.onStable=new vl(!1),this.onError=new vl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=Xt.requestAnimationFrame,e=Xt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,i=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Xt,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,mc(t),pc(t)},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),mc(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:i},onInvokeTask:function(t,e,r,o,a,s){try{return gc(n),t.invokeTask(r,o,a,s)}finally{i&&"eventTask"===o.type&&i(),yc(n)}},onInvoke:function(t,e,i,r,o,a,s){try{return gc(n),t.invoke(i,r,o,a,s)}finally{yc(n)}},onHasTask:function(t,e,i,r){t.hasTask(i,r),e===i&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,mc(n),pc(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:function(t,e,i,r){return t.handleError(i,r),n.runOutsideAngular(function(){return n.onError.emit(r)}),!1}})}return x(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,i){var r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,t,fc,uu,uu);try{return r.runTask(o,e,n)}finally{r.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),fc={};function pc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function mc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function gc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yc(t){t._nesting--,pc(t)}var vc,_c=function(){function t(){_(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vl,this.onMicrotaskEmpty=new vl,this.onStable=new vl,this.onError=new vl}return x(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,i){return t.apply(e,n)}}]),t}(),bc=function(){var t=function(){function t(e){var n=this;_(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return x(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){dc.assertNotInAngularZone(),hc(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())hc(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]}},{key:"addCallback",value:function(t,e,n){var i=this,r=-1;e&&e>0&&(r=setTimeout(function(){i._callbacks=i._callbacks.filter(function(t){return t.timeoutId!==r}),t(i._didWork,i.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Ri(dc))},t.\u0275prov=Tt({token:t,factory:t.\u0275fac}),t}(),xc=function(){var t=function(){function t(){_(this,t),this._applications=new Map,wc.addToWindow(this)}return x(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return wc.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Tt({token:t,factory:t.\u0275fac}),t}(),wc=new(function(){function t(){_(this,t)}return x(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),kc=!0,Mc=!1;function Sc(){return Mc=!0,kc}var Ec=new fi("AllowMultipleToken"),Lc=function t(e,n){_(this,t),this.name=e,this.token=n};function Tc(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i="Platform: "+e,r=new fi(i);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Cc();if(!o||o.injector.get(Ec,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{var a=n.concat(e).concat({provide:r,useValue:!0},{provide:ga,useValue:"platform"});!function(t){if(vc&&!vc.destroyed&&!vc.injector.get(Ec,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");vc=t.get(Ic);var e=t.get(Wl,null);e&&e.forEach(function(t){return t()})}(Ia.create({providers:a,name:i}))}return function(t){var e=Cc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function Cc(){return vc&&!vc.destroyed?vc:null}var Ic=function(){var t=function(){function t(e){_(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return x(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,i,r=this,o=(n=e?e.ngZone:void 0,i=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new _c:("zone.js"===n?void 0:n)||new dc({enableLongStackTrace:Sc(),shouldCoalesceEventChangeDetection:i})),a=[{provide:dc,useValue:o}];return o.run(function(){var e=Ia.create({providers:a,parent:r.injector,name:t.moduleType.name}),n=t.create(e),i=n.injector.get(Sr,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var t=o.onError.subscribe({next:function(t){i.handleError(t)}});n.onDestroy(function(){Ac(r._modules,n),t.unsubscribe()})}),function(t,e,i){try{var o=((a=n.injector.get(Ul)).runInitializers(),a.donePromise.then(function(){return Zs(n.injector.get(Ql,"en-US")||"en-US"),r._moduleDoBootstrap(n),n}));return as(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var a}(i,o)})}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=Pc({},n);return function(t,e,n){var i=new ol(n);return Promise.resolve(i)}(0,0,t).then(function(t){return e.bootstrapModuleFactory(t,i)})}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Oc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(wt(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Ri(Ia))},t.\u0275prov=Tt({token:t,factory:t.\u0275fac}),t}();function Pc(t,e){return Array.isArray(e)?e.reduce(Pc,t):Object.assign(Object.assign({},t),e)}var Dc,Oc=((Dc=function(){function t(e,n,i,r,o,a){var s=this;_(this,t),this._zone=e,this._console=n,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=o,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run(function(){s.tick()})}});var u=new Y(function(t){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular(function(){t.next(s._stable),t.complete()})}),l=new Y(function(t){var e;s._zone.runOutsideAngular(function(){e=s._zone.onStable.subscribe(function(){dc.assertNotInAngularZone(),hc(function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,t.next(!0))})})});var n=s._zone.onUnstable.subscribe(function(){dc.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=ht(u,l.pipe(_t()))}return x(t,[{key:"bootstrap",value:function(t,e){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof ou?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var r=n.isBoundToModule?void 0:this._injector.get(Uu),o=n.create(Ia.NULL,[],e||n.selector,r),a=o.location.nativeElement,s=o.injector.get(bc,null),u=s&&o.injector.get(xc);return s&&u&&u.registerApplication(a,s),o.onDestroy(function(){i.detachView(o.hostView),Ac(i.components,o),u&&u.unregisterApplication(a)}),this._loadComponent(o),Sc()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=a(this._views);try{for(n.s();!(e=n.n()).done;)e.value.detectChanges()}catch(i){n.e(i)}finally{n.f()}}catch(r){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(r)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Ac(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Kl,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(t){return t.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||Dc)(Ri(dc),Ri(Zl),Ri(Ia),Ri(Sr),Ri(su),Ri(Ul))},Dc.\u0275prov=Tt({token:Dc,factory:Dc.\u0275fac}),Dc);function Ac(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Rc=function t(){_(this,t)},Nc=function t(){_(this,t)},Fc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Yc=function(){var t=function(){function t(e,n){_(this,t),this._compiler=e,this._config=n||Fc}return x(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var n=this,i=e(t.split("#"),2),r=i[0],o=i[1];return void 0===o&&(o="default"),y("crnd")(r).then(function(t){return t[o]}).then(function(t){return zc(t,r,o)}).then(function(t){return n._compiler.compileModuleAsync(t)})}},{key:"loadFactory",value:function(t){var n=e(t.split("#"),2),i=n[0],r=n[1],o="NgFactory";return void 0===r&&(r="default",o=""),y("crnd")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[r+o]}).then(function(t){return zc(t,i,r)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Ri(sc),Ri(Nc,8))},t.\u0275prov=Tt({token:t,factory:t.\u0275fac}),t}();function zc(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var jc=Tc(null,"core",[{provide:Xl,useValue:"unknown"},{provide:Ic,deps:[Ia]},{provide:xc,deps:[]},{provide:Zl,deps:[]}]),Bc=[{provide:Oc,useClass:Oc,deps:[dc,Zl,Ia,Sr,su,Ul]},{provide:tl,deps:[dc],useFactory:function(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ul,useClass:Ul,deps:[[new Si,Hl]]},{provide:sc,useClass:sc,deps:[]},ql,{provide:Tu,useFactory:function(){return Fu},deps:[]},{provide:Cu,useFactory:function(){return Yu},deps:[]},{provide:Ql,useFactory:function(t){return Zs(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new Mi(Ql),new Si,new Li]]},{provide:Jl,useValue:"USD"}],Hc=function(){var t=function t(e){_(this,t)};return t.\u0275mod=ce({type:t}),t.\u0275inj=Ct({factory:function(e){return new(e||t)(Ri(Oc))},providers:Bc}),t}(),Uc=null;function Vc(){return Uc}var qc,Gc=new fi("DocumentToken"),Wc=((qc=function t(){_(this,t)}).\u0275fac=function(t){return new(t||qc)},qc.\u0275prov=Tt({factory:Xc,token:qc,providedIn:"platform"}),qc);function Xc(){return Ri(Qc)}var Kc,Zc=new fi("Location Initialized"),Qc=((Kc=function(t){d(n,t);var e=p(n);function n(t){var i;return _(this,n),(i=e.call(this))._doc=t,i._init(),i}return x(n,[{key:"_init",value:function(){this.location=Vc().getLocation(),this._history=Vc().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return Vc().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){Vc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){Vc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"pushState",value:function(t,e,n){Jc()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){Jc()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(Wc)).\u0275fac=function(t){return new(t||Kc)(Ri(Gc))},Kc.\u0275prov=Tt({factory:$c,token:Kc,providedIn:"platform"}),Kc);function Jc(){return!!window.history.pushState}function $c(){return new Qc(Ri(Gc))}function th(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function eh(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function nh(t){return t&&"?"!==t[0]?"?"+t:t}var ih,rh=((ih=function t(){_(this,t)}).\u0275fac=function(t){return new(t||ih)},ih.\u0275prov=Tt({factory:oh,token:ih,providedIn:"root"}),ih);function oh(t){var e=Ri(Gc).location;return new ch(Ri(Wc),e&&e.origin||"")}var ah,sh,uh,lh=new fi("appBaseHref"),ch=((uh=function(t){d(n,t);var e=p(n);function n(t,i){var r;if(_(this,n),(r=e.call(this))._platformLocation=t,null==i&&(i=r._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=i,m(r)}return x(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return th(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+nh(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+nh(i));this._platformLocation.pushState(t,e,r)}},{key:"replaceState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+nh(i));this._platformLocation.replaceState(t,e,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(rh)).\u0275fac=function(t){return new(t||uh)(Ri(Wc),Ri(lh,8))},uh.\u0275prov=Tt({token:uh,factory:uh.\u0275fac}),uh),hh=((sh=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this))._platformLocation=t,r._baseHref="",null!=i&&(r._baseHref=i),r}return x(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=th(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+nh(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}},{key:"replaceState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+nh(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(rh)).\u0275fac=function(t){return new(t||sh)(Ri(Wc),Ri(lh,8))},sh.\u0275prov=Tt({token:sh,factory:sh.\u0275fac}),sh),dh=((ah=function(){function t(e,n){var i=this;_(this,t),this._subject=new vl,this._urlChangeListeners=[],this._platformStrategy=e;var r=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=eh(ph(r)),this._platformStrategy.onPopState(function(t){i._subject.emit({url:i.path(!0),pop:!0,state:t.state,type:t.type})})}return x(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+nh(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,ph(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+nh(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+nh(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(t,e)})}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||ah)(Ri(rh),Ri(Wc))},ah.normalizeQueryParams=nh,ah.joinWithSlash=th,ah.stripTrailingSlash=eh,ah.\u0275prov=Tt({factory:fh,token:ah,providedIn:"root"}),ah);function fh(){return new dh(Ri(rh),Ri(Wc))}function ph(t){return t.replace(/\/index.html$/,"")}var mh,gh=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),yh=function t(){_(this,t)},vh=((mh=function(t){d(n,t);var e=p(n);function n(t){var i;return _(this,n),(i=e.call(this)).locale=t,i}return x(n,[{key:"getPluralCategory",value:function(t,e){switch(function(t){return function(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=Xs(e);if(n)return n;var i=e.split("-")[0];if(n=Xs(i))return n;if("en"===i)return Gs;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}(t)[Ks.PluralCase]}(e||this.locale)(t)){case gh.Zero:return"zero";case gh.One:return"one";case gh.Two:return"two";case gh.Few:return"few";case gh.Many:return"many";default:return"other"}}}]),n}(yh)).\u0275fac=function(t){return new(t||mh)(Ri(Ql))},mh.\u0275prov=Tt({token:mh,factory:mh.\u0275fac}),mh);function _h(t,n){n=encodeURIComponent(n);var i,r=a(t.split(";"));try{for(r.s();!(i=r.n()).done;){var o=i.value,s=o.indexOf("="),u=e(-1==s?[o,""]:[o.slice(0,s),o.slice(s+1)],2),l=u[0],c=u[1];if(l.trim()===n)return decodeURIComponent(c)}}catch(h){r.e(h)}finally{r.f()}return null}var bh,xh,wh,kh=((bh=function(){function t(e,n,i,r){_(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=i,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return x(t,[{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+wt(t.item));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!0)}):Object.keys(t).forEach(function(n){return e._toggleClass(n,!!t[n])}))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!1)}):Object.keys(t).forEach(function(t){return e._toggleClass(t,!1)}))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})}},{key:"klass",set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(ja(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}}]),t}()).\u0275fac=function(t){return new(t||bh)(Qa(Tu),Qa(Cu),Qa(hu),Qa(fu))},bh.\u0275dir=de({type:bh,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),bh),Mh=function(){function t(e,n,i,r){_(this,t),this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}return x(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),Sh=((xh=function(){function t(e,n,i){_(this,t),this._viewContainer=e,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return x(t,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation(function(t,i,r){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new Mh(null,e._ngForOf,-1,-1),null===r?void 0:r),a=new Eh(t,o);n.push(a)}else if(null==r)e._viewContainer.remove(null===i?void 0:i);else if(null!==i){var s=e._viewContainer.get(i);e._viewContainer.move(s,r);var u=new Eh(t,s);n.push(u)}});for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);for(var r=0,o=this._viewContainer.length;r<o;r++){var a=this._viewContainer.get(r);a.context.index=r,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}},{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(t){this._trackByFn=t},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||xh)(Qa(Gu),Qa(ju),Qa(Tu))},xh.\u0275dir=de({type:xh,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),xh),Eh=function t(e,n){_(this,t),this.record=e,this.view=n},Lh=((wh=function(){function t(e,n){_(this,t),this._viewContainer=e,this._context=new Th,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return x(t,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){Ch("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){Ch("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||wh)(Qa(Gu),Qa(ju))},wh.\u0275dir=de({type:wh,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),wh),Th=function t(){_(this,t),this.$implicit=null,this.ngIf=null};function Ch(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(wt(e),"'."))}var Ih,Ph,Dh=function(){function t(e,n){_(this,t),this._viewContainerRef=e,this._templateRef=n,this._created=!1}return x(t,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}]),t}(),Oh=((Ph=function(){function t(){_(this,t),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return x(t,[{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}},{key:"_matchCase",value:function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}},{key:"_updateDefaultCases",value:function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}},{key:"ngSwitch",set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}}]),t}()).\u0275fac=function(t){return new(t||Ph)},Ph.\u0275dir=de({type:Ph,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),Ph),Ah=((Ih=function(){function t(e,n,i){_(this,t),this.ngSwitch=i,i._addCase(),this._view=new Dh(e,n)}return x(t,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),t}()).\u0275fac=function(t){return new(t||Ih)(Qa(Gu),Qa(ju),Qa(Oh,1))},Ih.\u0275dir=de({type:Ih,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),Ih);function Rh(t,e){return Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(wt(t),"'"))}var Nh,Fh,Yh,zh=((Yh=function(){function t(){_(this,t)}return x(t,[{key:"transform",value:function(e){if(null==e)return null;if("string"!=typeof e)throw Rh(t,e);return e.toUpperCase()}}]),t}()).\u0275fac=function(t){return new(t||Yh)},Yh.\u0275pipe=fe({name:"uppercase",type:Yh,pure:!0}),Yh),jh=((Fh=function(){function t(){_(this,t)}return x(t,[{key:"transform",value:function(e,n,i){if(null==e)return null;if(!this.supports(e))throw Rh(t,e);return e.slice(n,i)}},{key:"supports",value:function(t){return"string"==typeof t||Array.isArray(t)}}]),t}()).\u0275fac=function(t){return new(t||Fh)},Fh.\u0275pipe=fe({name:"slice",type:Fh,pure:!1}),Fh),Bh=((Nh=function t(){_(this,t)}).\u0275mod=ce({type:Nh}),Nh.\u0275inj=Ct({factory:function(t){return new(t||Nh)},providers:[{provide:yh,useClass:vh}]}),Nh);function Hh(t){return"browser"===t}function Uh(t){return"server"===t}var Vh,qh=((Vh=function t(){_(this,t)}).\u0275prov=Tt({token:Vh,providedIn:"root",factory:function(){return new Gh(Ri(Gc),window)}}),Vh),Gh=function(){function t(e,n){_(this,t),this.document=e,this.window=n,this.offset=function(){return[0,0]}}return x(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){var e;if(this.supportsScrolling()){var n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}},{key:"attemptFocus",value:function(t){return t.focus(),this.document.activeElement===t}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var t=Wh(this.window.history)||Wh(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}]),t}();function Wh(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var Xh,Kh,Zh,Qh,Jh=function(t){d(n,t);var e=p(n);function n(){return _(this,n),e.apply(this,arguments)}return x(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=$h||($h=document.querySelector("base"))?$h.getAttribute("href"):null;return null==n?null:(e=n,Xh||(Xh=document.createElement("a")),Xh.setAttribute("href",e),"/"===Xh.pathname.charAt(0)?Xh.pathname:"/"+Xh.pathname)}},{key:"resetBaseElement",value:function(){$h=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return _h(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,Uc||(Uc=t)}}]),n}(function(t){d(n,t);var e=p(n);function n(){return _(this,n),e.call(this)}return x(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){_(this,t)}}())),$h=null,td=new fi("TRANSITION_ID"),ed=[{provide:Hl,useFactory:function(t,e,n){return function(){n.get(Ul).donePromise.then(function(){var n=Vc();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[td,Gc,Ia],multi:!0}],nd=function(){function t(){_(this,t)}return x(t,[{key:"addToWindow",value:function(t){Xt.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},Xt.getAllAngularTestabilities=function(){return t.getAllTestabilities()},Xt.getAllAngularRootElements=function(){return t.getAllRootElements()},Xt.frameworkStabilizers||(Xt.frameworkStabilizers=[]),Xt.frameworkStabilizers.push(function(t){var e=Xt.getAllAngularTestabilities(),n=e.length,i=!1,r=function(e){i=i||e,0==--n&&t(i)};e.forEach(function(t){t.whenStable(r)})})}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var i=t.getTestability(e);return null!=i?i:n?Vc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){var e;e=new t,wc=e}}]),t}(),id=new fi("EventManagerPlugins"),rd=((Kh=function(){function t(e,n){var i=this;_(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(t){return t.manager=i}),this._plugins=e.slice().reverse()}return x(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,i=0;i<n.length;i++){var r=n[i];if(r.supports(t))return this._eventNameToPlugin.set(t,r),r}throw new Error("No event manager plugin found for event "+t)}}]),t}()).\u0275fac=function(t){return new(t||Kh)(Ri(id),Ri(dc))},Kh.\u0275prov=Tt({token:Kh,factory:Kh.\u0275fac}),Kh),od=function(){function t(e){_(this,t),this._doc=e}return x(t,[{key:"addGlobalEventListener",value:function(t,e,n){var i=Vc().getGlobalEventTarget(this._doc,t);if(!i)throw new Error("Unsupported event target ".concat(i," for event ").concat(e));return this.addEventListener(i,e,n)}}]),t}(),ad=((Qh=function(){function t(){_(this,t),this._stylesSet=new Set}return x(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||Qh)},Qh.\u0275prov=Tt({token:Qh,factory:Qh.\u0275fac}),Qh),sd=((Zh=function(t){d(n,t);var e=p(n);function n(t){var i;return _(this,n),(i=e.call(this))._doc=t,i._hostNodes=new Set,i._styleNodes=new Set,i._hostNodes.add(t.head),i}return x(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach(function(t){var i=n._doc.createElement("style");i.textContent=t,n._styleNodes.add(e.appendChild(i))})}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach(function(t){return Vc().remove(t)})}}]),n}(ad)).\u0275fac=function(t){return new(t||Zh)(Ri(Gc))},Zh.\u0275prov=Tt({token:Zh,factory:Zh.\u0275fac}),Zh),ud={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ld=/%COMP%/g;function cd(t,e,n){for(var i=0;i<e.length;i++){var r=e[i];Array.isArray(r)?cd(t,r,n):(r=r.replace(ld,t),n.push(r))}return n}function hd(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var dd,fd,pd,md,gd,yd,vd,_d=((dd=function(){function t(e,n,i){_(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new bd(e)}return x(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Ut.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new xd(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case 1:case Ut.ShadowDom:return new wd(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=cd(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||dd)(Ri(rd),Ri(sd),Ri(Vl))},dd.\u0275prov=Tt({token:dd,factory:dd.\u0275fac}),dd),bd=function(){function t(e){_(this,t),this.eventManager=e,this.data=Object.create(null)}return x(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(ud[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,i){if(i){e=i+":"+e;var r=ud[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var i=ud[n];i?t.removeAttributeNS(i,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,i){i&(Pr.DashCase|Pr.Important)?t.style.setProperty(e,n,i&Pr.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&Pr.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,hd(n)):this.eventManager.addEventListener(t,e,hd(n))}}]),t}(),xd=function(t){d(n,t);var e=p(n);function n(t,i,r,o){var a;_(this,n),(a=e.call(this,t)).component=r;var s=cd(o+"-"+r.id,r.styles,[]);return i.addStyles(s),a.contentAttr="_ngcontent-%COMP%".replace(ld,o+"-"+r.id),a.hostAttr="_nghost-%COMP%".replace(ld,o+"-"+r.id),a}return x(n,[{key:"applyToHost",value:function(t){h(v(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var i=h(v(n.prototype),"createElement",this).call(this,t,e);return h(v(n.prototype),"setAttribute",this).call(this,i,this.contentAttr,""),i}}]),n}(bd),wd=function(t){d(n,t);var e=p(n);function n(t,i,r,o){var a;_(this,n),(a=e.call(this,t)).sharedStylesHost=i,a.hostEl=r,a.shadowRoot=r.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=cd(o.id,o.styles,[]),u=0;u<s.length;u++){var l=document.createElement("style");l.textContent=s[u],a.shadowRoot.appendChild(l)}return a}return x(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return h(v(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,i){return h(v(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,i)}},{key:"removeChild",value:function(t,e){return h(v(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(h(v(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(bd),kd=((fd=function(t){d(n,t);var e=p(n);function n(t){return _(this,n),e.call(this,t)}return x(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var i=this;return t.addEventListener(e,n,!1),function(){return i.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(od)).\u0275fac=function(t){return new(t||fd)(Ri(Gc))},fd.\u0275prov=Tt({token:fd,factory:fd.\u0275fac}),fd),Md=new fi("HammerGestureConfig"),Sd=((pd=function(){function t(){_(this,t),this.events=[],this.overrides={}}return x(t,[{key:"buildHammer",value:function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e}}]),t}()).\u0275fac=function(t){return new(t||pd)},pd.\u0275prov=Tt({token:pd,factory:pd.\u0275fac}),pd),Ed=["alt","control","meta","shift"],Ld={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Td={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Cd={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Id=((yd=function(t){d(n,t);var e=p(n);function n(t){return _(this,n),e.call(this,t)}return x(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,i){var r=n.parseEventName(e),o=n.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Vc().onAndCancel(t,r.domEventName,o)})}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),i=e.shift();if(0===e.length||"keydown"!==i&&"keyup"!==i)return null;var r=n._normalizeKey(e.pop()),o="";if(Ed.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=r,0!=e.length||0===r.length)return null;var a={};return a.domEventName=i,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Td.hasOwnProperty(e)&&(e=Td[e]))}return Ld[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Ed.forEach(function(i){i!=n&&(0,Cd[i])(t)&&(e+=i+".")}),e+=n}},{key:"eventCallback",value:function(t,e,i){return function(r){n.getEventFullKey(r)===t&&i.runGuarded(function(){return e(r)})}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(od)).\u0275fac=function(t){return new(t||yd)(Ri(Gc))},yd.\u0275prov=Tt({token:yd,factory:yd.\u0275fac}),yd),Pd=((gd=function t(){_(this,t)}).\u0275fac=function(t){return new(t||gd)},gd.\u0275prov=Tt({factory:function(){return Ri(Dd)},token:gd,providedIn:"root"}),gd),Dd=((md=function(t){d(n,t);var e=p(n);function n(t){var i;return _(this,n),(i=e.call(this))._doc=t,i}return x(n,[{key:"sanitize",value:function(t,e){if(null==e)return null;switch(t){case vr.NONE:return e;case vr.HTML:return Wi(e,"HTML")?Gi(e):gr(this._doc,String(e));case vr.STYLE:return Wi(e,"Style")?Gi(e):e;case vr.SCRIPT:if(Wi(e,"Script"))return Gi(e);throw new Error("unsafe value used in a script context");case vr.URL:return Xi(e),Wi(e,"URL")?Gi(e):$i(String(e));case vr.RESOURCE_URL:if(Wi(e,"ResourceURL"))return Gi(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(t," (see https://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(t){return new Bi(t)}},{key:"bypassSecurityTrustStyle",value:function(t){return new Hi(t)}},{key:"bypassSecurityTrustScript",value:function(t){return new Ui(t)}},{key:"bypassSecurityTrustUrl",value:function(t){return new Vi(t)}},{key:"bypassSecurityTrustResourceUrl",value:function(t){return new qi(t)}}]),n}(Pd)).\u0275fac=function(t){return new(t||md)(Ri(Gc))},md.\u0275prov=Tt({factory:function(){return t=Ri(pa),new Dd(t.get(Gc));var t},token:md,providedIn:"root"}),md),Od=Tc(jc,"browser",[{provide:Xl,useValue:"browser"},{provide:Wl,useValue:function(){Jh.makeCurrent(),nd.init()},multi:!0},{provide:Gc,useFactory:function(){return function(t){Oe=t}(document),document},deps:[]}]),Ad=[[],{provide:ga,useValue:"root"},{provide:Sr,useFactory:function(){return new Sr},deps:[]},{provide:id,useClass:kd,multi:!0,deps:[Gc,dc,Xl]},{provide:id,useClass:Id,multi:!0,deps:[Gc]},[],{provide:_d,useClass:_d,deps:[rd,sd,Vl]},{provide:du,useExisting:_d},{provide:ad,useExisting:sd},{provide:sd,useClass:sd,deps:[Gc]},{provide:bc,useClass:bc,deps:[dc]},{provide:rd,useClass:rd,deps:[id,dc]},[]],Rd=((vd=function(){function t(e){if(_(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return x(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:Vl,useValue:e.appId},{provide:td,useExisting:Vl},ed]}}}]),t}()).\u0275mod=ce({type:vd}),vd.\u0275inj=Ct({factory:function(t){return new(t||vd)(Ri(vd,12))},providers:Ad,imports:[Bh,Hc]}),vd);function Nd(){return new Yd(Ri(Gc))}var Fd,Yd=((Fd=function(){function t(e){_(this,t),this._doc=e,this._dom=Vc()}return x(t,[{key:"addTag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?this._getOrCreateElement(t,e):null}},{key:"addTags",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?t.reduce(function(t,i){return i&&t.push(e._getOrCreateElement(i,n)),t},[]):[]}},{key:"getTag",value:function(t){return t&&this._doc.querySelector("meta[".concat(t,"]"))||null}},{key:"getTags",value:function(t){if(!t)return[];var e=this._doc.querySelectorAll("meta[".concat(t,"]"));return e?[].slice.call(e):[]}},{key:"updateTag",value:function(t,e){if(!t)return null;e=e||this._parseSelector(t);var n=this.getTag(e);return n?this._setMetaElementAttributes(t,n):this._getOrCreateElement(t,!0)}},{key:"removeTag",value:function(t){this.removeTagElement(this.getTag(t))}},{key:"removeTagElement",value:function(t){t&&this._dom.remove(t)}},{key:"_getOrCreateElement",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e){var n=this._parseSelector(t),i=this.getTag(n);if(i&&this._containsAttributes(t,i))return i}var r=this._dom.createElement("meta");return this._setMetaElementAttributes(t,r),this._doc.getElementsByTagName("head")[0].appendChild(r),r}},{key:"_setMetaElementAttributes",value:function(t,e){var n=this;return Object.keys(t).forEach(function(i){return e.setAttribute(n._getMetaKeyMap(i),t[i])}),e}},{key:"_parseSelector",value:function(t){var e=t.name?"name":"property";return"".concat(e,'="').concat(t[e],'"')}},{key:"_containsAttributes",value:function(t,e){var n=this;return Object.keys(t).every(function(i){return e.getAttribute(n._getMetaKeyMap(i))===t[i]})}},{key:"_getMetaKeyMap",value:function(t){return zd[t]||t}}]),t}()).\u0275fac=function(t){return new(t||Fd)(Ri(Gc))},Fd.\u0275prov=Tt({factory:Nd,token:Fd,providedIn:"root"}),Fd),zd={httpEquiv:"http-equiv"};function jd(){return new Hd(Ri(Gc))}var Bd,Hd=((Bd=function(){function t(e){_(this,t),this._doc=e}return x(t,[{key:"getTitle",value:function(){return this._doc.title}},{key:"setTitle",value:function(t){this._doc.title=t||""}}]),t}()).\u0275fac=function(t){return new(t||Bd)(Ri(Gc))},Bd.\u0275prov=Tt({factory:jd,token:Bd,providedIn:"root"}),Bd);"undefined"!=typeof window&&window;var Ud,Vd=((Ud=function(){function t(){_(this,t),this.store={},this.onSerializeCallbacks={}}return x(t,[{key:"get",value:function(t,e){return void 0!==this.store[t]?this.store[t]:e}},{key:"set",value:function(t,e){this.store[t]=e}},{key:"remove",value:function(t){delete this.store[t]}},{key:"hasKey",value:function(t){return this.store.hasOwnProperty(t)}},{key:"onSerialize",value:function(t,e){this.onSerializeCallbacks[t]=e}},{key:"toJson",value:function(){for(var t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(e){console.warn("Exception in onSerialize callback: ",e)}return JSON.stringify(this.store)}}],[{key:"init",value:function(e){var n=new t;return n.store=e,n}}]),t}()).\u0275fac=function(t){return new(t||Ud)},Ud.\u0275prov=Tt({token:Ud,factory:Ud.\u0275fac}),Ud);function qd(t,e){var n,i,r=t.getElementById(e+"-state"),o={};if(r&&r.textContent)try{o=JSON.parse((n=r.textContent,i={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"},n.replace(/&[^;]+;/g,function(t){return i[t]})))}catch(a){console.warn("Exception while restoring TransferState for app "+e,a)}return Vd.init(o)}var Gd,Wd=((Gd=function t(){_(this,t)}).\u0275mod=ce({type:Gd}),Gd.\u0275inj=Ct({factory:function(t){return new(t||Gd)},providers:[{provide:Vd,useFactory:qd,deps:[Gc,Vl]}]}),Gd),Xd=function t(){_(this,t)};function Kd(t,e){return{type:7,name:t,definitions:e,options:{}}}function Zd(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:e,timings:t}}function Qd(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function Jd(t){return{type:6,styles:t,offset:null}}function $d(t,e,n){return{type:0,name:t,styles:e,options:n}}function tf(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:t,animation:e,options:n}}function ef(t){Promise.resolve(null).then(t)}var nf=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}return x(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;ef(function(){return t._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){this._position=this.totalTime?t*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}(),rf=function(){function t(e){var n=this;_(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var i=0,r=0,o=0,a=this.players.length;0==a?ef(function(){return n._onFinish()}):this.players.forEach(function(t){t.onDone(function(){++i==a&&n._onFinish()}),t.onDestroy(function(){++r==a&&n._onDestroy()}),t.onStart(function(){++o==a&&n._onStart()})}),this.totalTime=this.players.reduce(function(t,e){return Math.max(t,e.totalTime)},0)}return x(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(t){return t.init()})}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(t){return t.play()})}},{key:"pause",value:function(){this.players.forEach(function(t){return t.pause()})}},{key:"restart",value:function(){this.players.forEach(function(t){return t.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(t){return t.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(t){return t.destroy()}),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach(function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}},{key:"getPosition",value:function(){var t=this.players.reduce(function(t,e){return null===t||e.totalTime>t.totalTime?e:t},null);return null!=t?t.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(t){t.beforeDestroy&&t.beforeDestroy()})}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}();function of(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function af(t){switch(t.length){case 0:return new nf;case 1:return t[0];default:return new rf(t)}}function sf(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],u=-1,l=null;if(i.forEach(function(t){var n=t.offset,i=n==u,c=i&&l||{};Object.keys(t).forEach(function(n){var i=n,s=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,a),s){case"!":s=r[n];break;case"*":s=o[n];break;default:s=e.normalizeStyleValue(n,i,s,a)}c[i]=s}),i||s.push(c),l=c,u=n}),a.length){var c="\n - ";throw new Error("Unable to animate due to the following errors:".concat(c).concat(a.join(c)))}return s}function uf(t,e,n,i){switch(e){case"start":t.onStart(function(){return i(n&&lf(n,"start",t))});break;case"done":t.onDone(function(){return i(n&&lf(n,"done",t))});break;case"destroy":t.onDestroy(function(){return i(n&&lf(n,"destroy",t))})}}function lf(t,e,n){var i=n.totalTime,r=cf(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),o=t._data;return null!=o&&(r._data=o),r}function cf(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function hf(t,e,n){var i;return t instanceof Map?(i=t.get(e))||t.set(e,i=n):(i=t[e])||(i=t[e]=n),i}function df(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var ff=function(t,e){return!1},pf=function(t,e){return!1},mf=function(t,e,n){return[]},gf=of();(gf||"undefined"!=typeof Element)&&(ff=function(t,e){return t.contains(e)},pf=function(){if(gf||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:pf}(),mf=function(t,e,n){var i=[];if(n)for(var r=t.querySelectorAll(e),o=0;o<r.length;o++)i.push(r[o]);else{var a=t.querySelector(e);a&&i.push(a)}return i});var yf=null,vf=!1;function _f(t){yf||(yf=("undefined"!=typeof document?document.body:null)||{},vf=!!yf.style&&"WebkitAppearance"in yf.style);var e=!0;return yf.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in yf.style)&&vf)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in yf.style),e}var bf=pf,xf=ff,wf=mf;function kf(t){var e={};return Object.keys(t).forEach(function(n){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}var Mf,Sf=((Mf=function(){function t(){_(this,t)}return x(t,[{key:"validateStyleProperty",value:function(t){return _f(t)}},{key:"matchesElement",value:function(t,e){return bf(t,e)}},{key:"containsElement",value:function(t,e){return xf(t,e)}},{key:"query",value:function(t,e,n){return wf(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,i,r){return new nf(n,i)}}]),t}()).\u0275fac=function(t){return new(t||Mf)},Mf.\u0275prov=Tt({token:Mf,factory:Mf.\u0275fac}),Mf),Ef=function(){var t=function t(){_(this,t)};return t.NOOP=new Sf,t}();function Lf(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Tf(parseFloat(e[1]),e[2])}function Tf(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Cf(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var i,r=0,o="";if("string"==typeof t){var a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};i=Tf(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(r=Tf(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else i=t;if(!n){var l=!1,c=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),l=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),l=!0),l&&e.splice(c,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:i,delay:r,easing:o}}(t,e,n)}function If(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function Pf(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var i in t)n[i]=t[i];else If(t,n);return n}function Df(t,e,n){return n?e+":"+n+";":""}function Of(t){for(var e="",n=0;n<t.style.length;n++){var i=t.style.item(n);e+=Df(0,i,t.style.getPropertyValue(i))}for(var r in t.style)t.style.hasOwnProperty(r)&&!r.startsWith("_")&&(e+=Df(0,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[r]));t.setAttribute("style",e)}function Af(t,e,n){t.style&&(Object.keys(e).forEach(function(i){var r=Hf(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),of()&&Of(t))}function Rf(t,e){t.style&&(Object.keys(e).forEach(function(e){var n=Hf(e);t.style[n]=""}),of()&&Of(t))}function Nf(t){return Array.isArray(t)?1==t.length?t[0]:Qd(t):t}var Ff=new RegExp("{{\\s*(.+?)\\s*}}","g");function Yf(t){var e=[];if("string"==typeof t){for(var n;n=Ff.exec(t);)e.push(n[1]);Ff.lastIndex=0}return e}function zf(t,e,n){var i=t.toString(),r=i.replace(Ff,function(t,i){var r=e[i];return e.hasOwnProperty(i)||(n.push("Please provide a value for the animation param "+i),r=""),r.toString()});return r==i?t:r}function jf(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var Bf=/-+([a-z0-9])/g;function Hf(t){return t.replace(Bf,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()})}function Uf(t,e){return 0===t||0===e}function Vf(t,e,n){var i=Object.keys(n);if(i.length&&e.length){var r=e[0],o=[];if(i.forEach(function(t){r.hasOwnProperty(t)||o.push(t),r[t]=n[t]}),o.length)for(var a=function(){var n=e[s];o.forEach(function(e){n[e]=Gf(t,e)})},s=1;s<e.length;s++)a()}return e}function qf(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #"+e.type)}}function Gf(t,e){return window.getComputedStyle(t)[e]}var Wf=new Set(["true","1"]),Xf=new Set(["false","0"]);function Kf(t,e){var n=Wf.has(t)||Xf.has(t),i=Wf.has(e)||Xf.has(e);return function(r,o){var a="*"==t||t==r,s="*"==e||e==o;return!a&&n&&"boolean"==typeof r&&(a=r?Wf.has(t):Xf.has(t)),!s&&i&&"boolean"==typeof o&&(s=o?Wf.has(e):Xf.has(e)),a&&s}}var Zf=new RegExp("s*:selfs*,?","g");function Qf(t,e,n){return new Jf(t).build(e,n)}var Jf=function(){function t(e){_(this,t),this._driver=e}return x(t,[{key:"build",value:function(t,e){var n=new $f(e);return this._resetContextStyleTimingState(n),qf(this,Nf(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,i=e.queryCount=0,r=e.depCount=0,o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,u=s.name;u.toString().split(/\s*,\s*/).forEach(function(t){s.name=t,o.push(n.visitState(s,e))}),s.name=u}else if(1==t.type){var l=n.visitTransition(t,e);i+=l.queryCount,r+=l.depCount,a.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){var r=new Set,o=i||{};if(n.styles.forEach(function(t){if(tp(t)){var e=t;Object.keys(e).forEach(function(t){Yf(e[t]).forEach(function(t){o.hasOwnProperty(t)||r.add(t)})})}}),r.size){var a=jf(r.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,i,r,o=qf(this,Nf(t.animation),e);return{type:1,matchers:(n=t.expr,i=e.errors,r=[],"string"==typeof n?n.split(/\s*,\s*/).forEach(function(t){return function(t,e,n){if(":"==t[0]){var i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}var r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var o=r[1],a=r[2],s=r[3];e.push(Kf(o,s)),"<"!=a[0]||"*"==o&&"*"==s||e.push(Kf(s,o))}(t,r,i)}):r.push(n),r),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:ep(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map(function(t){return qf(n,t,e)}),options:ep(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,i=e.currentTime,r=0,o=t.steps.map(function(t){e.currentTime=i;var o=qf(n,t,e);return r=Math.max(r,e.currentTime),o});return e.currentTime=r,{type:3,steps:o,options:ep(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,i=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return np(Cf(t,e).duration,0,"");var i=t;if(i.split(/\s+/).some(function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)})){var r=np(0,0,"");return r.dynamic=!0,r.strValue=i,r}return np((n=n||Cf(i,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;var r=t.styles?t.styles:Jd({});if(5==r.type)n=this.visitKeyframes(r,e);else{var o=t.styles,a=!1;if(!o){a=!0;var s={};i.easing&&(s.easing=i.easing),o=Jd(s)}e.currentTime+=i.duration+i.delay;var u=this.visitStyle(o,e);u.isEmptyStep=a,n=u}return e.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach(function(t){"string"==typeof t?"*"==t?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)}):n.push(t.styles);var i=!1,r=null;return n.forEach(function(t){if(tp(t)){var e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(var o in e)if(e[o].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,i=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(function(t){"string"!=typeof t&&Object.keys(t).forEach(function(i){if(n._driver.validateStyleProperty(i)){var a,s,u,l,c,h=e.collectedStyles[e.currentQuerySelector],d=h[i],f=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(e.errors.push('The CSS property "'.concat(i,'" that exists between the times of "').concat(d.startTime,'ms" and "').concat(d.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(r,'ms"')),f=!1),o=d.startTime),f&&(h[i]={startTime:o,endTime:r}),e.options&&(a=t[i],s=e.options,u=e.errors,l=s.params||{},(c=Yf(a)).length&&c.forEach(function(t){l.hasOwnProperty(t)||u.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))}))}else e.errors.push('The provided animation property "'.concat(i,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(t,e){var n=this,i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;var r=0,o=[],a=!1,s=!1,u=0,l=t.steps.map(function(t){var i=n._makeStyleAst(t,e),l=null!=i.offset?i.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach(function(t){if(tp(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}});else if(tp(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(i.styles),c=0;return null!=l&&(r++,c=i.offset=l),s=s||c<0||c>1,a=a||c<u,u=c,o.push(c),i});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");var c=t.steps.length,h=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(h=1/(c-1));var d=c-1,f=e.currentTime,p=e.currentAnimateTimings,m=p.duration;return l.forEach(function(t,r){var a=h>0?r==d?1:h*r:o[r],s=a*m;e.currentTime=f+p.delay+s,p.duration=s,n._validateStyleAst(t,e),t.offset=a,i.styles.push(t)}),i}},{key:"visitReference",value:function(t,e){return{type:8,animation:qf(this,Nf(t.animation),e),options:ep(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:ep(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:ep(t.options)}}},{key:"visitQuery",value:function(t,n){var i=n.currentQuerySelector,r=t.options||{};n.queryCount++,n.currentQuery=t;var o=e(function(t){var e=!!t.split(/\s*,\s*/).find(function(t){return":self"==t});return e&&(t=t.replace(Zf,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(t){return".ng-trigger-"+t.substr(1)}).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),a=o[0],s=o[1];n.currentQuerySelector=i.length?i+" "+a:a,hf(n.collectedStyles,n.currentQuerySelector,{});var u=qf(this,Nf(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:u,originalSelector:t.selector,options:ep(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Cf(t.timings,e.errors,!0);return{type:12,animation:qf(this,Nf(t.animation),e),timings:n,options:null}}}]),t}(),$f=function t(e){_(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function tp(t){return!Array.isArray(t)&&"object"==typeof t}function ep(t){var e;return t?(t=If(t)).params&&(t.params=(e=t.params)?If(e):null):t={},t}function np(t,e,n){return{duration:t,delay:e,easing:n}}function ip(t,e,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:s}}var rp=function(){function t(){_(this,t),this._map=new Map}return x(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,i=this._map.get(t);i||this._map.set(t,i=[]),(n=i).push.apply(n,r(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),op=new RegExp(":enter","g"),ap=new RegExp(":leave","g");function sp(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new up).buildKeyframes(t,e,n,i,r,o,a,s,u,l)}var up=function(){function t(){_(this,t)}return x(t,[{key:"buildKeyframes",value:function(t,e,n,i,r,o,a,s,u){var l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new rp;var c=new cp(t,e,u,i,r,l,[]);c.options=s,c.currentTimeline.setStyles([o],null,c.errors,s),qf(this,n,c);var h=c.timelines.filter(function(t){return t.containsAnimation()});if(h.length&&Object.keys(a).length){var d=h[h.length-1];d.allowOnlyTimelineStyles()||d.setStyles([a],null,c.errors,s)}return h.length?h.map(function(t){return t.buildKeyframes()}):[ip(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var i=e.currentTimeline.currentTime,r=null!=n.duration?Lf(n.duration):null,o=null!=n.delay?Lf(n.delay):null;return 0!==r&&t.forEach(function(t){var n=e.appendInstructionToTimeline(t,r,o);i=Math.max(i,n.duration+n.delay)}),i}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),qf(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,i=e.subContextCount,r=e,o=t.options;if(o&&(o.params||o.delay)&&((r=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=lp);var a=Lf(o.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(function(t){return qf(n,t,r)}),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,i=[],r=e.currentTimeline.currentTime,o=t.options&&t.options.delay?Lf(t.options.delay):0;t.steps.forEach(function(a){var s=e.createSubContext(t.options);o&&s.delayNextStep(o),qf(n,a,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)}),i.forEach(function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)}),e.transformIntoNewTimeline(r),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return Cf(e.params?zf(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());var r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();var r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(function(t){o.forwardTime((t.offset||0)*r),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(i+r),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Lf(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=lp);var a=i,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;var u=null;s.forEach(function(i,r){e.currentQueryIndex=r;var s=e.createSubContext(t.options,i);o&&s.delayNextStep(o),i===e.element&&(u=s.currentTimeline),qf(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,i=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),a=o*(e.currentQueryTotal-1),s=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=e.currentTimeline;s&&u.delayNextStep(s);var l=u.currentTime;qf(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-l+(i.startTime-n.currentTimeline.startTime)}}]),t}(),lp={},cp=function(){function t(e,n,i,r,o,a,s,u){_(this,t),this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=lp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new hp(this._driver,n,0),s.push(this.currentTimeline)}return x(t,[{key:"updateOptions",value:function(t,e){var n=this;if(t){var i=t,r=this.options;null!=i.duration&&(r.duration=Lf(i.duration)),null!=i.delay&&(r.delay=Lf(i.delay));var o=i.params;if(o){var a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(function(t){e&&a.hasOwnProperty(t)||(a[t]=zf(o[t],a,n.errors))})}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach(function(t){n[t]=e[t]})}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=n||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=lp,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new dp(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,i,o,a){var s=[];if(i&&s.push(this.element),t.length>0){t=(t=t.replace(op,"."+this._enterClassName)).replace(ap,"."+this._leaveClassName);var u=this._driver.query(this.element,t,1!=n);0!==n&&(u=n<0?u.slice(u.length+n,u.length):u.slice(0,n)),s.push.apply(s,r(u))}return o||0!=s.length||a.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),s}},{key:"params",get:function(){return this.options.params}}]),t}(),hp=function(){function t(e,n,i,r){_(this,t),this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return x(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(function(t){e._backFill[t]=e._globalTimelineStyles[t]||"*",e._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,i){var r=this;e&&(this._previousKeyframe.easing=e);var o=i&&i.params||{},a=function(t,e){var n,i={};return t.forEach(function(t){"*"===t?(n=n||Object.keys(e)).forEach(function(t){i[t]="*"}):Pf(t,!1,i)}),i}(t,this._globalTimelineStyles);Object.keys(a).forEach(function(t){var e=zf(a[t],o,n);r._pendingStyles[t]=e,r._localTimelineStyles.hasOwnProperty(t)||(r._backFill[t]=r._globalTimelineStyles.hasOwnProperty(t)?r._globalTimelineStyles[t]:"*"),r._updateStyle(t,e)})}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){t._currentKeyframe[n]=e[n]}),Object.keys(this._localTimelineStyles).forEach(function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])}))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach(function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach(function(n){var i=e._styleSummary[n],r=t._styleSummary[n];(!i||r.time>i.time)&&e._updateStyle(n,r.value)})}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration,r=[];this._keyframes.forEach(function(o,a){var s=Pf(o,!0);Object.keys(s).forEach(function(t){var i=s[t];"!"==i?e.add(t):"*"==i&&n.add(t)}),i||(s.offset=a/t.duration),r.push(s)});var o=e.size?jf(e.values()):[],a=n.size?jf(n.values()):[];if(i){var s=r[0],u=If(s);s.offset=0,u.offset=1,r=[s,u]}return ip(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}}]),t}(),dp=function(t){d(n,t);var e=p(n);function n(t,i,r,o,a,s){var u,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _(this,n),(u=e.call(this,t,i,s.delay)).element=i,u.keyframes=r,u.preStyleProps=o,u.postStyleProps=a,u._stretchStartingKeyframe=l,u.timings={duration:s.duration,delay:s.delay,easing:s.easing},u}return x(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,i=e.duration,r=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=i+n,s=n/a,u=Pf(t[0],!1);u.offset=0,o.push(u);var l=Pf(t[0],!1);l.offset=fp(s),o.push(l);for(var c=t.length-1,h=1;h<=c;h++){var d=Pf(t[h],!1);d.offset=fp((n+d.offset*i)/a),o.push(d)}i=a,n=0,r="",t=o}return ip(this.element,t,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}]),n}(hp);function fp(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var pp,mp,gp=function t(){_(this,t)},yp=function(t){d(n,t);var e=p(n);function n(){return _(this,n),e.apply(this,arguments)}return x(n,[{key:"normalizePropertyName",value:function(t,e){return Hf(t)}},{key:"normalizeStyleValue",value:function(t,e,n,i){var r="",o=n.toString().trim();if(vp[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return o+r}}]),n}(gp),vp=(pp="width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","),mp={},pp.forEach(function(t){return mp[t]=!0}),mp);function _p(t,e,n,i,r,o,a,s,u,l,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:a,timelines:s,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:h,errors:d}}var bp={},xp=function(){function t(e,n,i){_(this,t),this._triggerName=e,this.ast=n,this._stateStyles=i}return x(t,[{key:"match",value:function(t,e,n,i){return function(t,e,n,i,r){return t.some(function(t){return t(e,n,i,r)})}(this.ast.matchers,t,e,n,i)}},{key:"buildStyles",value:function(t,e,n){var i=this._stateStyles["*"],r=this._stateStyles[t],o=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):o}},{key:"build",value:function(t,e,n,i,r,o,a,s,u,l){var c=[],h=this.ast.options&&this.ast.options.params||bp,d=this.buildStyles(n,a&&a.params||bp,c),f=s&&s.params||bp,p=this.buildStyles(i,f,c),m=new Set,g=new Map,y=new Map,v="void"===i,_={params:Object.assign(Object.assign({},h),f)},b=l?[]:sp(t,e,this.ast.animation,r,o,d,p,_,u,c),x=0;if(b.forEach(function(t){x=Math.max(t.duration+t.delay,x)}),c.length)return _p(e,this._triggerName,n,i,v,d,p,[],[],g,y,x,c);b.forEach(function(t){var n=t.element,i=hf(g,n,{});t.preStyleProps.forEach(function(t){return i[t]=!0});var r=hf(y,n,{});t.postStyleProps.forEach(function(t){return r[t]=!0}),n!==e&&m.add(n)});var w=jf(m.values());return _p(e,this._triggerName,n,i,v,d,p,b,w,g,y,x)}}]),t}(),wp=function(){function t(e,n){_(this,t),this.styles=e,this.defaultParams=n}return x(t,[{key:"buildStyles",value:function(t,e){var n={},i=If(this.defaultParams);return Object.keys(t).forEach(function(e){var n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(function(t){if("string"!=typeof t){var r=t;Object.keys(r).forEach(function(t){var o=r[t];o.length>1&&(o=zf(o,i,e)),n[t]=o})}}),n}}]),t}(),kp=function(){function t(e,n){var i=this;_(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach(function(t){i.states[t.name]=new wp(t.style,t.options&&t.options.params||{})}),Mp(this.states,"true","1"),Mp(this.states,"false","0"),n.transitions.forEach(function(t){i.transitionFactories.push(new xp(e,t,i.states))}),this.fallbackTransition=new xp(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return x(t,[{key:"matchTransition",value:function(t,e,n,i){return this.transitionFactories.find(function(r){return r.match(t,e,n,i)})||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),t}();function Mp(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var Sp=new rp,Ep=function(){function t(e,n,i){_(this,t),this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}return x(t,[{key:"register",value:function(t,e){var n=[],i=Qf(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[t]=i}},{key:"_buildPlayer",value:function(t,e,n){var i=t.element,r=sf(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[t],s=new Map;if(a?(n=sp(this._driver,e,a,"ng-enter","ng-leave",{},{},r,Sp,o)).forEach(function(t){var e=hf(s,t.element,{});t.postStyleProps.forEach(function(t){return e[t]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: "+o.join("\n"));s.forEach(function(t,e){Object.keys(t).forEach(function(n){t[n]=i._driver.computeStyle(e,n,"*")})});var u=af(n.map(function(t){var e=s.get(t.element);return i._buildPlayer(t,{},e)}));return this._playersById[t]=u,u.onDestroy(function(){return i.destroy(t)}),this.players.push(u),u}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by "+t);return e}},{key:"listen",value:function(t,e,n,i){var r=cf(e,"","","");return uf(this._getPlayer(t),n,r,i),function(){}}},{key:"command",value:function(t,e,n,i){if("register"!=n)if("create"!=n){var r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,i[0]||{});else this.register(t,i[0])}}]),t}(),Lp=[],Tp={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Cp={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ip=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_(this,t),this.namespaceId=n;var i,r=e&&e.hasOwnProperty("value");if(this.value=null!=(i=r?e.value:e)?i:null,r){var o=If(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return x(t,[{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach(function(t){null==n[t]&&(n[t]=e[t])})}}},{key:"params",get:function(){return this.options.params}}]),t}(),Pp=new Ip("void"),Dp=function(){function t(e,n,i){_(this,t),this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,zp(n,this._hostClassName)}return x(t,[{key:"listen",value:function(t,e,n,i){var r,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(r=n)&&"done"!=r)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var a=hf(this._elementListeners,t,[]),s={name:e,phase:n,callback:i};a.push(s);var u=hf(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(zp(t,"ng-trigger"),zp(t,"ng-trigger-"+e),u[e]=Pp),function(){o._engine.afterFlush(function(){var t=a.indexOf(s);t>=0&&a.splice(t,1),o._triggers[e]||delete u[e]})}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(e),a=new Ap(this.id,e,t),s=this._engine.statesByElement.get(t);s||(zp(t,"ng-trigger"),zp(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var u=s[e],l=new Ip(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),s[e]=l,u||(u=Pp),"void"===l.value||u.value!==l.value){var c=hf(this._engine.playersByElement,t,[]);c.forEach(function(t){t.namespaceId==i.id&&t.triggerName==e&&t.queued&&t.destroy()});var h=o.matchTransition(u.value,l.value,t,l.params),d=!1;if(!h){if(!r)return;h=o.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:u,toState:l,player:a,isFallbackTransition:d}),d||(zp(t,"ng-animate-queued"),a.onStart(function(){jp(t,"ng-animate-queued")})),a.onDone(function(){var e=i.players.indexOf(a);e>=0&&i.players.splice(e,1);var n=i._engine.playersByElement.get(t);if(n){var r=n.indexOf(a);r>=0&&n.splice(r,1)}}),this.players.push(a),c.push(a),a}if(!function(t,e){var n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(var r=0;r<n.length;r++){var o=n[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,l.params)){var f=[],p=o.matchStyles(u.value,u.params,f),m=o.matchStyles(l.value,l.params,f);f.length?this._engine.reportError(f):this._engine.afterFlush(function(){Rf(t,p),Af(t,m)})}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach(function(e,n){delete e[t]}),this._elementListeners.forEach(function(n,i){e._elementListeners.set(i,n.filter(function(e){return e.name!=t}))})}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach(function(t){return t.destroy()}),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this,i=this._engine.driver.query(t,".ng-trigger",!0);i.forEach(function(t){if(!t.__ng_removed){var i=n._engine.fetchNamespacesByElement(t);i.size?i.forEach(function(n){return n.triggerLeaveAnimation(t,e,!1,!0)}):n.clearElementCache(t)}}),this._engine.afterFlushAnimationsDone(function(){return i.forEach(function(t){return n.clearElementCache(t)})})}},{key:"triggerLeaveAnimation",value:function(t,e,n,i){var r=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach(function(e){if(r._triggers[e]){var n=r.trigger(t,e,"void",i);n&&a.push(n)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&af(a).onDone(function(){return r._engine.processLeaveNode(t)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t);if(n){var i=new Set;n.forEach(function(n){var r=n.name;if(!i.has(r)){i.add(r);var o=e._triggers[r].fallbackTransition,a=e._engine.statesByElement.get(t)[r]||Pp,s=new Ip("void"),u=new Ap(e.id,r,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:r,transition:o,fromState:a,toState:s,player:u,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(t,e){var n=this,i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),!this.triggerLeaveAnimation(t,e,!0)){var r=!1;if(i.totalAnimations){var o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else for(var a=t;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{var s=t.__ng_removed;s&&s!==Tp||(i.afterFlush(function(){return n.clearElementCache(t)}),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}}},{key:"insertNode",value:function(t,e){zp(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach(function(i){var r=i.player;if(!r.destroyed){var o=i.element,a=e._elementListeners.get(o);a&&a.forEach(function(e){if(e.name==i.triggerName){var n=cf(o,i.triggerName,i.fromState.value,i.toState.value);n._data=t,uf(i.player,e.phase,n,e.callback)}}),r.markedForDestroy?e._engine.afterFlush(function(){r.destroy()}):n.push(i)}}),this._queue=[],n.sort(function(t,n){var i=t.transition.ast.depCount,r=n.transition.ast.depCount;return 0==i||0==r?i-r:e._engine.driver.containsElement(t.element,n.element)?1:-1})}},{key:"destroy",value:function(t){this.players.forEach(function(t){return t.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(function(e){return e.element===t})||e}}]),t}(),Op=function(){function t(e,n,i){_(this,t),this.bodyNode=e,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return x(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"createNamespace",value:function(t,e){var n=new Dp(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var i=!1,r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var i=this._fetchNamespace(t);this.afterFlush(function(){n.namespacesByHostElement.delete(i.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(i);e>=0&&n._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(function(){return i.destroy(e)})}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var i=Object.keys(n),r=0;r<i.length;r++){var o=n[i[r]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e}},{key:"trigger",value:function(t,e,n,i){if(Rp(e)){var r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}},{key:"insertNode",value:function(t,e,n,i){if(Rp(e)){var r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var a=this._fetchNamespace(t);a&&a.insertNode(e,n)}i&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),zp(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),jp(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,i){if(Rp(e)){var r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}}else this._onRemovalComplete(e,i)}},{key:"markElementAsRemoved",value:function(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,i,r){return Rp(e)?this._fetchNamespace(t).listen(e,n,i,r):function(){}}},{key:"_buildInstruction",value:function(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach(function(t){return e.destroyActiveAnimationsForElement(t)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach(function(t){return e.finishActiveQueriedAnimationOnElement(t)})}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach(function(t){t.queued?t.markedForDestroy=!0:t.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach(function(t){return t.finish()})}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise(function(e){if(t.players.length)return af(t.players).onDone(function(){return e()});e()})}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=Tp,n.namespaceId){this.destroyInnerAnimations(t);var i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(function(t){e.markElementAsDisabled(t,!1)})}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(e,n){return t._balanceNamespaceList(e,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var i=0;i<this.collectedEnterElements.length;i++)zp(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var r=[];try{n=this._flushAnimations(r,e)}finally{for(var o=0;o<r.length;o++)r[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(t){return t()}),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?af(n).onDone(function(){s.forEach(function(t){return t()})}):s.forEach(function(t){return t()})}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+t.join("\n"))}},{key:"_flushAnimations",value:function(t,e){var n=this,i=new rp,o=[],a=new Map,s=[],u=new Map,l=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(function(t){h.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),i=0;i<e.length;i++)h.add(e[i])});var d=this.bodyNode,f=Array.from(this.statesByElement.keys()),p=Yp(f,this.collectedEnterElements),m=new Map,g=0;p.forEach(function(t,e){var n="ng-enter"+g++;m.set(e,n),t.forEach(function(t){return zp(t,n)})});for(var y=[],v=new Set,_=new Set,b=0;b<this.collectedLeaveElements.length;b++){var x=this.collectedLeaveElements[b],w=x.__ng_removed;w&&w.setForRemoval&&(y.push(x),v.add(x),w.hasAnimation?this.driver.query(x,".ng-star-inserted",!0).forEach(function(t){return v.add(t)}):_.add(x))}var k=new Map,M=Yp(f,Array.from(v));M.forEach(function(t,e){var n="ng-leave"+g++;k.set(e,n),t.forEach(function(t){return zp(t,n)})}),t.push(function(){p.forEach(function(t,e){var n=m.get(e);t.forEach(function(t){return jp(t,n)})}),M.forEach(function(t,e){var n=k.get(e);t.forEach(function(t){return jp(t,n)})}),y.forEach(function(t){n.processLeaveNode(t)})});for(var S=[],E=[],L=this._namespaceList.length-1;L>=0;L--)this._namespaceList[L].drainQueuedTransitions(e).forEach(function(t){var e=t.player,r=t.element;if(S.push(e),n.collectedEnterElements.length){var a=r.__ng_removed;if(a&&a.setForMove)return void e.destroy()}var h=!d||!n.driver.containsElement(d,r),f=k.get(r),p=m.get(r),g=n._buildInstruction(t,i,p,f,h);if(g.errors&&g.errors.length)E.push(g);else{if(h)return e.onStart(function(){return Rf(r,g.fromStyles)}),e.onDestroy(function(){return Af(r,g.toStyles)}),void o.push(e);if(t.isFallbackTransition)return e.onStart(function(){return Rf(r,g.fromStyles)}),e.onDestroy(function(){return Af(r,g.toStyles)}),void o.push(e);g.timelines.forEach(function(t){return t.stretchStartingKeyframe=!0}),i.append(r,g.timelines),s.push({instruction:g,player:e,element:r}),g.queriedElements.forEach(function(t){return hf(u,t,[]).push(e)}),g.preStyleProps.forEach(function(t,e){var n=Object.keys(t);if(n.length){var i=l.get(e);i||l.set(e,i=new Set),n.forEach(function(t){return i.add(t)})}}),g.postStyleProps.forEach(function(t,e){var n=Object.keys(t),i=c.get(e);i||c.set(e,i=new Set),n.forEach(function(t){return i.add(t)})})}});if(E.length){var T=[];E.forEach(function(t){T.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach(function(t){return T.push("- ".concat(t,"\n"))})}),S.forEach(function(t){return t.destroy()}),this.reportError(T)}var C=new Map,I=new Map;s.forEach(function(t){var e=t.element;i.has(e)&&(I.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),o.forEach(function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(function(t){hf(C,e,[]).push(t),t.destroy()})});var P=y.filter(function(t){return Up(t,l,c)}),D=new Map;Fp(D,this.driver,_,c,"*").forEach(function(t){Up(t,l,c)&&P.push(t)});var O=new Map;p.forEach(function(t,e){Fp(O,n.driver,new Set(t),l,"!")}),P.forEach(function(t){var e=D.get(t),n=O.get(t);D.set(t,Object.assign(Object.assign({},e),n))});var A=[],R=[],N={};s.forEach(function(t){var e=t.element,r=t.player,s=t.instruction;if(i.has(e)){if(h.has(e))return r.onDestroy(function(){return Af(e,s.toStyles)}),r.disabled=!0,r.overrideTotalTime(s.totalTime),void o.push(r);var u=N;if(I.size>1){for(var l=e,c=[];l=l.parentNode;){var d=I.get(l);if(d){u=d;break}c.push(l)}c.forEach(function(t){return I.set(t,u)})}var f=n._buildAnimation(r.namespaceId,s,C,a,O,D);if(r.setRealPlayer(f),u===N)A.push(r);else{var p=n.playersByElement.get(u);p&&p.length&&(r.parentPlayer=af(p)),o.push(r)}}else Rf(e,s.fromStyles),r.onDestroy(function(){return Af(e,s.toStyles)}),R.push(r),h.has(e)&&o.push(r)}),R.forEach(function(t){var e=a.get(t.element);if(e&&e.length){var n=af(e);t.setRealPlayer(n)}}),o.forEach(function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(var F=0;F<y.length;F++){var Y=y[F],z=Y.__ng_removed;if(jp(Y,"ng-leave"),!z||!z.hasAnimation){var j=[];if(u.size){var B=u.get(Y);B&&B.length&&j.push.apply(j,r(B));for(var H=this.driver.query(Y,".ng-animating",!0),U=0;U<H.length;U++){var V=u.get(H[U]);V&&V.length&&j.push.apply(j,r(V))}}var q=j.filter(function(t){return!t.destroyed});q.length?Bp(this,Y,q):this.processLeaveNode(Y)}}return y.length=0,A.forEach(function(t){n.players.push(t),t.onDone(function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)}),t.play()}),A}},{key:"elementContainsData",value:function(t,e){var n=!1,i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,i,r){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var s=this.playersByElement.get(t);if(s){var u=!r||"void"==r;s.forEach(function(t){t.queued||(u||t.triggerName==i)&&o.push(t)})}}return(n||i)&&(o=o.filter(function(t){return!(n&&n!=t.namespaceId||i&&i!=t.triggerName)})),o}},{key:"_beforeAnimationBuild",value:function(t,e,n){var i,r=this,o=e.element,s=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName,l=a(e.timelines);try{var c=function(){var t=i.value.element,a=t!==o,l=hf(n,t,[]);r._getPreviousPlayers(t,a,s,u,e.toState).forEach(function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})};for(l.s();!(i=l.n()).done;)c()}catch(h){l.e(h)}finally{l.f()}Rf(o,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,i,r,o){var a=this,s=e.triggerName,u=e.element,l=[],c=new Set,h=new Set,d=e.timelines.map(function(e){var d=e.element;c.add(d);var f=d.__ng_removed;if(f&&f.removedBeforeQueried)return new nf(e.duration,e.delay);var p,m,g=d!==u,y=(p=(n.get(d)||Lp).map(function(t){return t.getRealPlayer()}),m=[],Hp(p,m),m).filter(function(t){return!!t.element&&t.element===d}),v=r.get(d),_=o.get(d),b=sf(0,a._normalizer,0,e.keyframes,v,_),x=a._buildPlayer(e,b,y);if(e.subTimeline&&i&&h.add(d),g){var w=new Ap(t,s,d);w.setRealPlayer(x),l.push(w)}return x});l.forEach(function(t){hf(a.playersByQueriedElement,t.element,[]).push(t),t.onDone(function(){return function(t,e,n){var i;if(t instanceof Map){if(i=t.get(e)){if(i.length){var r=i.indexOf(n);i.splice(r,1)}0==i.length&&t.delete(e)}}else if(i=t[e]){if(i.length){var o=i.indexOf(n);i.splice(o,1)}0==i.length&&delete t[e]}return i}(a.playersByQueriedElement,t.element,t)})}),c.forEach(function(t){return zp(t,"ng-animating")});var f=af(d);return f.onDestroy(function(){c.forEach(function(t){return jp(t,"ng-animating")}),Af(u,e.toStyles)}),h.forEach(function(t){hf(i,t,[]).push(f)}),f}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new nf(t.duration,t.delay)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach(function(e){e.players.forEach(function(e){e.queued&&t.push(e)})}),t}}]),t}(),Ap=function(){function t(e,n,i){_(this,t),this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new nf,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return x(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(function(n){e._queuedCallbacks[n].forEach(function(e){return uf(t,n,void 0,e)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart(function(){return n.triggerCallback("start")}),t.onDone(function(){return e.finish()}),t.onDestroy(function(){return e.destroy()})}},{key:"_queueEvent",value:function(t,e){hf(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function Rp(t){return t&&1===t.nodeType}function Np(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function Fp(t,e,n,i,r){var o=[];n.forEach(function(t){return o.push(Np(t))});var a=[];i.forEach(function(n,i){var o={};n.forEach(function(t){var n=o[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=Cp,a.push(i))}),t.set(i,o)});var s=0;return n.forEach(function(t){return Np(t,o[s++])}),a}function Yp(t,e){var n=new Map;if(t.forEach(function(t){return n.set(t,[])}),0==e.length)return n;var i=new Set(e),r=new Map;function o(t){if(!t)return 1;var e=r.get(t);if(e)return e;var a=t.parentNode;return e=n.has(a)?a:i.has(a)?1:o(a),r.set(t,e),e}return e.forEach(function(t){var e=o(t);1!==e&&n.get(e).push(t)}),n}function zp(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function jp(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function Bp(t,e,n){af(n).onDone(function(){return t.processLeaveNode(e)})}function Hp(t,e){for(var n=0;n<t.length;n++){var i=t[n];i instanceof rf?Hp(i.players,e):e.push(i)}}function Up(t,e,n){var i=n.get(t);if(!i)return!1;var r=e.get(t);return r?i.forEach(function(t){return r.add(t)}):e.set(t,i),n.delete(t),!0}var Vp=function(){function t(e,n,i){var r=this;_(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new Op(e,n,i),this._timelineEngine=new Ep(e,n,i),this._transitionEngine.onRemovalComplete=function(t,e){return r.onRemovalComplete(t,e)}}return x(t,[{key:"registerTrigger",value:function(t,e,n,i,r){var o=t+"-"+i,a=this._triggerCache[o];if(!a){var s=[],u=Qf(this._driver,r,s);if(s.length)throw new Error('The animation trigger "'.concat(i,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(t,e){return new kp(t,e)}(i,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,i,a)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}},{key:"onRemove",value:function(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,n,i,r){if("@"==i.charAt(0)){var o=e(df(i),2),a=o[0],s=o[1];this._timelineEngine.command(a,n,s,r)}else this._transitionEngine.trigger(t,n,i,r)}},{key:"listen",value:function(t,n,i,r,o){if("@"==i.charAt(0)){var a=e(df(i),2),s=a[0],u=a[1];return this._timelineEngine.listen(s,n,u,o)}return this._transitionEngine.listen(t,n,i,r,o)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),t}();function qp(t,e){var n=null,i=null;return Array.isArray(e)&&e.length?(n=Wp(e[0]),e.length>1&&(i=Wp(e[e.length-1]))):e&&(n=Wp(e)),n||i?new Gp(t,n,i):null}var Gp=function(){var t=function(){function t(e,n,i){_(this,t),this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;var r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}return x(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&Af(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(Af(this._element,this._initialStyles),this._endStyles&&(Af(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Rf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Rf(this._element,this._endStyles),this._endStyles=null),Af(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function Wp(t){for(var e=null,n=Object.keys(t),i=0;i<n.length;i++){var r=n[i];Xp(r)&&((e=e||{})[r]=t[r])}return e}function Xp(t){return"display"===t||"position"===t}var Kp=function(){function t(e,n,i,r,o,a,s){var u=this;_(this,t),this._element=e,this._name=n,this._duration=i,this._delay=r,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return u._handleCallback(t)}}return x(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=em(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),tm(t,"",e),$p(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){Zp(this._element,this._name,"paused")}},{key:"resume",value:function(){Zp(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=Qp(this._element,this._name);this._position=t*this._duration,tm(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),$p(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var t,e,n,i;this._destroyed||(this._destroyed=!0,this.finish(),t=this._element,e=this._name,n=em(t,"").split(","),(i=Jp(n,e))>=0&&(n.splice(i,1),tm(t,"",n.join(","))))}}]),t}();function Zp(t,e,n){tm(t,"PlayState",n,Qp(t,e))}function Qp(t,e){var n=em(t,"");return n.indexOf(",")>0?Jp(n.split(","),e):Jp([n],e)}function Jp(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function $p(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function tm(t,e,n,i){var r="animation"+e;if(null!=i){var o=t.style[r];if(o.length){var a=o.split(",");a[i]=n,n=a.join(",")}}t.style[r]=n}function em(t,e){return t.style["animation"+e]||""}var nm=function(){function t(e,n,i,r,o,a,s,u){_(this,t),this.element=e,this.keyframes=n,this.animationName=i,this._duration=r,this._delay=o,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=r+o,this._buildStyler()}return x(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new Kp(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return t.finish()})}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(i){"offset"!=i&&(e[i]=n?t._finalStyles[i]:Gf(t.element,i))})}this.currentSnapshot=e}}]),t}(),im=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this)).element=t,r._startingStyles={},r.__initialized=!1,r._styles=kf(i),r}return x(n,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(e){t._startingStyles[e]=t.element.style[e]}),h(v(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(e){return t.element.style.setProperty(e,t._styles[e])}),h(v(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)}),this._startingStyles=null,h(v(n.prototype),"destroy",this).call(this))}}]),n}(nf),rm=function(){function t(){_(this,t),this._count=0,this._head=document.querySelector("head")}return x(t,[{key:"validateStyleProperty",value:function(t){return _f(t)}},{key:"matchesElement",value:function(t,e){return bf(t,e)}},{key:"containsElement",value:function(t,e){return xf(t,e)}},{key:"query",value:function(t,e,n){return wf(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map(function(t){return kf(t)});var i="@keyframes ".concat(e," {\n"),r="";n.forEach(function(t){r=" ";var e=parseFloat(t.offset);i+="".concat(r).concat(100*e,"% {\n"),r+=" ",Object.keys(t).forEach(function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+="".concat(r,"animation-timing-function: ").concat(n,";\n")));default:return void(i+="".concat(r).concat(e,": ").concat(n,";\n"))}}),i+=r+"}\n"}),i+="}\n";var o=document.createElement("style");return o.textContent=i,o}},{key:"animate",value:function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=o.filter(function(t){return t instanceof nm}),s={};Uf(n,i)&&a.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return s[t]=e[t]})});var u=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach(function(t){Object.keys(t).forEach(function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Vf(t,e,s));if(0==n)return new im(t,u);var l="gen_css_kf_"+this._count++,c=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(c);var h=qp(t,e),d=new nm(t,e,l,n,i,r,u,h);return d.onDestroy(function(){var t;(t=c).parentNode.removeChild(t)}),d}}]),t}(),om=function(){function t(e,n,i,r){_(this,t),this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}return x(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",function(){return t._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:Gf(t.element,n))}),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),t}(),am=function(){function t(){_(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(sm().toString()),this._cssKeyframesDriver=new rm}return x(t,[{key:"validateStyleProperty",value:function(t){return _f(t)}},{key:"matchesElement",value:function(t,e){return bf(t,e)}},{key:"containsElement",value:function(t,e){return xf(t,e)}},{key:"query",value:function(t,e,n){return wf(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,o);var s={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(s.easing=r);var u={},l=o.filter(function(t){return t instanceof om});Uf(n,i)&&l.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return u[t]=e[t]})});var c=qp(t,e=Vf(t,e=e.map(function(t){return Pf(t,!1)}),u));return new om(t,e,s,c)}}]),t}();function sm(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var um,lm=((um=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this))._nextAnimationId=0,r._renderer=t.createRenderer(i.body,{id:"0",encapsulation:Ut.None,styles:[],data:{animation:[]}}),r}return x(n,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?Qd(t):t;return dm(this._renderer,null,e,"register",[n]),new cm(e,this._renderer)}}]),n}(Xd)).\u0275fac=function(t){return new(t||um)(Ri(du),Ri(Gc))},um.\u0275prov=Tt({token:um,factory:um.\u0275fac}),um),cm=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this))._id=t,r._renderer=i,r}return x(n,[{key:"create",value:function(t,e){return new hm(this._id,t,e||{},this._renderer)}}]),n}(function(){return function t(){_(this,t)}}()),hm=function(){function t(e,n,i,r){_(this,t),this.id=e,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}return x(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return dm(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}]),t}();function dm(t,e,n,i,r){return t.setProperty(e,"@@".concat(n,":").concat(i),r)}var fm,pm,mm,gm=((fm=function(){function t(e,n,i){_(this,t),this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return x(t,[{key:"createRenderer",value:function(t,e){var n=this,i=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var r=this._rendererCache.get(i);return r||(r=new ym("",i,this.engine),this._rendererCache.set(i,r)),r}var o=e.id,a=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,t),e.data.animation.forEach(function e(i){Array.isArray(i)?i.forEach(e):n.engine.registerTrigger(o,a,t,i.name,i)}),new vm(this,a,i,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then(function(){t._microtaskId++})}},{key:"scheduleListenerCallback",value:function(t,n,i){var r=this;t>=0&&t<this._microtaskId?this._zone.run(function(){return n(i)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){r._zone.run(function(){r._animationCallbacksBuffer.forEach(function(t){var n=e(t,2);(0,n[0])(n[1])}),r._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,i]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}()).\u0275fac=function(t){return new(t||fm)(Ri(du),Ri(Vp),Ri(dc))},fm.\u0275prov=Tt({token:fm,factory:fm.\u0275fac}),fm),ym=function(){function t(e,n,i){_(this,t),this.namespaceId=e,this.delegate=n,this.engine=i,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return x(t,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,i){this.delegate.setStyle(t,e,n,i)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}},{key:"data",get:function(){return this.delegate.data}}]),t}(),vm=function(t){d(i,t);var n=p(i);function i(t,e,r,o){var a;return _(this,i),(a=n.call(this,e,r,o)).factory=t,a.namespaceId=e,a}return x(i,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,n,i){var r,o,a=this;if("@"==n.charAt(0)){var s,u=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),l=n.substr(1),c="";return"@"!=l.charAt(0)&&(o=(r=l).indexOf("."),l=(s=e([r.substring(0,o),r.substr(o+1)],2))[0],c=s[1]),this.engine.listen(this.namespaceId,u,l,c,function(t){a.factory.scheduleListenerCallback(t._data||-1,i,t)})}return this.delegate.listen(t,n,i)}}]),i}(ym),_m=((pm=function(t){d(n,t);var e=p(n);function n(t,i,r){return _(this,n),e.call(this,t.body,i,r)}return n}(Vp)).\u0275fac=function(t){return new(t||pm)(Ri(Gc),Ri(Ef),Ri(gp))},pm.\u0275prov=Tt({token:pm,factory:pm.\u0275fac}),pm),bm=new fi("AnimationModuleType"),xm=[{provide:Ef,useFactory:function(){return"function"==typeof sm()?new am:new rm}},{provide:bm,useValue:"BrowserAnimations"},{provide:Xd,useClass:lm},{provide:gp,useFactory:function(){return new yp}},{provide:Vp,useClass:_m},{provide:du,useFactory:function(t,e,n){return new gm(t,e,n)},deps:[_d,Vp,dc]}],wm=((mm=function t(){_(this,t)}).\u0275mod=ce({type:mm}),mm.\u0275inj=Ct({factory:function(t){return new(t||mm)},providers:xm,imports:[Rd]}),mm);function km(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e[e.length-1];return G(i)?(e.pop(),et(e,i)):ct(e)}function Mm(t,e){return at(t,e,1)}function Sm(t,e){return function(n){return n.lift(new Em(t,e))}}var Em=function(){function t(e,n){_(this,t),this.predicate=e,this.thisArg=n}return x(t,[{key:"call",value:function(t,e){return e.subscribe(new Lm(t,this.predicate,this.thisArg))}}]),t}(),Lm=function(t){d(n,t);var e=p(n);function n(t,i,r){var o;return _(this,n),(o=e.call(this,t)).predicate=i,o.thisArg=r,o.count=0,o}return x(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(O),Tm=function t(){_(this,t)},Cm=function t(){_(this,t)},Im=function(){function t(e){var n=this;_(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var i=t.slice(0,e),r=i.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(i,r),n.headers.has(r)?n.headers.get(r).push(o):n.headers.set(r,[o])}})}:function(){n.headers=new Map,Object.keys(e).forEach(function(t){var i=e[t],r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(n.headers.set(r,i),n.maybeSetNormalizedName(t,r))})}:this.headers=new Map}return x(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var i=("a"===t.op?this.headers.get(e):void 0)||[];i.push.apply(i,r(n)),this.headers.set(e,i);break;case"d":var o=t.value;if(o){var a=this.headers.get(e);if(!a)return;0===(a=a.filter(function(t){return-1===o.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})}}]),t}(),Pm=function(){function t(){_(this,t)}return x(t,[{key:"encodeKey",value:function(t){return Dm(t)}},{key:"encodeValue",value:function(t){return Dm(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function Dm(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Om=function(){function t(){var n=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_(this,t),this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new Pm,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,n){var i=new Map;return t.length>0&&t.split("&").forEach(function(t){var r=t.indexOf("="),o=e(-1==r?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,r)),n.decodeValue(t.slice(r+1))],2),a=o[0],s=o[1],u=i.get(a)||[];u.push(s),i.set(a,u)}),i}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(function(t){var e=i.fromObject[t];n.map.set(t,Array.isArray(e)?e:[e])})):this.map=null}return x(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).filter(function(t){return""!==t}).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var i=t.map.get(e.param)||[],r=i.indexOf(e.value);-1!==r&&i.splice(r,1),i.length>0?t.map.set(e.param,i):t.map.delete(e.param)}}),this.cloneFrom=this.updates=null)}}]),t}();function Am(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Rm(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Nm(t){return"undefined"!=typeof FormData&&t instanceof FormData}var Fm=function(){function t(e,n,i,r){var o;if(_(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new Im),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new Om,this.urlWithParams=n}return x(t,[{key:"serializeBody",value:function(){return null===this.body?null:Am(this.body)||Rm(this.body)||Nm(this.body)||"string"==typeof this.body?this.body:this.body instanceof Om?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||Nm(this.body)?null:Rm(this.body)?this.body.type||null:Am(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Om?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},u)),e.setParams&&(l=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},l)),new t(n,i,o,{params:l,headers:u,reportProgress:s,responseType:r,withCredentials:a})}}]),t}(),Ym=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),zm=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_(this,t),this.headers=e.headers||new Im,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},jm=function(t){d(n,t);var e=p(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _(this,n),(t=e.call(this,i)).type=Ym.ResponseHeader,t}return x(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(zm),Bm=function(t){d(n,t);var e=p(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _(this,n),(t=e.call(this,i)).type=Ym.Response,t.body=void 0!==i.body?i.body:null,t}return x(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(zm),Hm=function(t){d(n,t);var e=p(n);function n(t){var i;return _(this,n),(i=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",i.ok=!1,i.message=i.status>=200&&i.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),i.error=t.error||null,i}return n}(zm);function Um(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var Vm,qm,Gm,Wm,Xm,Km,Zm,Qm,Jm,$m=((Vm=function(){function t(e){_(this,t),this.handler=e}return x(t,[{key:"request",value:function(t,e){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t instanceof Fm)n=t;else{var o=void 0;o=r.headers instanceof Im?r.headers:new Im(r.headers);var a=void 0;r.params&&(a=r.params instanceof Om?r.params:new Om({fromObject:r.params})),n=new Fm(t,e,void 0!==r.body?r.body:null,{headers:o,params:a,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}var s=km(n).pipe(Mm(function(t){return i.handler.handle(t)}));if(t instanceof Fm||"events"===r.observe)return s;var u=s.pipe(Sm(function(t){return t instanceof Bm}));switch(r.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(W(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return u.pipe(W(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return u.pipe(W(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return u.pipe(W(function(t){return t.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(r.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new Om).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,Um(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,Um(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,Um(n,e))}}]),t}()).\u0275fac=function(t){return new(t||Vm)(Ri(Tm))},Vm.\u0275prov=Tt({token:Vm,factory:Vm.\u0275fac}),Vm),tg=function(){function t(e,n){_(this,t),this.next=e,this.interceptor=n}return x(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),eg=new fi("HTTP_INTERCEPTORS"),ng=((qm=function(){function t(){_(this,t)}return x(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||qm)},qm.\u0275prov=Tt({token:qm,factory:qm.\u0275fac}),qm),ig=/^\)\]\}',?\n/,rg=function t(){_(this,t)},og=((Wm=function(){function t(){_(this,t)}return x(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}()).\u0275fac=function(t){return new(t||Wm)},Wm.\u0275prov=Tt({token:Wm,factory:Wm.\u0275fac}),Wm),ag=((Gm=function(){function t(e){_(this,t),this.xhrFactory=e}return x(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Y(function(n){var i=e.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach(function(t,e){return i.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var r=t.detectContentTypeHeader();null!==r&&i.setRequestHeader("Content-Type",r)}if(t.responseType){var o=t.responseType.toLowerCase();i.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===i.status?204:i.status,n=i.statusText||"OK",r=new Im(i.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||t.url;return s=new jm({headers:r,status:e,statusText:n,url:o})},l=function(){var e=u(),r=e.headers,o=e.status,a=e.statusText,s=e.url,l=null;204!==o&&(l=void 0===i.response?i.responseText:i.response),0===o&&(o=l?200:0);var c=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof l){var h=l;l=l.replace(ig,"");try{l=""!==l?JSON.parse(l):null}catch(d){l=h,c&&(c=!1,l={error:d,text:l})}}c?(n.next(new Bm({body:l,headers:r,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new Hm({error:l,headers:r,status:o,statusText:a,url:s||void 0}))},c=function(t){var e=u().url,r=new Hm({error:t,status:i.status||0,statusText:i.statusText||"Unknown Error",url:e||void 0});n.error(r)},h=!1,d=function(e){h||(n.next(u()),h=!0);var r={type:Ym.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(r.total=e.total),"text"===t.responseType&&i.responseText&&(r.partialText=i.responseText),n.next(r)},f=function(t){var e={type:Ym.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return i.addEventListener("load",l),i.addEventListener("error",c),t.reportProgress&&(i.addEventListener("progress",d),null!==a&&i.upload&&i.upload.addEventListener("progress",f)),i.send(a),n.next({type:Ym.Sent}),function(){i.removeEventListener("error",c),i.removeEventListener("load",l),t.reportProgress&&(i.removeEventListener("progress",d),null!==a&&i.upload&&i.upload.removeEventListener("progress",f)),i.readyState!==i.DONE&&i.abort()}})}}]),t}()).\u0275fac=function(t){return new(t||Gm)(Ri(rg))},Gm.\u0275prov=Tt({token:Gm,factory:Gm.\u0275fac}),Gm),sg=new fi("XSRF_COOKIE_NAME"),ug=new fi("XSRF_HEADER_NAME"),lg=function t(){_(this,t)},cg=((Jm=function(){function t(e,n,i){_(this,t),this.doc=e,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return x(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=_h(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}()).\u0275fac=function(t){return new(t||Jm)(Ri(Gc),Ri(Xl),Ri(sg))},Jm.\u0275prov=Tt({token:Jm,factory:Jm.\u0275fac}),Jm),hg=((Qm=function(){function t(e,n){_(this,t),this.tokenService=e,this.headerName=n}return x(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Qm)(Ri(lg),Ri(ug))},Qm.\u0275prov=Tt({token:Qm,factory:Qm.\u0275fac}),Qm),dg=((Zm=function(){function t(e,n){_(this,t),this.backend=e,this.injector=n,this.chain=null}return x(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(eg,[]);this.chain=e.reduceRight(function(t,e){return new tg(t,e)},this.backend)}return this.chain.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Zm)(Ri(Cm),Ri(Ia))},Zm.\u0275prov=Tt({token:Zm,factory:Zm.\u0275fac}),Zm),fg=((Km=function(){function t(){_(this,t)}return x(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:hg,useClass:ng}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:sg,useValue:e.cookieName}:[],e.headerName?{provide:ug,useValue:e.headerName}:[]]}}}]),t}()).\u0275mod=ce({type:Km}),Km.\u0275inj=Ct({factory:function(t){return new(t||Km)},providers:[hg,{provide:eg,useExisting:hg,multi:!0},{provide:lg,useClass:cg},{provide:sg,useValue:"XSRF-TOKEN"},{provide:ug,useValue:"X-XSRF-TOKEN"}]}),Km),pg=((Xm=function t(){_(this,t)}).\u0275mod=ce({type:Xm}),Xm.\u0275inj=Ct({factory:function(t){return new(t||Xm)},providers:[$m,{provide:Tm,useClass:dg},ag,{provide:Cm,useExisting:ag},og,{provide:rg,useExisting:og}],imports:[[fg.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Xm),mg=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),gg=new Y(function(t){return t.complete()});function yg(t){return t?function(t){return new Y(function(e){return t.schedule(function(){return e.complete()})})}(t):gg}function vg(t){return function(e){return 0===t?yg():e.lift(new _g(t))}}var _g=function(){function t(e){if(_(this,t),this.total=e,this.total<0)throw new mg}return x(t,[{key:"call",value:function(t,e){return e.subscribe(new bg(t,this.total))}}]),t}(),bg=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this,t)).total=i,r.count=0,r}return x(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(O);function xg(){}function wg(t,e,n){return function(i){return i.lift(new kg(t,e,n))}}var kg=function(){function t(e,n,i){_(this,t),this.nextOrObserver=e,this.error=n,this.complete=i}return x(t,[{key:"call",value:function(t,e){return e.subscribe(new Mg(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),Mg=function(t){d(n,t);var e=p(n);function n(t,i,r,o){var a;return _(this,n),(a=e.call(this,t))._tapNext=xg,a._tapError=xg,a._tapComplete=xg,a._tapError=r||xg,a._tapComplete=o||xg,b(i)?(a._context=g(a),a._tapNext=i):i&&(a._context=i,a._tapNext=i.next||xg,a._tapError=i.error||xg,a._tapComplete=i.complete||xg),a}return x(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(O);function Sg(t){var e,n={},i=a(t.keys());try{for(i.s();!(e=i.n()).done;){var r=e.value;n[r]=t.getAll(r)}}catch(o){i.e(o)}finally{i.f()}return n}var Eg,Lg,Tg=((Lg=function(){function t(e,n){var i=this;_(this,t),this.transferState=n,this.isCacheActive=!0,e.isStable.pipe(Sm(function(t){return t}),vg(1)).toPromise().then(function(){i.isCacheActive=!1})}return x(t,[{key:"invalidateCacheEntry",value:function(t){var e=this;Object.keys(this.transferState.store).forEach(function(n){return n.includes(t)?e.transferState.remove(n):null})}},{key:"makeCacheKey",value:function(t,e,n){return("GET"===t?"G.":"H.")+e+"?"+n.keys().sort().map(function(t){return"".concat(t,"=").concat(n.getAll(t))}).join("&")}},{key:"intercept",value:function(t,e){var n=this;if("GET"!==t.method&&"HEAD"!==t.method&&(this.isCacheActive=!1,this.invalidateCacheEntry(t.url)),!this.isCacheActive)return e.handle(t);var i=this.makeCacheKey(t.method,t.url,t.params);if(this.transferState.hasKey(i)){var r=this.transferState.get(i,{});return km(new Bm({body:r.body,headers:new Im(r.headers),status:r.status,statusText:r.statusText,url:r.url}))}return e.handle(t).pipe(wg(function(t){t instanceof Bm&&n.transferState.set(i,{body:t.body,headers:Sg(t.headers),status:t.status,statusText:t.statusText,url:t.url||""})}))}}]),t}()).\u0275fac=function(t){return new(t||Lg)(Ri(Oc),Ri(Vd))},Lg.\u0275prov=Tt({token:Lg,factory:Lg.\u0275fac}),Lg),Cg=((Eg=function t(){_(this,t)}).\u0275mod=ce({type:Eg}),Eg.\u0275inj=Ct({factory:function(t){return new(t||Eg)},providers:[Tg,{provide:eg,useExisting:Tg,multi:!0}],imports:[[Wd]]}),Eg),Ig=function(t){d(n,t);var e=p(n);function n(t){var i;return _(this,n),(i=e.call(this))._value=t,i}return x(n,[{key:"_subscribe",value:function(t){var e=h(v(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new B;return this._value}},{key:"next",value:function(t){h(v(n.prototype),"next",this).call(this,this._value=t)}},{key:"value",get:function(){return this.getValue()}}]),n}(V),Pg=function(t){d(n,t);var e=p(n);function n(){return _(this,n),e.apply(this,arguments)}return x(n,[{key:"notifyNext",value:function(t,e,n,i,r){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(O),Dg=function(t){d(n,t);var e=p(n);function n(t,i,r){var o;return _(this,n),(o=e.call(this)).parent=t,o.outerValue=i,o.outerIndex=r,o.index=0,o}return x(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(O);function Og(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Dg(t,n,i);if(!r.closed)return e instanceof Y?e.subscribe(r):tt(e)(r)}var Ag={},Rg=function(){function t(e){_(this,t),this.resultSelector=e}return x(t,[{key:"call",value:function(t,e){return e.subscribe(new Ng(t,this.resultSelector))}}]),t}(),Ng=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this,t)).resultSelector=i,r.active=0,r.values=[],r.observables=[],r}return x(n,[{key:"_next",value:function(t){this.values.push(Ag),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++)this.add(Og(this,t[n],void 0,n))}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var i=this.values,r=this.toRespond?i[n]===Ag?--this.toRespond:this.toRespond:0;i[n]=e,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Pg),Fg=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}();function Yg(t){return new Y(function(e){var n;try{n=t()}catch(i){return void e.error(i)}return(n?nt(n):yg()).subscribe(e)})}function zg(t,e){return"function"==typeof e?function(n){return n.pipe(zg(function(n,i){return nt(t(n,i)).pipe(W(function(t,r){return e(n,t,i,r)}))}))}:function(e){return e.lift(new jg(t))}}var jg=function(){function t(e){_(this,t),this.project=e}return x(t,[{key:"call",value:function(t,e){return e.subscribe(new Bg(t,this.project))}}]),t}(),Bg=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this,t)).project=i,r.index=0,r}return x(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new it(this),i=this.destination;i.add(n),this.innerSubscription=ot(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||h(v(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&h(v(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(rt);function Hg(){return lt(1)}function Ug(){return Hg()(km.apply(void 0,arguments))}function Vg(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e[e.length-1];return G(i)?(e.pop(),function(t){return Ug(e,t,i)}):function(t){return Ug(e,t)}}function qg(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new Gg(t,e,n))}}var Gg=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_(this,t),this.accumulator=e,this.seed=n,this.hasSeed=i}return x(t,[{key:"call",value:function(t,e){return e.subscribe(new Wg(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),Wg=function(t){d(n,t);var e=p(n);function n(t,i,r,o){var a;return _(this,n),(a=e.call(this,t)).accumulator=i,a._seed=r,a.hasSeed=o,a.index=0,a}return x(n,[{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(i){this.destination.error(i)}this.seed=e,this.destination.next(e)}},{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}}]),n}(O);function Xg(t){return function(e){var n=new Kg(t),i=e.lift(n);return n.caught=i}}var Kg=function(){function t(e){_(this,t),this.selector=e}return x(t,[{key:"call",value:function(t,e){return e.subscribe(new Zg(t,this.selector,this.caught))}}]),t}(),Zg=function(t){d(n,t);var e=p(n);function n(t,i,r){var o;return _(this,n),(o=e.call(this,t)).selector=i,o.caught=r,o}return x(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void h(v(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var i=new it(this);this.add(i);var r=ot(e,i);r!==i&&this.add(r)}}}]),n}(rt);function Qg(t){return function(e){return 0===t?yg():e.lift(new Jg(t))}}var Jg=function(){function t(e){if(_(this,t),this.total=e,this.total<0)throw new mg}return x(t,[{key:"call",value:function(t,e){return e.subscribe(new $g(t,this.total))}}]),t}(),$g=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this,t)).total=i,r.ring=new Array,r.count=0,r}return x(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,r=0;r<n;r++){var o=e++%n;t.next(i[o])}t.complete()}}]),n}(O);function ty(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iy;return function(e){return e.lift(new ey(t))}}var ey=function(){function t(e){_(this,t),this.errorFactory=e}return x(t,[{key:"call",value:function(t,e){return e.subscribe(new ny(t,this.errorFactory))}}]),t}(),ny=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this,t)).errorFactory=i,r.hasValue=!1,r}return x(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),n}(O);function iy(){return new Fg}function ry(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new oy(t))}}var oy=function(){function t(e){_(this,t),this.defaultValue=e}return x(t,[{key:"call",value:function(t,e){return e.subscribe(new ay(t,this.defaultValue))}}]),t}(),ay=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this,t)).defaultValue=i,r.isEmpty=!0,r}return x(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(O);function sy(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?Sm(function(e,n){return t(e,n,i)}):N,vg(1),n?ry(e):ty(function(){return new Fg}))}}function uy(t){return function(e){return e.lift(new ly(t))}}var ly=function(){function t(e){_(this,t),this.callback=e}return x(t,[{key:"call",value:function(t,e){return e.subscribe(new cy(t,this.callback))}}]),t}(),cy=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this,t)).add(new I(i)),r}return n}(O),hy=function t(e,n){_(this,t),this.id=e,this.url=n},dy=function(t){d(n,t);var e=p(n);function n(t,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _(this,n),(r=e.call(this,t,i)).navigationTrigger=o,r.restoredState=a,r}return x(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(hy),fy=function(t){d(n,t);var e=p(n);function n(t,i,r){var o;return _(this,n),(o=e.call(this,t,i)).urlAfterRedirects=r,o}return x(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(hy),py=function(t){d(n,t);var e=p(n);function n(t,i,r){var o;return _(this,n),(o=e.call(this,t,i)).reason=r,o}return x(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(hy),my=function(t){d(n,t);var e=p(n);function n(t,i,r){var o;return _(this,n),(o=e.call(this,t,i)).error=r,o}return x(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(hy),gy=function(t){d(n,t);var e=p(n);function n(t,i,r,o){var a;return _(this,n),(a=e.call(this,t,i)).urlAfterRedirects=r,a.state=o,a}return x(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(hy),yy=function(t){d(n,t);var e=p(n);function n(t,i,r,o){var a;return _(this,n),(a=e.call(this,t,i)).urlAfterRedirects=r,a.state=o,a}return x(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(hy),vy=function(t){d(n,t);var e=p(n);function n(t,i,r,o,a){var s;return _(this,n),(s=e.call(this,t,i)).urlAfterRedirects=r,s.state=o,s.shouldActivate=a,s}return x(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(hy),_y=function(t){d(n,t);var e=p(n);function n(t,i,r,o){var a;return _(this,n),(a=e.call(this,t,i)).urlAfterRedirects=r,a.state=o,a}return x(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(hy),by=function(t){d(n,t);var e=p(n);function n(t,i,r,o){var a;return _(this,n),(a=e.call(this,t,i)).urlAfterRedirects=r,a.state=o,a}return x(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(hy),xy=function(){function t(e){_(this,t),this.route=e}return x(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),wy=function(){function t(e){_(this,t),this.route=e}return x(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),ky=function(){function t(e){_(this,t),this.snapshot=e}return x(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),My=function(){function t(e){_(this,t),this.snapshot=e}return x(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Sy=function(){function t(e){_(this,t),this.snapshot=e}return x(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Ey=function(){function t(e){_(this,t),this.snapshot=e}return x(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Ly=function(){function t(e,n,i){_(this,t),this.routerEvent=e,this.position=n,this.anchor=i}return x(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),Ty=function(){function t(e){_(this,t),this.params=e||{}}return x(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function Cy(t){return new Ty(t)}function Iy(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Py(t,e,n){var i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;for(var r={},o=0;o<i.length;o++){var a=i[o],s=t[o];if(a.startsWith(":"))r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function Dy(t,e){var n,i=Object.keys(t),r=Object.keys(e);if(!i||!r||i.length!=r.length)return!1;for(var o=0;o<i.length;o++)if(!Oy(t[n=i[o]],e[n]))return!1;return!0}function Oy(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var n=r(t).sort(),i=r(e).sort();return n.every(function(t,e){return i[e]===t})}return t===e}function Ay(t){return Array.prototype.concat.apply([],t)}function Ry(t){return t.length>0?t[t.length-1]:null}function Ny(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Fy(t){return ss(t)?t:as(t)?nt(Promise.resolve(t)):km(t)}function Yy(t,e,n){return n?function(t,e){return Dy(t,e)}(t.queryParams,e.queryParams)&&zy(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return Oy(t[n],e[n])})}(t.queryParams,e.queryParams)&&jy(t.root,e.root)}function zy(t,e){if(!qy(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!zy(t.children[n],e.children[n]))return!1}return!0}function jy(t,e){return By(t,e,e.segments)}function By(t,e,n){if(t.segments.length>n.length)return!!qy(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!qy(t.segments,n))return!1;for(var i in e.children){if(!t.children[i])return!1;if(!jy(t.children[i],e.children[i]))return!1}return!0}var r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!qy(t.segments,r)&&!!t.children.primary&&By(t.children.primary,e,o)}var Hy=function(){function t(e,n,i){_(this,t),this.root=e,this.queryParams=n,this.fragment=i}return x(t,[{key:"toString",value:function(){return Xy.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Cy(this.queryParams)),this._queryParamMap}}]),t}(),Uy=function(){function t(e,n){var i=this;_(this,t),this.segments=e,this.children=n,this.parent=null,Ny(n,function(t,e){return t.parent=i})}return x(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Ky(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),t}(),Vy=function(){function t(e,n){_(this,t),this.path=e,this.parameters=n}return x(t,[{key:"toString",value:function(){return nv(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Cy(this.parameters)),this._parameterMap}}]),t}();function qy(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}var Gy=function t(){_(this,t)},Wy=function(){function t(){_(this,t)}return x(t,[{key:"parse",value:function(t){var e=new sv(t);return new Hy(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){return"".concat("/"+Zy(t.root,!0)).concat((e=t.queryParams,n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return"".concat(Jy(t),"=").concat(Jy(e))}).join("&"):"".concat(Jy(t),"=").concat(Jy(n))}),n.length?"?"+n.join("&"):"")).concat("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"");var e,n}}]),t}(),Xy=new Wy;function Ky(t){return t.segments.map(function(t){return nv(t)}).join("/")}function Zy(t,e){if(!t.hasChildren())return Ky(t);if(e){var n=t.children.primary?Zy(t.children.primary,!1):"",i=[];return Ny(t.children,function(t,e){"primary"!==e&&i.push("".concat(e,":").concat(Zy(t,!1)))}),i.length>0?"".concat(n,"(").concat(i.join("//"),")"):n}var r=function(t,e){var n=[];return Ny(t.children,function(t,i){"primary"===i&&(n=n.concat(e(t,i)))}),Ny(t.children,function(t,i){"primary"!==i&&(n=n.concat(e(t,i)))}),n}(t,function(e,n){return"primary"===n?[Zy(t.children.primary,!1)]:["".concat(n,":").concat(Zy(e,!1))]});return 1===Object.keys(t.children).length&&null!=t.children.primary?"".concat(Ky(t),"/").concat(r[0]):"".concat(Ky(t),"/(").concat(r.join("//"),")")}function Qy(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jy(t){return Qy(t).replace(/%3B/gi,";")}function $y(t){return Qy(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tv(t){return decodeURIComponent(t)}function ev(t){return tv(t.replace(/\+/g,"%20"))}function nv(t){return"".concat($y(t.path)).concat((e=t.parameters,Object.keys(e).map(function(t){return";".concat($y(t),"=").concat($y(e[t]))}).join("")));var e}var iv=/^[^\/()?;=#]+/;function rv(t){var e=t.match(iv);return e?e[0]:""}var ov=/^[^=?&#]+/,av=/^[^?&#]+/,sv=function(){function t(e){_(this,t),this.url=e,this.remaining=e}return x(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Uy([],{}):new Uy([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Uy(t,e)),n}},{key:"parseSegment",value:function(){var t=rv(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new Vy(tv(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=rv(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=rv(this.remaining);i&&(n=i,this.capture(n))}t[tv(e)]=tv(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(ov);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=function(t){var e=t.match(av);return e?e[0]:""}(this.remaining);i&&(n=i,this.capture(n))}var r=ev(e),o=ev(n);if(t.hasOwnProperty(r)){var a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(o)}else t[r]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=rv(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '".concat(this.url,"'"));var r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r="primary");var o=this.parseChildren();e[r]=1===Object.keys(o).length?o.primary:new Uy([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),uv=function(){function t(e){_(this,t),this._root=e}return x(t,[{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=lv(t,this._root);return e?e.children.map(function(t){return t.value}):[]}},{key:"firstChild",value:function(t){var e=lv(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=cv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})}},{key:"pathFromRoot",value:function(t){return cv(t,this._root).map(function(t){return t.value})}},{key:"root",get:function(){return this._root.value}}]),t}();function lv(t,e){if(t===e.value)return e;var n,i=a(e.children);try{for(i.s();!(n=i.n()).done;){var r=lv(t,n.value);if(r)return r}}catch(o){i.e(o)}finally{i.f()}return null}function cv(t,e){if(t===e.value)return[e];var n,i=a(e.children);try{for(i.s();!(n=i.n()).done;){var r=cv(t,n.value);if(r.length)return r.unshift(e),r}}catch(o){i.e(o)}finally{i.f()}return[]}var hv=function(){function t(e,n){_(this,t),this.value=e,this.children=n}return x(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function dv(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var fv=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this,t)).snapshot=i,_v(g(r),t),r}return x(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(uv);function pv(t,e){var n=function(t,e){var n=new yv([],{},{},"",{},"primary",e,null,t.root,-1,{});return new vv("",new hv(n,[]))}(t,e),i=new Ig([new Vy("",{})]),r=new Ig({}),o=new Ig({}),a=new Ig({}),s=new Ig(""),u=new mv(i,r,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new fv(new hv(u,[]),n)}var mv=function(){function t(e,n,i,r,o,a,s,u){_(this,t),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return x(t,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(W(function(t){return Cy(t)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(W(function(t){return Cy(t)}))),this._queryParamMap}}]),t}();function gv(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,i=0;if("always"!==e)for(i=n.length-1;i>=1;){var r=n[i],o=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function(t){return t.reduce(function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(i))}var yv=function(){function t(e,n,i,r,o,a,s,u,l,c,h){_(this,t),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=h}return x(t,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(t){return t.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Cy(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Cy(this.queryParams)),this._queryParamMap}}]),t}(),vv=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this,i)).url=t,_v(g(r),i),r}return x(n,[{key:"toString",value:function(){return bv(this._root)}}]),n}(uv);function _v(t,e){e.value._routerState=t,e.children.forEach(function(e){return _v(t,e)})}function bv(t){var e=t.children.length>0?" { ".concat(t.children.map(bv).join(", ")," } "):"";return"".concat(t.value).concat(e)}function xv(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Dy(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Dy(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Dy(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Dy(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function wv(t,e){var n,i;return Dy(t.params,e.params)&&qy(n=t.url,i=e.url)&&n.every(function(t,e){return Dy(t.parameters,i[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||wv(t.parent,e.parent))}function kv(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var i=n.value;i._futureSnapshot=e.value;var r=function(t,e,n){return e.children.map(function(e){var i,r=a(n.children);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(t.shouldReuseRoute(e.value,o.value.snapshot))return kv(t,e,o)}}catch(s){r.e(s)}finally{r.f()}return kv(t,e)})}(t,e,n);return new hv(i,r)}var o=t.retrieve(e.value);if(o){var s=o.route;return Mv(e,s),s}var u,l=new mv(new Ig((u=e.value).url),new Ig(u.params),new Ig(u.queryParams),new Ig(u.fragment),new Ig(u.data),u.outlet,u.component,u),c=e.children.map(function(e){return kv(t,e)});return new hv(l,c)}function Mv(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)Mv(t.children[n],e.children[n])}function Sv(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ev(t){return"object"==typeof t&&null!=t&&t.outlets}function Lv(t,e,n,i,r){var o={};return i&&Ny(i,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),new Hy(n.root===t?e:Tv(n.root,t,e),o,r)}function Tv(t,e,n){var i={};return Ny(t.children,function(t,r){i[r]=t===e?n:Tv(t,e,n)}),new Uy(t.segments,i)}var Cv=function(){function t(e,n,i){if(_(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&Sv(i[0]))throw new Error("Root segment cannot have matrix parameters");var r=i.find(Ev);if(r&&r!==Ry(i))throw new Error("{outlets:{}} has to be the last command")}return x(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),Iv=function t(e,n,i){_(this,t),this.segmentGroup=e,this.processChildren=n,this.index=i};function Pv(t,e,n){if(t||(t=new Uy([],{})),0===t.segments.length&&t.hasChildren())return Dv(t,e,n);var i=function(t,e,n){for(var i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};r<t.segments.length;){if(i>=n.length)return o;var a=t.segments[r],s=n[i];if(Ev(s))break;var u=""+s,l=i<n.length-1?n[i+1]:null;if(r>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!Nv(u,l,a))return o;i+=2}else{if(!Nv(u,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){var o=new Uy(t.segments.slice(0,i.pathIndex),{});return o.children.primary=new Uy(t.segments.slice(i.pathIndex),t.children),Dv(o,0,r)}return i.match&&0===r.length?new Uy(t.segments,{}):i.match&&!t.hasChildren()?Ov(t,e,n):i.match?Dv(t,0,r):Ov(t,e,n)}function Dv(t,e,n){if(0===n.length)return new Uy(t.segments,{});var i=function(t){return Ev(t[0])?t[0].outlets:{primary:t}}(n),r={};return Ny(i,function(n,i){"string"==typeof n&&(n=[n]),null!==n&&(r[i]=Pv(t.children[i],e,n))}),Ny(t.children,function(t,e){void 0===i[e]&&(r[e]=t)}),new Uy(t.segments,r)}function Ov(t,e,n){for(var i=t.segments.slice(0,e),r=0;r<n.length;){var o=n[r];if(Ev(o)){var a=Av(o.outlets);return new Uy(i,a)}if(0===r&&Sv(n[0]))i.push(new Vy(t.segments[e].path,n[0])),r++;else{var s=Ev(o)?o.outlets.primary:""+o,u=r<n.length-1?n[r+1]:null;s&&u&&Sv(u)?(i.push(new Vy(s,Rv(u))),r+=2):(i.push(new Vy(s,{})),r++)}}return new Uy(i,{})}function Av(t){var e={};return Ny(t,function(t,n){"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Ov(new Uy([],{}),0,t))}),e}function Rv(t){var e={};return Ny(t,function(t,n){return e[n]=""+t}),e}function Nv(t,e,n){return t==n.path&&Dy(e,n.parameters)}var Fv=function(){function t(e,n,i,r){_(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r}return x(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),xv(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var i=this,r=dv(e);t.children.forEach(function(t){var e=t.value.outlet;i.deactivateRoutes(t,r[e],n),delete r[e]}),Ny(r,function(t,e){i.deactivateRouteAndItsChildren(t,n)})}},{key:"deactivateRoutes",value:function(t,e,n){var i=t.value,r=e?e.value:null;if(i===r)if(i.component){var o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var i=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:r})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){for(var n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,r=dv(t),o=0,a=Object.values(r);o<a.length;o++){var s=a[o];this.deactivateRouteAndItsChildren(s,i)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}},{key:"activateChildRoutes",value:function(t,e,n){var i=this,r=dv(e);t.children.forEach(function(t){i.activateRoutes(t,r[t.value.outlet],n),i.forwardEvent(new Ey(t.value.snapshot))}),t.children.length&&this.forwardEvent(new My(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var i=t.value,r=e?e.value:null;if(xv(i),i===r)if(i.component){var o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(i.component){var a=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){var s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Yv(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),l=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=i,a.resolver=l,a.outlet&&a.outlet.activateWith(i,l),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function Yv(t){xv(t.value),t.children.forEach(Yv)}var zv=function t(e,n){_(this,t),this.routes=e,this.module=n};function jv(t){return"function"==typeof t}function Bv(t){return t instanceof Hy}var Hv=Symbol("INITIAL_VALUE");function Uv(){return zg(function(t){return(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=void 0,r=void 0;return G(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(i=e.pop()),1===e.length&&E(e[0])&&(e=e[0]),ct(e,r).lift(new Rg(i))}).apply(void 0,r(t.map(function(t){return t.pipe(vg(1),Vg(Hv))}))).pipe(qg(function(t,e){var n=!1;return e.reduce(function(t,i,r){if(t!==Hv)return t;if(i===Hv&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||Bv(i))return i}return t},t)},Hv),Sm(function(t){return t!==Hv}),W(function(t){return Bv(t)?t:!0===t}),vg(1))})}var Vv,qv=((Vv=function t(){_(this,t)}).\u0275fac=function(t){return new(t||Vv)},Vv.\u0275cmp=oe({type:Vv,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&ns(0,"router-outlet")},directives:function(){return[Q_]},encapsulation:2}),Vv);function Gv(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var i=t[n];Wv(i,Xv(e,i))}}function Wv(t,e){t.children&&Gv(t.children,e)}function Xv(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function Kv(t){var e=t.children&&t.children.map(Kv),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=qv),n}function Zv(t){return t.outlet||"primary"}function Qv(t,e){var n=t.filter(function(t){return Zv(t)===e});return n.push.apply(n,r(t.filter(function(t){return Zv(t)!==e}))),n}var Jv={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function $v(t,e,n){var i;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Jv):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var r=(e.matcher||Py)(n,t,e);if(!r)return Object.assign({},Jv);var o={};Ny(r.posParams,function(t,e){o[e]=t.path});var a=r.consumed.length>0?Object.assign(Object.assign({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:a,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function t_(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&function(t,e,n){return n.some(function(n){return e_(t,e,n)&&"primary"!==Zv(n)})}(t,n,i)){var o=new Uy(e,function(t,e,n,i){var r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;var o,s=a(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(""===u.path&&"primary"!==Zv(u)){var l=new Uy([],{});l._sourceSegment=t,l._segmentIndexShift=e.length,r[Zv(u)]=l}}}catch(c){s.e(c)}finally{s.f()}return r}(t,e,i,new Uy(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(function(n){return e_(t,e,n)})}(t,n,i)){var s=new Uy(t.segments,function(t,e,n,i,r,o){var s,u={},l=a(i);try{for(l.s();!(s=l.n()).done;){var c=s.value;if(e_(t,n,c)&&!r[Zv(c)]){var h=new Uy([],{});h._sourceSegment=t,h._segmentIndexShift="legacy"===o?t.segments.length:e.length,u[Zv(c)]=h}}}catch(d){l.e(d)}finally{l.f()}return Object.assign(Object.assign({},r),u)}(t,e,n,i,t.children,r));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}var u=new Uy(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:n}}function e_(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function n_(t,e,n,i){return!!(Zv(t)===i||"primary"!==i&&e_(e,n,t))&&("**"===t.path||$v(e,t,n).matched)}function i_(t,e,n){return 0===e.length&&!t.children[n]}var r_=function t(e){_(this,t),this.segmentGroup=e||null},o_=function t(e){_(this,t),this.urlTree=e};function a_(t){return new Y(function(e){return e.error(new r_(t))})}function s_(t){return new Y(function(e){return e.error(new o_(t))})}function u_(t){return new Y(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}var l_=function(){function t(e,n,i,r,o){_(this,t),this.configLoader=n,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(Uu)}return x(t,[{key:"apply",value:function(){var t=this,e=t_(this.urlTree.root,[],[],this.config).segmentGroup,n=new Uy(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,"primary").pipe(W(function(e){return t.createUrlTree(c_(e),t.urlTree.queryParams,t.urlTree.fragment)})).pipe(Xg(function(e){if(e instanceof o_)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof r_)throw t.noMatchError(e);throw e}))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(W(function(n){return e.createUrlTree(c_(n),t.queryParams,t.fragment)})).pipe(Xg(function(t){if(t instanceof r_)throw e.noMatchError(t);throw t}))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var i=t.segments.length>0?new Uy([],{primary:t}):t;return new Hy(i,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(W(function(t){return new Uy([],t)})):this.expandSegment(t,n,e,n.segments,i,!0)}},{key:"expandChildren",value:function(t,e,n){for(var i=this,r=[],o=0,a=Object.keys(n.children);o<a.length;o++){var s=a[o];"primary"===s?r.unshift(s):r.push(s)}return nt(r).pipe(Mm(function(r){var o=n.children[r],a=Qv(e,r);return i.expandSegmentGroup(t,a,o,r).pipe(W(function(t){return{segment:t,outlet:r}}))}),qg(function(t,e){return t[e.outlet]=e.segment,t},{}),function(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?Sm(function(e,n){return t(e,n,i)}):N,Qg(1),n?ry(e):ty(function(){return new Fg}))}}())}},{key:"expandSegment",value:function(t,e,n,i,r,o){var a=this;return nt(n).pipe(Mm(function(s){return a.expandSegmentAgainstRoute(t,e,n,s,i,r,o).pipe(Xg(function(t){if(t instanceof r_)return km(null);throw t}))}),sy(function(t){return!!t}),Xg(function(t,n){if(t instanceof Fg||"EmptyError"===t.name){if(i_(e,i,r))return km(new Uy([],{}));throw new r_(e)}throw t}))}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,i,r,o,a){return n_(i,e,r,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o):a_(e):a_(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,i){var r=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?s_(o):this.lineralizeSegments(n,o).pipe(at(function(n){var o=new Uy(n,{});return r.expandSegment(t,o,e,n,i,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,i,r,o){var a=this,s=$v(e,i,r),u=s.matched,l=s.consumedSegments,c=s.lastChild,h=s.positionalParamSegments;if(!u)return a_(e);var d=this.applyRedirectCommands(l,i.redirectTo,h);return i.redirectTo.startsWith("/")?s_(d):this.lineralizeSegments(i,d).pipe(at(function(i){return a.expandSegment(t,e,n,i.concat(r.slice(c)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,i,r){var o=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(W(function(t){return n._loadedConfig=t,new Uy(i,{})})):km(new Uy(i,{}));var a=$v(e,n,i),s=a.matched,u=a.consumedSegments,l=a.lastChild;if(!s)return a_(e);var c=i.slice(l);return this.getChildConfig(t,n,i).pipe(at(function(t){var i=t.module,a=t.routes,s=t_(e,u,c,a),l=s.segmentGroup,h=s.slicedSegments,d=new Uy(l.segments,l.children);if(0===h.length&&d.hasChildren())return o.expandChildren(i,a,d).pipe(W(function(t){return new Uy(u,t)}));if(0===a.length&&0===h.length)return km(new Uy(u,{}));var f=Zv(n)===r;return o.expandSegment(i,d,a,h,f?"primary":r,!0).pipe(W(function(t){return new Uy(u.concat(t.segments),t.children)}))}))}},{key:"getChildConfig",value:function(t,e,n){var i=this;return e.children?km(new zv(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?km(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(at(function(n){return n?i.configLoader.load(t.injector,e).pipe(W(function(t){return e._loadedConfig=t,t})):function(t){return new Y(function(e){return e.error(Iy("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))})}(e)})):km(new zv([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var i=this,r=e.canLoad;return r&&0!==r.length?km(r.map(function(i){var r,o=t.get(i);if(function(t){return t&&jv(t.canLoad)}(o))r=o.canLoad(e,n);else{if(!jv(o))throw new Error("Invalid CanLoad guard");r=o(e,n)}return Fy(r)})).pipe(Uv(),wg(function(t){if(Bv(t)){var e=Iy('Redirecting to "'.concat(i.urlSerializer.serialize(t),'"'));throw e.url=t,e}}),W(function(t){return!0===t})):km(!0)}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],i=e.root;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return km(n);if(i.numberOfChildren>1||!i.children.primary)return u_(t.redirectTo);i=i.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,i){var r=this.createSegmentGroup(t,e.root,n,i);return new Hy(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return Ny(t,function(t,i){if("string"==typeof t&&t.startsWith(":")){var r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}},{key:"createSegmentGroup",value:function(t,e,n,i){var r=this,o=this.createSegments(t,e.segments,n,i),a={};return Ny(e.children,function(e,o){a[o]=r.createSegmentGroup(t,e,n,i)}),new Uy(o,a)}},{key:"createSegments",value:function(t,e,n,i){var r=this;return e.map(function(e){return e.path.startsWith(":")?r.findPosParam(t,e,i):r.findOrReturn(e,n)})}},{key:"findPosParam",value:function(t,e,n){var i=n[e.path.substring(1)];if(!i)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return i}},{key:"findOrReturn",value:function(t,e){var n,i=0,r=a(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(i),o;i++}}catch(s){r.e(s)}finally{r.f()}return t}}]),t}();function c_(t){for(var e={},n=0,i=Object.keys(t.children);n<i.length;n++){var r=i[n],o=c_(t.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new Uy(t.segments.concat(e.segments),e.children)}return t}(new Uy(t.segments,e))}var h_=function t(e){_(this,t),this.path=e,this.route=this.path[this.path.length-1]},d_=function t(e,n){_(this,t),this.component=e,this.route=n};function f_(t,e,n){var i=t._root;return m_(i,e?e._root:null,n,[i.value])}function p_(t,e,n){var i=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function m_(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=dv(e);return t.children.forEach(function(t){!function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!qy(t.url,e.url);case"pathParamsOrQueryParamsChange":return!qy(t.url,e.url)||!Dy(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wv(t,e)||!Dy(t.queryParams,e.queryParams);case"paramsChange":default:return!wv(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new h_(i)):(o.data=a.data,o._resolvedData=a._resolvedData),m_(t,e,o.component?s?s.children:null:n,i,r),u&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new d_(s.outlet.component,a))}else a&&g_(e,s,r),r.canActivateChecks.push(new h_(i)),m_(t,null,o.component?s?s.children:null:n,i,r)}(t,o[t.value.outlet],n,i.concat([t.value]),r),delete o[t.value.outlet]}),Ny(o,function(t,e){return g_(t,n.getContext(e),r)}),r}function g_(t,e,n){var i=dv(t),r=t.value;Ny(i,function(t,i){g_(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new d_(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function y_(t,e){return null!==t&&e&&e(new Sy(t)),km(!0)}function v_(t,e){return null!==t&&e&&e(new ky(t)),km(!0)}function __(t,e,n){var i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?km(i.map(function(i){return Yg(function(){var r,o=p_(i,e,n);if(function(t){return t&&jv(t.canActivate)}(o))r=Fy(o.canActivate(e,t));else{if(!jv(o))throw new Error("Invalid CanActivate guard");r=Fy(o(e,t))}return r.pipe(sy())})})).pipe(Uv()):km(!0)}function b_(t,e,n){var i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return Yg(function(){return km(e.guards.map(function(r){var o,a=p_(r,e.node,n);if(function(t){return t&&jv(t.canActivateChild)}(a))o=Fy(a.canActivateChild(i,t));else{if(!jv(a))throw new Error("Invalid CanActivateChild guard");o=Fy(a(i,t))}return o.pipe(sy())})).pipe(Uv())})});return km(r).pipe(Uv())}var x_=function t(){_(this,t)};function w_(t){return new Y(function(e){return e.error(t)})}var k_=function(){function t(e,n,i,r,o,a){_(this,t),this.rootComponentType=e,this.config=n,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return x(t,[{key:"recognize",value:function(){var t=t_(this.urlTree.root,[],[],this.config.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;var n=new yv([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new hv(n,e),r=new vv(this.url,i);return this.inheritParamsAndData(r._root),r}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,i=gv(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){for(var n=[],i=0,o=Object.keys(e.children);i<o.length;i++){var s=o[i],u=e.children[s],l=Qv(t,s),c=this.processSegmentGroup(l,u,s);if(null===c)return null;n.push.apply(n,r(c))}var h=function(t){var e,n=[],i=a(t);try{var o=function(){var t,i=e.value;if(!function(t){var e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}(i))return n.push(i),"continue";var o=n.find(function(t){return i.value.routeConfig===t.value.routeConfig});void 0!==o?(t=o.children).push.apply(t,r(i.children)):n.push(i)};for(i.s();!(e=i.n()).done;)o()}catch(s){i.e(s)}finally{i.f()}return n}(n);return h.sort(function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)}),h}},{key:"processSegment",value:function(t,e,n,i){var r,o=a(t);try{for(o.s();!(r=o.n()).done;){var s=r.value,u=this.processSegmentAgainstRoute(s,e,n,i);if(null!==u)return u}}catch(l){o.e(l)}finally{o.f()}return i_(e,n,i)?[]:null}},{key:"processSegmentAgainstRoute",value:function(t,e,n,i){if(t.redirectTo||!n_(t,e,n,i))return null;var r,o=[],a=[];if("**"===t.path){var s=n.length>0?Ry(n).parameters:{};r=new yv(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,E_(t),Zv(t),t.component,t,M_(e),S_(e)+n.length,L_(t))}else{var u=$v(e,t,n);if(!u.matched)return null;o=u.consumedSegments,a=n.slice(u.lastChild),r=new yv(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,E_(t),Zv(t),t.component,t,M_(e),S_(e)+o.length,L_(t))}var l=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),c=t_(e,o,a,l.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution),h=c.segmentGroup,d=c.slicedSegments;if(0===d.length&&h.hasChildren()){var f=this.processChildren(l,h);return null===f?null:[new hv(r,f)]}if(0===l.length&&0===d.length)return[new hv(r,[])];var p=Zv(t)===i,m=this.processSegment(l,h,d,p?"primary":i);return null===m?null:[new hv(r,m)]}}]),t}();function M_(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function S_(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function E_(t){return t.data||{}}function L_(t){return t.resolve||{}}function T_(t){return function(e){return e.pipe(zg(function(e){var n=t(e);return n?nt(n).pipe(W(function(){return e})):nt([e])}))}}var C_=function t(){_(this,t)},I_=function(t){d(n,t);var e=p(n);function n(){return _(this,n),e.apply(this,arguments)}return n}(function(){function t(){_(this,t)}return x(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),P_=new fi("ROUTES"),D_=function(){function t(e,n,i,r){_(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=i,this.onLoadEndListener=r}return x(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(W(function(i){n.onLoadEndListener&&n.onLoadEndListener(e);var r=i.create(t);return new zv(Ay(r.injector.get(P_)).map(Kv),r)}))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?nt(this.loader.load(t)):Fy(t()).pipe(at(function(t){return t instanceof Vu?km(t):nt(e.compiler.compileModuleAsync(t))}))}}]),t}(),O_=function t(){_(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new A_,this.attachRef=null},A_=function(){function t(){_(this,t),this.contexts=new Map}return x(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new O_,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),R_=function(){function t(){_(this,t)}return x(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function N_(t){throw t}function F_(t,e,n){return e.parse("/")}function Y_(t,e){return km(null)}var z_,j_,B_,H_=((B_=function(){function t(e,n,i,r,o,a,s,u){var l=this;_(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=i,this.location=r,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new V,this.errorHandler=N_,this.malformedUriErrorHandler=F_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Y_,afterPreactivation:Y_},this.urlHandlingStrategy=new R_,this.routeReuseStrategy=new I_,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(Uu),this.console=o.get(Zl);var c=o.get(dc);this.isNgZoneEnabled=c instanceof dc,this.resetConfig(u),this.currentUrlTree=new Hy(new Uy([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new D_(a,s,function(t){return l.triggerEvent(new xy(t))},function(t){return l.triggerEvent(new wy(t))}),this.routerState=pv(this.currentUrlTree,this.rootComponentType),this.transitions=new Ig({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return x(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(Sm(function(t){return 0!==t.id}),W(function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),zg(function(t){var i,r,o,a=!1,s=!1;return km(t).pipe(wg(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}}),zg(function(t){var i,r,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return km(t).pipe(zg(function(t){var i=e.transitions.getValue();return n.next(new dy(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),i!==e.transitions.getValue()?gg:[t]}),zg(function(t){return Promise.resolve(t)}),(i=e.ngModule.injector,r=e.configLoader,o=e.urlSerializer,a=e.config,function(t){return t.pipe(zg(function(t){return function(t,e,n,i,r){return new l_(t,e,n,i,r).apply()}(i,r,o,t.extractedUrl,a).pipe(W(function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})}))}))}),wg(function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,n,i,r,o){return function(i){return i.pipe(at(function(i){return function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var a=new k_(t,e,n,i,r,o).recognize();return null===a?w_(new x_):km(a)}catch(s){return w_(s)}}(t,n,i.urlAfterRedirects,(a=i.urlAfterRedirects,e.serializeUrl(a)),r,o).pipe(W(function(t){return Object.assign(Object.assign({},i),{targetSnapshot:t})}));var a}))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),wg(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),wg(function(t){var i=new gy(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(i)}));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,l=t.extractedUrl,c=t.source,h=t.restoredState,d=t.extras,f=new dy(u,e.serializeUrl(l),c,h);n.next(f);var p=pv(l,e.rootComponentType).snapshot;return km(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:l,extras:Object.assign(Object.assign({},d),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),gg}),T_(function(t){var n=t.targetSnapshot,i=t.id,r=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),wg(function(t){var n=new yy(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),W(function(t){return Object.assign(Object.assign({},t),{guards:f_(t.targetSnapshot,t.currentSnapshot,e.rootContexts)})}),function(t,e){return function(n){return n.pipe(at(function(n){var i=n.targetSnapshot,r=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?km(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return nt(t).pipe(at(function(t){return function(t,e,n,i,r){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?km(o.map(function(o){var a,s=p_(o,e,r);if(function(t){return t&&jv(t.canDeactivate)}(s))a=Fy(s.canDeactivate(t,e,n,i));else{if(!jv(s))throw new Error("Invalid CanDeactivate guard");a=Fy(s(t,e,n,i))}return a.pipe(sy())})).pipe(Uv()):km(!0)}(t.component,t.route,n,e,i)}),sy(function(t){return!0!==t},!0))}(s,i,r,t).pipe(at(function(n){return n&&"boolean"==typeof n?function(t,e,n,i){return nt(e).pipe(Mm(function(e){return nt([v_(e.route.parent,i),y_(e.route,i),b_(t,e.path,n),__(t,e.route,n)]).pipe(Hg(),sy(function(t){return!0!==t},!0))}),sy(function(t){return!0!==t},!0))}(i,a,t,e):km(n)}),W(function(t){return Object.assign(Object.assign({},n),{guardsResult:t})}))}))}}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),wg(function(t){if(Bv(t.guardsResult)){var n=Iy('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}}),wg(function(t){var n=new vy(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)}),Sm(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var i=new py(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(i),t.resolve(!1),!1}return!0}),T_(function(t){if(t.guards.canActivateChecks.length)return km(t).pipe(wg(function(t){var n=new _y(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),zg(function(t){var i,r,o=!1;return km(t).pipe((i=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(at(function(t){var e=t.targetSnapshot,n=t.guards.canActivateChecks;if(!n.length)return km(t);var o=0;return nt(n).pipe(Mm(function(t){return function(t,e,n,i){return function(t,e,n,i){var r=Object.keys(t);if(0===r.length)return km({});var o={};return nt(r).pipe(at(function(r){return function(t,e,n,i){var r=p_(t,e,i);return Fy(r.resolve?r.resolve(e,n):r(e,n))}(t[r],e,n,i).pipe(wg(function(t){o[r]=t}))}),Qg(1),at(function(){return Object.keys(o).length===r.length?km(o):gg}))}(t._resolve,t,e,i).pipe(W(function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),gv(t,n).resolve),null}))}(t.route,e,i,r)}),wg(function(){return o++}),Qg(1),at(function(e){return o===n.length?km(t):gg}))}))}),wg({next:function(){return o=!0},complete:function(){if(!o){var i=new py(t.id,e.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");n.next(i),t.resolve(!1)}}}))}),wg(function(t){var n=new by(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}))}),T_(function(t){var n=t.targetSnapshot,i=t.id,r=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),W(function(t){var n=function(t,e,n){var i=kv(t,e._root,n?n._root:void 0);return new fv(i,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})}),wg(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(i=e.rootContexts,r=e.routeReuseStrategy,o=function(t){return e.triggerEvent(t)},W(function(t){return new Fv(r,t.targetRouterState,t.currentRouterState,o).activate(i),t})),wg({next:function(){a=!0},complete:function(){a=!0}}),uy(function(){if(!a&&!s){e.resetUrlToCurrentUrlTree();var i=new py(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(i),t.resolve(!1)}e.currentNavigation=null}),Xg(function(i){if(s=!0,(u=i)&&u.ngNavigationCancelingError){var r=Bv(i.url);r||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new py(t.id,e.serializeUrl(t.extractedUrl),i.message);n.next(o),r?setTimeout(function(){var n=e.urlHandlingStrategy.merge(i.url,e.rawUrlTree);return e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new my(t.id,e.serializeUrl(t.extractedUrl),i);n.next(a);try{t.resolve(e.errorHandler(i))}catch(l){t.reject(l)}}var u;return gg}))}))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout(function(){var e=n.source,i=n.state,r=n.urlTree,o={replaceUrl:!0};if(i){var a=Object.assign({},i);delete a.navigationId,0!==Object.keys(a).length&&(o.state=a)}t.scheduleNavigation(r,e,i,o)},0),t.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){Gv(t),this.config=t.map(Kv),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,i=e.queryParams,o=e.fragment,a=e.queryParamsHandling,s=e.preserveFragment,u=n||this.routerState.root,l=s?this.currentUrlTree.fragment:o,c=null;switch(a){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,i,o){if(0===n.length)return Lv(e.root,e.root,e,i,o);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Cv(!0,0,t);var e=0,n=!1,i=t.reduce(function(t,i,o){if("object"==typeof i&&null!=i){if(i.outlets){var a={};return Ny(i.outlets,function(t,e){a[e]="string"==typeof t?t.split("/"):t}),[].concat(r(t),[{outlets:a}])}if(i.segmentPath)return[].concat(r(t),[i.segmentPath])}return"string"!=typeof i?[].concat(r(t),[i]):0===o?(i.split("/").forEach(function(i,r){0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[].concat(r(t),[i])},[]);return new Cv(n,e,i)}(n);if(a.toRoot())return Lv(e.root,new Uy([],{}),e,i,o);var s=function(t,e,n){if(t.isAbsolute)return new Iv(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var i=n.snapshot._urlSegment;return new Iv(i,i===e.root,0)}var r=Sv(t.commands[0])?0:1;return function(t,e,n){for(var i=t,r=e,o=n;o>r;){if(o-=r,!(i=i.parent))throw new Error("Invalid number of '../'");r=i.segments.length}return new Iv(i,!1,r-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(a,e,t),u=s.processChildren?Dv(s.segmentGroup,s.index,a.commands):Pv(s.segmentGroup,s.index,a.commands);return Lv(s.segmentGroup,u,e,i,o)}(u,this.currentUrlTree,t,c,l)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=Bv(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(Bv(t))return Yy(this.currentUrlTree,t,e);var n=this.parseUrl(t);return Yy(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce(function(e,n){var i=t[n];return null!=i&&(e[n]=i),e},{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new fy(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(t,e,n,i,r){var o,a,s,u=this.getTransition(),l="imperative"!==e&&"imperative"===(null==u?void 0:u.source),c=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===t.toString();if(l&&c)return Promise.resolve(!0);r?(o=r.resolve,a=r.reject,s=r.promise):s=new Promise(function(t,e){o=t,a=e});var h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(t){return Promise.reject(t)})}},{key:"setBrowserUrl",value:function(t,e,n,i){var r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),t}()).\u0275fac=function(t){return new(t||B_)(Ri(mi),Ri(Gy),Ri(A_),Ri(dh),Ri(Ia),Ri(Rc),Ri(sc),Ri(void 0))},B_.\u0275prov=Tt({token:B_,factory:B_.\u0275fac}),B_),U_=((j_=function(){function t(e,n,i,r,o){_(this,t),this.router=e,this.route=n,this.commands=[],this.onChanges=new V,null==i&&r.setAttribute(o.nativeElement,"tabindex","0")}return x(t,[{key:"ngOnChanges",value:function(t){this.onChanges.next(this)}},{key:"onClick",value:function(){var t={skipLocationChange:q_(this.skipLocationChange),replaceUrl:q_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:q_(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||j_)(Qa(H_),Qa(mv),hi("tabindex"),Qa(fu),Qa(hu))},j_.\u0275dir=de({type:j_,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&us("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Te]}),j_),V_=((z_=function(){function t(e,n,i){var r=this;_(this,t),this.router=e,this.route=n,this.locationStrategy=i,this.commands=[],this.onChanges=new V,this.subscription=e.events.subscribe(function(t){t instanceof fy&&r.updateTargetUrlAndHref()})}return x(t,[{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,i,r){if(0!==t||e||n||i||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:q_(this.skipLocationChange),replaceUrl:q_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:q_(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||z_)(Qa(H_),Qa(mv),Qa(rh))},z_.\u0275dir=de({type:z_,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&us("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(Us("href",e.href,br),Ga("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Te]}),z_);function q_(t){return""===t||!!t}var G_,W_,X_,K_,Z_=((W_=function(){function t(e,n,i,r,o,a){var s=this;_(this,t),this.router=e,this.element=n,this.renderer=i,this.cdr=r,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(function(t){t instanceof fy&&s.update()})}return x(t,[{key:"ngAfterContentInit",value:function(){var t=this;nt([this.links.changes,this.linksWithHrefs.changes,km(null)]).pipe(lt()).subscribe(function(e){t.update(),t.subscribeToEachLinkOnChanges()})}},{key:"subscribeToEachLinkOnChanges",value:function(){var t,e=this;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();var n=[].concat(r(this.links.toArray()),r(this.linksWithHrefs.toArray()),[this.link,this.linkWithHref]).filter(function(t){return!!t}).map(function(t){return t.onChanges});this.linkInputChangesSubscription=nt(n).pipe(lt()).subscribe(function(t){e.isActive!==e.isLinkActive(e.router)(t)&&e.update()})}},{key:"ngOnChanges",value:function(t){this.update()}},{key:"ngOnDestroy",value:function(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}},{key:"update",value:function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.cdr.markForCheck(),t.classes.forEach(function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)}))})}},{key:"isLinkActive",value:function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}},{key:"routerLinkActive",set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(function(t){return!!t})}}]),t}()).\u0275fac=function(t){return new(t||W_)(Qa(H_),Qa(hu),Qa(fu),Qa(Au),Qa(U_,8),Qa(V_,8))},W_.\u0275dir=de({type:W_,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var i;1&t&&(Al(n,U_,!0),Al(n,V_,!0)),2&t&&(Il(i=Fl())&&(e.links=i),Il(i=Fl())&&(e.linksWithHrefs=i))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Te]}),W_),Q_=((G_=function(){function t(e,n,i,r,o){_(this,t),this.parentContexts=e,this.location=n,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new vl,this.deactivateEvents=new vl,this.name=r||"primary",e.onChildOutletCreated(this.name,this)}return x(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new J_(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),t}()).\u0275fac=function(t){return new(t||G_)(Qa(A_),Qa(Gu),Qa(su),hi("name"),Qa(Au))},G_.\u0275dir=de({type:G_,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),G_),J_=function(){function t(e,n,i){_(this,t),this.route=e,this.childContexts=n,this.parent=i}return x(t,[{key:"get",value:function(t,e){return t===mv?this.route:t===A_?this.childContexts:this.parent.get(t,e)}}]),t}(),$_=function t(){_(this,t)},tb=function(){function t(){_(this,t)}return x(t,[{key:"preload",value:function(t,e){return km(null)}}]),t}(),eb=((K_=function(){function t(e,n,i,r,o){_(this,t),this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new D_(n,i,function(t){return e.triggerEvent(new xy(t))},function(t){return e.triggerEvent(new wy(t))})}return x(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(Sm(function(t){return t instanceof fy}),Mm(function(){return t.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var t=this.injector.get(Uu);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,i=[],r=a(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var s=o._loadedConfig;i.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?i.push(this.preloadConfig(t,o)):o.children&&i.push(this.processRoutes(t,o.children))}}catch(u){r.e(u)}finally{r.f()}return nt(i).pipe(lt(),W(function(t){}))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return n.loader.load(t.injector,e).pipe(at(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})}}]),t}()).\u0275fac=function(t){return new(t||K_)(Ri(H_),Ri(Rc),Ri(sc),Ri(Ia),Ri($_))},K_.\u0275prov=Tt({token:K_,factory:K_.\u0275fac}),K_),nb=((X_=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_(this,t),this.router=e,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return x(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof dy?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof fy&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Ly&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new Ly(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||X_)(Ri(H_),Ri(qh),Ri(void 0))},X_.\u0275prov=Tt({token:X_,factory:X_.\u0275fac}),X_),ib=new fi("ROUTER_CONFIGURATION"),rb=new fi("ROUTER_FORROOT_GUARD"),ob=[dh,{provide:Gy,useClass:Wy},{provide:H_,useFactory:function(t,e,n,i,r,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,c=new H_(null,t,e,n,i,r,o,Ay(a));if(u&&(c.urlHandlingStrategy=u),l&&(c.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(s,c),s.enableTracing){var h=Vc();c.events.subscribe(function(t){h.logGroup("Router Event: "+t.constructor.name),h.log(t.toString()),h.log(t),h.logGroupEnd()})}return c},deps:[Gy,A_,dh,Ia,Rc,sc,P_,ib,[function(){return function t(){_(this,t)}}(),new Si],[C_,new Si]]},A_,{provide:mv,useFactory:function(t){return t.routerState.root},deps:[H_]},{provide:Rc,useClass:Yc},eb,tb,function(){function t(){_(this,t)}return x(t,[{key:"preload",value:function(t,e){return e().pipe(Xg(function(){return km(null)}))}}]),t}(),{provide:ib,useValue:{enableTracing:!1}}];function ab(){return new Lc("Router",H_)}var sb,ub=((sb=function(){function t(e,n){_(this,t)}return x(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[ob,db(e),{provide:rb,useFactory:hb,deps:[[H_,new Si,new Li]]},{provide:ib,useValue:n||{}},{provide:rh,useFactory:cb,deps:[Wc,[new Mi(lh),new Si],ib]},{provide:nb,useFactory:lb,deps:[H_,qh,ib]},{provide:$_,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:tb},{provide:Lc,multi:!0,useFactory:ab},[pb,{provide:Hl,multi:!0,useFactory:mb,deps:[pb]},{provide:yb,useFactory:gb,deps:[pb]},{provide:Kl,multi:!0,useExisting:yb}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[db(e)]}}}]),t}()).\u0275mod=ce({type:sb}),sb.\u0275inj=Ct({factory:function(t){return new(t||sb)(Ri(rb,8),Ri(H_,8))}}),sb);function lb(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new nb(t,e,n)}function cb(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new hh(t,e):new ch(t,e)}function hb(t){return"guarded"}function db(t){return[{provide:pi,multi:!0,useValue:t},{provide:P_,multi:!0,useValue:t}]}var fb,pb=((fb=function(){function t(e){_(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new V}return x(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(Zc,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),i=t.injector.get(H_),r=t.injector.get(ib);return"disabled"===r.initialNavigation?(i.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(i.hooks.afterPreactivation=function(){return t.initNavigation?km(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},i.initialNavigation()):e(!0),n})}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(ib),n=this.injector.get(eb),i=this.injector.get(nb),r=this.injector.get(H_),o=this.injector.get(Oc);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||r.initialNavigation(),n.setUpPreloading(),i.init(),r.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),t}()).\u0275fac=function(t){return new(t||fb)(Ri(Ia))},fb.\u0275prov=Tt({token:fb,factory:fb.\u0275fac}),fb);function mb(t){return t.appInitializer.bind(t)}function gb(t){return t.bootstrapListener.bind(t)}var yb=new fi("Router Initializer"),vb=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r.pending=!1,r}return x(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){d(n,t);var e=p(n);function n(t,i){return _(this,n),e.call(this)}return x(n,[{key:"schedule",value:function(t){return this}}]),n}(I)),_b=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_(this,t),this.SchedulerAction=e,this.now=n}return x(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),bb=function(t){d(n,t);var e=p(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_b.now;return _(this,n),(i=e.call(this,t,function(){return n.delegate&&n.delegate!==g(i)?n.delegate.now():r()})).actions=[],i.active=!1,i.scheduled=void 0,i}return x(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,i):h(v(n.prototype),"schedule",this).call(this,t,e,i)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(_b),xb=new bb(vb);function wb(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xb;return function(n){return n.lift(new kb(t,e))}}var kb=function(){function t(e,n){_(this,t),this.dueTime=e,this.scheduler=n}return x(t,[{key:"call",value:function(t,e){return e.subscribe(new Mb(t,this.dueTime,this.scheduler))}}]),t}(),Mb=function(t){d(n,t);var e=p(n);function n(t,i,r){var o;return _(this,n),(o=e.call(this,t)).dueTime=i,o.scheduler=r,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return x(n,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Sb,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),n}(O);function Sb(t){t.debouncedNext()}var Eb,Lb=function(){function t(e,n){_(this,t),this.compare=e,this.keySelector=n}return x(t,[{key:"call",value:function(t,e){return e.subscribe(new Tb(t,this.compare,this.keySelector))}}]),t}(),Tb=function(t){d(n,t);var e=p(n);function n(t,i,r){var o;return _(this,n),(o=e.call(this,t)).keySelector=r,o.hasKey=!1,"function"==typeof i&&(o.compare=i),o}return x(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(r){return this.destination.error(r)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}]),n}(O),Cb=y("LyFZ"),Ib=((Eb=function(){function t(e){var n=this;_(this,t),this.http=e,this.searchDocumentsDictEn={},this.searchDocumentsDictDe={},this.http.get("/assets/search/index_en.json").subscribe(function(t){n.searchIndexEn=Cb.Index.load(t)}),this.http.get("/assets/search/index_de.json").subscribe(function(t){n.searchIndexDe=Cb.Index.load(t)}),this.http.get("/assets/search/documents_en.json").subscribe(function(t){t.forEach(function(t){n.searchDocumentsDictEn[t.location]=t})}),this.http.get("/assets/search/documents_de.json").subscribe(function(t){t.forEach(function(t){n.searchDocumentsDictDe[t.location]=t})})}return x(t,[{key:"search",value:function(t,e){var n=[];if((t=t.trim())&&""!==t){var i,r,o=t.split(" "),a="";o.forEach(function(t){t=(t=t.replace("gasse","gass*")).replace("Gasse","Gass*"),a+="*"+t+"* ",a+=t+" "}),"de"===e?(a=a.replace(/\xdf/g,"*"),i=this.searchIndexDe.search(a),r=this.searchDocumentsDictDe):(i=this.searchIndexEn.search(a),r=this.searchDocumentsDictEn);for(var s={},u=0;u<i.length;u++){var l=r[i[u].ref];s[l.title]||(s[l.title]={term:t,title:l.title,location:l.location.split("#")[0],textDocuments:[],mediaDocuments:[],hasResults:!1},n.push(s[l.title])),"title"!==l.type?"keywords"!==l.type&&("page"===l.type||"mediator"==l.type||"event"==l.type||"note"===l.type?s[l.title].textDocuments.push(l):"image"!==l.type&&"video"!=l.type&&"audio"!=l.type||s[l.title].mediaDocuments.push(l)):s[l.title].hasResults=!0}return n}}}]),t}()).\u0275fac=function(t){return new(t||Eb)(Ri($m))},Eb.\u0275prov=Tt({token:Eb,factory:Eb.\u0275fac}),Eb);function Pb(t){return!!t&&(t instanceof Y||"function"==typeof t.lift&&"function"==typeof t.subscribe)}function Db(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var i=e[0];if(E(i))return Ob(i,null);if(L(i)&&Object.getPrototypeOf(i)===Object.prototype){var o=Object.keys(i);return Ob(o.map(function(t){return i[t]}),o)}}if("function"==typeof e[e.length-1]){var a=e.pop();return Ob(e=1===e.length&&E(e[0])?e[0]:e,null).pipe(W(function(t){return a.apply(void 0,r(t))}))}return Ob(e,null)}function Ob(t,e){return new Y(function(n){var i=t.length;if(0!==i)for(var r=new Array(i),o=0,a=0,s=function(s){var u=nt(t[s]),l=!1;n.add(u.subscribe({next:function(t){l||(l=!0,a++),r[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==i&&l||(a===i&&n.next(e?e.reduce(function(t,e,n){return t[e]=r[n],t},{}):r),n.complete())}}))},u=0;u<i;u++)s(u);else n.complete()})}var Ab=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r}return x(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?h(v(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?h(v(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0||null===i&&this.delay>0?h(v(n.prototype),"requestAsyncId",this).call(this,t,e,i):t.flush(this)}}]),n}(vb),Rb=new(function(t){d(n,t);var e=p(n);function n(){return _(this,n),e.apply(this,arguments)}return n}(bb))(Ab);function Nb(t,e){return new Y(e?function(n){return e.schedule(Fb,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function Fb(t){var e=t.error;t.subscriber.error(e)}var Yb,zb=((Yb=function(){function t(e,n,i){_(this,t),this.kind=e,this.value=n,this.error=i,this.hasValue="N"===e}return x(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return km(this.value);case"E":return Nb(this.error);case"C":return yg()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new Yb("C"),Yb.undefinedValueNotification=new Yb("N",void 0),Yb),jb=function(t){d(n,t);var e=p(n);function n(t,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _(this,n),(r=e.call(this,t)).scheduler=i,r.delay=o,r}return x(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new Bb(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(zb.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(zb.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(zb.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(O),Bb=function t(e,n){_(this,t),this.notification=e,this.destination=n},Hb=function(t){d(n,t);var e=p(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return _(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=i<1?1:i,t._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return x(n,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}h(v(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new Ub(this._getNow(),t)),this._trimBufferThenGetEvents()),h(v(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=i.length;if(this.closed)throw new B;if(this.isStopped||this.hasError?e=I.EMPTY:(this.observers.push(t),e=new H(this,t)),r&&t.add(t=new jb(t,r)),n)for(var a=0;a<o&&!t.closed;a++)t.next(i[a]);else for(var s=0;s<o&&!t.closed;s++)t.next(i[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||Rb).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,o=0;o<r&&!(t-i[o].time<n);)o++;return r>e&&(o=Math.max(o,r-e)),o>0&&i.splice(0,o),i}}]),n}(V),Ub=function t(e,n){_(this,t),this.time=e,this.value=n};function Vb(t,e,n){var i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,i=t.bufferSize,r=void 0===i?Number.POSITIVE_INFINITY:i,o=t.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=t.refCount,u=t.scheduler,l=0,c=!1,h=!1;return function(t){var i;l++,!e||c?(c=!1,e=new Hb(r,a,u),i=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){c=!0,e.error(t)},complete:function(){h=!0,n=void 0,e.complete()}})):i=e.subscribe(this),this.add(function(){l--,i.unsubscribe(),n&&!h&&s&&0===l&&(n.unsubscribe(),n=void 0,e=void 0)})}}(i))}}var qb,Gb,Wb=function t(){_(this,t)},Xb=((qb=function(t){d(n,t);var e=p(n);function n(){return _(this,n),e.apply(this,arguments)}return x(n,[{key:"getTranslation",value:function(t){return km({})}}]),n}(Wb)).\u0275fac=function(t){return Kb(t||qb)},qb.\u0275prov=Tt({token:qb,factory:qb.\u0275fac}),qb),Kb=ci(Xb),Zb=function t(){_(this,t)},Qb=((Gb=function(){function t(){_(this,t)}return x(t,[{key:"handle",value:function(t){return t.key}}]),t}()).\u0275fac=function(t){return new(t||Gb)},Gb.\u0275prov=Tt({token:Gb,factory:Gb.\u0275fac}),Gb);function Jb(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var n,i,r,o=typeof t;if(o==typeof e&&"object"==o){if(!Array.isArray(t)){if(Array.isArray(e))return!1;for(i in r=Object.create(null),t){if(!Jb(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!(i in r)&&void 0!==e[i])return!1;return!0}if(!Array.isArray(e))return!1;if((n=t.length)==e.length){for(i=0;i<n;i++)if(!Jb(t[i],e[i]))return!1;return!0}}return!1}function $b(t){return null!=t}function tx(t){return t&&"object"==typeof t&&!Array.isArray(t)}function ex(e,n){var i=Object.assign({},e);return tx(e)&&tx(n)&&Object.keys(n).forEach(function(r){tx(n[r])&&r in e?i[r]=ex(e[r],n[r]):Object.assign(i,t({},r,n[r]))}),i}var nx,ix,rx,ox,ax,sx=function t(){_(this,t)},ux=((nx=function(t){d(n,t);var e=p(n);function n(){var t;return _(this,n),(t=e.apply(this,arguments)).templateMatcher=/{{\s?([^{}\s]*)\s?}}/g,t}return x(n,[{key:"interpolate",value:function(t,e){return"string"==typeof t?this.interpolateString(t,e):"function"==typeof t?this.interpolateFunction(t,e):t}},{key:"getValue",value:function(t,e){var n="string"==typeof e?e.split("."):[e];e="";do{e+=n.shift(),!$b(t)||!$b(t[e])||"object"!=typeof t[e]&&n.length?n.length?e+=".":t=void 0:(t=t[e],e="")}while(n.length);return t}},{key:"interpolateFunction",value:function(t,e){return t(e)}},{key:"interpolateString",value:function(t,e){var n=this;return e?t.replace(this.templateMatcher,function(t,i){var r=n.getValue(e,i);return $b(r)?r:t}):t}}]),n}(sx)).\u0275fac=function(t){return lx(t||nx)},nx.\u0275prov=Tt({token:nx,factory:nx.\u0275fac}),nx),lx=ci(ux),cx=function t(){_(this,t)},hx=((ix=function(t){d(n,t);var e=p(n);function n(){return _(this,n),e.apply(this,arguments)}return x(n,[{key:"compile",value:function(t,e){return t}},{key:"compileTranslations",value:function(t,e){return t}}]),n}(cx)).\u0275fac=function(t){return dx(t||ix)},ix.\u0275prov=Tt({token:ix,factory:ix.\u0275fac}),ix),dx=ci(hx),fx=function t(){_(this,t),this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new vl,this.onLangChange=new vl,this.onDefaultLangChange=new vl},px=new fi("USE_STORE"),mx=new fi("USE_DEFAULT_LANG"),gx=new fi("DEFAULT_LANGUAGE"),yx=new fi("USE_EXTEND"),vx=((ax=function(){function t(e,n,i,r,o){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8?arguments[8]:void 0;_(this,t),this.store=e,this.currentLoader=n,this.compiler=i,this.parser=r,this.missingTranslationHandler=o,this.useDefaultLang=a,this.isolate=s,this.extend=u,this.pending=!1,this._onTranslationChange=new vl,this._onLangChange=new vl,this._onDefaultLangChange=new vl,this._langs=[],this._translations={},this._translationRequests={},l&&this.setDefaultLang(l)}return x(t,[{key:"setDefaultLang",value:function(t){var e=this;if(t!==this.defaultLang){var n=this.retrieveTranslations(t);void 0!==n?(null==this.defaultLang&&(this.defaultLang=t),n.pipe(vg(1)).subscribe(function(n){e.changeDefaultLang(t)})):this.changeDefaultLang(t)}}},{key:"getDefaultLang",value:function(){return this.defaultLang}},{key:"use",value:function(t){var e=this;if(t===this.currentLang)return km(this.translations[t]);var n=this.retrieveTranslations(t);return void 0!==n?(this.currentLang||(this.currentLang=t),n.pipe(vg(1)).subscribe(function(n){e.changeLang(t)}),n):(this.changeLang(t),km(this.translations[t]))}},{key:"retrieveTranslations",value:function(t){var e;return(void 0===this.translations[t]||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),e=this._translationRequests[t]),e}},{key:"getTranslation",value:function(t){var e=this;this.pending=!0;var n=this.currentLoader.getTranslation(t).pipe(Vb(1),vg(1));return this.loadingTranslations=n.pipe(W(function(n){return e.compiler.compileTranslations(n,t)}),Vb(1),vg(1)),this.loadingTranslations.subscribe({next:function(n){e.translations[t]=e.extend&&e.translations[t]?Object.assign(Object.assign({},n),e.translations[t]):n,e.updateLangs(),e.pending=!1},error:function(t){e.pending=!1}}),n}},{key:"setTranslation",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=this.compiler.compileTranslations(e,t),this.translations[t]=(n||this.extend)&&this.translations[t]?ex(this.translations[t],e):e,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}},{key:"getLangs",value:function(){return this.langs}},{key:"addLangs",value:function(t){var e=this;t.forEach(function(t){-1===e.langs.indexOf(t)&&e.langs.push(t)})}},{key:"updateLangs",value:function(){this.addLangs(Object.keys(this.translations))}},{key:"getParsedResult",value:function(t,e,n){var i;if(e instanceof Array){var r,o={},s=!1,u=a(e);try{for(u.s();!(r=u.n()).done;){var l=r.value;o[l]=this.getParsedResult(t,l,n),Pb(o[l])&&(s=!0)}}catch(h){u.e(h)}finally{u.f()}return s?Db(e.map(function(t){return Pb(o[t])?o[t]:km(o[t])})).pipe(W(function(t){var n={};return t.forEach(function(t,i){n[e[i]]=t}),n})):o}if(t&&(i=this.parser.interpolate(this.parser.getValue(t,e),n)),void 0===i&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(i=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],e),n)),void 0===i){var c={key:e,translateService:this};void 0!==n&&(c.interpolateParams=n),i=this.missingTranslationHandler.handle(c)}return void 0!==i?i:e}},{key:"get",value:function(t,e){var n=this;if(!$b(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Mm(function(i){return Pb(i=n.getParsedResult(i,t,e))?i:km(i)}));var i=this.getParsedResult(this.translations[this.currentLang],t,e);return Pb(i)?i:km(i)}},{key:"getStreamOnTranslationChange",value:function(t,e){var n=this;if(!$b(t)||!t.length)throw new Error('Parameter "key" required');return Ug(Yg(function(){return n.get(t,e)}),this.onTranslationChange.pipe(zg(function(i){var r=n.getParsedResult(i.translations,t,e);return"function"==typeof r.subscribe?r:km(r)})))}},{key:"stream",value:function(t,e){var n=this;if(!$b(t)||!t.length)throw new Error('Parameter "key" required');return Ug(Yg(function(){return n.get(t,e)}),this.onLangChange.pipe(zg(function(i){var r=n.getParsedResult(i.translations,t,e);return Pb(r)?r:km(r)})))}},{key:"instant",value:function(t,e){if(!$b(t)||!t.length)throw new Error('Parameter "key" required');var n=this.getParsedResult(this.translations[this.currentLang],t,e);if(Pb(n)){if(t instanceof Array){var i={};return t.forEach(function(e,n){i[t[n]]=t[n]}),i}return t}return n}},{key:"set",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentLang;this.translations[n][t]=this.compiler.compile(e,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}},{key:"changeLang",value:function(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}},{key:"changeDefaultLang",value:function(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}},{key:"reloadLang",value:function(t){return this.resetLang(t),this.getTranslation(t)}},{key:"resetLang",value:function(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}},{key:"getBrowserLang",value:function(){if("undefined"!=typeof window&&void 0!==window.navigator){var t=window.navigator.languages?window.navigator.languages[0]:null;return void 0!==(t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage)?(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t):void 0}}},{key:"getBrowserCultureLang",value:function(){if("undefined"!=typeof window&&void 0!==window.navigator){var t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}}},{key:"onTranslationChange",get:function(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}},{key:"onLangChange",get:function(){return this.isolate?this._onLangChange:this.store.onLangChange}},{key:"onDefaultLangChange",get:function(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}},{key:"defaultLang",get:function(){return this.isolate?this._defaultLang:this.store.defaultLang},set:function(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}},{key:"currentLang",get:function(){return this.isolate?this._currentLang:this.store.currentLang},set:function(t){this.isolate?this._currentLang=t:this.store.currentLang=t}},{key:"langs",get:function(){return this.isolate?this._langs:this.store.langs},set:function(t){this.isolate?this._langs=t:this.store.langs=t}},{key:"translations",get:function(){return this.isolate?this._translations:this.store.translations},set:function(t){this.isolate?this._translations=t:this.store.translations=t}}]),t}()).\u0275fac=function(t){return new(t||ax)(Ri(fx),Ri(Wb),Ri(cx),Ri(sx),Ri(Zb),Ri(mx),Ri(px),Ri(yx),Ri(gx))},ax.\u0275prov=Tt({token:ax,factory:ax.\u0275fac}),ax),_x=((ox=function(){function t(e,n){_(this,t),this.translate=e,this._ref=n,this.value=""}return x(t,[{key:"updateValue",value:function(t,e,n){var i=this,r=function(e){i.value=void 0!==e?e:t,i.lastKey=t,i._ref.markForCheck()};if(n){var o=this.translate.getParsedResult(n,t,e);Pb(o.subscribe)?o.subscribe(r):r(o)}this.translate.get(t,e).subscribe(r)}},{key:"transform",value:function(t){var e,n=this;if(!t||!t.length)return t;for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];if(Jb(t,this.lastKey)&&Jb(r,this.lastParams))return this.value;if($b(r[0])&&r.length)if("string"==typeof r[0]&&r[0].length){var a=r[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{e=JSON.parse(a)}catch(s){throw new SyntaxError("Wrong parameter in TranslatePipe. Expected a valid Object, received: "+r[0])}}else"object"!=typeof r[0]||Array.isArray(r[0])||(e=r[0]);return this.lastKey=t,this.lastParams=r,this.updateValue(t,e),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(function(i){n.lastKey&&i.lang===n.translate.currentLang&&(n.lastKey=null,n.updateValue(t,e,i.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(function(i){n.lastKey&&(n.lastKey=null,n.updateValue(t,e,i.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(function(){n.lastKey&&(n.lastKey=null,n.updateValue(t,e))})),this.value}},{key:"_dispose",value:function(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}},{key:"ngOnDestroy",value:function(){this._dispose()}}]),t}()).\u0275fac=function(t){return new(t||ox)(Qa(vx),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt.Default,e=Ru(!0);if(null!=e||t&Yt.Optional)return e;Ee("ChangeDetectorRef")}())},ox.\u0275pipe=fe({name:"translate",type:ox,pure:!1}),ox.\u0275prov=Tt({token:ox,factory:ox.\u0275fac}),ox),bx=((rx=function(){function t(){_(this,t)}return x(t,null,[{key:"forRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.loader||{provide:Wb,useClass:Xb},e.compiler||{provide:cx,useClass:hx},e.parser||{provide:sx,useClass:ux},e.missingTranslationHandler||{provide:Zb,useClass:Qb},fx,{provide:px,useValue:e.isolate},{provide:mx,useValue:e.useDefaultLang},{provide:yx,useValue:e.extend},{provide:gx,useValue:e.defaultLanguage},vx]}}},{key:"forChild",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.loader||{provide:Wb,useClass:Xb},e.compiler||{provide:cx,useClass:hx},e.parser||{provide:sx,useClass:ux},e.missingTranslationHandler||{provide:Zb,useClass:Qb},{provide:px,useValue:e.isolate},{provide:mx,useValue:e.useDefaultLang},{provide:yx,useValue:e.extend},{provide:gx,useValue:e.defaultLanguage},vx]}}}]),t}()).\u0275mod=ce({type:rx}),rx.\u0275inj=Ct({factory:function(t){return new(t||rx)}}),rx);function xx(t){return null!=t&&""+t!="false"}function wx(t){return Array.isArray(t)?t:[t]}function kx(t){return null==t?"":"string"==typeof t?t:t+"px"}function Mx(t){return t instanceof hu?t.nativeElement:t}function Sx(t,e,n,i){return b(n)&&(i=n,n=void 0),i?Sx(t,e,n).pipe(W(function(t){return E(t)?i.apply(void 0,r(t)):i(t)})):new Y(function(i){Ex(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}function Ex(t,e,n,i,r){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var a=t;t.addEventListener(e,n,r),o=function(){return a.removeEventListener(e,n,r)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var s=t;t.on(e,n),o=function(){return s.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var u=t;t.addListener(e,n),o=function(){return u.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,c=t.length;l<c;l++)Ex(t[l],e,n,i,r)}i.add(o)}var Lx=1,Tx=Promise.resolve(),Cx={};function Ix(t){return t in Cx&&(delete Cx[t],!0)}var Px=function(t){var e=Lx++;return Cx[e]=!0,Tx.then(function(){return Ix(e)&&t()}),e},Dx=function(t){Ix(t)},Ox=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r}return x(n,[{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?h(v(n.prototype),"requestAsyncId",this).call(this,t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=Px(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return h(v(n.prototype),"recycleAsyncId",this).call(this,t,e,i);0===t.actions.length&&(Dx(e),t.scheduled=void 0)}}]),n}(vb),Ax=new(function(t){d(n,t);var e=p(n);function n(){return _(this,n),e.apply(this,arguments)}return x(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,r=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<r&&(t=n.shift()));if(this.active=!1,e){for(;++i<r&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(bb))(Ox),Rx=function(){function t(e){_(this,t),this.durationSelector=e}return x(t,[{key:"call",value:function(t,e){return e.subscribe(new Nx(t,this.durationSelector))}}]),t}(),Nx=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this,t)).durationSelector=i,r.hasValue=!1,r}return x(n,[{key:"_next",value:function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e;try{e=(0,this.durationSelector)(t)}catch(i){return this.destination.error(i)}var n=ot(e,new it(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}},{key:"notifyNext",value:function(){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(rt);function Fx(t){return!E(t)&&t-parseFloat(t)+1>=0}function Yx(t){var e=t.index,n=t.period,i=t.subscriber;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function zx(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xb;return e=function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=-1;return Fx(e)?i=Number(e)<1?1:Number(e):G(e)&&(n=e),G(n)||(n=xb),new Y(function(e){var r=Fx(t)?t:+t-n.now();return n.schedule(Yx,r,{index:0,period:i,subscriber:e})})}(t,n)},function(t){return t.lift(new Rx(e))}}function jx(t){return function(e){return e.lift(new Hx(t))}}var Bx,Hx=function(){function t(e){_(this,t),this.notifier=e}return x(t,[{key:"call",value:function(t,e){var n=new Ux(t),i=ot(this.notifier,new it(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}]),t}(),Ux=function(t){d(n,t);var e=p(n);function n(t){var i;return _(this,n),(i=e.call(this,t)).seenValue=!1,i}return x(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(rt);try{Bx="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(FY){Bx=!1}var Vx,qx,Gx,Wx,Xx,Kx=((Gx=function t(e){_(this,t),this._platformId=e,this.isBrowser=this._platformId?Hh(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Bx)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}).\u0275fac=function(t){return new(t||Gx)(Ri(Xl))},Gx.\u0275prov=Tt({factory:function(){return new Gx(Ri(Xl))},token:Gx,providedIn:"root"}),Gx),Zx=((qx=function t(){_(this,t)}).\u0275mod=ce({type:qx}),qx.\u0275inj=Ct({factory:function(t){return new(t||qx)}}),qx),Qx=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Jx(){if(Vx)return Vx;if("object"!=typeof document||!document)return Vx=new Set(Qx);var t=document.createElement("input");return Vx=new Set(Qx.filter(function(e){return t.setAttribute("type",e),t.type===e}))}function $x(t){return function(){if(null==Wx&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return Wx=!0}}))}finally{Wx=Wx||!1}return Wx}()?t:!!t.capture}var tw,ew,nw,iw,rw,ow,aw,sw,uw=new fi("cdk-dir-doc",{providedIn:"root",factory:function(){return Fi(Gc)}}),lw=((ow=function(){function t(e){if(_(this,t),this.value="ltr",this.change=new vl,e){var n=e.documentElement?e.documentElement.dir:null,i=(e.body?e.body.dir:null)||n;this.value="ltr"===i||"rtl"===i?i:"ltr"}}return x(t,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),t}()).\u0275fac=function(t){return new(t||ow)(Ri(uw,8))},ow.\u0275prov=Tt({factory:function(){return new ow(Ri(uw,8))},token:ow,providedIn:"root"}),ow),cw=((rw=function t(){_(this,t)}).\u0275mod=ce({type:rw}),rw.\u0275inj=Ct({factory:function(t){return new(t||rw)}}),rw),hw=((iw=function(){function t(e,n,i){_(this,t),this._ngZone=e,this._platform=n,this._scrolled=new V,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}return x(t,[{key:"register",value:function(t){var e=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(function(){return e._scrolled.next(t)}))}},{key:"deregister",value:function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}},{key:"scrolled",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new Y(function(n){t._globalSubscription||t._addGlobalListener();var i=e>0?t._scrolled.pipe(zx(e)).subscribe(n):t._scrolled.subscribe(n);return t._scrolledCount++,function(){i.unsubscribe(),t._scrolledCount--,t._scrolledCount||t._removeGlobalListener()}}):km()}},{key:"ngOnDestroy",value:function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(e,n){return t.deregister(n)}),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(t,e){var n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Sm(function(t){return!t||n.indexOf(t)>-1}))}},{key:"getAncestorScrollContainers",value:function(t){var e=this,n=[];return this.scrollContainers.forEach(function(i,r){e._scrollableContainsElement(r,t)&&n.push(r)}),n}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_scrollableContainsElement",value:function(t,e){var n=e.nativeElement,i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){return Sx(t._getWindow().document,"scroll").subscribe(function(){return t._scrolled.next()})})}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),t}()).\u0275fac=function(t){return new(t||iw)(Ri(dc),Ri(Kx),Ri(Gc,8))},iw.\u0275prov=Tt({factory:function(){return new iw(Ri(dc),Ri(Kx),Ri(Gc,8))},token:iw,providedIn:"root"}),iw),dw=((nw=function(){function t(e,n,i){var r=this;_(this,t),this._platform=e,this._change=new V,this._changeListener=function(t){r._change.next(t)},this._document=i,n.runOutsideAngular(function(){if(e.isBrowser){var t=r._getWindow();t.addEventListener("resize",r._changeListener),t.addEventListener("orientationchange",r._changeListener)}r.change().subscribe(function(){return r._updateViewportSize()})})}return x(t,[{key:"ngOnDestroy",value:function(){if(this._platform.isBrowser){var t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}},{key:"getViewportRect",value:function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,i=e.height;return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+n,height:i,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=this._document,e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return t>0?this._change.pipe(zx(t)):this._change}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_updateViewportSize",value:function(){var t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}]),t}()).\u0275fac=function(t){return new(t||nw)(Ri(Kx),Ri(dc),Ri(Gc,8))},nw.\u0275prov=Tt({factory:function(){return new nw(Ri(Kx),Ri(dc),Ri(Gc,8))},token:nw,providedIn:"root"}),nw),fw=((ew=function t(){_(this,t)}).\u0275mod=ce({type:ew}),ew.\u0275inj=Ct({factory:function(t){return new(t||ew)}}),ew),pw=((tw=function t(){_(this,t)}).\u0275mod=ce({type:tw}),tw.\u0275inj=Ct({factory:function(t){return new(t||tw)},imports:[[cw,Zx,fw],cw,fw]}),tw),mw=function(){function t(){_(this,t)}return x(t,[{key:"attach",value:function(t){return this._attachedHost=t,t.attach(this)}},{key:"detach",value:function(){var t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}},{key:"setAttachedHost",value:function(t){this._attachedHost=t}},{key:"isAttached",get:function(){return null!=this._attachedHost}}]),t}(),gw=function(t){d(n,t);var e=p(n);function n(t,i,r,o){var a;return _(this,n),(a=e.call(this)).component=t,a.viewContainerRef=i,a.injector=r,a.componentFactoryResolver=o,a}return n}(mw),yw=function(t){d(n,t);var e=p(n);function n(t,i,r){var o;return _(this,n),(o=e.call(this)).templateRef=t,o.viewContainerRef=i,o.context=r,o}return x(n,[{key:"attach",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=e,h(v(n.prototype),"attach",this).call(this,t)}},{key:"detach",value:function(){return this.context=void 0,h(v(n.prototype),"detach",this).call(this)}},{key:"origin",get:function(){return this.templateRef.elementRef}}]),n}(mw),vw=function(t){d(n,t);var e=p(n);function n(t){var i;return _(this,n),(i=e.call(this)).element=t instanceof hu?t.nativeElement:t,i}return n}(mw),_w=function(){function t(){_(this,t),this._isDisposed=!1,this.attachDomPortal=null}return x(t,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(t){return t instanceof gw?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof yw?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof vw?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(t){this._disposeFn=t}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),t}(),bw=function(t){d(n,t);var e=p(n);function n(t,i,r,o,a){var s,u;return _(this,n),(u=e.call(this)).outletElement=t,u._componentFactoryResolver=i,u._appRef=r,u._defaultInjector=o,u.attachDomPortal=function(t){var e=t.element,i=u._document.createComment("dom-portal");e.parentNode.insertBefore(i,e),u.outletElement.appendChild(e),h((s=g(u),v(n.prototype)),"setDisposeFn",s).call(s,function(){i.parentNode&&i.parentNode.replaceChild(e,i)})},u._document=a,u}return x(n,[{key:"attachComponentPortal",value:function(t){var e,n=this,i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);return t.viewContainerRef?(e=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(function(){return e.destroy()})):(e=i.create(t.injector||this._defaultInjector),this._appRef.attachView(e.hostView),this.setDisposeFn(function(){n._appRef.detachView(e.hostView),e.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(e)),e}},{key:"attachTemplatePortal",value:function(t){var e=this,n=t.viewContainerRef,i=n.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(function(t){return e.outletElement.appendChild(t)}),i.detectChanges(),this.setDisposeFn(function(){var t=n.indexOf(i);-1!==t&&n.remove(t)}),i}},{key:"dispose",value:function(){h(v(n.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(t){return t.hostView.rootNodes[0]}}]),n}(_w),xw=((sw=function(t){d(n,t);var e=p(n);function n(t,i,r){var o,a;return _(this,n),(a=e.call(this))._componentFactoryResolver=t,a._viewContainerRef=i,a._isInitialized=!1,a.attached=new vl,a.attachDomPortal=function(t){var e=t.element,i=a._document.createComment("dom-portal");t.setAttachedHost(g(a)),e.parentNode.insertBefore(i,e),a._getRootNode().appendChild(e),h((o=g(a),v(n.prototype)),"setDisposeFn",o).call(o,function(){i.parentNode&&i.parentNode.replaceChild(e,i)})},a._document=r,a}return x(n,[{key:"ngOnInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){h(v(n.prototype),"dispose",this).call(this),this._attachedPortal=null,this._attachedRef=null}},{key:"attachComponentPortal",value:function(t){t.setAttachedHost(this);var e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(i,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),h(v(n.prototype),"setDisposeFn",this).call(this,function(){return r.destroy()}),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}},{key:"attachTemplatePortal",value:function(t){var e=this;t.setAttachedHost(this);var i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return h(v(n.prototype),"setDisposeFn",this).call(this,function(){return e._viewContainerRef.clear()}),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}},{key:"_getRootNode",value:function(){var t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}},{key:"portal",get:function(){return this._attachedPortal},set:function(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&h(v(n.prototype),"detach",this).call(this),t&&h(v(n.prototype),"attach",this).call(this,t),this._attachedPortal=t)}},{key:"attachedRef",get:function(){return this._attachedRef}}]),n}(_w)).\u0275fac=function(t){return new(t||sw)(Qa(su),Qa(Gu),Qa(Gc))},sw.\u0275dir=de({type:sw,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Da]}),sw),ww=((aw=function t(){_(this,t)}).\u0275mod=ce({type:aw}),aw.\u0275inj=Ct({factory:function(t){return new(t||aw)}}),aw);function kw(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.length?n.some(function(e){return t[e]}):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var Mw=function(){function t(e,n){_(this,t),this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}return x(t,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=kx(-this._previousScrollPosition.left),t.style.top=kx(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=i,n.scrollBehavior=r}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}]),t}(),Sw=function(){function t(e,n,i,r){var o=this;_(this,t),this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=function(){o.disable(),o._overlayRef.hasAttached()&&o._ngZone.run(function(){return o._overlayRef.detach()})}}return x(t,[{key:"attach",value:function(t){this._overlayRef=t}},{key:"enable",value:function(){var t=this;if(!this._scrollSubscription){var e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(function(){var e=t._viewportRuler.getViewportScrollPosition().top;Math.abs(e-t._initialScrollPosition)>t._config.threshold?t._detach():t._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),Ew=function(){function t(){_(this,t)}return x(t,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),t}();function Lw(t,e){return e.some(function(e){return t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right})}function Tw(t,e){return e.some(function(e){return t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right})}var Cw,Iw,Pw,Dw,Ow,Aw=function(){function t(e,n,i,r){_(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}return x(t,[{key:"attach",value:function(t){this._overlayRef=t}},{key:"enable",value:function(){var t=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(function(){if(t._overlayRef.updatePosition(),t._config&&t._config.autoClose){var e=t._overlayRef.overlayElement.getBoundingClientRect(),n=t._viewportRuler.getViewportSize(),i=n.width,r=n.height;Lw(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(t.disable(),t._ngZone.run(function(){return t._overlayRef.detach()}))}}))}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),Rw=((Cw=function t(e,n,i,r){var o=this;_(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this.noop=function(){return new Ew},this.close=function(t){return new Sw(o._scrollDispatcher,o._ngZone,o._viewportRuler,t)},this.block=function(){return new Mw(o._viewportRuler,o._document)},this.reposition=function(t){return new Aw(o._scrollDispatcher,o._viewportRuler,o._ngZone,t)},this._document=r}).\u0275fac=function(t){return new(t||Cw)(Ri(hw),Ri(dw),Ri(dc),Ri(Gc))},Cw.\u0275prov=Tt({factory:function(){return new Cw(Ri(hw),Ri(dw),Ri(dc),Ri(Gc))},token:Cw,providedIn:"root"}),Cw),Nw=function t(e){if(_(this,t),this.scrollStrategy=new Ew,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e)for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];void 0!==e[r]&&(this[r]=e[r])}},Fw=function t(e,n,i,r,o){_(this,t),this.offsetX=i,this.offsetY=r,this.panelClass=o,this.originX=e.originX,this.originY=e.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY},Yw=function t(e,n){_(this,t),this.connectionPair=e,this.scrollableViewProperties=n},zw=((Dw=function(){function t(e){_(this,t),this._attachedOverlays=[],this._document=e}return x(t,[{key:"ngOnDestroy",value:function(){this.detach()}},{key:"add",value:function(t){this.remove(t),this._attachedOverlays.push(t)}},{key:"remove",value:function(t){var e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}]),t}()).\u0275fac=function(t){return new(t||Dw)(Ri(Gc))},Dw.\u0275prov=Tt({factory:function(){return new Dw(Ri(Gc))},token:Dw,providedIn:"root"}),Dw),jw=((Pw=function(t){d(n,t);var e=p(n);function n(t){var i;return _(this,n),(i=e.call(this,t))._keydownListener=function(t){for(var e=i._attachedOverlays,n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}},i}return x(n,[{key:"add",value:function(t){h(v(n.prototype),"add",this).call(this,t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}},{key:"detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),n}(zw)).\u0275fac=function(t){return new(t||Pw)(Ri(Gc))},Pw.\u0275prov=Tt({factory:function(){return new Pw(Ri(Gc))},token:Pw,providedIn:"root"}),Pw),Bw=((Iw=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this,t))._platform=i,r._cursorStyleIsSet=!1,r._clickListener=function(t){for(var e=t.composedPath?t.composedPath()[0]:t.target,n=r._attachedOverlays.slice(),i=n.length-1;i>-1;i--){var o=n[i];if(!(o._outsidePointerEvents.observers.length<1)&&o.hasAttached()){if(o.overlayElement.contains(e))break;o._outsidePointerEvents.next(t)}}},r}return x(n,[{key:"add",value:function(t){h(v(n.prototype),"add",this).call(this,t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}},{key:"detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}]),n}(zw)).\u0275fac=function(t){return new(t||Iw)(Ri(Gc),Ri(Kx))},Iw.\u0275prov=Tt({factory:function(){return new Iw(Ri(Gc),Ri(Kx))},token:Iw,providedIn:"root"}),Iw),Hw=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine),Uw=((Ow=function(){function t(e,n){_(this,t),this._platform=n,this._document=e}return x(t,[{key:"ngOnDestroy",value:function(){var t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){if(this._platform.isBrowser||Hw)for(var t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]'),e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e]);var n=this._document.createElement("div");n.classList.add("cdk-overlay-container"),Hw?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}]),t}()).\u0275fac=function(t){return new(t||Ow)(Ri(Gc),Ri(Kx))},Ow.\u0275prov=Tt({factory:function(){return new Ow(Ri(Gc),Ri(Kx))},token:Ow,providedIn:"root"}),Ow),Vw=function(){function t(e,n,i,r,o,a,s,u,l){var c=this;_(this,t),this._portalOutlet=e,this._host=n,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=u,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new V,this._attachments=new V,this._detachments=new V,this._locationChanges=I.EMPTY,this._backdropClickHandler=function(t){return c._backdropClick.next(t)},this._keydownEvents=new V,this._outsidePointerEvents=new V,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}return x(t,[{key:"attach",value:function(t){var e=this,n=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(vg(1)).subscribe(function(){e.hasAttached()&&e.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(function(){return e.dispose()})),this._outsideClickDispatcher.add(this),n}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}}},{key:"dispose",value:function(){var t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick}},{key:"attachments",value:function(){return this._attachments}},{key:"detachments",value:function(){return this._detachments}},{key:"keydownEvents",value:function(){return this._keydownEvents}},{key:"outsidePointerEvents",value:function(){return this._outsidePointerEvents}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}},{key:"setDirection",value:function(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}},{key:"addPanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!0)}},{key:"removePanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!1)}},{key:"getDirection",value:function(){var t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}},{key:"updateScrollStrategy",value:function(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var t=this._pane.style;t.width=kx(this._config.width),t.height=kx(this._config.height),t.minWidth=kx(this._config.minWidth),t.minHeight=kx(this._config.minHeight),t.maxWidth=kx(this._config.maxWidth),t.maxHeight=kx(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(t){this._pane.style.pointerEvents=t?"auto":"none"}},{key:"_attachBackdrop",value:function(){var t=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){t._backdropElement&&t._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var t,e=this,n=this._backdropElement;if(n){var i=function i(){n&&(n.removeEventListener("click",e._backdropClickHandler),n.removeEventListener("transitionend",i),n.parentNode&&n.parentNode.removeChild(n)),e._backdropElement==n&&(e._backdropElement=null),e._config.backdropClass&&e._toggleClasses(n,e._config.backdropClass,!1),clearTimeout(t)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(function(){n.addEventListener("transitionend",i)}),n.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(function(){return setTimeout(i,500)})}}},{key:"_toggleClasses",value:function(t,e,n){var i=t.classList;wx(e).forEach(function(t){t&&(n?i.add(t):i.remove(t))})}},{key:"_detachContentWhenStable",value:function(){var t=this;this._ngZone.runOutsideAngular(function(){var e=t._ngZone.onStable.pipe(jx(ht(t._attachments,t._detachments))).subscribe(function(){t._pane&&t._host&&0!==t._pane.children.length||(t._pane&&t._config.panelClass&&t._toggleClasses(t._pane,t._config.panelClass,!1),t._host&&t._host.parentElement&&(t._previousHostParent=t._host.parentElement,t._previousHostParent.removeChild(t._host)),e.unsubscribe())})})}},{key:"_disposeScrollStrategy",value:function(){var t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}},{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}}]),t}(),qw=/([A-Za-z%]+)$/,Gw=function(){function t(e,n,i,r,o){_(this,t),this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new V,this._resizeSubscription=I.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}return x(t,[{key:"attach",value:function(t){var e=this;this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(function(){e._isInitialRender=!0,e.apply()})}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var t,e,n=this._originRect,i=this._overlayRect,r=this._viewportRect,o=[],s=a(this._preferredPositions);try{for(s.s();!(e=s.n()).done;){var u=e.value,l=this._getOriginPoint(n,u),c=this._getOverlayPoint(l,i,u),h=this._getOverlayFit(c,i,r,u);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,l);this._canFitWithFlexibleDimensions(h,c,r)?o.push({position:u,origin:l,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(l,u)}):(!t||t.overlayFit.visibleArea<h.visibleArea)&&(t={overlayFit:h,overlayPoint:c,originPoint:l,position:u,overlayRect:i})}}catch(v){s.e(v)}finally{s.f()}if(o.length){var d,f=null,p=-1,m=a(o);try{for(m.s();!(d=m.n()).done;){var g=d.value,y=g.boundingBoxRect.width*g.boundingBoxRect.height*(g.position.weight||1);y>p&&(p=y,f=g)}}catch(v){m.e(v)}finally{m.f()}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(t.position,t.originPoint);this._applyPosition(t.position,t.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&Ww(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}},{key:"withScrollableContainers",value:function(t){return this._scrollables=t,this}},{key:"withPositions",value:function(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(t){return this._viewportMargin=t,this}},{key:"withFlexibleDimensions",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=t,this}},{key:"withGrowAfterOpen",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=t,this}},{key:"withPush",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=t,this}},{key:"withLockedPosition",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=t,this}},{key:"setOrigin",value:function(t){return this._origin=t,this}},{key:"withDefaultOffsetX",value:function(t){return this._offsetX=t,this}},{key:"withDefaultOffsetY",value:function(t){return this._offsetY=t,this}},{key:"withTransformOriginOn",value:function(t){return this._transformOriginSelector=t,this}},{key:"_getOriginPoint",value:function(t,e){var n;if("center"==e.originX)n=t.left+t.width/2;else{var i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return{x:n,y:"center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}},{key:"_getOverlayPoint",value:function(t,e,n){var i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}},{key:"_getOverlayFit",value:function(t,e,n,i){var r=t.x,o=t.y,a=this._getOffset(i,"x"),s=this._getOffset(i,"y");a&&(r+=a),s&&(o+=s);var u=0-o,l=o+e.height-n.height,c=this._subtractOverflows(e.width,0-r,r+e.width-n.width),h=this._subtractOverflows(e.height,u,l),d=c*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:c==e.width}}},{key:"_canFitWithFlexibleDimensions",value:function(t,e,n){if(this._hasFlexibleDimensions){var i=n.bottom-e.y,r=n.right-e.x,o=Xw(this._overlayRef.getConfig().minHeight),a=Xw(this._overlayRef.getConfig().minWidth),s=t.fitsInViewportHorizontally||null!=a&&a<=r;return(t.fitsInViewportVertically||null!=o&&o<=i)&&s}return!1}},{key:"_pushOverlayOnScreen",value:function(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};var i,r,o=this._viewportRect,a=Math.max(t.x+e.width-o.width,0),s=Math.max(t.y+e.height-o.height,0),u=Math.max(o.top-n.top-t.y,0),l=Math.max(o.left-n.left-t.x,0);return i=e.width<=o.width?l||-a:t.x<this._viewportMargin?o.left-n.left-t.x:0,r=e.height<=o.height?u||-s:t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:i,y:r},{x:t.x+i,y:t.y+r}}},{key:"_applyPosition",value:function(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){var n=this._getScrollVisibility(),i=new Yw(t,n);this._positionChanges.next(i)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(t){if(this._transformOriginSelector){var e,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i=t.overlayY;e="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(var r=0;r<n.length;r++)n[r].style.transformOrigin="".concat(e," ").concat(i)}}},{key:"_calculateBoundingBoxRect",value:function(t,e){var n,i,r,o,a,s,u=this._viewportRect,l=this._isRtl();if("top"===e.overlayY)i=t.y,n=u.height-i+this._viewportMargin;else if("bottom"===e.overlayY)r=u.height-t.y+2*this._viewportMargin,n=u.height-r+this._viewportMargin;else{var c=Math.min(u.bottom-t.y+u.top,t.y),h=this._lastBoundingBoxSize.height;n=2*c,i=t.y-c,n>h&&!this._isInitialRender&&!this._growAfterOpen&&(i=t.y-h/2)}if("end"===e.overlayX&&!l||"start"===e.overlayX&&l)s=u.width-t.x+this._viewportMargin,o=t.x-this._viewportMargin;else if("start"===e.overlayX&&!l||"end"===e.overlayX&&l)a=t.x,o=u.right-t.x;else{var d=Math.min(u.right-t.x+u.left,t.x),f=this._lastBoundingBoxSize.width;o=2*d,a=t.x-d,o>f&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.x-f/2)}return{top:i,left:a,bottom:r,right:s,width:o,height:n}}},{key:"_setBoundingBoxStyles",value:function(t,e){var n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{var r=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=kx(n.height),i.top=kx(n.top),i.bottom=kx(n.bottom),i.width=kx(n.width),i.left=kx(n.left),i.right=kx(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",r&&(i.maxHeight=kx(r)),o&&(i.maxWidth=kx(o))}this._lastBoundingBoxSize=n,Ww(this._boundingBox.style,i)}},{key:"_resetBoundingBoxStyles",value:function(){Ww(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){Ww(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(t,e){var n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){var a=this._viewportRuler.getViewportScrollPosition();Ww(n,this._getExactOverlayY(e,t,a)),Ww(n,this._getExactOverlayX(e,t,a))}else n.position="static";var s="",u=this._getOffset(e,"x"),l=this._getOffset(e,"y");u&&(s+="translateX(".concat(u,"px) ")),l&&(s+="translateY(".concat(l,"px)")),n.transform=s.trim(),o.maxHeight&&(i?n.maxHeight=kx(o.maxHeight):r&&(n.maxHeight="")),o.maxWidth&&(i?n.maxWidth=kx(o.maxWidth):r&&(n.maxWidth="")),Ww(this._pane.style,n)}},{key:"_getExactOverlayY",value:function(t,e,n){var i={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));var o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=o,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":i.top=kx(r.y),i}},{key:"_getExactOverlayX",value:function(t,e,n){var i={left:"",right:""},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n)),"right"===(this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?i.right=this._document.documentElement.clientWidth-(r.x+this._overlayRect.width)+"px":i.left=kx(r.x),i}},{key:"_getScrollVisibility",value:function(){var t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(function(t){return t.getElementRef().nativeElement.getBoundingClientRect()});return{isOriginClipped:Tw(t,n),isOriginOutsideView:Lw(t,n),isOverlayClipped:Tw(e,n),isOverlayOutsideView:Lw(e,n)}}},{key:"_subtractOverflows",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.reduce(function(t,e){return t-Math.max(e,0)},t)}},{key:"_getNarrowedViewportRect",value:function(){var t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}},{key:"_validatePositions",value:function(){}},{key:"_addPanelClasses",value:function(t){var e=this;this._pane&&wx(t).forEach(function(t){""!==t&&-1===e._appliedPanelClasses.indexOf(t)&&(e._appliedPanelClasses.push(t),e._pane.classList.add(t))})}},{key:"_clearPanelClasses",value:function(){var t=this;this._pane&&(this._appliedPanelClasses.forEach(function(e){t._pane.classList.remove(e)}),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var t=this._origin;if(t instanceof hu)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();var e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}},{key:"positions",get:function(){return this._preferredPositions}}]),t}();function Ww(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Xw(t){if("number"!=typeof t&&null!=t){var n=e(t.split(qw),2),i=n[0],r=n[1];return r&&"px"!==r?null:parseFloat(i)}return t||null}var Kw,Zw,Qw,Jw,$w,tk,ek,nk,ik=function(){function t(e,n,i,r,o,a,s){_(this,t),this._preferredPositions=[],this._positionStrategy=new Gw(i,r,o,a,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,n),this.onPositionChange=this._positionStrategy.positionChanges}return x(t,[{key:"attach",value:function(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(t){this._positionStrategy.withScrollableContainers(t)}},{key:"withFallbackPosition",value:function(t,e,n,i){var r=new Fw(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}},{key:"withOffsetX",value:function(t){return this._positionStrategy.withDefaultOffsetX(t),this}},{key:"withOffsetY",value:function(t){return this._positionStrategy.withDefaultOffsetY(t),this}},{key:"withLockedPosition",value:function(t){return this._positionStrategy.withLockedPosition(t),this}},{key:"withPositions",value:function(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(t){return this._positionStrategy.setOrigin(t),this}},{key:"positions",get:function(){return this._preferredPositions}}]),t}(),rk=function(){function t(){_(this,t),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return x(t,[{key:"attach",value:function(t){var e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}},{key:"top",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}},{key:"left",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}},{key:"right",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}},{key:"width",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}},{key:"height",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}},{key:"centerHorizontally",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(t),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(t),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),i=n.width,r=n.height,o=n.maxWidth,a=n.maxHeight,s=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),u=!("100%"!==r&&"100vh"!==r||a&&"100%"!==a&&"100vh"!==a);t.position=this._cssPosition,t.marginLeft=s?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,s?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}}]),t}(),ok=((Zw=function(){function t(e,n,i,r){_(this,t),this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r}return x(t,[{key:"global",value:function(){return new rk}},{key:"connectedTo",value:function(t,e,n){return new ik(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(t){return new Gw(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),t}()).\u0275fac=function(t){return new(t||Zw)(Ri(dw),Ri(Gc),Ri(Kx),Ri(Uw))},Zw.\u0275prov=Tt({factory:function(){return new Zw(Ri(dw),Ri(Gc),Ri(Kx),Ri(Uw))},token:Zw,providedIn:"root"}),Zw),ak=0,sk=((Kw=function(){function t(e,n,i,r,o,a,s,u,l,c,h){_(this,t),this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=i,this._positionBuilder=r,this._keyboardDispatcher=o,this._injector=a,this._ngZone=s,this._document=u,this._directionality=l,this._location=c,this._outsideClickDispatcher=h}return x(t,[{key:"create",value:function(t){var e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new Nw(t);return r.direction=r.direction||this._directionality.value,new Vw(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(t){var e=this._document.createElement("div");return e.id="cdk-overlay-"+ak++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}},{key:"_createHostElement",value:function(){var t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}},{key:"_createPortalOutlet",value:function(t){return this._appRef||(this._appRef=this._injector.get(Oc)),new bw(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}]),t}()).\u0275fac=function(t){return new(t||Kw)(Ri(Rw),Ri(Uw),Ri(su),Ri(ok),Ri(jw),Ri(Ia),Ri(dc),Ri(Gc),Ri(lw),Ri(dh),Ri(Bw))},Kw.\u0275prov=Tt({token:Kw,factory:Kw.\u0275fac}),Kw),uk={provide:new fi("cdk-connected-overlay-scroll-strategy"),deps:[sk],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},lk=((ek=function t(){_(this,t)}).\u0275mod=ce({type:ek}),ek.\u0275inj=Ct({factory:function(t){return new(t||ek)},providers:[sk,uk],imports:[[cw,ww,pw],pw]}),ek),ck=((tk=function(){function t(){_(this,t)}return x(t,[{key:"create",value:function(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}]),t}()).\u0275fac=function(t){return new(t||tk)},tk.\u0275prov=Tt({factory:function(){return new tk},token:tk,providedIn:"root"}),tk),hk=(($w=function(){function t(e){_(this,t),this._mutationObserverFactory=e,this._observedElements=new Map}return x(t,[{key:"ngOnDestroy",value:function(){var t=this;this._observedElements.forEach(function(e,n){return t._cleanupObserver(n)})}},{key:"observe",value:function(t){var e=this,n=Mx(t);return new Y(function(t){var i=e._observeElement(n).subscribe(t);return function(){i.unsubscribe(),e._unobserveElement(n)}})}},{key:"_observeElement",value:function(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{var e=new V,n=this._mutationObserverFactory.create(function(t){return e.next(t)});n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}},{key:"_unobserveElement",value:function(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}},{key:"_cleanupObserver",value:function(t){if(this._observedElements.has(t)){var e=this._observedElements.get(t),n=e.observer,i=e.stream;n&&n.disconnect(),i.complete(),this._observedElements.delete(t)}}}]),t}()).\u0275fac=function(t){return new(t||$w)(Ri(ck))},$w.\u0275prov=Tt({factory:function(){return new $w(Ri(ck))},token:$w,providedIn:"root"}),$w),dk=((Jw=function(){function t(e,n,i){_(this,t),this._contentObserver=e,this._elementRef=n,this._ngZone=i,this.event=new vl,this._disabled=!1,this._currentSubscription=null}return x(t,[{key:"ngAfterContentInit",value:function(){this._currentSubscription||this.disabled||this._subscribe()}},{key:"ngOnDestroy",value:function(){this._unsubscribe()}},{key:"_subscribe",value:function(){var t=this;this._unsubscribe();var e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(function(){t._currentSubscription=(t.debounce?e.pipe(wb(t.debounce)):e).subscribe(t.event)})}},{key:"_unsubscribe",value:function(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=xx(t),this._disabled?this._unsubscribe():this._subscribe()}},{key:"debounce",get:function(){return this._debounce},set:function(t){this._debounce=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}(t),this._subscribe()}}]),t}()).\u0275fac=function(t){return new(t||Jw)(Qa(hk),Qa(hu),Qa(dc))},Jw.\u0275dir=de({type:Jw,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),Jw),fk=((Qw=function t(){_(this,t)}).\u0275mod=ce({type:Qw}),Qw.\u0275inj=Ct({factory:function(t){return new(t||Qw)},providers:[ck]}),Qw),pk=function(t){d(n,t);var e=p(n);function n(){var t;return _(this,n),(t=e.apply(this,arguments))._origin="program",t}return x(n,[{key:"setFocusOrigin",value:function(t){return this._origin=t,this}},{key:"setActiveItem",value:function(t){h(v(n.prototype),"setActiveItem",this).call(this,t),this.activeItem&&this.activeItem.focus(this._origin)}}]),n}(function(){function t(e){var n=this;_(this,t),this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new V,this._typeaheadSubscription=I.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=function(t){return t.disabled},this._pressedLetters=[],this.tabOut=new V,this.change=new V,e instanceof bl&&e.changes.subscribe(function(t){if(n._activeItem){var e=t.toArray().indexOf(n._activeItem);e>-1&&e!==n._activeItemIndex&&(n._activeItemIndex=e)}})}return x(t,[{key:"skipPredicate",value:function(t){return this._skipPredicateFn=t,this}},{key:"withWrap",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._wrap=t,this}},{key:"withVerticalOrientation",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._vertical=t,this}},{key:"withHorizontalOrientation",value:function(t){return this._horizontal=t,this}},{key:"withAllowedModifierKeys",value:function(t){return this._allowedModifierKeys=t,this}},{key:"withTypeAhead",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200;return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(wg(function(e){return t._pressedLetters.push(e)}),wb(e),Sm(function(){return t._pressedLetters.length>0}),W(function(){return t._pressedLetters.join("")})).subscribe(function(e){for(var n=t._getItemsArray(),i=1;i<n.length+1;i++){var r=(t._activeItemIndex+i)%n.length,o=n[r];if(!t._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(e)){t.setActiveItem(r);break}}t._pressedLetters=[]}),this}},{key:"withHomeAndEnd",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._homeAndEnd=t,this}},{key:"setActiveItem",value:function(t){var e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}},{key:"onKeydown",value:function(t){var e=this,n=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(function(n){return!t[n]||e._allowedModifierKeys.indexOf(n)>-1});switch(n){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||kw(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],t.preventDefault()}},{key:"isTyping",value:function(){return this._pressedLetters.length>0}},{key:"setFirstItemActive",value:function(){this._setActiveItemByIndex(0,1)}},{key:"setLastItemActive",value:function(){this._setActiveItemByIndex(this._items.length-1,-1)}},{key:"setNextItemActive",value:function(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}},{key:"setPreviousItemActive",value:function(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}},{key:"updateActiveItem",value:function(t){var e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}},{key:"_setActiveItemByDelta",value:function(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}},{key:"_setActiveInWrapMode",value:function(t){for(var e=this._getItemsArray(),n=1;n<=e.length;n++){var i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}},{key:"_setActiveInDefaultMode",value:function(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}},{key:"_setActiveItemByIndex",value:function(t,e){var n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}},{key:"_getItemsArray",value:function(){return this._items instanceof bl?this._items.toArray():this._items}},{key:"activeItemIndex",get:function(){return this._activeItemIndex}},{key:"activeItem",get:function(){return this._activeItem}}]),t}()),mk=((nk=function(){function t(e){_(this,t),this._platform=e}return x(t,[{key:"isDisabled",value:function(t){return t.hasAttribute("disabled")}},{key:"isVisible",value:function(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}},{key:"isTabbable",value:function(t){if(!this._platform.isBrowser)return!1;var e,n=function(t){try{return t.frameElement}catch(FY){return null}}((e=t).ownerDocument&&e.ownerDocument.defaultView||window);if(n){if(-1===yk(n))return!1;if(!this.isVisible(n))return!1}var i=t.nodeName.toLowerCase(),r=yk(t);return t.hasAttribute("contenteditable")?-1!==r:"iframe"!==i&&"object"!==i&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){var e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==r:"video"===i?-1!==r&&(null!==r||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}},{key:"isFocusable",value:function(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){var e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||gk(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}]),t}()).\u0275fac=function(t){return new(t||nk)(Ri(Kx))},nk.\u0275prov=Tt({factory:function(){return new nk(Ri(Kx))},token:nk,providedIn:"root"}),nk);function gk(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;var e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function yk(t){if(!gk(t))return null;var e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}var vk,_k=function(){function t(e,n,i,r){var o=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_(this,t),this._element=e,this._checker=n,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=function(){return o.focusLastTabbableElement()},this.endAnchorListener=function(){return o.focusFirstTabbableElement()},this._enabled=!0,a||this.attachAnchors()}return x(t,[{key:"destroy",value:function(){var t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}},{key:"attachAnchors",value:function(){var t=this;return!!this._hasAttached||(this._ngZone.runOutsideAngular(function(){t._startAnchor||(t._startAnchor=t._createAnchor(),t._startAnchor.addEventListener("focus",t.startAnchorListener)),t._endAnchor||(t._endAnchor=t._createAnchor(),t._endAnchor.addEventListener("focus",t.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}},{key:"focusInitialElementWhenReady",value:function(){var t=this;return new Promise(function(e){t._executeOnStable(function(){return e(t.focusInitialElement())})})}},{key:"focusFirstTabbableElementWhenReady",value:function(){var t=this;return new Promise(function(e){t._executeOnStable(function(){return e(t.focusFirstTabbableElement())})})}},{key:"focusLastTabbableElementWhenReady",value:function(){var t=this;return new Promise(function(e){t._executeOnStable(function(){return e(t.focusLastTabbableElement())})})}},{key:"_getRegionBoundary",value:function(t){for(var e=this._element.querySelectorAll("[cdk-focus-region-".concat(t,"], [cdkFocusRegion").concat(t,"], [cdk-focus-").concat(t,"]")),n=0;n<e.length;n++)e[n].hasAttribute("cdk-focus-"+t)?console.warn("Found use of deprecated attribute 'cdk-focus-".concat(t,"', use 'cdkFocusRegion").concat(t,"' instead. The deprecated attribute will be removed in 8.0.0."),e[n]):e[n].hasAttribute("cdk-focus-region-"+t)&&console.warn("Found use of deprecated attribute 'cdk-focus-region-".concat(t,"', use 'cdkFocusRegion").concat(t,"' instead. The deprecated attribute will be removed in 8.0.0."),e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}},{key:"focusInitialElement",value:function(){var t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){var e=this._getFirstTabbableElement(t);return null==e||e.focus(),!!e}return t.focus(),!0}return this.focusFirstTabbableElement()}},{key:"focusFirstTabbableElement",value:function(){var t=this._getRegionBoundary("start");return t&&t.focus(),!!t}},{key:"focusLastTabbableElement",value:function(){var t=this._getRegionBoundary("end");return t&&t.focus(),!!t}},{key:"hasAttached",value:function(){return this._hasAttached}},{key:"_getFirstTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=0;n<e.length;n++){var i=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(i)return i}return null}},{key:"_getLastTabbableElement",value:function(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;for(var e=t.children||t.childNodes,n=e.length-1;n>=0;n--){var i=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(i)return i}return null}},{key:"_createAnchor",value:function(){var t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}},{key:"_toggleAnchorTabIndex",value:function(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}},{key:"toggleAnchors",value:function(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}},{key:"_executeOnStable",value:function(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(vg(1)).subscribe(t)}},{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}}]),t}(),bk=((vk=function(){function t(e,n,i){_(this,t),this._checker=e,this._ngZone=n,this._document=i}return x(t,[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new _k(t,this._checker,this._ngZone,this._document,e)}}]),t}()).\u0275fac=function(t){return new(t||vk)(Ri(mk),Ri(dc),Ri(Gc))},vk.\u0275prov=Tt({factory:function(){return new vk(Ri(mk),Ri(dc),Ri(Gc))},token:vk,providedIn:"root"}),vk);function xk(t){return 0===t.buttons}"undefined"!=typeof Element&&Element;var wk,kk=new fi("cdk-focus-monitor-default-options"),Mk=$x({passive:!0,capture:!0}),Sk=((wk=function(){function t(e,n,i,r){var o=this;_(this,t),this._ngZone=e,this._platform=n,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=function(){o._lastTouchTarget=null,o._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(t){if(!o._lastTouchTarget){var e=xk(t)?"keyboard":"mouse";o._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=function(t){null!=o._touchTimeoutId&&clearTimeout(o._touchTimeoutId),o._lastTouchTarget=Ek(t),o._touchTimeoutId=setTimeout(function(){return o._lastTouchTarget=null},650)},this._windowFocusListener=function(){o._windowFocused=!0,o._windowFocusTimeoutId=setTimeout(function(){return o._windowFocused=!1})},this._rootNodeFocusAndBlurListener=function(t){for(var e=Ek(t),n="focus"===t.type?o._onFocus:o._onBlur,i=e;i;i=i.parentElement)n.call(o,t,i)},this._document=i,this._detectionMode=(null==r?void 0:r.detectionMode)||0}return x(t,[{key:"monitor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Mx(t);if(!this._platform.isBrowser||1!==n.nodeType)return km(null);var i=function(t){if(function(){if(null==Xx){var t="undefined"!=typeof document?document.head:null;Xx=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Xx}()){var e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),r=this._elementInfo.get(n);if(r)return e&&(r.checkChildren=!0),r.subject;var o={checkChildren:e,subject:new V,rootNode:i};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}},{key:"stopMonitoring",value:function(t){var e=Mx(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}},{key:"focusVia",value:function(t,e,n){var i=Mx(t);i===this._getDocument().activeElement&&this._elementInfo.has(i)?this._originChanged(i,e,this._elementInfo.get(i)):(this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n))}},{key:"ngOnDestroy",value:function(){var t=this;this._elementInfo.forEach(function(e,n){return t.stopMonitoring(n)})}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_toggleClass",value:function(t,e,n){n?t.classList.add(e):t.classList.remove(e)}},{key:"_getFocusOrigin",value:function(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}},{key:"_setClasses",value:function(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}},{key:"_setOriginForCurrentEventQueue",value:function(t){var e=this;this._ngZone.runOutsideAngular(function(){e._origin=t,0===e._detectionMode&&(e._originTimeoutId=setTimeout(function(){return e._origin=null},1))})}},{key:"_wasCausedByTouch",value:function(t){var e=Ek(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}},{key:"_onFocus",value:function(t,e){var n=this._elementInfo.get(e);n&&(n.checkChildren||e===Ek(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}},{key:"_onBlur",value:function(t,e){var n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}},{key:"_emitOrigin",value:function(t,e){this._ngZone.run(function(){return t.next(e)})}},{key:"_registerGlobalListeners",value:function(t){var e=this;if(this._platform.isBrowser){var n=t.rootNode,i=this._rootNodeFocusListenerCount.get(n)||0;i||this._ngZone.runOutsideAngular(function(){n.addEventListener("focus",e._rootNodeFocusAndBlurListener,Mk),n.addEventListener("blur",e._rootNodeFocusAndBlurListener,Mk)}),this._rootNodeFocusListenerCount.set(n,i+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(function(){var t=e._getDocument(),n=e._getWindow();t.addEventListener("keydown",e._documentKeydownListener,Mk),t.addEventListener("mousedown",e._documentMousedownListener,Mk),t.addEventListener("touchstart",e._documentTouchstartListener,Mk),n.addEventListener("focus",e._windowFocusListener)})}}},{key:"_removeGlobalListeners",value:function(t){var e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){var n=this._rootNodeFocusListenerCount.get(e);n>1?this._rootNodeFocusListenerCount.set(e,n-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Mk),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Mk),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){var i=this._getDocument(),r=this._getWindow();i.removeEventListener("keydown",this._documentKeydownListener,Mk),i.removeEventListener("mousedown",this._documentMousedownListener,Mk),i.removeEventListener("touchstart",this._documentTouchstartListener,Mk),r.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}},{key:"_originChanged",value:function(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}}]),t}()).\u0275fac=function(t){return new(t||wk)(Ri(dc),Ri(Kx),Ri(Gc,8),Ri(kk,8))},wk.\u0275prov=Tt({factory:function(){return new wk(Ri(dc),Ri(Kx),Ri(Gc,8),Ri(kk,8))},token:wk,providedIn:"root"}),wk);function Ek(t){return t.composedPath?t.composedPath()[0]:t.target}var Lk,Tk,Ck=((Lk=function(){function t(e,n){_(this,t),this._platform=e,this._document=n}return x(t,[{key:"getHighContrastMode",value:function(){if(!this._platform.isBrowser)return 0;var t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);var e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}},{key:"_applyBodyHighContrastModeCssClasses",value:function(){if(this._platform.isBrowser&&this._document.body){var t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");var e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}]),t}()).\u0275fac=function(t){return new(t||Lk)(Ri(Kx),Ri(Gc))},Lk.\u0275prov=Tt({factory:function(){return new Lk(Ri(Kx),Ri(Gc))},token:Lk,providedIn:"root"}),Lk),Ik=new gu("11.0.3"),Pk=new gu("11.0.3"),Dk=new fi("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),Ok=((Tk=function(){function t(e,n,i){_(this,t),this._hasDoneGlobalChecks=!1,this._document=i,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=n,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return x(t,[{key:"_getWindow",value:function(){var t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}},{key:"_checksAreEnabled",value:function(){return Sc()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var t=this._getWindow();return t&&(t.__karma__||t.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){if(this._checksAreEnabled()&&!1!==this._sanityChecks&&this._sanityChecks.theme&&this._document.body&&"function"==typeof getComputedStyle){var t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);var e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}}},{key:"_checkCdkVersionMatch",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Pk.full!==Ik.full&&console.warn("The Angular Material version ("+Pk.full+") does not match the Angular CDK version ("+Ik.full+").\nPlease ensure the versions of these two packages exactly match.")}}]),t}()).\u0275mod=ce({type:Tk}),Tk.\u0275inj=Ct({factory:function(t){return new(t||Tk)(Ri(Ck),Ri(Dk,8),Ri(Gc))},imports:[[cw],cw]}),Tk);function Ak(t){return function(t){d(n,t);var e=p(n);function n(){var t;_(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r)))._disabled=!1,t}return x(n,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=xx(t)}}]),n}(t)}function Rk(t,e){return function(t){d(i,t);var n=p(i);function i(){var t;_(this,i);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o))).defaultColor=e,t.color=e,t}return x(i,[{key:"color",get:function(){return this._color},set:function(t){var e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),e&&this._elementRef.nativeElement.classList.add("mat-"+e),this._color=e)}}]),i}(t)}function Nk(t){return function(t){d(n,t);var e=p(n);function n(){var t;_(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r)))._disableRipple=!1,t}return x(n,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(t){this._disableRipple=xx(t)}}]),n}(t)}try{"undefined"!=typeof Intl}catch(FY){!1}var Fk,Yk,zk,jk=((Fk=function(){function t(){_(this,t)}return x(t,[{key:"isErrorState",value:function(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}]),t}()).\u0275fac=function(t){return new(t||Fk)},Fk.\u0275prov=Tt({factory:function(){return new Fk},token:Fk,providedIn:"root"}),Fk),Bk=function(){function t(e,n,i){_(this,t),this._renderer=e,this.element=n,this.config=i,this.state=3}return x(t,[{key:"fadeOut",value:function(){this._renderer.fadeOutRipple(this)}}]),t}(),Hk={enterDuration:450,exitDuration:400},Uk=$x({passive:!0}),Vk=["mousedown","touchstart"],qk=["mouseup","mouseleave","touchend","touchcancel"],Gk=function(){function t(e,n,i,r){_(this,t),this._target=e,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Mx(i))}return x(t,[{key:"fadeInRipple",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},Hk),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);var a=i.radius||function(t,e,n){var i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),s=t-r.left,u=e-r.top,l=o.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=s-a+"px",c.style.top=u-a+"px",c.style.height=2*a+"px",c.style.width=2*a+"px",null!=i.color&&(c.style.backgroundColor=i.color),c.style.transitionDuration=l+"ms",this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";var h=new Bk(this,c,i);return h.state=0,this._activeRipples.add(h),i.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone(function(){var t=h===n._mostRecentTransientRipple;h.state=1,i.persistent||t&&n._isPointerDown||h.fadeOut()},l),h}},{key:"fadeOutRipple",value:function(t){var e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),e){var n=t.element,i=Object.assign(Object.assign({},Hk),t.config.animation);n.style.transitionDuration=i.exitDuration+"ms",n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(function(){t.state=3,n.parentNode.removeChild(n)},i.exitDuration)}}},{key:"fadeOutAll",value:function(){this._activeRipples.forEach(function(t){return t.fadeOut()})}},{key:"setupTriggerEvents",value:function(t){var e=Mx(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Vk))}},{key:"handleEvent",value:function(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(qk),this._pointerUpEventsRegistered=!0)}},{key:"_onMousedown",value:function(t){var e=xk(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}},{key:"_onTouchStart",value:function(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;for(var e=t.changedTouches,n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}},{key:"_onPointerUp",value:function(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(function(t){!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}},{key:"_runTimeoutOutsideZone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ngZone.runOutsideAngular(function(){return setTimeout(t,e)})}},{key:"_registerEvents",value:function(t){var e=this;this._ngZone.runOutsideAngular(function(){t.forEach(function(t){e._triggerElement.addEventListener(t,e,Uk)})})}},{key:"_removeTriggerEvents",value:function(){var t=this;this._triggerElement&&(Vk.forEach(function(e){t._triggerElement.removeEventListener(e,t,Uk)}),this._pointerUpEventsRegistered&&qk.forEach(function(e){t._triggerElement.removeEventListener(e,t,Uk)}))}}]),t}(),Wk=new fi("mat-ripple-global-options"),Xk=((zk=function(){function t(e,n,i,r,o){_(this,t),this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new Gk(this,n,e,i)}return x(t,[{key:"ngOnInit",value:function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}},{key:"ngOnDestroy",value:function(){this._rippleRenderer._removeTriggerEvents()}},{key:"fadeOutAll",value:function(){this._rippleRenderer.fadeOutAll()}},{key:"_setupTriggerEventsIfEnabled",value:function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}},{key:"launch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}},{key:"trigger",get:function(){return this._trigger||this._elementRef.nativeElement},set:function(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}},{key:"rippleConfig",get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}},{key:"rippleDisabled",get:function(){return this.disabled||!!this._globalOptions.disabled}}]),t}()).\u0275fac=function(t){return new(t||zk)(Qa(hu),Qa(dc),Qa(Kx),Qa(Wk,8),Qa(bm,8))},zk.\u0275dir=de({type:zk,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&Ls("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),zk),Kk=((Yk=function t(){_(this,t)}).\u0275mod=ce({type:Yk}),Yk.\u0275inj=Ct({factory:function(t){return new(t||Yk)},imports:[[Ok,Zx],Ok]}),Yk);function Zk(t,e){}var Qk,Jk,$k=function t(){_(this,t),this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0},tM={dialogContainer:Kd("dialogContainer",[$d("void, exit",Jd({opacity:0,transform:"scale(0.7)"})),$d("enter",Jd({transform:"none"})),tf("* => enter",Zd("150ms cubic-bezier(0, 0, 0.2, 1)",Jd({transform:"none",opacity:1}))),tf("* => void, * => exit",Zd("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Jd({opacity:0})))])},eM=((Jk=function(t){d(n,t);var e=p(n);function n(t,i,r,o,a,s){var u;return _(this,n),(u=e.call(this))._elementRef=t,u._focusTrapFactory=i,u._changeDetectorRef=r,u._config=a,u._focusMonitor=s,u._animationStateChanged=new vl,u._elementFocusedBeforeDialogWasOpened=null,u._closeInteractionType=null,u.attachDomPortal=function(t){return u._portalOutlet.hasAttached(),u._portalOutlet.attachDomPortal(t)},u._ariaLabelledBy=a.ariaLabelledBy||null,u._document=o,u}return x(n,[{key:"_initializeWithAttachedContent",value:function(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}},{key:"attachComponentPortal",value:function(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}},{key:"attachTemplatePortal",value:function(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}},{key:"_recaptureFocus",value:function(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}},{key:"_trapFocus",value:function(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}},{key:"_restoreFocus",value:function(){var t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){var e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}},{key:"_setupFocusTrap",value:function(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}},{key:"_capturePreviouslyFocusedElement",value:function(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement)}},{key:"_focusDialogContainer",value:function(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}},{key:"_containsFocus",value:function(){var t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}}]),n}(_w)).\u0275fac=function(t){return new(t||Jk)(Qa(hu),Qa(bk),Qa(Au),Qa(Gc,8),Qa($k),Qa(Sk))},Jk.\u0275dir=de({type:Jk,viewQuery:function(t,e){var n;1&t&&Pl(xw,!0),2&t&&Il(n=Fl())&&(e._portalOutlet=n.first)},features:[Da]}),Jk),nM=((Qk=function(t){d(n,t);var e=p(n);function n(){var t;return _(this,n),(t=e.apply(this,arguments))._state="enter",t}return x(n,[{key:"_onAnimationDone",value:function(t){var e=t.toState,n=t.totalTime;"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:n}))}},{key:"_onAnimationStart",value:function(t){var e=t.toState,n=t.totalTime;"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:n}):"exit"!==e&&"void"!==e||this._animationStateChanged.next({state:"closing",totalTime:n})}},{key:"_startExitAnimation",value:function(){this._state="exit",this._changeDetectorRef.markForCheck()}}]),n}(eM)).\u0275fac=function(t){return iM(t||Qk)},Qk.\u0275cmp=oe({type:Qk,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&ls("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(Us("id",e._id),Ga("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),Vs("@dialogContainer",e._state))},features:[Da],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&Ka(0,Zk,0,0,"ng-template",0)},directives:[xw],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[tM.dialogContainer]}}),Qk),iM=ci(nM),rM=0,oM=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mat-dialog-"+rM++;_(this,t),this._overlayRef=e,this._containerInstance=n,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new V,this._afterClosed=new V,this._beforeClosed=new V,this._state=0,n._id=r,n._animationStateChanged.pipe(Sm(function(t){return"opened"===t.state}),vg(1)).subscribe(function(){i._afterOpened.next(),i._afterOpened.complete()}),n._animationStateChanged.pipe(Sm(function(t){return"closed"===t.state}),vg(1)).subscribe(function(){clearTimeout(i._closeFallbackTimeout),i._finishDialogClose()}),e.detachments().subscribe(function(){i._beforeClosed.next(i._result),i._beforeClosed.complete(),i._afterClosed.next(i._result),i._afterClosed.complete(),i.componentInstance=null,i._overlayRef.dispose()}),e.keydownEvents().pipe(Sm(function(t){return 27===t.keyCode&&!i.disableClose&&!kw(t)})).subscribe(function(t){t.preventDefault(),aM(i,"keyboard")}),e.backdropClick().subscribe(function(){i.disableClose?i._containerInstance._recaptureFocus():aM(i,"mouse")})}return x(t,[{key:"close",value:function(t){var e=this;this._result=t,this._containerInstance._animationStateChanged.pipe(Sm(function(t){return"closing"===t.state}),vg(1)).subscribe(function(n){e._beforeClosed.next(t),e._beforeClosed.complete(),e._overlayRef.detachBackdrop(),e._closeFallbackTimeout=setTimeout(function(){return e._finishDialogClose()},n.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}},{key:"afterOpened",value:function(){return this._afterOpened}},{key:"afterClosed",value:function(){return this._afterClosed}},{key:"beforeClosed",value:function(){return this._beforeClosed}},{key:"backdropClick",value:function(){return this._overlayRef.backdropClick()}},{key:"keydownEvents",value:function(){return this._overlayRef.keydownEvents()}},{key:"updatePosition",value:function(t){var e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}},{key:"updateSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}},{key:"addPanelClass",value:function(t){return this._overlayRef.addPanelClass(t),this}},{key:"removePanelClass",value:function(t){return this._overlayRef.removePanelClass(t),this}},{key:"getState",value:function(){return this._state}},{key:"_finishDialogClose",value:function(){this._state=2,this._overlayRef.dispose()}},{key:"_getPositionStrategy",value:function(){return this._overlayRef.getConfig().positionStrategy}}]),t}();function aM(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}var sM,uM,lM,cM=new fi("MatDialogData"),hM=new fi("mat-dialog-default-options"),dM=new fi("mat-dialog-scroll-strategy"),fM={provide:dM,deps:[sk],useFactory:function(t){return function(){return t.scrollStrategies.block()}}},pM=((lM=function(){function t(e,n,i,r,o,a,s,u,l){var c=this;_(this,t),this._overlay=e,this._injector=n,this._defaultOptions=i,this._parentDialog=r,this._overlayContainer=o,this._dialogRefConstructor=s,this._dialogContainerType=u,this._dialogDataToken=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new V,this._afterOpenedAtThisLevel=new V,this._ariaHiddenElements=new Map,this.afterAllClosed=Yg(function(){return c.openDialogs.length?c._getAfterAllClosed():c._getAfterAllClosed().pipe(Vg(void 0))}),this._scrollStrategy=a}return x(t,[{key:"_getAfterAllClosed",value:function(){var t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}},{key:"open",value:function(t,e){var n=this;(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new $k)).id&&this.getDialogById(e.id);var i=this._createOverlay(e),r=this._attachDialogContainer(i,e),o=this._attachDialogContent(t,r,i,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(function(){return n._removeOpenDialog(o)}),this.afterOpened.next(o),r._initializeWithAttachedContent(),o}},{key:"closeAll",value:function(){this._closeDialogs(this.openDialogs)}},{key:"getDialogById",value:function(t){return this.openDialogs.find(function(e){return e.id===t})}},{key:"ngOnDestroy",value:function(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}},{key:"_createOverlay",value:function(t){var e=this._getOverlayConfig(t);return this._overlay.create(e)}},{key:"_getOverlayConfig",value:function(t){var e=new Nw({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}},{key:"_attachDialogContainer",value:function(t,e){var n=Ia.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:$k,useValue:e}]}),i=new gw(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}},{key:"_attachDialogContent",value:function(t,e,n,i){var r=new this._dialogRefConstructor(n,e,i.id);if(t instanceof ju)e.attachTemplatePortal(new yw(t,null,{$implicit:i.data,dialogRef:r}));else{var o=this._createInjector(i,r,e),a=e.attachComponentPortal(new gw(t,i.viewContainerRef,o));r.componentInstance=a.instance}return r.updateSize(i.width,i.height).updatePosition(i.position),r}},{key:"_createInjector",value:function(t,e,n){var i=t&&t.viewContainerRef&&t.viewContainerRef.injector,r=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||i&&i.get(lw,null)||r.push({provide:lw,useValue:{value:t.direction,change:km()}}),Ia.create({parent:i||this._injector,providers:r})}},{key:"_removeOpenDialog",value:function(t){var e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach(function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}},{key:"_hideNonDialogContentFromAssistiveTechnology",value:function(){var t=this._overlayContainer.getContainerElement();if(t.parentElement)for(var e=t.parentElement.children,n=e.length-1;n>-1;n--){var i=e[n];i===t||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}},{key:"_closeDialogs",value:function(t){for(var e=t.length;e--;)t[e].close()}},{key:"openDialogs",get:function(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}},{key:"afterOpened",get:function(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}}]),t}()).\u0275fac=function(t){return new(t||lM)(Qa(sk),Qa(Ia),Qa(void 0),Qa(void 0),Qa(Uw),Qa(void 0),Qa(mi),Qa(mi),Qa(fi))},lM.\u0275dir=de({type:lM}),lM),mM=((uM=function(t){d(n,t);var e=p(n);function n(t,i,r,o,a,s,u){return _(this,n),e.call(this,t,i,o,s,u,a,oM,nM,cM)}return n}(pM)).\u0275fac=function(t){return new(t||uM)(Ri(sk),Ri(Ia),Ri(dh,8),Ri(hM,8),Ri(dM),Ri(uM,12),Ri(Uw))},uM.\u0275prov=Tt({token:uM,factory:uM.\u0275fac}),uM),gM=((sM=function t(){_(this,t)}).\u0275mod=ce({type:sM}),sM.\u0275inj=Ct({factory:function(t){return new(t||sM)},providers:[mM,fM],imports:[[lk,ww,Ok],Ok]}),sM),yM=["underline"],vM=["connectionContainer"],_M=["inputContainer"],bM=["label"];function xM(t,e){1&t&&(is(0),ts(1,"div",14),ns(2,"div",15),ns(3,"div",16),ns(4,"div",17),es(),ts(5,"div",18),ns(6,"div",15),ns(7,"div",16),ns(8,"div",17),es(),rs())}function wM(t,e){1&t&&(ts(0,"div",19),gs(1,1),es())}function kM(t,e){if(1&t&&(is(0),gs(1,2),ts(2,"span"),zs(3),es(),rs()),2&t){var n=fs(2);yo(3),js(n._control.placeholder)}}function MM(t,e){1&t&&gs(0,3,["*ngSwitchCase","true"])}function SM(t,e){1&t&&(ts(0,"span",23),zs(1," *"),es())}function EM(t,e){if(1&t){var n=os();ts(0,"label",20,21),us("cdkObserveContent",function(){return $e(n),fs().updateOutlineGap()}),Ka(2,kM,4,1,"ng-container",12),Ka(3,MM,1,0,"ng-content",12),Ka(4,SM,2,0,"span",22),es()}if(2&t){var i=fs();Ls("mat-empty",i._control.empty&&!i._shouldAlwaysFloat())("mat-form-field-empty",i._control.empty&&!i._shouldAlwaysFloat())("mat-accent","accent"==i.color)("mat-warn","warn"==i.color),Ja("cdkObserveContentDisabled","outline"!=i.appearance)("id",i._labelId)("ngSwitch",i._hasLabel()),Ga("for",i._control.id)("aria-owns",i._control.id),yo(2),Ja("ngSwitchCase",!1),yo(1),Ja("ngSwitchCase",!0),yo(1),Ja("ngIf",!i.hideRequiredMarker&&i._control.required&&!i._control.disabled)}}function LM(t,e){1&t&&(ts(0,"div",24),gs(1,4),es())}function TM(t,e){if(1&t&&(ts(0,"div",25,26),ns(2,"span",27),es()),2&t){var n=fs();yo(2),Ls("mat-accent","accent"==n.color)("mat-warn","warn"==n.color)}}function CM(t,e){1&t&&(ts(0,"div"),gs(1,5),es()),2&t&&Ja("@transitionMessages",fs()._subscriptAnimationState)}function IM(t,e){if(1&t&&(ts(0,"div",31),zs(1),es()),2&t){var n=fs(2);Ja("id",n._hintLabelId),yo(1),js(n.hintLabel)}}function PM(t,e){if(1&t&&(ts(0,"div",28),Ka(1,IM,2,2,"div",29),gs(2,6),ns(3,"div",30),gs(4,7),es()),2&t){var n=fs();Ja("@transitionMessages",n._subscriptAnimationState),yo(1),Ja("ngIf",n.hintLabel)}}var DM,OM,AM,RM,NM,FM,YM,zM,jM=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],BM=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],HM=new fi("MatError"),UM={transitionMessages:Kd("transitionMessages",[$d("enter",Jd({opacity:1,transform:"translateY(0%)"})),tf("void => enter",[Jd({opacity:0,transform:"translateY(-100%)"}),Zd("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},VM=((DM=function t(){_(this,t)}).\u0275fac=function(t){return new(t||DM)},DM.\u0275dir=de({type:DM}),DM),qM=new fi("MatHint"),GM=((AM=function t(){_(this,t)}).\u0275fac=function(t){return new(t||AM)},AM.\u0275dir=de({type:AM,selectors:[["mat-label"]]}),AM),WM=((OM=function t(){_(this,t)}).\u0275fac=function(t){return new(t||OM)},OM.\u0275dir=de({type:OM,selectors:[["mat-placeholder"]]}),OM),XM=new fi("MatPrefix"),KM=new fi("MatSuffix"),ZM=((RM=function t(){_(this,t)}).\u0275fac=function(t){return new(t||RM)},RM.\u0275dir=de({type:RM,selectors:[["","matSuffix",""]],features:[ru([{provide:KM,useExisting:RM}])]}),RM),QM=0,JM=Rk(function t(e){_(this,t),this._elementRef=e},"primary"),$M=new fi("MAT_FORM_FIELD_DEFAULT_OPTIONS"),tS=new fi("MatFormField"),eS=((FM=function(t){d(n,t);var e=p(n);function n(t,i,r,o,a,s,u,l){var c;return _(this,n),(c=e.call(this,t))._elementRef=t,c._changeDetectorRef=i,c._dir=o,c._defaults=a,c._platform=s,c._ngZone=u,c._outlineGapCalculationNeededImmediately=!1,c._outlineGapCalculationNeededOnStable=!1,c._destroyed=new V,c._showAlwaysAnimate=!1,c._subscriptAnimationState="",c._hintLabel="",c._hintLabelId="mat-hint-"+QM++,c._labelId="mat-form-field-label-"+QM++,c.floatLabel=c._getDefaultFloatLabelState(),c._animationsEnabled="NoopAnimations"!==l,c.appearance=a&&a.appearance?a.appearance:"legacy",c._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker,c}return x(n,[{key:"_shouldAlwaysFloat",value:function(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}},{key:"_canLabelFloat",value:function(){return"never"!==this.floatLabel}},{key:"getLabelId",value:function(){return this._hasFloatingLabel()?this._labelId:null}},{key:"getConnectedOverlayOrigin",value:function(){return this._connectionContainerRef||this._elementRef}},{key:"ngAfterContentInit",value:function(){var t=this;this._validateControlChild();var e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add("mat-form-field-type-"+e.controlType),e.stateChanges.pipe(Vg(null)).subscribe(function(){t._validatePlaceholders(),t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(jx(this._destroyed)).subscribe(function(){return t._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.pipe(jx(t._destroyed)).subscribe(function(){t._outlineGapCalculationNeededOnStable&&t.updateOutlineGap()})}),ht(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(function(){t._outlineGapCalculationNeededOnStable=!0,t._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Vg(null)).subscribe(function(){t._processHints(),t._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Vg(null)).subscribe(function(){t._syncDescribedByIds(),t._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(jx(this._destroyed)).subscribe(function(){"function"==typeof requestAnimationFrame?t._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){return t.updateOutlineGap()})}):t.updateOutlineGap()})}},{key:"ngAfterContentChecked",value:function(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}},{key:"ngAfterViewInit",value:function(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_shouldForward",value:function(t){var e=this._control?this._control.ngControl:null;return e&&e[t]}},{key:"_hasPlaceholder",value:function(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}},{key:"_hasLabel",value:function(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}},{key:"_shouldLabelFloat",value:function(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}},{key:"_hideControlPlaceholder",value:function(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}},{key:"_hasFloatingLabel",value:function(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}},{key:"_getDisplayedMessages",value:function(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}},{key:"_animateAndLockLabel",value:function(){var t=this;this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Sx(this._label.nativeElement,"transitionend").pipe(vg(1)).subscribe(function(){t._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}},{key:"_validatePlaceholders",value:function(){}},{key:"_processHints",value:function(){this._validateHints(),this._syncDescribedByIds()}},{key:"_validateHints",value:function(){}},{key:"_getDefaultFloatLabelState",value:function(){return this._defaults&&this._defaults.floatLabel||"auto"}},{key:"_syncDescribedByIds",value:function(){if(this._control){var t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push.apply(t,r(this._control.userAriaDescribedBy.split(" "))),"hint"===this._getDisplayedMessages()){var e=this._hintChildren?this._hintChildren.find(function(t){return"start"===t.align}):null,n=this._hintChildren?this._hintChildren.find(function(t){return"end"===t.align}):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push.apply(t,r(this._errorChildren.map(function(t){return t.id})));this._control.setDescribedByIds(t)}}},{key:"_validateControlChild",value:function(){}},{key:"updateOutlineGap",value:function(){var t=this._label?this._label.nativeElement:null;if("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser)if(this._isAttachedToDOM()){var e=0,n=0,i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),o=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){var a=i.getBoundingClientRect();if(0===a.width&&0===a.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);for(var s=this._getStartEnd(a),u=t.children,l=this._getStartEnd(u[0].getBoundingClientRect()),c=0,h=0;h<u.length;h++)c+=u[h].offsetWidth;e=Math.abs(l-s)-5,n=c>0?.75*c+10:0}for(var d=0;d<r.length;d++)r[d].style.width=e+"px";for(var f=0;f<o.length;f++)o[f].style.width=n+"px";this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}else this._outlineGapCalculationNeededImmediately=!0}},{key:"_getStartEnd",value:function(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}},{key:"_isAttachedToDOM",value:function(){var t=this._elementRef.nativeElement;if(t.getRootNode){var e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}},{key:"appearance",get:function(){return this._appearance},set:function(t){var e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}},{key:"hideRequiredMarker",get:function(){return this._hideRequiredMarker},set:function(t){this._hideRequiredMarker=xx(t)}},{key:"hintLabel",get:function(){return this._hintLabel},set:function(t){this._hintLabel=t,this._processHints()}},{key:"floatLabel",get:function(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel},set:function(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}},{key:"_control",get:function(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic},set:function(t){this._explicitFormFieldControl=t}}]),n}(JM)).\u0275fac=function(t){return new(t||FM)(Qa(hu),Qa(Au),Qa(hu),Qa(lw,8),Qa($M,8),Qa(Kx),Qa(dc),Qa(bm,8))},FM.\u0275cmp=oe({type:FM,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var i;1&t&&(Al(n,VM,!0),Rl(n,VM,!0),Al(n,GM,!0),Rl(n,GM,!0),Al(n,WM,!0),Al(n,HM,!0),Al(n,qM,!0),Al(n,XM,!0),Al(n,KM,!0)),2&t&&(Il(i=Fl())&&(e._controlNonStatic=i.first),Il(i=Fl())&&(e._controlStatic=i.first),Il(i=Fl())&&(e._labelChildNonStatic=i.first),Il(i=Fl())&&(e._labelChildStatic=i.first),Il(i=Fl())&&(e._placeholderChild=i.first),Il(i=Fl())&&(e._errorChildren=i),Il(i=Fl())&&(e._hintChildren=i),Il(i=Fl())&&(e._prefixChildren=i),Il(i=Fl())&&(e._suffixChildren=i))},viewQuery:function(t,e){var n;1&t&&(Dl(yM,!0),Pl(vM,!0),Dl(_M,!0),Dl(bM,!0)),2&t&&(Il(n=Fl())&&(e.underlineRef=n.first),Il(n=Fl())&&(e._connectionContainerRef=n.first),Il(n=Fl())&&(e._inputContainerRef=n.first),Il(n=Fl())&&(e._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&Ls("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[ru([{provide:tS,useExisting:FM}]),Da],ngContentSelectors:BM,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(ms(jM),ts(0,"div",0),ts(1,"div",1,2),us("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),Ka(3,xM,9,0,"ng-container",3),Ka(4,wM,2,0,"div",4),ts(5,"div",5,6),gs(7),ts(8,"span",7),Ka(9,EM,5,16,"label",8),es(),es(),Ka(10,LM,2,0,"div",9),es(),Ka(11,TM,3,4,"div",10),ts(12,"div",11),Ka(13,CM,2,1,"div",12),Ka(14,PM,5,2,"div",13),es(),es()),2&t&&(yo(3),Ja("ngIf","outline"==e.appearance),yo(1),Ja("ngIf",e._prefixChildren.length),yo(5),Ja("ngIf",e._hasFloatingLabel()),yo(1),Ja("ngIf",e._suffixChildren.length),yo(1),Ja("ngIf","outline"!=e.appearance),yo(1),Ja("ngSwitch",e._getDisplayedMessages()),yo(1),Ja("ngSwitchCase","error"),yo(1),Ja("ngSwitchCase","hint"))},directives:[Lh,Oh,Ah,dk],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[UM.transitionMessages]},changeDetection:0}),FM),nS=((NM=function t(){_(this,t)}).\u0275mod=ce({type:NM}),NM.\u0275inj=Ct({factory:function(t){return new(t||NM)},imports:[[Bh,Ok,fk],Ok]}),NM),iS=$x({passive:!0}),rS=((zM=function(){function t(e,n){_(this,t),this._platform=e,this._ngZone=n,this._monitoredElements=new Map}return x(t,[{key:"monitor",value:function(t){var e=this;if(!this._platform.isBrowser)return gg;var n=Mx(t),i=this._monitoredElements.get(n);if(i)return i.subject;var r=new V,o="cdk-text-field-autofilled",a=function(t){"cdk-text-field-autofill-start"!==t.animationName||n.classList.contains(o)?"cdk-text-field-autofill-end"===t.animationName&&n.classList.contains(o)&&(n.classList.remove(o),e._ngZone.run(function(){return r.next({target:t.target,isAutofilled:!1})})):(n.classList.add(o),e._ngZone.run(function(){return r.next({target:t.target,isAutofilled:!0})}))};return this._ngZone.runOutsideAngular(function(){n.addEventListener("animationstart",a,iS),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:r,unlisten:function(){n.removeEventListener("animationstart",a,iS)}}),r}},{key:"stopMonitoring",value:function(t){var e=Mx(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}},{key:"ngOnDestroy",value:function(){var t=this;this._monitoredElements.forEach(function(e,n){return t.stopMonitoring(n)})}}]),t}()).\u0275fac=function(t){return new(t||zM)(Ri(Kx),Ri(dc))},zM.\u0275prov=Tt({factory:function(){return new zM(Ri(Kx),Ri(dc))},token:zM,providedIn:"root"}),zM),oS=((YM=function t(){_(this,t)}).\u0275mod=ce({type:YM}),YM.\u0275inj=Ct({factory:function(t){return new(t||YM)},imports:[[Zx]]}),YM);function aS(t){return null==t||0===t.length}function sS(t){return null!=t&&"number"==typeof t.length}var uS=new fi("NgValidators"),lS=new fi("NgAsyncValidators"),cS=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,hS=function(){function t(){_(this,t)}return x(t,null,[{key:"min",value:function(t){return function(e){if(aS(e.value)||aS(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(aS(e.value)||aS(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return aS(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return aS(t.value)||cS.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){return aS(e.value)||!sS(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"maxLength",value:function(t){return function(e){return sS(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),n=new RegExp(i)):(i=e.toString(),n=e),function(t){if(aS(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:i,actualValue:e}}}):t.nullValidator;var n,i}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(dS);return 0==e.length?null:function(t){return pS(mS(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(dS);return 0==e.length?null:function(t){return Db(mS(t,e).map(fS)).pipe(W(pS))}}}]),t}();function dS(t){return null!=t}function fS(t){var e=as(t)?nt(t):t;return ss(e),e}function pS(t){var e={};return t.forEach(function(t){e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function mS(t,e){return e.map(function(e){return e(t)})}function gS(t){return t.map(function(t){return function(t){return!t.validate}(t)?t:function(e){return t.validate(e)}})}function yS(t){return null!=t?hS.compose(gS(t)):null}function vS(t){return null!=t?hS.composeAsync(gS(t)):null}function _S(t,e){return null===t?[e]:Array.isArray(t)?[].concat(r(t),[e]):[t,e]}function bS(t){return t._rawValidators}function xS(t){return t._rawAsyncValidators}var wS,kS,MS=((kS=function(){function t(){_(this,t),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return x(t,[{key:"_setValidators",value:function(t){this._rawValidators=t||[],this._composedValidatorFn=yS(this._rawValidators)}},{key:"_setAsyncValidators",value:function(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=vS(this._rawAsyncValidators)}},{key:"_registerOnDestroy",value:function(t){this._onDestroyCallbacks.push(t)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(t){return t()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}}]),t}()).\u0275fac=function(t){return new(t||kS)},kS.\u0275dir=de({type:kS}),kS),SS=((wS=function(t){d(n,t);var e=p(n);function n(){return _(this,n),e.apply(this,arguments)}return x(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(MS)).\u0275fac=function(t){return ES(t||wS)},wS.\u0275dir=de({type:wS,features:[Da]}),wS),ES=ci(SS),LS=function(t){d(n,t);var e=p(n);function n(){var t;return _(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t}return n}(MS);function TS(t,e){IS(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&DS(t,e)})}(t,e),function(t,e){var n=function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(function(){t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&DS(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){var n=function(t){e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(function(){t._unregisterOnDisabledChange(n)})}}(t,e)}function CS(t,e){t.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function IS(t,e,n){var i=bS(t);null!==e.validator?t.setValidators(_S(i,e.validator)):"function"==typeof i&&t.setValidators([i]);var r=xS(t);if(null!==e.asyncValidator?t.setAsyncValidators(_S(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]),n){var o=function(){return t.updateValueAndValidity()};CS(e._rawValidators,o),CS(e._rawAsyncValidators,o)}}function PS(t,e,n){if(null!==t){if(null!==e.validator){var i=bS(t);Array.isArray(i)&&i.length>0&&t.setValidators(i.filter(function(t){return t!==e.validator}))}if(null!==e.asyncValidator){var r=xS(t);Array.isArray(r)&&r.length>0&&t.setAsyncValidators(r.filter(function(t){return t!==e.asyncValidator}))}}if(n){var o=function(){};CS(e._rawValidators,o),CS(e._rawAsyncValidators,o)}}function DS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function OS(t,e){IS(t,e,!1)}function AS(t,e){t._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function RS(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function NS(t){return(jS(t)?t.validators:t)||null}function FS(t){return Array.isArray(t)?yS(t):t||null}function YS(t,e){return(jS(e)?e.asyncValidators:t)||null}function zS(t){return Array.isArray(t)?vS(t):t||null}function jS(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var BS,HS,US,VS,qS=function(){function t(e,n){_(this,t),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=FS(this._rawValidators),this._composedAsyncValidatorFn=zS(this._rawAsyncValidators)}return x(t,[{key:"setValidators",value:function(t){this._rawValidators=t,this._composedValidatorFn=FS(t)}},{key:"setAsyncValidators",value:function(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=zS(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(t){return t.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!0)})}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!1)})}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;var n=fS(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){e._hasOwnPendingAsyncValidator=!1,e.setErrors(n,{emitEvent:t})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var i=t;return e.forEach(function(t){i=i instanceof WS?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof XS&&i.at(t)||null}),i}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new vl,this.statusChanges=new vl}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls(function(e){return e.status===t})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(t){return t.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(t){return t.touched})}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){jS(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}},{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}}]),t}(),GS=function(t){d(n,t);var e=p(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _(this,n),(t=e.call(this,NS(r),YS(o,r)))._onChange=[],t._applyFormState(i),t._setUpdateStrategy(r),t._initObservables(),t.updateValueAndValidity({onlySelf:!0,emitEvent:!!o}),t}return x(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(t){return t(e.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_unregisterOnChange",value:function(t){RS(this._onChange,t)}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_unregisterOnDisabledChange",value:function(t){RS(this._onDisabledChange,t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(qS),WS=function(t){d(n,t);var e=p(n);function n(t,i,r){var o;return _(this,n),(o=e.call(this,NS(i),YS(r,i))).controls=t,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!r}),o}return x(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach(function(i){e._throwIfControlMissing(i),e.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach(function(i){e.controls[i]&&e.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof GS?e.value:e.getRawValue(),t})}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach(function(n){return t(e.controls[n],n)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){for(var e=0,n=Object.keys(this.controls);e<n.length;e++){var i=n[e],r=this.controls[i];if(this.contains(i)&&t(r))return!0}return!1}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},function(e,n,i){return(n.enabled||t.disabled)&&(e[i]=n.value),e})}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild(function(t,i){n=e(n,t,i)}),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(qS),XS=function(t){d(n,t);var e=p(n);function n(t,i,r){var o;return _(this,n),(o=e.call(this,NS(i),YS(r,i))).controls=t,o._initObservables(),o._setUpdateStrategy(i),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!r}),o}return x(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach(function(t,i){e._throwIfControlMissing(i),e.at(i).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach(function(t,i){e.at(i)&&e.at(i).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map(function(t){return t instanceof GS?t.value:t.getRawValue()})}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild(function(t){return t._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}},{key:"_forEachChild",value:function(t){this.controls.forEach(function(e,n){t(e,n)})}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})}},{key:"_anyControls",value:function(t){return this.controls.some(function(e){return e.enabled&&t(e)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var t,e=a(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(qS),KS={provide:SS,useExisting:St(function(){return QS})},ZS=Promise.resolve(null),QS=((BS=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this)).submitted=!1,r._directives=[],r.ngSubmit=new vl,r.form=new WS({},yS(t),vS(i)),r}return x(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(t){var e=this;ZS.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),TS(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;ZS.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),RS(e._directives,t)})}},{key:"addFormGroup",value:function(t){var e=this;ZS.then(function(){var n=e._findContainer(t.path),i=new WS({});OS(i,t),n.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}},{key:"removeFormGroup",value:function(t){var e=this;ZS.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;ZS.then(function(){n.form.get(t.path).setValue(e)})}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,AS(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),n}(SS)).\u0275fac=function(t){return new(t||BS)(Qa(uS,10),Qa(lS,10))},BS.\u0275dir=de({type:BS,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&us("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ru([KS]),Da]}),BS),JS={provide:SS,useExisting:St(function(){return $S})},$S=((HS=function(t){d(n,t);var e=p(n);function n(t,i){var r;return _(this,n),(r=e.call(this)).validators=t,r.asyncValidators=i,r.submitted=!1,r.directives=[],r.form=null,r.ngSubmit=new vl,r._setValidators(t),r._setAsyncValidators(i),r}return x(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return TS(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){RS(this.directives,t)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);OS(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);OS(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,AS(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach(function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){var n=function(){};e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n),PS(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(function(){}))}(e.control||null,e),n&&TS(n,e),e.control=n)}),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange(function(){return t._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){})}},{key:"_updateValidators",value:function(){IS(this.form,this,!1),this._oldForm&&PS(this._oldForm,this,!1)}},{key:"_checkFormPresent",value:function(){}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(SS)).\u0275fac=function(t){return new(t||HS)(Qa(uS,10),Qa(lS,10))},HS.\u0275dir=de({type:HS,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&us("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ru([JS]),Da,Te]}),HS),tE=new fi("MAT_INPUT_VALUE_ACCESSOR"),eE=["button","checkbox","file","hidden","image","radio","range","reset","submit"],nE=0,iE=function(t){d(n,t);var e=p(n);function n(){var t;_(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).errorState=!1,t.stateChanges=new V,t}return x(n,[{key:"updateErrorState",value:function(){var t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}]),n}(function t(e,n,i,r){_(this,t),this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}),rE=((VS=function(t){d(n,t);var e=p(n);function n(t,i,r,o,a,s,u,l,c,h){var d;_(this,n),(d=e.call(this,s,o,a,r))._elementRef=t,d._platform=i,d.ngControl=r,d._autofillMonitor=l,d._formField=h,d._uid="mat-input-"+nE++,d.focused=!1,d.stateChanges=new V,d.controlType="mat-input",d.autofilled=!1,d._disabled=!1,d._required=!1,d._type="text",d._readonly=!1,d._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(function(t){return Jx().has(t)});var f=d._elementRef.nativeElement,p=f.nodeName.toLowerCase();return d._inputValueAccessor=u||f,d._previousNativeValue=d.value,d.id=d.id,i.IOS&&c.runOutsideAngular(function(){t.nativeElement.addEventListener("keyup",function(t){var e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),d._isServer=!d._platform.isBrowser,d._isNativeSelect="select"===p,d._isTextarea="textarea"===p,d._isNativeSelect&&(d.controlType=f.multiple?"mat-native-select-multiple":"mat-native-select"),d}return x(n,[{key:"ngAfterViewInit",value:function(){var t=this;this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(function(e){t.autofilled=e.isAutofilled,t.stateChanges.next()})}},{key:"ngOnChanges",value:function(){this.stateChanges.next()}},{key:"ngOnDestroy",value:function(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}},{key:"ngDoCheck",value:function(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}},{key:"focus",value:function(t){this._elementRef.nativeElement.focus(t)}},{key:"_focusChanged",value:function(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}},{key:"_onInput",value:function(){}},{key:"_dirtyCheckPlaceholder",value:function(){var t,e,n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){var i=this._elementRef.nativeElement;this._previousPlaceholder=n,n?i.setAttribute("placeholder",n):i.removeAttribute("placeholder")}}},{key:"_dirtyCheckNativeValue",value:function(){var t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}},{key:"_validateType",value:function(){eE.indexOf(this._type)}},{key:"_isNeverEmpty",value:function(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}},{key:"_isBadInput",value:function(){var t=this._elementRef.nativeElement.validity;return t&&t.badInput}},{key:"setDescribedByIds",value:function(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}},{key:"onContainerClick",value:function(){this.focused||this.focus()}},{key:"disabled",get:function(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled},set:function(t){this._disabled=xx(t),this.focused&&(this.focused=!1,this.stateChanges.next())}},{key:"id",get:function(){return this._id},set:function(t){this._id=t||this._uid}},{key:"required",get:function(){return this._required},set:function(t){this._required=xx(t)}},{key:"type",get:function(){return this._type},set:function(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Jx().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}},{key:"value",get:function(){return this._inputValueAccessor.value},set:function(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}},{key:"readonly",get:function(){return this._readonly},set:function(t){this._readonly=xx(t)}},{key:"empty",get:function(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}},{key:"shouldLabelFloat",get:function(){if(this._isNativeSelect){var t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}}]),n}(iE)).\u0275fac=function(t){return new(t||VS)(Qa(hu),Qa(Kx),Qa(LS,10),Qa(QS,8),Qa($S,8),Qa(jk),Qa(tE,10),Qa(rS),Qa(dc),Qa(tS,8))},VS.\u0275dir=de({type:VS,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&us("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(Us("disabled",e.disabled)("required",e.required),Ga("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),Ls("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[ru([{provide:VM,useExisting:VS}]),Da,Te]}),VS),oE=((US=function t(){_(this,t)}).\u0275mod=ce({type:US}),US.\u0275inj=Ct({factory:function(t){return new(t||US)},providers:[jk],imports:[[oS,nS,Ok],oS,nS]}),US),aE=["*"];function sE(t){return Error('Unable to find icon with the name "'.concat(t,'"'))}function uE(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was \"".concat(t,'".'))}function lE(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was \"".concat(t,'".'))}var cE,hE=function t(e,n,i){_(this,t),this.url=e,this.svgText=n,this.options=i},dE=((cE=function(){function t(e,n,i,r){_(this,t),this._httpClient=e,this._sanitizer=n,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=i}return x(t,[{key:"addSvgIcon",value:function(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}},{key:"addSvgIconLiteral",value:function(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}},{key:"addSvgIconInNamespace",value:function(t,e,n,i){return this._addSvgIconConfig(t,e,new hE(n,null,i))}},{key:"addSvgIconLiteralInNamespace",value:function(t,e,n,i){var r=this._sanitizer.sanitize(vr.HTML,n);if(!r)throw lE(n);return this._addSvgIconConfig(t,e,new hE("",r,i))}},{key:"addSvgIconSet",value:function(t,e){return this.addSvgIconSetInNamespace("",t,e)}},{key:"addSvgIconSetLiteral",value:function(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}},{key:"addSvgIconSetInNamespace",value:function(t,e,n){return this._addSvgIconSetConfig(t,new hE(e,null,n))}},{key:"addSvgIconSetLiteralInNamespace",value:function(t,e,n){var i=this._sanitizer.sanitize(vr.HTML,e);if(!i)throw lE(e);return this._addSvgIconSetConfig(t,new hE("",i,n))}},{key:"registerFontClassAlias",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this._fontCssClassesByAlias.set(t,e),this}},{key:"classNameForFontAlias",value:function(t){return this._fontCssClassesByAlias.get(t)||t}},{key:"setDefaultFontSetClass",value:function(t){return this._defaultFontSetClass=t,this}},{key:"getDefaultFontSetClass",value:function(){return this._defaultFontSetClass}},{key:"getSvgIconFromUrl",value:function(t){var e=this,n=this._sanitizer.sanitize(vr.RESOURCE_URL,t);if(!n)throw uE(t);var i=this._cachedIconsByUrl.get(n);return i?km(fE(i)):this._loadSvgIconFromConfig(new hE(t,null)).pipe(wg(function(t){return e._cachedIconsByUrl.set(n,t)}),W(function(t){return fE(t)}))}},{key:"getNamedSvgIcon",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=pE(e,t),i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);var r=this._iconSetConfigs.get(e);return r?this._getSvgFromIconSetConfigs(t,r):Nb(sE(n))}},{key:"ngOnDestroy",value:function(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}},{key:"_getSvgFromConfig",value:function(t){return t.svgText?km(fE(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(W(function(t){return fE(t)}))}},{key:"_getSvgFromIconSetConfigs",value:function(t,e){var n=this,i=this._extractIconWithNameFromAnySet(t,e);return i?km(i):Db(e.filter(function(t){return!t.svgText}).map(function(t){return n._loadSvgIconSetFromConfig(t).pipe(Xg(function(e){var i=n._sanitizer.sanitize(vr.RESOURCE_URL,t.url);return n._errorHandler.handleError(new Error("Loading icon set URL: ".concat(i," failed: ").concat(e.message))),km(null)}))})).pipe(W(function(){var i=n._extractIconWithNameFromAnySet(t,e);if(!i)throw sE(t);return i}))}},{key:"_extractIconWithNameFromAnySet",value:function(t,e){for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.svgText&&i.svgText.indexOf(t)>-1){var r=this._svgElementFromConfig(i),o=this._extractSvgIconFromSet(r,t,i.options);if(o)return o}}return null}},{key:"_loadSvgIconFromConfig",value:function(t){var e=this;return this._fetchIcon(t).pipe(wg(function(e){return t.svgText=e}),W(function(){return e._svgElementFromConfig(t)}))}},{key:"_loadSvgIconSetFromConfig",value:function(t){return t.svgText?km(null):this._fetchIcon(t).pipe(wg(function(e){return t.svgText=e}))}},{key:"_extractSvgIconFromSet",value:function(t,e,n){var i=t.querySelector('[id="'.concat(e,'"]'));if(!i)return null;var r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,n);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),n);var o=this._svgElementFromString("<svg></svg>");return o.appendChild(r),this._setSvgAttributes(o,n)}},{key:"_svgElementFromString",value:function(t){var e=this._document.createElement("DIV");e.innerHTML=t;var n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}},{key:"_toSvgElement",value:function(t){for(var e=this._svgElementFromString("<svg></svg>"),n=t.attributes,i=0;i<n.length;i++){var r=n[i],o=r.name,a=r.value;"id"!==o&&e.setAttribute(o,a)}for(var s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[s].cloneNode(!0));return e}},{key:"_setSvgAttributes",value:function(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}},{key:"_fetchIcon",value:function(t){var e,n=this,i=t.url,r=t.options,o=null!==(e=null==r?void 0:r.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==i)throw Error('Cannot fetch icon from URL "'.concat(i,'".'));var a=this._sanitizer.sanitize(vr.RESOURCE_URL,i);if(!a)throw uE(i);var s=this._inProgressUrlFetches.get(a);if(s)return s;var u=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(uy(function(){return n._inProgressUrlFetches.delete(a)}),_t());return this._inProgressUrlFetches.set(a,u),u}},{key:"_addSvgIconConfig",value:function(t,e,n){return this._svgIconConfigs.set(pE(t,e),n),this}},{key:"_addSvgIconSetConfig",value:function(t,e){var n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}},{key:"_svgElementFromConfig",value:function(t){if(!t.svgElement){var e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}}]),t}()).\u0275fac=function(t){return new(t||cE)(Ri($m,8),Ri(Pd),Ri(Gc,8),Ri(Sr))},cE.\u0275prov=Tt({factory:function(){return new cE(Ri($m,8),Ri(Pd),Ri(Gc,8),Ri(Sr))},token:cE,providedIn:"root"}),cE);function fE(t){return t.cloneNode(!0)}function pE(t,e){return t+":"+e}var mE,gE,yE,vE,_E=Rk(function t(e){_(this,t),this._elementRef=e}),bE=new fi("mat-icon-location",{providedIn:"root",factory:function(){var t=Fi(Gc),e=t?t.location:null;return{getPathname:function(){return e?e.pathname+e.search:""}}}}),xE=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],wE=xE.map(function(t){return"[".concat(t,"]")}).join(", "),kE=/^url\(['"]?#(.*?)['"]?\)$/,ME=((gE=function(t){d(i,t);var n=p(i);function i(t,e,r,o,a){var s;return _(this,i),(s=n.call(this,t))._iconRegistry=e,s._location=o,s._errorHandler=a,s._inline=!1,s._currentIconFetch=I.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true"),s}return x(i,[{key:"_splitIconName",value:function(t){if(!t)return["",""];var e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error('Invalid icon name: "'.concat(t,'"'))}}},{key:"ngOnInit",value:function(){this._updateFontIconClasses()}},{key:"ngAfterViewChecked",value:function(){var t=this._elementsWithExternalReferences;if(t&&t.size){var e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}}},{key:"ngOnDestroy",value:function(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}},{key:"_usingFontIcon",value:function(){return!this.svgIcon}},{key:"_setSvgElement",value:function(t){this._clearSvgElement();for(var e=t.querySelectorAll("style"),n=0;n<e.length;n++)e[n].textContent+=" ";var i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}},{key:"_clearSvgElement",value:function(){var t=this._elementRef.nativeElement,e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){var n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}},{key:"_updateFontIconClasses",value:function(){if(this._usingFontIcon()){var t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}}},{key:"_cleanupFontValue",value:function(t){return"string"==typeof t?t.trim().split(" ")[0]:t}},{key:"_prependPathToReferences",value:function(t){var e=this._elementsWithExternalReferences;e&&e.forEach(function(e,n){e.forEach(function(e){n.setAttribute(e.name,"url('".concat(t,"#").concat(e.value,"')"))})})}},{key:"_cacheChildrenWithExternalReferences",value:function(t){for(var e=t.querySelectorAll(wE),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map,i=function(t){xE.forEach(function(i){var r=e[t],o=r.getAttribute(i),a=o?o.match(kE):null;if(a){var s=n.get(r);s||(s=[],n.set(r,s)),s.push({name:i,value:a[1]})}})},r=0;r<e.length;r++)i(r)}},{key:"_updateSvgIcon",value:function(t){var n=this;if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){var i=e(this._splitIconName(t),2),r=i[0],o=i[1];r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe(vg(1)).subscribe(function(t){return n._setSvgElement(t)},function(t){n._errorHandler.handleError(new Error("Error retrieving icon ".concat(r,":").concat(o,"! ").concat(t.message)))})}}},{key:"inline",get:function(){return this._inline},set:function(t){this._inline=xx(t)}},{key:"svgIcon",get:function(){return this._svgIcon},set:function(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}},{key:"fontSet",get:function(){return this._fontSet},set:function(t){var e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}},{key:"fontIcon",get:function(){return this._fontIcon},set:function(t){var e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}}]),i}(_E)).\u0275fac=function(t){return new(t||gE)(Qa(hu),Qa(dE),hi("aria-hidden"),Qa(bE),Qa(Sr))},gE.\u0275cmp=oe({type:gE,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(Ga("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),Ls("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Da],ngContentSelectors:aE,decls:1,vars:0,template:function(t,e){1&t&&(ms(),gs(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),gE),SE=((mE=function t(){_(this,t)}).\u0275mod=ce({type:mE}),mE.\u0275inj=Ct({factory:function(t){return new(t||mE)},imports:[[Ok],Ok]}),mE),EE={provide:Kl,useFactory:function(t,e){return function(){if(Hh(e)){var n=Array.from(t.querySelectorAll("[class*=".concat(LE,"]"))),i=/\bflex-layout-.+?\b/g;n.forEach(function(t){t.classList.contains(LE+"ssr")&&t.parentNode?t.parentNode.removeChild(t):t.className.replace(i,"")})}}},deps:[Gc,Xl],multi:!0},LE="flex-layout-",TE=((yE=function t(){_(this,t)}).\u0275mod=ce({type:yE}),yE.\u0275inj=Ct({factory:function(t){return new(t||yE)},providers:[EE]}),yE),CE=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;_(this,t),this.matches=e,this.mediaQuery=n,this.mqAlias=i,this.suffix=r,this.priority=o,this.property=""}return x(t,[{key:"clone",value:function(){return new t(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}]),t}(),IE=((vE=function(){function t(){_(this,t),this.stylesheet=new Map}return x(t,[{key:"addStyleToElement",value:function(t,e,n){var i=this.stylesheet.get(t);i?i.set(e,n):this.stylesheet.set(t,new Map([[e,n]]))}},{key:"clearStyles",value:function(){this.stylesheet.clear()}},{key:"getStyleForElement",value:function(t,e){var n=this.stylesheet.get(t),i="";if(n){var r=n.get(e);"number"!=typeof r&&"string"!=typeof r||(i=r+"")}return i}}]),t}()).\u0275fac=function(t){return new(t||vE)},vE.\u0275prov=Tt({factory:function(){return new vE},token:vE,providedIn:"root"}),vE),PE={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},DE=new fi("Flex Layout token, config options for the library",{providedIn:"root",factory:function(){return PE}}),OE=new fi("FlexLayoutServerLoaded",{providedIn:"root",factory:function(){return!1}}),AE=new fi("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:function(){return null}});function RE(t,e){return t=t?t.clone():new CE,e&&(t.mqAlias=e.alias,t.mediaQuery=e.mediaQuery,t.suffix=e.suffix,t.priority=e.priority),t}var NE=["row","column","row-reverse","column-reverse"];function FE(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}var YE,zE=((YE=function(){function t(e,n,i,r){_(this,t),this.elementRef=e,this.styleBuilder=n,this.styler=i,this.marshal=r,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new V,this.styleCache=new Map}return x(t,[{key:"ngOnChanges",value:function(t){var e=this;Object.keys(t).forEach(function(n){if(-1!==e.inputs.indexOf(n)){var i=n.split(".").slice(1).join(".");e.setValue(t[n].currentValue,i)}})}},{key:"ngOnDestroy",value:function(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}},{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}},{key:"addStyles",value:function(t,e){var n=this.styleBuilder,i=n.shouldCache,r=this.styleCache.get(t);r&&i||(r=n.buildStyles(t,e),i&&this.styleCache.set(t,r)),this.mru=Object.assign({},r),this.applyStyleToElement(r),n.sideEffect(t,r,e)}},{key:"clearStyles",value:function(){var t=this;Object.keys(this.mru).forEach(function(e){t.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={}}},{key:"triggerUpdate",value:function(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}},{key:"getFlexFlowDirection",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){var i=this.styler.getFlowDirection(t),r=e(i,2),o=r[0],a=r[1];if(!a&&n){var s=function(t){var n=function(t){var n=e((t=t?t.toLowerCase():"").split(" "),3),i=n[0],r=n[1],o=n[2];return NE.find(function(t){return t===i})||(i=NE[0]),"inline"===r&&(r="inline"!==o?o:"",o="inline"),[i,FE(r),!!o]}(t),i=e(n,3);return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}(i[0],i[1],i[2])}(o);this.styler.applyStyleToElements(s,[t])}return o.trim()}return"row"}},{key:"hasWrap",value:function(t){return this.styler.hasWrap(t)}},{key:"applyStyleToElement",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.nativeElement;this.styler.applyStyleToElement(n,t,e)}},{key:"setValue",value:function(t,e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,e)}},{key:"updateWithValue",value:function(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}},{key:"parentElement",get:function(){return this.elementRef.nativeElement.parentElement}},{key:"nativeElement",get:function(){return this.elementRef.nativeElement}},{key:"activatedValue",get:function(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)},set:function(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}}]),t}()).\u0275fac=function(t){!function(){throw new Error("invalid")}()},YE.\u0275dir=de({type:YE,features:[Te]}),YE),jE=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],BE="(orientation: portrait) and (max-width: 599.98px)",HE="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",UE="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",VE="(orientation: portrait) and (min-width: 840px)",qE="(orientation: landscape) and (min-width: 1280px)",GE={HANDSET:BE+", (orientation: landscape) and (max-width: 959.98px)",TABLET:"".concat(HE," , ").concat(UE),WEB:"".concat(VE,", ").concat(qE," "),HANDSET_PORTRAIT:""+BE,TABLET_PORTRAIT:HE+" ",WEB_PORTRAIT:""+VE,HANDSET_LANDSCAPE:"(orientation: landscape) and (max-width: 959.98px)",TABLET_LANDSCAPE:""+UE,WEB_LANDSCAPE:""+qE},WE=[{alias:"handset",priority:2e3,mediaQuery:GE.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:GE.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:GE.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:GE.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:GE.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:GE.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:GE.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:GE.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:GE.WEB_PORTRAIT,overlapping:!0}],XE=/(\.|-|_)/g;function KE(t){var e=t.length>0?t.charAt(0):"",n=t.length>1?t.slice(1):"";return e.toUpperCase()+n}var ZE=new fi("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:function(){var t=Fi(AE),e=Fi(DE),n=[].concat.apply([],(t||[]).map(function(t){return Array.isArray(t)?t:[t]}));return function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i={};return t.forEach(function(t){i[t.alias]=t}),n.forEach(function(t){i[t.alias]?function(t){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(var r=0,o=n;r<o.length;r++){var a=o[r];if(null!=a)for(var s in a)a.hasOwnProperty(s)&&(t[s]=a[s])}}(i[t.alias],t):i[t.alias]=t}),(e=Object.keys(i).map(function(t){return i[t]})).forEach(function(t){t.suffix||(t.suffix=t.alias.replace(XE,"|").split("|").map(KE).join(""),t.overlapping=!!t.overlapping)}),e}((e.disableDefaultBps?[]:jE).concat(e.addOrientationBps?WE:[]),n)}});function QE(t,e){return(e&&e.priority||0)-(t&&t.priority||0)}function JE(t,e){return(t.priority||0)-(e.priority||0)}var $E,tL,eL,nL,iL=((tL=function(){function t(e){_(this,t),this.findByMap=new Map,this.items=r(e).sort(JE)}return x(t,[{key:"findByAlias",value:function(t){return t?this.findWithPredicate(t,function(e){return e.alias==t}):null}},{key:"findByQuery",value:function(t){return this.findWithPredicate(t,function(e){return e.mediaQuery==t})}},{key:"findWithPredicate",value:function(t,e){var n=this.findByMap.get(t);return n||(n=this.items.find(e)||null,this.findByMap.set(t,n)),n||null}},{key:"overlappings",get:function(){return this.items.filter(function(t){return 1==t.overlapping})}},{key:"aliases",get:function(){return this.items.map(function(t){return t.alias})}},{key:"suffixes",get:function(){return this.items.map(function(t){return t.suffix?t.suffix:""})}}]),t}()).\u0275fac=function(t){return new(t||tL)(Ri(ZE))},tL.\u0275prov=Tt({factory:function(){return new tL(Ri(ZE))},token:tL,providedIn:"root"}),tL),rL=(($E=function(){function t(e,n,i){_(this,t),this._zone=e,this._platformId=n,this._document=i,this.source=new Ig(new CE(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}return x(t,[{key:"isActive",value:function(t){var e=this.registry.get(t);return e?e.matches:this.registerQuery(t).some(function(t){return t.matches})}},{key:"observe",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&t.length){var i=this._observable$.pipe(Sm(function(e){return!n||t.indexOf(e.mediaQuery)>-1}));return ht(new Y(function(n){var i=e.registerQuery(t);if(i.length){var r=i.pop();i.forEach(function(t){n.next(t)}),e.source.next(r)}n.complete()}),i)}return this._observable$}},{key:"registerQuery",value:function(t){var e=this,n=Array.isArray(t)?t:[t],i=[];return function(t,e){var n=t.filter(function(t){return!oL[t]});if(n.length>0){var i=n.join(", ");try{var r=e.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(e.createTextNode("\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ".concat(i," {.fx-query-test{ }}\n"))),e.head.appendChild(r),n.forEach(function(t){return oL[t]=r})}catch(o){console.error(o)}}}(n,this._document),n.forEach(function(t){var n=function(n){e._zone.run(function(){return e.source.next(new CE(n.matches,t))})},r=e.registry.get(t);r||((r=e.buildMQL(t)).addListener(n),e.pendingRemoveListenerFns.push(function(){return r.removeListener(n)}),e.registry.set(t,r)),r.matches&&i.push(new CE(!0,t))}),i}},{key:"ngOnDestroy",value:function(){for(var t;t=this.pendingRemoveListenerFns.pop();)t()}},{key:"buildMQL",value:function(t){return function(t,e){return e&&window.matchMedia("all").addListener?window.matchMedia(t):{matches:"all"===t||""===t,media:t,addListener:function(){},removeListener:function(){},onchange:null,addEventListener:function(){},removeEventListener:function(){},dispatchEvent:function(){return!1}}}(t,Hh(this._platformId))}},{key:"activations",get:function(){var t=[];return this.registry.forEach(function(e,n){e.matches&&t.push(n)}),t}}]),t}()).\u0275fac=function(t){return new(t||$E)(Ri(dc),Ri(Xl),Ri(Gc))},$E.\u0275prov=Tt({factory:function(){return new $E(Ri(dc),Ri(Xl),Ri(Gc))},token:$E,providedIn:"root"}),$E),oL={},aL={alias:"print",mediaQuery:"print",priority:1e3},sL=((eL=function(){function t(e,n,i){_(this,t),this.breakpoints=e,this.layoutConfig=n,this._document=i,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new uL,this.deactivations=[]}return x(t,[{key:"withPrintQuery",value:function(t){return[].concat(r(t),["print"])}},{key:"isPrintEvent",value:function(t){return t.mediaQuery.startsWith("print")}},{key:"getEventBreakpoints",value:function(t){var e=t.mediaQuery,n=this.breakpoints.findByQuery(e);return(n?[].concat(r(this.printBreakPoints),[n]):this.printBreakPoints).sort(QE)}},{key:"updateEvent",value:function(t){var e=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(e=this.getEventBreakpoints(t)[0],t.mediaQuery=e?e.mediaQuery:""),RE(t,e)}},{key:"registerBeforeAfterPrintHooks",value:function(t){var e=this;if(this._document.defaultView&&!this.registeredBeforeAfterPrintHooks){this.registeredBeforeAfterPrintHooks=!0;var n=function(){e.isPrinting||(e.isPrintingBeforeAfterEvent=!0,e.startPrinting(t,e.getEventBreakpoints(new CE(!0,"print"))),t.updateStyles())},i=function(){e.isPrintingBeforeAfterEvent=!1,e.isPrinting&&(e.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",n),this._document.defaultView.addEventListener("afterprint",i),this.beforePrintEventListeners.push(n),this.afterPrintEventListeners.push(i)}}},{key:"interceptEvents",value:function(t){var e=this;return this.registerBeforeAfterPrintHooks(t),function(n){e.isPrintEvent(n)?n.matches&&!e.isPrinting?(e.startPrinting(t,e.getEventBreakpoints(n)),t.updateStyles()):n.matches||!e.isPrinting||e.isPrintingBeforeAfterEvent||(e.stopPrinting(t),t.updateStyles()):e.collectActivations(n)}}},{key:"blockPropagation",value:function(){var t=this;return function(e){return!(t.isPrinting||t.isPrintEvent(e))}}},{key:"startPrinting",value:function(t,e){this.isPrinting=!0,t.activatedBreakpoints=this.queue.addPrintBreakpoints(e)}},{key:"stopPrinting",value:function(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}},{key:"collectActivations",value:function(t){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(t.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{var e=this.breakpoints.findByQuery(t.mediaQuery);e&&(this.deactivations.push(e),this.deactivations.sort(QE))}}},{key:"ngOnDestroy",value:function(){var t=this;this.beforePrintEventListeners.forEach(function(e){return t._document.defaultView.removeEventListener("beforeprint",e)}),this.afterPrintEventListeners.forEach(function(e){return t._document.defaultView.removeEventListener("afterprint",e)})}},{key:"printAlias",get:function(){return this.layoutConfig.printWithBreakpoints||[]}},{key:"printBreakPoints",get:function(){var t=this;return this.printAlias.map(function(e){return t.breakpoints.findByAlias(e)}).filter(function(t){return null!==t})}}]),t}()).\u0275fac=function(t){return new(t||eL)(Ri(iL),Ri(DE),Ri(Gc))},eL.\u0275prov=Tt({factory:function(){return new eL(Ri(iL),Ri(DE),Ri(Gc))},token:eL,providedIn:"root"}),eL),uL=function(){function t(){_(this,t),this.printBreakpoints=[]}return x(t,[{key:"addPrintBreakpoints",value:function(t){var e=this;return t.push(aL),t.sort(QE),t.forEach(function(t){return e.addBreakpoint(t)}),this.printBreakpoints}},{key:"addBreakpoint",value:function(t){t&&void 0===this.printBreakpoints.find(function(e){return e.mediaQuery===t.mediaQuery})&&(this.printBreakpoints=function(t){return!!t&&t.mediaQuery.startsWith("print")}(t)?[t].concat(r(this.printBreakpoints)):[].concat(r(this.printBreakpoints),[t]))}},{key:"clear",value:function(){this.printBreakpoints=[]}}]),t}(),lL=((nL=function(){function t(e,n,i){_(this,t),this.breakpoints=e,this.matchMedia=n,this.hook=i,this.filterOverlaps=!1,this.destroyed$=new V,this._media$=this.watchActivations(),this.media$=this._media$.pipe(Sm(function(t){return t.length>0}),W(function(t){return t[0]}))}return x(t,[{key:"ngOnDestroy",value:function(){this.destroyed$.next(),this.destroyed$.complete()}},{key:"asObservable",value:function(){return this._media$}},{key:"isActive",value:function(t){var e=this;return function(t){return Array.isArray(t)?t:[t]}(t).map(function(t){return t.split(",")}).reduce(function(t,e){return t.concat(e)}).map(function(t){return t.trim()}).some(function(t){var n=function(t,e){var n=e.findByAlias(t)||e.findByQuery(t);return n?n.mediaQuery:null}(t,e.breakpoints);return null!==n&&e.matchMedia.isActive(n)})}},{key:"watchActivations",value:function(){var t=this.breakpoints.items.map(function(t){return t.mediaQuery});return this.buildObservable(t)}},{key:"buildObservable",value:function(t){var e=this;return this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe(Sm(function(t){return t.matches}),wb(0,Ax),zg(function(t){return km(e.findAllActivations())}),W(function(t){return e.filterOverlaps?t.filter(function(t){var n=e.breakpoints.findByQuery(t.mediaQuery);return!n||!n.overlapping}):t}),Sm(function(t){return t.filter(function(t){return t.mediaQuery.length>0}).length>0}),jx(this.destroyed$))}},{key:"findAllActivations",value:function(){var t=this;return this.matchMedia.activations.map(function(t){return new CE(!0,t)}).map(function(e){return t.hook.isPrintEvent(e)?t.hook.updateEvent(e):e}).map(function(e){return RE(e,t.breakpoints.findByQuery(e.mediaQuery))}).sort(QE)}}]),t}()).\u0275fac=function(t){return new(t||nL)(Ri(iL),Ri(rL),Ri(sL))},nL.\u0275prov=Tt({factory:function(){return new nL(Ri(iL),Ri(rL),Ri(sL))},token:nL,providedIn:"root"}),nL);function cL(t){for(var e in t){var n=t[e]||"";switch(e){case"display":t.display="flex"===n?["-webkit-flex","flex"]:"inline-flex"===n?["-webkit-inline-flex","inline-flex"]:n;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":t["-webkit-"+e]=n;break;case"flex-direction":n=n||"row",t["-webkit-flex-direction"]=n,t["flex-direction"]=n;break;case"order":t.order=t["-webkit-"+e]=isNaN(+n)?"0":n}}return t}var hL,dL=((hL=function(){function t(e,n,i,r){_(this,t),this._serverStylesheet=e,this._serverModuleLoaded=n,this._platformId=i,this.layoutConfig=r}return x(t,[{key:"applyStyleToElement",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i={};"string"==typeof e&&(i[e]=n,e=i),i=this.layoutConfig.disableVendorPrefixes?e:cL(e),this._applyMultiValueStyleToElement(i,t)}},{key:"applyStyleToElements",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=this.layoutConfig.disableVendorPrefixes?t:cL(t);n.forEach(function(t){e._applyMultiValueStyleToElement(i,t)})}},{key:"getFlowDirection",value:function(t){var e=this.lookupStyle(t,"flex-direction");return[e||"row",this.lookupInlineStyle(t,"flex-direction")||Uh(this._platformId)&&this._serverModuleLoaded?e:""]}},{key:"hasWrap",value:function(t){return"wrap"===this.lookupStyle(t,"flex-wrap")}},{key:"lookupAttributeValue",value:function(t,e){return t.getAttribute(e)||""}},{key:"lookupInlineStyle",value:function(t,e){return Hh(this._platformId)?t.style.getPropertyValue(e):this._getServerStyle(t,e)}},{key:"lookupStyle",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i="";return t&&((i=this.lookupInlineStyle(t,e))||(Hh(this._platformId)?n||(i=getComputedStyle(t).getPropertyValue(e)):this._serverModuleLoaded&&(i=this._serverStylesheet.getStyleForElement(t,e)))),i?i.trim():""}},{key:"_applyMultiValueStyleToElement",value:function(t,e){var n=this;Object.keys(t).sort().forEach(function(i){var r=t[i],o=Array.isArray(r)?r:[r];o.sort();var s,u=a(o);try{for(u.s();!(s=u.n()).done;){var l=s.value;l=l?l+"":"",Hh(n._platformId)||!n._serverModuleLoaded?Hh(n._platformId)?e.style.setProperty(i,l):n._setServerStyle(e,i,l):n._serverStylesheet.addStyleToElement(e,i,l)}}catch(c){u.e(c)}finally{u.f()}})}},{key:"_setServerStyle",value:function(t,e,n){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var i=this._readStyleAttribute(t);i[e]=n||"",this._writeStyleAttribute(t,i)}},{key:"_getServerStyle",value:function(t,e){return this._readStyleAttribute(t)[e]||""}},{key:"_readStyleAttribute",value:function(t){var e={},n=t.getAttribute("style");if(n)for(var i=n.split(/;+/g),r=0;r<i.length;r++){var o=i[r].trim();if(o.length>0){var a=o.indexOf(":");if(-1===a)throw new Error("Invalid CSS style: "+o);e[o.substr(0,a).trim()]=o.substr(a+1).trim()}}return e}},{key:"_writeStyleAttribute",value:function(t,e){var n="";for(var i in e)e[i]&&(n+=i+":"+e[i]+";");t.setAttribute("style",n)}}]),t}()).\u0275fac=function(t){return new(t||hL)(Ri(IE),Ri(OE),Ri(Xl),Ri(DE))},hL.\u0275prov=Tt({factory:function(){return new hL(Ri(IE),Ri(OE),Ri(Xl),Ri(DE))},token:hL,providedIn:"root"}),hL),fL=function(){function t(){_(this,t),this.shouldCache=!0}return x(t,[{key:"sideEffect",value:function(t,e,n){}}]),t}();function pL(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1",i=[e,n,t],r=t.indexOf("calc");if(r>0){i[2]=mL(t.substring(r).trim());var o=t.substr(0,r).trim().split(" ");2==o.length&&(i[0]=o[0],i[1]=o[1])}else if(0==r)i[2]=mL(t.trim());else{var a=t.split(" ");i=3===a.length?a:[e,n,t]}return i}function mL(t){return t.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}var gL,yL=((gL=function(){function t(e,n,i){_(this,t),this.matchMedia=e,this.breakpoints=n,this.hook=i,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new V,this.observeActivations()}return x(t,[{key:"onMediaChange",value:function(t){var e=this.findByQuery(t.mediaQuery);e&&((t=RE(t,e)).matches&&-1===this.activatedBreakpoints.indexOf(e)?(this.activatedBreakpoints.push(e),this.activatedBreakpoints.sort(QE),this.updateStyles()):t.matches||-1===this.activatedBreakpoints.indexOf(e)||(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(e),1),this.activatedBreakpoints.sort(QE),this.updateStyles()))}},{key:"init",value:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];vL(this.updateMap,t,e,n),vL(this.clearMap,t,e,i),this.buildElementKeyMap(t,e),this.watchExtraTriggers(t,e,r)}},{key:"getValue",value:function(t,e,n){var i=this.elementMap.get(t);if(i){var r=void 0!==n?i.get(n):this.getActivatedValues(i,e);if(r)return r.get(e)}}},{key:"hasValue",value:function(t,e){var n=this.elementMap.get(t);if(n){var i=this.getActivatedValues(n,e);if(i)return void 0!==i.get(e)||!1}return!1}},{key:"setValue",value:function(t,e,n,i){var r=this.elementMap.get(t);if(r){var o=(r.get(i)||new Map).set(e,n);r.set(i,o),this.elementMap.set(t,r)}else r=(new Map).set(i,(new Map).set(e,n)),this.elementMap.set(t,r);var a=this.getValue(t,e);void 0!==a&&this.updateElement(t,e,a)}},{key:"trackValue",value:function(t,e){return this.subject.asObservable().pipe(Sm(function(n){return n.element===t&&n.key===e}))}},{key:"updateStyles",value:function(){var t=this;this.elementMap.forEach(function(e,n){var i=new Set(t.elementKeyMap.get(n)),r=t.getActivatedValues(e);r&&r.forEach(function(e,r){t.updateElement(n,r,e),i.delete(r)}),i.forEach(function(i){if(r=t.getActivatedValues(e,i)){var o=r.get(i);t.updateElement(n,i,o)}else t.clearElement(n,i)})})}},{key:"clearElement",value:function(t,e){var n=this.clearMap.get(t);if(n){var i=n.get(e);i&&(i(),this.subject.next({element:t,key:e,value:""}))}}},{key:"updateElement",value:function(t,e,n){var i=this.updateMap.get(t);if(i){var r=i.get(e);r&&(r(n),this.subject.next({element:t,key:e,value:n}))}}},{key:"releaseElement",value:function(t){var e=this.watcherMap.get(t);e&&(e.forEach(function(t){return t.unsubscribe()}),this.watcherMap.delete(t));var n=this.elementMap.get(t);n&&(n.forEach(function(t,e){return n.delete(e)}),this.elementMap.delete(t))}},{key:"triggerUpdate",value:function(t,e){var n=this,i=this.elementMap.get(t);if(i){var r=this.getActivatedValues(i,e);r&&(e?this.updateElement(t,e,r.get(e)):r.forEach(function(e,i){return n.updateElement(t,i,e)}))}}},{key:"buildElementKeyMap",value:function(t,e){var n=this.elementKeyMap.get(t);n||(n=new Set,this.elementKeyMap.set(t,n)),n.add(e)}},{key:"watchExtraTriggers",value:function(t,e,n){var i=this;if(n&&n.length){var o=this.watcherMap.get(t);if(o||(o=new Map,this.watcherMap.set(t,o)),!o.get(e)){var a=ht.apply(void 0,r(n)).subscribe(function(){var n=i.getValue(t,e);i.updateElement(t,e,n)});o.set(e,a)}}}},{key:"findByQuery",value:function(t){return this.breakpoints.findByQuery(t)}},{key:"getActivatedValues",value:function(t,e){for(var n=0;n<this.activatedBreakpoints.length;n++){var i=t.get(this.activatedBreakpoints[n].alias);if(i&&(void 0===e||i.has(e)&&null!=i.get(e)))return i}var r=t.get("");return void 0===e||r&&r.has(e)?r:void 0}},{key:"observeActivations",value:function(){var t=this.breakpoints.items.map(function(t){return t.mediaQuery});this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe(wg(this.hook.interceptEvents(this)),Sm(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}},{key:"activatedAlias",get:function(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}}]),t}()).\u0275fac=function(t){return new(t||gL)(Ri(rL),Ri(iL),Ri(sL))},gL.\u0275prov=Tt({factory:function(){return new gL(Ri(rL),Ri(iL),Ri(sL))},token:gL,providedIn:"root"}),gL);function vL(t,e,n,i){if(void 0!==i){var r=t.get(e);r||(r=new Map,t.set(e,r)),r.set(n,i)}}new Map;var _L,bL,xL=((_L=function(t){d(n,t);var e=p(n);function n(t,i,r,o,a,s,u){var l;return _(this,n),(l=e.call(this,t,null,i,r)).ngClassInstance=u,l.DIRECTIVE_KEY="ngClass",l.ngClassInstance||(l.ngClassInstance=new kh(o,a,t,s)),l.init(),l.setValue("",""),l}return x(n,[{key:"updateWithValue",value:function(t){this.ngClassInstance.ngClass=t,this.ngClassInstance.ngDoCheck()}},{key:"ngDoCheck",value:function(){this.ngClassInstance.ngDoCheck()}},{key:"klass",set:function(t){this.ngClassInstance.klass=t,this.setValue(t,"")}}]),n}(zE)).\u0275fac=function(t){return new(t||_L)(Qa(hu),Qa(dL),Qa(yL),Qa(Tu),Qa(Cu),Qa(fu),Qa(kh,10))},_L.\u0275dir=de({type:_L,inputs:{klass:["class","klass"]},features:[Da]}),_L),wL=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"],kL=((bL=function(t){d(n,t);var e=p(n);function n(){var t;return _(this,n),(t=e.apply(this,arguments)).inputs=wL,t}return n}(xL)).\u0275fac=function(t){return ML(t||bL)},bL.\u0275dir=de({type:bL,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[Da]}),bL),ML=ci(kL);new WeakMap;var SL,EL,LL=((EL=function t(){_(this,t)}).\u0275mod=ce({type:EL}),EL.\u0275inj=Ct({factory:function(t){return new(t||EL)},imports:[[TE]]}),EL),TL=((SL=function(){function t(e){_(this,t),this.sanitizer=e}return x(t,[{key:"transform",value:function(t,e){var n=e.toLowerCase().split(" "),i=9999999;n.forEach(function(e){var n=t.toLowerCase().indexOf(e);n<i&&(i=n)});var r=i-60,o=i+120,a=t.substring(r,o);return n.forEach(function(t){a=a.replace(new RegExp("("+t+")","ig"),'<span class="highlight">$1</span>')}),r>0&&(a="[...] "+a),o<t.length&&(a+=" [...]"),this.sanitizer.bypassSecurityTrustHtml(a)}}]),t}()).\u0275fac=function(t){return new(t||SL)(Qa(Pd))},SL.\u0275pipe=fe({name:"searchresulttext",type:SL,pure:!0}),SL);function CL(t,e){if(1&t){var n=os();ts(0,"div",8),us("click",function(){$e(n);var t=e.$implicit;return fs().openLocation(t.location)}),ns(1,"div",2),ns(2,"div",9),dl(3,"searchresulttext"),es()}if(2&t){var i=e.$implicit,r=fs();yo(2),Ja("innerHtml",pl(3,1,i.text,r.result.term),_r)}}var IL=function(t){return{active:t}};function PL(t,e){if(1&t){var n=os();ts(0,"div",10),us("click",function(){$e(n);var t=fs();return t.showAllTextDocuments=!t.showAllTextDocuments}),ns(1,"div",2),ts(2,"div",4),zs(3),es(),es()}if(2&t){var i=fs();Ja("ngClass",sl(2,IL,i.showAllTextDocuments)),yo(3),js("en"===i.lang?i.result.textDocuments.length-2+" more on this page":i.result.textDocuments.length-2+" mehr auf dieser Seite")}}function DL(t,e){if(1&t){var n=os();ts(0,"div",8),us("click",function(){$e(n);var t=e.$implicit;return fs(2).openLocation(t.location)}),ns(1,"div",2),ns(2,"div",9),dl(3,"searchresulttext"),es()}if(2&t){var i=e.$implicit,r=fs(2);yo(2),Ja("innerHtml",pl(3,1,i.text,r.result.term),_r)}}function OL(t,e){if(1&t&&(is(0),Ka(1,DL,4,4,"div",5),dl(2,"slice"),rs()),2&t){var n=fs();yo(1),Ja("ngForOf",pl(2,1,n.result.textDocuments,2))}}function AL(t,e){1&t&&ns(0,"span",14)}function RL(t,e){1&t&&ns(0,"span",15)}function NL(t,e){1&t&&ns(0,"span",16)}function FL(t,e){if(1&t){var n=os();ts(0,"div",8),us("click",function(){$e(n);var t=e.$implicit;return fs().openLocation(t.location)}),ts(1,"div",2),Ka(2,AL,1,0,"span",11),Ka(3,RL,1,0,"span",12),Ka(4,NL,1,0,"span",13),es(),ns(5,"div",9),dl(6,"searchresulttext"),es()}if(2&t){var i=e.$implicit,r=fs();yo(2),Ja("ngIf","image"==i.type),yo(1),Ja("ngIf","video"==i.type),yo(1),Ja("ngIf","audio"==i.type),yo(1),Ja("innerHtml",pl(6,4,i.text,r.result.term),_r)}}function YL(t,e){if(1&t){var n=os();ts(0,"div",10),us("click",function(){$e(n);var t=fs();return t.showAllMediaDocuments=!t.showAllMediaDocuments}),ns(1,"div",2),ts(2,"div",4),zs(3),es(),es()}if(2&t){var i=fs();Ja("ngClass",sl(2,IL,i.showAllMediaDocuments)),yo(3),js("en"===i.lang?i.result.mediaDocuments.length-2+" more on this page":i.result.mediaDocuments.length-2+" mehr auf dieser Seite")}}function zL(t,e){1&t&&ns(0,"span",14)}function jL(t,e){1&t&&ns(0,"span",15)}function BL(t,e){1&t&&ns(0,"span",16)}function HL(t,e){if(1&t){var n=os();ts(0,"div",8),us("click",function(){$e(n);var t=e.$implicit;return fs(2).openLocation(t.location)}),ts(1,"div",2),Ka(2,zL,1,0,"span",11),Ka(3,jL,1,0,"span",12),Ka(4,BL,1,0,"span",13),es(),ns(5,"div",9),dl(6,"searchresulttext"),es()}if(2&t){var i=e.$implicit,r=fs(2);yo(2),Ja("ngIf","image"==i.type),yo(1),Ja("ngIf","video"==i.type),yo(1),Ja("ngIf","audio"==i.type),yo(1),Ja("innerHtml",pl(6,4,i.text,r.result.term),_r)}}function UL(t,e){if(1&t&&(is(0),Ka(1,HL,7,7,"div",5),dl(2,"slice"),rs()),2&t){var n=fs();yo(1),Ja("ngForOf",pl(2,1,n.result.mediaDocuments,2))}}var VL,qL=((VL=function(){function t(){_(this,t),this.locationSelected=new vl,this.showAllTextDocuments=!1,this.showAllMediaDocuments=!1}return x(t,[{key:"ngOnInit",value:function(){}},{key:"openLocation",value:function(t){this.locationSelected.emit(t)}}]),t}()).\u0275fac=function(t){return new(t||VL)},VL.\u0275cmp=oe({type:VL,selectors:[["cm-search-result"]],inputs:{result:"result",lang:"lang"},outputs:{locationSelected:"locationSelected"},decls:16,vars:15,consts:[[1,"content"],[1,"heading","result-row",3,"click"],[1,"icon-col"],[1,"cm-icon","cm-page"],[1,"text-col"],["class","text result-row",3,"click",4,"ngFor","ngForOf"],["class","result-row more",3,"ngClass","click",4,"ngIf"],[4,"ngIf"],[1,"text","result-row",3,"click"],[1,"text-col",3,"innerHtml"],[1,"result-row","more",3,"ngClass","click"],["class","cm-icon cm-image",4,"ngIf"],["class","cm-icon cm-film",4,"ngIf"],["class","cm-icon cm-audio",4,"ngIf"],[1,"cm-icon","cm-image"],[1,"cm-icon","cm-film"],[1,"cm-icon","cm-audio"]],template:function(t,e){1&t&&(ns(0,"hr"),ts(1,"div",0),ts(2,"div",1),us("click",function(){return e.openLocation(e.result.location)}),ts(3,"div",2),ns(4,"span",3),es(),ts(5,"div",4),ts(6,"h2"),zs(7),es(),es(),es(),Ka(8,CL,4,4,"div",5),dl(9,"slice"),Ka(10,PL,4,4,"div",6),Ka(11,OL,3,4,"ng-container",7),Ka(12,FL,7,7,"div",5),dl(13,"slice"),Ka(14,YL,4,4,"div",6),Ka(15,UL,3,4,"ng-container",7),es()),2&t&&(yo(7),js(e.result.title),yo(1),Ja("ngForOf",ml(9,7,e.result.textDocuments,0,2)),yo(2),Ja("ngIf",e.result.textDocuments.length>2),yo(1),Ja("ngIf",e.showAllTextDocuments),yo(1),Ja("ngForOf",ml(13,11,e.result.mediaDocuments,0,2)),yo(2),Ja("ngIf",e.result.mediaDocuments.length>2),yo(1),Ja("ngIf",e.showAllMediaDocuments))},directives:[Sh,Lh,kh,kL],pipes:[jh,TL],styles:['.cm-icon[_ngcontent-%COMP%]{color:#a67481;font-size:1.2rem}h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;font-size:1rem}.text[_ngcontent-%COMP%]{font-family:"Source Serif Pro Regular";font-size:.8rem;line-height:1.25rem}.icon-col[_ngcontent-%COMP%]{width:80px;height:1.2rem;flex-shrink:0;text-align:center}@media screen and (max-width:959px){.icon-col[_ngcontent-%COMP%]{width:40px}}.heading[_ngcontent-%COMP%]{height:1.2rem}.text-col[_ngcontent-%COMP%]{flex-grow:1}.more[_ngcontent-%COMP%]{font-family:Source Sans Pro Semibold;font-size:.8rem;line-height:1.25rem;color:#5a5a5a}.more.active[_ngcontent-%COMP%]{background-color:rgba(166,116,129,.9);color:#fff}.result-row[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:5px;padding-bottom:5px}.result-row.text[_ngcontent-%COMP%]{align-items:normal}.result-row[_ngcontent-%COMP%]:hover{background-color:rgba(166,116,129,.9);color:#fff;cursor:pointer}.result-row[_ngcontent-%COMP%]:hover   .cm-icon[_ngcontent-%COMP%], .result-row[_ngcontent-%COMP%]:hover   h2[_ngcontent-%COMP%]{color:#fff}hr[_ngcontent-%COMP%]{border-top:#f4f4f4;-webkit-margin-before:.75rem;margin-block-start:.75rem;-webkit-margin-after:.75rem;margin-block-end:.75rem}[_nghost-%COMP%]:first-child   hr[_ngcontent-%COMP%]{display:none}']}),VL),GL=["searchElement"];function WL(t,e){if(1&t){var n=os();ts(0,"cm-search-result",11),us("locationSelected",function(t){return $e(n),fs(3).openLocation(t)}),es()}if(2&t){var i=e.$implicit,r=fs(3);Ja("result",i)("lang",r.translate.currentLang)}}function XL(t,e){if(1&t&&(ts(0,"div",9),Ka(1,WL,1,2,"cm-search-result",10),es()),2&t){var n=fs(2);yo(1),Ja("ngForOf",n.searchResults)}}function KL(t,e){if(1&t&&(ts(0,"div",7),Ka(1,XL,2,1,"div",8),es()),2&t){var n=fs();yo(1),Ja("ngIf",n.searchResults)}}var ZL,QL=((ZL=function(){function t(e,n,i,r){var o=this;_(this,t),this.searchService=e,this.router=n,this.translate=i,this.dialogRef=r,this.searchTermChanged=new V,this.searchTermChanged.pipe(wb(100),function(t){return t.lift(new Lb(void 0,void 0))}).subscribe(function(t){o.searchResults=o.searchService.search(t,i.currentLang)})}return x(t,[{key:"ngOnInit",value:function(){var t=this;setTimeout(function(){t.searchElement.nativeElement.focus()},0)}},{key:"searchByTerm",value:function(t){this.searchTermChanged.next(t)}},{key:"openLocation",value:function(t){this.close(),this.router.navigateByUrl(t,{})}},{key:"close",value:function(){this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||ZL)(Qa(Ib),Qa(H_),Qa(vx),Qa(oM))},ZL.\u0275cmp=oe({type:ZL,selectors:[["cm-search"]],viewQuery:function(t,e){var n;1&t&&Dl(GL,!0),2&t&&Il(n=Fl())&&(e.searchElement=n.first)},decls:8,vars:4,consts:[[1,"container"],[1,"search-form"],["floatLabel","never",1,"example-full-width"],["matInput","","autocomplete","off",3,"placeholder","keydown","keyup"],["searchElement",""],["matSuffix","",1,"cm-search"],["class","results-container",4,"ngIf"],[1,"results-container"],["class","results-wrapper",4,"ngIf"],[1,"results-wrapper"],[3,"result","lang","locationSelected",4,"ngFor","ngForOf"],[3,"result","lang","locationSelected"]],template:function(t,e){1&t&&(ts(0,"div",0),ts(1,"form",1),ts(2,"mat-form-field",2),ts(3,"input",3,4),us("keydown",function(t){return 13==t.keyCode?t.preventDefault():null})("keyup",function(t){return e.searchByTerm(t.target.value)}),dl(5,"translate"),es(),ns(6,"mat-icon",5),es(),es(),Ka(7,KL,2,1,"div",6),es()),2&t&&(yo(3),ys("placeholder",fl(5,2,"search.placeholder")),yo(4),Ja("ngIf",e.searchResults&&e.searchResults.length))},directives:[eS,rE,ME,ZM,Lh,Sh,qL],pipes:[_x],styles:["[_nghost-%COMP%]{color:#333;font-family:Source Sans Pro}[_nghost-%COMP%]     em, [_nghost-%COMP%]     i{font-family:Source Sans Pro Italic;font-style:normal}.close[_ngcontent-%COMP%]{float:right;display:block;min-width:20px;margin-bottom:2px;width:30px;padding:0;height:30px;line-height:30px;margin-top:-10px;margin-right:-10px}.container[_ngcontent-%COMP%]{padding:0 25px;height:100%}@media screen and (max-width:959px){.container[_ngcontent-%COMP%]{padding:0 14px}}.results-container[_ngcontent-%COMP%]{margin-top:24px;max-height:calc(90vh - 115px);overflow:auto}h1[_ngcontent-%COMP%]{font-size:1.2rem}input[_ngcontent-%COMP%]{line-height:1rem;font-family:Source Serif Pro Regular;color:#333;font-size:1rem}.search-form[_ngcontent-%COMP%]{margin-top:-3px}mat-form-field[_ngcontent-%COMP%]{width:100%}.cm-search[_ngcontent-%COMP%]{color:#8c8c8c;top:5px;position:relative;right:8px}input[_ngcontent-%COMP%]{padding-left:15px}.results-wrapper[_ngcontent-%COMP%]{overflow-y:auto;height:calc(100% - 10px)}.empty-result[_ngcontent-%COMP%]{color:#8c8c8c;font-size:.9rem;margin-top:-20px}"]}),ZL),JL=["row","column","row-reverse","column-reverse"];function $L(t){var n=e((t=t?t.toLowerCase():"").split(" "),3),i=n[0],r=n[1],o=n[2];return JL.find(function(t){return t===i})||(i=JL[0]),"inline"===r&&(r="inline"!==o?o:"",o="inline"),[i,eT(r),!!o]}function tT(t){return e($L(t),1)[0].indexOf("row")>-1}function eT(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}var nT,iT,rT,oT=((nT=function(t){d(i,t);var n=p(i);function i(){return _(this,i),n.apply(this,arguments)}return x(i,[{key:"buildStyles",value:function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}((n=e($L(t),3))[0],n[1],n[2]);var n}}]),i}(fL)).\u0275fac=function(t){return aT(t||nT)},nT.\u0275prov=Tt({factory:function(){return new nT},token:nT,providedIn:"root"}),nT),aT=ci(oT),sT=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"],uT=((rT=function(t){d(n,t);var e=p(n);function n(t,i,r,o){var a;return _(this,n),(a=e.call(this,t,r,i,o)).DIRECTIVE_KEY="layout",a.styleCache=hT,a.init(),a}return n}(zE)).\u0275fac=function(t){return new(t||rT)(Qa(hu),Qa(dL),Qa(oT),Qa(yL))},rT.\u0275dir=de({type:rT,features:[Da]}),rT),lT=((iT=function(t){d(n,t);var e=p(n);function n(){var t;return _(this,n),(t=e.apply(this,arguments)).inputs=sT,t}return n}(uT)).\u0275fac=function(t){return cT(t||iT)},iT.\u0275dir=de({type:iT,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[Da]}),iT),cT=ci(lT),hT=new Map;function dT(t){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(var r=0,o=n;r<o.length;r++){var a=o[r];if(null!=a)for(var s in a)a.hasOwnProperty(s)&&(t[s]=a[s])}return t}new Map,new Map,new Map,new Map;var fT,pT,mT,gT=((fT=function(t){d(r,t);var e=p(r);function r(t){var n;return _(this,r),(n=e.call(this)).layoutConfig=t,n}return x(r,[{key:"buildStyles",value:function(t,e){var r,a=t.split(" "),u=i(r=a)||o(r)||s(r)||n(),l=u[0],c=u[1],h=u.slice(2).join(" "),d=e.direction.indexOf("column")>-1?"column":"row",f=tT(d)?"max-width":"max-height",p=tT(d)?"min-width":"min-height",m=String(h).indexOf("calc")>-1,g=m||"auto"===h,y=String(h).indexOf("%")>-1&&!m,v=String(h).indexOf("px")>-1||String(h).indexOf("rem")>-1||String(h).indexOf("em")>-1||String(h).indexOf("vw")>-1||String(h).indexOf("vh")>-1,_=m||v;c="0"==c?0:c;var b=!(l="0"==l?0:l)&&!c,x={},w={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(h||""){case"":var k=!1!==this.layoutConfig.useColumnBasisZero;h="row"===d?"0%":k?"0.000000001px":"auto";break;case"initial":case"nogrow":l=0,h="auto";break;case"grow":h="100%";break;case"noshrink":c=0,h="auto";break;case"auto":break;case"none":l=0,c=0,h="auto";break;default:_||y||isNaN(h)||(h+="%"),"0%"===h&&(_=!0),"0px"===h&&(h="0%"),x=dT(w,m?{"flex-grow":l,"flex-shrink":c,"flex-basis":_?h:"100%"}:{flex:"".concat(l," ").concat(c," ").concat(_?h:"100%")})}return x.flex||x["flex-grow"]||(x=dT(w,m?{"flex-grow":l,"flex-shrink":c,"flex-basis":h}:{flex:"".concat(l," ").concat(c," ").concat(h)})),"0%"!==h&&"0px"!==h&&"0.000000001px"!==h&&"auto"!==h&&(x[p]=b||_&&l?h:null,x[f]=b||!g&&c?h:null),x[p]||x[f]?e.hasWrap&&(x[m?"flex-basis":"flex"]=x[f]?m?x[f]:"".concat(l," ").concat(c," ").concat(x[f]):m?x[p]:"".concat(l," ").concat(c," ").concat(x[p])):x=dT(w,m?{"flex-grow":l,"flex-shrink":c,"flex-basis":h}:{flex:"".concat(l," ").concat(c," ").concat(h)}),dT(x,{"box-sizing":"border-box"})}}]),r}(fL)).\u0275fac=function(t){return new(t||fT)(Ri(DE))},fT.\u0275prov=Tt({factory:function(){return new fT(Ri(DE))},token:fT,providedIn:"root"}),fT),yT=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"],vT=((mT=function(t){d(n,t);var e=p(n);function n(t,i,r,o,a){var s;return _(this,n),(s=e.call(this,t,o,i,a)).layoutConfig=r,s.marshal=a,s.DIRECTIVE_KEY="flex",s.direction=void 0,s.wrap=void 0,s.flexGrow="1",s.flexShrink="1",s.init(),s}return x(n,[{key:"ngOnInit",value:function(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(jx(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(jx(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}},{key:"onLayoutChange",value:function(t){var e=t.value.split(" ");this.direction=e[0],this.wrap=void 0!==e[1]&&"wrap"===e[1],this.triggerUpdate()}},{key:"updateWithValue",value:function(t){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));var e=this.direction,n=e.startsWith("row"),i=this.wrap;n&&i?this.styleCache=kT:n&&!i?this.styleCache=xT:!n&&i?this.styleCache=MT:n||i||(this.styleCache=wT);var r=pL(String(t).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(r.join(" "),{direction:e,hasWrap:i})}},{key:"triggerReflow",value:function(){var t=this.activatedValue;if(void 0!==t){var e=pL(t+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,e.join(" "))}}},{key:"shrink",get:function(){return this.flexShrink},set:function(t){this.flexShrink=t||"1",this.triggerReflow()}},{key:"grow",get:function(){return this.flexGrow},set:function(t){this.flexGrow=t||"1",this.triggerReflow()}}]),n}(zE)).\u0275fac=function(t){return new(t||mT)(Qa(hu),Qa(dL),Qa(DE),Qa(gT),Qa(yL))},mT.\u0275dir=de({type:mT,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[Da]}),mT),_T=((pT=function(t){d(n,t);var e=p(n);function n(){var t;return _(this,n),(t=e.apply(this,arguments)).inputs=yT,t}return n}(vT)).\u0275fac=function(t){return bT(t||pT)},pT.\u0275dir=de({type:pT,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[Da]}),pT),bT=ci(_T),xT=new Map,wT=new Map,kT=new Map,MT=new Map;new Map,new Map,new Map,new Map,new Map,new Map;var ST,ET,LT,TT,CT,IT,PT,DT,OT={margin:0,width:"100%",height:"100%","min-width":"100%","min-height":"100%"},AT=((ST=function(t){d(n,t);var e=p(n);function n(){return _(this,n),e.apply(this,arguments)}return x(n,[{key:"buildStyles",value:function(t){return OT}}]),n}(fL)).\u0275fac=function(t){return RT(t||ST)},ST.\u0275prov=Tt({factory:function(){return new ST},token:ST,providedIn:"root"}),ST),RT=ci(AT),NT=((ET=function(t){d(n,t);var e=p(n);function n(t,i,r,o){var a;return _(this,n),(a=e.call(this,t,r,i,o)).styleCache=FT,a.addStyles(""),a}return n}(zE)).\u0275fac=function(t){return new(t||ET)(Qa(hu),Qa(dL),Qa(AT),Qa(yL))},ET.\u0275dir=de({type:ET,selectors:[["","fxFill",""],["","fxFlexFill",""]],features:[Da]}),ET),FT=new Map,YT=((LT=function(t){d(i,t);var n=p(i);function i(){return _(this,i),n.apply(this,arguments)}return x(i,[{key:"buildStyles",value:function(t,n){var i={},r=e(t.split(" "),2),o=r[0],a=r[1];switch(o){case"center":i["justify-content"]="center";break;case"space-around":i["justify-content"]="space-around";break;case"space-between":i["justify-content"]="space-between";break;case"space-evenly":i["justify-content"]="space-evenly";break;case"end":case"flex-end":i["justify-content"]="flex-end";break;case"start":case"flex-start":default:i["justify-content"]="flex-start"}switch(a){case"start":case"flex-start":i["align-items"]=i["align-content"]="flex-start";break;case"center":i["align-items"]=i["align-content"]="center";break;case"end":case"flex-end":i["align-items"]=i["align-content"]="flex-end";break;case"space-between":i["align-content"]="space-between",i["align-items"]="stretch";break;case"space-around":i["align-content"]="space-around",i["align-items"]="stretch";break;case"baseline":i["align-content"]="stretch",i["align-items"]="baseline";break;case"stretch":default:i["align-items"]=i["align-content"]="stretch"}return dT(i,{display:n.inline?"inline-flex":"flex","flex-direction":n.layout,"box-sizing":"border-box","max-width":"stretch"===a?tT(n.layout)?null:"100%":null,"max-height":"stretch"===a&&tT(n.layout)?"100%":null})}}]),i}(fL)).\u0275fac=function(t){return zT(t||LT)},LT.\u0275prov=Tt({factory:function(){return new LT},token:LT,providedIn:"root"}),LT),zT=ci(YT),jT=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"],BT=((CT=function(t){d(n,t);var e=p(n);function n(t,i,r,o){var a;return _(this,n),(a=e.call(this,t,r,i,o)).DIRECTIVE_KEY="layout-align",a.layout="row",a.inline=!1,a.init(),a.marshal.trackValue(a.nativeElement,"layout").pipe(jx(a.destroySubject)).subscribe(a.onLayoutChange.bind(g(a))),a}return x(n,[{key:"updateWithValue",value:function(t){var e=this.layout||"row",n=this.inline;"row"===e&&n?this.styleCache=XT:"row"!==e||n?"row-reverse"===e&&n?this.styleCache=ZT:"row-reverse"!==e||n?"column"===e&&n?this.styleCache=KT:"column"!==e||n?"column-reverse"===e&&n?this.styleCache=QT:"column-reverse"!==e||n||(this.styleCache=WT):this.styleCache=qT:this.styleCache=GT:this.styleCache=VT,this.addStyles(t,{layout:e,inline:n})}},{key:"onLayoutChange",value:function(t){var e=this,n=t.value.split(" ");this.layout=n[0],this.inline=t.value.includes("inline"),JL.find(function(t){return t===e.layout})||(this.layout="row"),this.triggerUpdate()}}]),n}(zE)).\u0275fac=function(t){return new(t||CT)(Qa(hu),Qa(dL),Qa(YT),Qa(yL))},CT.\u0275dir=de({type:CT,features:[Da]}),CT),HT=((TT=function(t){d(n,t);var e=p(n);function n(){var t;return _(this,n),(t=e.apply(this,arguments)).inputs=jT,t}return n}(BT)).\u0275fac=function(t){return UT(t||TT)},TT.\u0275dir=de({type:TT,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[Da]}),TT),UT=ci(HT),VT=new Map,qT=new Map,GT=new Map,WT=new Map,XT=new Map,KT=new Map,ZT=new Map,QT=new Map,JT=((IT=function t(){_(this,t)}).\u0275mod=ce({type:IT}),IT.\u0275inj=Ct({factory:function(t){return new(t||IT)},imports:[[TE,cw]]}),IT),$T=["mat-button",""],tC=["*"],eC=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],nC=Rk(Ak(Nk(function t(e){_(this,t),this._elementRef=e}))),iC=((DT=function(t){d(n,t);var e=p(n);function n(t,i,r){var o;_(this,n),(o=e.call(this,t))._focusMonitor=i,o._animationMode=r,o.isRoundButton=o._hasHostAttributes("mat-fab","mat-mini-fab"),o.isIconButton=o._hasHostAttributes("mat-icon-button");var s,u=a(eC);try{for(u.s();!(s=u.n()).done;){var l=s.value;o._hasHostAttributes(l)&&o._getHostElement().classList.add(l)}}catch(c){u.e(c)}finally{u.f()}return t.nativeElement.classList.add("mat-button-base"),o.isRoundButton&&(o.color="accent"),o}return x(n,[{key:"ngAfterViewInit",value:function(){this._focusMonitor.monitor(this._elementRef,!0)}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor.focusVia(this._getHostElement(),t,e)}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_hasHostAttributes",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.some(function(e){return t._getHostElement().hasAttribute(e)})}}]),n}(nC)).\u0275fac=function(t){return new(t||DT)(Qa(hu),Qa(Sk),Qa(bm,8))},DT.\u0275cmp=oe({type:DT,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&Dl(Xk,!0),2&t&&Il(n=Fl())&&(e.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(Ga("disabled",e.disabled||null),Ls("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Da],attrs:$T,ngContentSelectors:tC,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(ms(),ts(0,"span",0),gs(1),es(),ns(2,"span",1),ns(3,"span",2)),2&t&&(yo(2),Ls("mat-button-ripple-round",e.isRoundButton||e.isIconButton),Ja("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[Xk],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),DT),rC=((PT=function t(){_(this,t)}).\u0275mod=ce({type:PT}),PT.\u0275inj=Ct({factory:function(t){return new(t||PT)},imports:[[Kk,Ok],Ok]}),PT);function oC(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xb,i=(e=t)instanceof Date&&!isNaN(+e)?+t-n.now():Math.abs(t);return function(t){return t.lift(new aC(i,n))}}var aC=function(){function t(e,n){_(this,t),this.delay=e,this.scheduler=n}return x(t,[{key:"call",value:function(t,e){return e.subscribe(new sC(t,this.delay,this.scheduler))}}]),t}(),sC=function(t){d(n,t);var e=p(n);function n(t,i,r){var o;return _(this,n),(o=e.call(this,t)).delay=i,o.scheduler=r,o.queue=[],o.active=!1,o.errored=!1,o}return x(n,[{key:"_schedule",value:function(t){this.active=!0,this.destination.add(t.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}},{key:"scheduleNotification",value:function(t){if(!0!==this.errored){var e=this.scheduler,n=new uC(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}}},{key:"_next",value:function(t){this.scheduleNotification(zb.createNext(t))}},{key:"_error",value:function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(zb.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){for(var e=t.source,n=e.queue,i=t.scheduler,r=t.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){var o=Math.max(0,n[0].time-i.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1}}]),n}(O),uC=function t(e,n){_(this,t),this.time=e,this.notification=n},lC=["mat-menu-item",""],cC=["*"];function hC(t,e){if(1&t){var n=os();ts(0,"div",0),us("keydown",function(t){return $e(n),fs()._handleKeydown(t)})("click",function(){return $e(n),fs().closed.emit("click")})("@transformMenu.start",function(t){return $e(n),fs()._onAnimationStart(t)})("@transformMenu.done",function(t){return $e(n),fs()._onAnimationDone(t)}),ts(1,"div",1),gs(2),es(),es()}if(2&t){var i=fs();Ja("id",i.panelId)("ngClass",i._classList)("@transformMenu",i._panelAnimationState),Ga("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby||null)("aria-describedby",i.ariaDescribedby||null)}}var dC,fC,pC,mC,gC,yC,vC,_C={transformMenu:Kd("transformMenu",[$d("void",Jd({opacity:0,transform:"scale(0.8)"})),tf("void => enter",Zd("120ms cubic-bezier(0, 0, 0.2, 1)",Jd({opacity:1,transform:"scale(1)"}))),tf("* => void",Zd("100ms 25ms linear",Jd({opacity:0})))]),fadeInItems:Kd("fadeInItems",[$d("showing",Jd({opacity:1})),tf("void => *",[Jd({opacity:0}),Zd("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},bC=new fi("MatMenuContent"),xC=new fi("MAT_MENU_PANEL"),wC=Nk(Ak(function t(){_(this,t)})),kC=((dC=function(t){d(n,t);var e=p(n);function n(t,i,r,o){var a;return _(this,n),(a=e.call(this))._elementRef=t,a._focusMonitor=r,a._parentMenu=o,a.role="menuitem",a._hovered=new V,a._focused=new V,a._highlighted=!1,a._triggersSubmenu=!1,o&&o.addItem&&o.addItem(g(a)),a}return x(n,[{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this)}},{key:"ngAfterViewInit",value:function(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}},{key:"ngOnDestroy",value:function(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}},{key:"_getTabIndex",value:function(){return this.disabled?"-1":"0"}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_checkDisabled",value:function(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}},{key:"_handleMouseEnter",value:function(){this._hovered.next(this)}},{key:"getLabel",value:function(){for(var t,e,n=this._elementRef.nativeElement.cloneNode(!0),i=n.querySelectorAll("mat-icon, .material-icons"),r=0;r<i.length;r++){var o=i[r];null===(t=o.parentNode)||void 0===t||t.removeChild(o)}return(null===(e=n.textContent)||void 0===e?void 0:e.trim())||""}}]),n}(wC)).\u0275fac=function(t){return new(t||dC)(Qa(hu),Qa(Gc),Qa(Sk),Qa(xC,8))},dC.\u0275cmp=oe({type:dC,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,e){1&t&&us("click",function(t){return e._checkDisabled(t)})("mouseenter",function(){return e._handleMouseEnter()}),2&t&&(Ga("role",e.role)("tabindex",e._getTabIndex())("aria-disabled",e.disabled.toString())("disabled",e.disabled||null),Ls("mat-menu-item",!0)("mat-menu-item-highlighted",e._highlighted)("mat-menu-item-submenu-trigger",e._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[Da],attrs:lC,ngContentSelectors:cC,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(t,e){1&t&&(ms(),gs(0),ns(1,"div",0)),2&t&&(yo(1),Ja("matRippleDisabled",e.disableRipple||e.disabled)("matRippleTrigger",e._getHostElement()))},directives:[Xk],encapsulation:2,changeDetection:0}),dC),MC=new fi("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}}),SC=0,EC=((pC=function(){function t(e,n,i){_(this,t),this._elementRef=e,this._ngZone=n,this._defaultOptions=i,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new bl,this._tabSubscription=I.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new V,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new vl,this.close=this.closed,this.panelId="mat-menu-panel-"+SC++}return x(t,[{key:"ngOnInit",value:function(){this.setPositionClasses()}},{key:"ngAfterContentInit",value:function(){var t=this;this._updateDirectDescendants(),this._keyManager=new pk(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(function(){return t.closed.emit("tab")}),this._directDescendantItems.changes.pipe(Vg(this._directDescendantItems),zg(function(t){return ht.apply(void 0,r(t.map(function(t){return t._focused})))})).subscribe(function(e){return t._keyManager.updateActiveItem(e)})}},{key:"ngOnDestroy",value:function(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}},{key:"_hovered",value:function(){return this._directDescendantItems.changes.pipe(Vg(this._directDescendantItems),zg(function(t){return ht.apply(void 0,r(t.map(function(t){return t._hovered})))}))}},{key:"addItem",value:function(t){}},{key:"removeItem",value:function(t){}},{key:"_handleKeydown",value:function(t){var e=t.keyCode,n=this._keyManager;switch(e){case 27:kw(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:38!==e&&40!==e||n.setFocusOrigin("keyboard"),n.onKeydown(t)}}},{key:"focusFirstItem",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program";this.lazyContent?this._ngZone.onStable.pipe(vg(1)).subscribe(function(){return t._focusFirstItem(e)}):this._focusFirstItem(e)}},{key:"_focusFirstItem",value:function(t){var e=this._keyManager;if(e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length)for(var n=this._directDescendantItems.first._getHostElement().parentElement;n;){if("menu"===n.getAttribute("role")){n.focus();break}n=n.parentElement}}},{key:"resetActiveItem",value:function(){this._keyManager.setActiveItem(-1)}},{key:"setElevation",value:function(t){var e="mat-elevation-z"+Math.min(4+t,24),n=Object.keys(this._classList).find(function(t){return t.startsWith("mat-elevation-z")});n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}},{key:"setPositionClasses",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.xPosition,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.yPosition,n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}},{key:"_startAnimation",value:function(){this._panelAnimationState="enter"}},{key:"_resetAnimation",value:function(){this._panelAnimationState="void"}},{key:"_onAnimationDone",value:function(t){this._animationDone.next(t),this._isAnimating=!1}},{key:"_onAnimationStart",value:function(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}},{key:"_updateDirectDescendants",value:function(){var t=this;this._allItems.changes.pipe(Vg(this._allItems)).subscribe(function(e){t._directDescendantItems.reset(e.filter(function(e){return e._parentMenu===t})),t._directDescendantItems.notifyOnChanges()})}},{key:"xPosition",get:function(){return this._xPosition},set:function(t){this._xPosition=t,this.setPositionClasses()}},{key:"yPosition",get:function(){return this._yPosition},set:function(t){this._yPosition=t,this.setPositionClasses()}},{key:"overlapTrigger",get:function(){return this._overlapTrigger},set:function(t){this._overlapTrigger=xx(t)}},{key:"hasBackdrop",get:function(){return this._hasBackdrop},set:function(t){this._hasBackdrop=xx(t)}},{key:"panelClass",set:function(t){var e=this,n=this._previousPanelClass;n&&n.length&&n.split(" ").forEach(function(t){e._classList[t]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(function(t){e._classList[t]=!0}),this._elementRef.nativeElement.className="")}},{key:"classList",get:function(){return this.panelClass},set:function(t){this.panelClass=t}}]),t}()).\u0275fac=function(t){return new(t||pC)(Qa(hu),Qa(dc),Qa(MC))},pC.\u0275dir=de({type:pC,contentQueries:function(t,e,n){var i;1&t&&(Al(n,bC,!0),Al(n,kC,!0),Al(n,kC,!1)),2&t&&(Il(i=Fl())&&(e.lazyContent=i.first),Il(i=Fl())&&(e._allItems=i),Il(i=Fl())&&(e.items=i))},viewQuery:function(t,e){var n;1&t&&Dl(ju,!0),2&t&&Il(n=Fl())&&(e.templateRef=n.first)},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),pC),LC=((fC=function(t){d(n,t);var e=p(n);function n(t,i,r){return _(this,n),e.call(this,t,i,r)}return n}(EC)).\u0275fac=function(t){return new(t||fC)(Qa(hu),Qa(dc),Qa(MC))},fC.\u0275cmp=oe({type:fC,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,e){2&t&&Ga("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[ru([{provide:xC,useExisting:fC}]),Da],ngContentSelectors:cC,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,e){1&t&&(ms(),Ka(0,hC,3,6,"ng-template"))},directives:[kh],styles:['.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[_C.transformMenu,_C.fadeInItems]},changeDetection:0}),fC),TC=new fi("mat-menu-scroll-strategy"),CC={provide:TC,deps:[sk],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},IC=$x({passive:!0}),PC=((yC=function(){function t(e,n,i,r,o,a,s,u){var l=this;_(this,t),this._overlay=e,this._element=n,this._viewContainerRef=i,this._menuItemInstance=a,this._dir=s,this._focusMonitor=u,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=I.EMPTY,this._hoverSubscription=I.EMPTY,this._menuCloseSubscription=I.EMPTY,this._handleTouchStart=function(){return l._openedBy="touch"},this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new vl,this.onMenuOpen=this.menuOpened,this.menuClosed=new vl,this.onMenuClose=this.menuClosed,this._scrollStrategy=r,this._parentMaterialMenu=o instanceof EC?o:void 0,n.nativeElement.addEventListener("touchstart",this._handleTouchStart,IC),a&&(a._triggersSubmenu=this.triggersSubmenu())}return x(t,[{key:"ngAfterContentInit",value:function(){this._checkMenu(),this._handleHover()}},{key:"ngOnDestroy",value:function(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,IC),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}},{key:"triggersSubmenu",value:function(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}},{key:"toggleMenu",value:function(){return this._menuOpen?this.closeMenu():this.openMenu()}},{key:"openMenu",value:function(){var t=this;if(!this._menuOpen){this._checkMenu();var e=this._createOverlay(),n=e.getConfig();this._setPosition(n.positionStrategy),n.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(function(){return t.closeMenu()}),this._initMenu(),this.menu instanceof EC&&this.menu._startAnimation()}}},{key:"closeMenu",value:function(){this.menu.close.emit()}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}},{key:"_destroyMenu",value:function(){var t=this;if(this._overlayRef&&this.menuOpen){var e=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this._restoreFocus(),e instanceof EC?(e._resetAnimation(),e.lazyContent?e._animationDone.pipe(Sm(function(t){return"void"===t.toState}),vg(1),jx(e.lazyContent._attached)).subscribe({next:function(){return e.lazyContent.detach()},complete:function(){return t._setIsMenuOpen(!1)}}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),e.lazyContent&&e.lazyContent.detach())}}},{key:"_initMenu",value:function(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}},{key:"_setMenuElevation",value:function(){if(this.menu.setElevation){for(var t=0,e=this.menu.parentMenu;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}},{key:"_restoreFocus",value:function(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}},{key:"_setIsMenuOpen",value:function(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}},{key:"_checkMenu",value:function(){}},{key:"_createOverlay",value:function(){if(!this._overlayRef){var t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}},{key:"_getOverlayConfig",value:function(){return new Nw({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}},{key:"_subscribeToPositions",value:function(t){var e=this;this.menu.setPositionClasses&&t.positionChanges.subscribe(function(t){e.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")})}},{key:"_setPosition",value:function(t){var n=e("before"===this.menu.xPosition?["end","start"]:["start","end"],2),i=n[0],r=n[1],o=e("above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],2),a=o[0],s=o[1],u=a,l=s,c=i,h=r,d=0;this.triggersSubmenu()?(h=i="before"===this.menu.xPosition?"start":"end",r=c="end"===i?"start":"end",d="bottom"===a?8:-8):this.menu.overlapTrigger||(u="top"===a?"bottom":"top",l="top"===s?"bottom":"top"),t.withPositions([{originX:i,originY:u,overlayX:c,overlayY:a,offsetY:d},{originX:r,originY:u,overlayX:h,overlayY:a,offsetY:d},{originX:i,originY:l,overlayX:c,overlayY:s,offsetY:-d},{originX:r,originY:l,overlayX:h,overlayY:s,offsetY:-d}])}},{key:"_menuClosingActions",value:function(){var t=this,e=this._overlayRef.backdropClick(),n=this._overlayRef.detachments();return ht(e,this._parentMaterialMenu?this._parentMaterialMenu.closed:km(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Sm(function(e){return e!==t._menuItemInstance}),Sm(function(){return t._menuOpen})):km(),n)}},{key:"_handleMousedown",value:function(t){xk(t)||(this._openedBy=0===t.button?"mouse":null,this.triggersSubmenu()&&t.preventDefault())}},{key:"_handleKeydown",value:function(t){var e=t.keyCode;this.triggersSubmenu()&&(39===e&&"ltr"===this.dir||37===e&&"rtl"===this.dir)&&this.openMenu()}},{key:"_handleClick",value:function(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}},{key:"_handleHover",value:function(){var t=this;this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Sm(function(e){return e===t._menuItemInstance&&!e.disabled}),oC(0,Ax)).subscribe(function(){t._openedBy="mouse",t.menu instanceof EC&&t.menu._isAnimating?t.menu._animationDone.pipe(vg(1),oC(0,Ax),jx(t._parentMaterialMenu._hovered())).subscribe(function(){return t.openMenu()}):t.openMenu()}))}},{key:"_getPortal",value:function(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new yw(this.menu.templateRef,this._viewContainerRef)),this._portal}},{key:"_deprecatedMatMenuTriggerFor",get:function(){return this.menu},set:function(t){this.menu=t}},{key:"menu",get:function(){return this._menu},set:function(t){var e=this;t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(function(t){e._destroyMenu(),"click"!==t&&"tab"!==t||!e._parentMaterialMenu||e._parentMaterialMenu.closed.emit(t)})))}},{key:"menuOpen",get:function(){return this._menuOpen}},{key:"dir",get:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}}]),t}()).\u0275fac=function(t){return new(t||yC)(Qa(sk),Qa(hu),Qa(Gu),Qa(TC),Qa(xC,8),Qa(kC,10),Qa(lw,8),Qa(Sk))},yC.\u0275dir=de({type:yC,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(t,e){1&t&&us("mousedown",function(t){return e._handleMousedown(t)})("keydown",function(t){return e._handleKeydown(t)})("click",function(t){return e._handleClick(t)}),2&t&&Ga("aria-expanded",e.menuOpen||null)("aria-controls",e.menuOpen?e.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),yC),DC=((gC=function t(){_(this,t)}).\u0275mod=ce({type:gC}),gC.\u0275inj=Ct({factory:function(t){return new(t||gC)},providers:[CC],imports:[Ok]}),gC),OC=((mC=function t(){_(this,t)}).\u0275mod=ce({type:mC}),mC.\u0275inj=Ct({factory:function(t){return new(t||mC)},providers:[CC],imports:[[Bh,Ok,Kk,lk,DC],fw,Ok,DC]}),mC),AC=function(){return{info:"short"}},RC=function(t){return{active:t}},NC=((vC=function(){function t(e,n){_(this,t),this.router=e,this.dialog=n}return x(t,[{key:"ngOnInit",value:function(){}},{key:"changeLanguage",value:function(t){this.router.navigate([],{queryParams:{lang:t},queryParamsHandling:"merge"})}},{key:"showSearch",value:function(){this.dialog.open(QL,{width:"800px",maxHeight:"90vh",autoFocus:!1})}}]),t}()).\u0275fac=function(t){return new(t||vC)(Qa(H_),Qa(mM))},vC.\u0275cmp=oe({type:vC,selectors:[["cm-header"]],hostAttrs:[1,"row","header-row"],inputs:{lang:"lang"},decls:37,vars:31,consts:[["fxFlex","","fxLayout","row","fxLayoutAlign"," center",1,"nav-sub"],["mat-icon-button","","color","primary",1,"menu-button",3,"matMenuTriggerFor"],[1,"cm-menu"],["mat-icon-button","","color","primary",1,"search-button",3,"click"],[1,"cm-search"],[3,"overlapTrigger"],["menu","matMenu"],["mat-menu-item","","routerLink","/overview","routerLinkActive","active"],["mat-menu-item","","routerLink","/topography","routerLinkActive","active"],["mat-menu-item","","routerLink","/topology","routerLinkActive","active"],["mat-menu-item","","routerLink","/book","routerLinkActive","active"],["mat-menu-item","","routerLink","/team","routerLinkActive","active"],["mat-menu-item","","routerLink","/disclosure","routerLinkActive","active"],["mat-menu-item","",1,"search-menu",3,"click"],[1,"cm-search","search-icon-menu"],["fxFlex","grow","fxLayout","row","fxLayoutAlign","center center","fxLayoutAlign.lt-md","center center",1,"logo-container"],["routerLink","/","queryParamsHandling","merge","src","./assets/logo.svg",1,"logo",3,"queryParams"],["fxFlex","","fxLayout","row","fxLayoutAlign","end",1,"lang-selector"],[1,"nav-lang"],[3,"ngClass","click"]],template:function(t,e){if(1&t&&(ts(0,"div",0),ts(1,"button",1),ns(2,"mat-icon",2),es(),ts(3,"button",3),us("click",function(){return e.showSearch()}),ns(4,"mat-icon",4),es(),ts(5,"mat-menu",5,6),ts(7,"button",7),zs(8),dl(9,"translate"),es(),ts(10,"button",8),zs(11),dl(12,"translate"),es(),ts(13,"button",9),zs(14),dl(15,"translate"),es(),ts(16,"button",10),zs(17),dl(18,"translate"),es(),ts(19,"button",11),zs(20),dl(21,"translate"),es(),ts(22,"button",12),zs(23),dl(24,"translate"),es(),ts(25,"button",13),us("click",function(){return e.showSearch()}),ns(26,"mat-icon",14),zs(27),dl(28,"translate"),es(),es(),es(),ts(29,"div",15),ns(30,"img",16),es(),ts(31,"div",17),ts(32,"span",18),ts(33,"a",19),us("click",function(){return e.changeLanguage("en")}),zs(34,"EN"),es(),ts(35,"a",19),us("click",function(){return e.changeLanguage("de")}),zs(36,"DE"),es(),es(),es()),2&t){var n=Za(6);yo(1),Ja("matMenuTriggerFor",n),yo(4),Ja("overlapTrigger",!1),yo(3),js(fl(9,12,"header.about")),yo(3),js(fl(12,14,"header.topography")),yo(3),js(fl(15,16,"header.topology")),yo(3),js(fl(18,18,"header.book")),yo(3),js(fl(21,20,"header.team")),yo(3),js(fl(24,22,"header.disclosures")),yo(4),js(fl(28,24,"header.search")),yo(3),Ja("queryParams",al(26,AC)),yo(3),Ja("ngClass",sl(27,RC,"en"===e.lang)),yo(2),Ja("ngClass",sl(29,RC,"de"===e.lang))}},directives:[_T,lT,HT,iC,PC,ME,LC,kC,U_,Z_,kh,kL],pipes:[_x],styles:["[_nghost-%COMP%]{height:3.3rem;background-color:#333;font-family:Source Sans Pro;width:100%;position:fixed;top:0;z-index:20}@media screen and (max-width:959px){[_nghost-%COMP%]{height:2.5rem}}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none!important}.nav-sub[_ngcontent-%COMP%]{margin-left:18px}@media screen and (max-width:959px){.nav-sub[_ngcontent-%COMP%]{margin-left:6px}}.nav-sub[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff}.nav-sub[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.4rem;margin-top:-6px}@media screen and (max-width:959px){.nav-sub[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.2rem}}.lang-selector[_ngcontent-%COMP%]{margin-left:22px}@media screen and (max-width:340px){.lang-selector[_ngcontent-%COMP%]{margin-left:0}}.nav-lang[_ngcontent-%COMP%]{text-align:right;font-size:.9rem;margin-right:12px}@media screen and (max-width:959px){.nav-lang[_ngcontent-%COMP%]{margin-right:5px}}.nav-lang[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:3.3rem;padding:0 6px;border:1px solid #333;margin-right:5px}@media screen and (max-width:959px){.nav-lang[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:2.5rem}}.nav-lang[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%], .nav-lang[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;border:1px solid #fff}.logo[_ngcontent-%COMP%], .nav-lang[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer}.logo[_ngcontent-%COMP%]{height:2.2rem}@media screen and (max-width:959px){.logo[_ngcontent-%COMP%]{height:1.9rem}}.logo[_ngcontent-%COMP%]:focus{outline:0}.search-button[_ngcontent-%COMP%]{margin-left:2px}@media screen and (max-width:340px){.search-button[_ngcontent-%COMP%]{display:none}}@media screen and (max-width:959px){.search-button[_ngcontent-%COMP%]{margin-left:-8px}}.search-icon-menu[_ngcontent-%COMP%]{font-size:24px;margin-right:10px!important}@media screen and (min-width:340px){.search-menu[_ngcontent-%COMP%]{display:none}}@media screen and (max-width:340px){.logo-container[_ngcontent-%COMP%]{justify-content:start!important}}"]}),vC);function FC(t,e){if(1&t){var n=os();ts(0,"button",1),us("click",function(){return $e(n),fs().controlClick.emit()}),ns(1,"mat-icon",2),es()}if(2&t){var i=fs();yo(1),Ja("@control",i.state)}}var YC,zC=["*"],jC=((YC=function(){function t(){_(this,t),this.showControl=!1,this.controlClick=new vl}return x(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||YC)},YC.\u0275cmp=oe({type:YC,selectors:[["cm-sidepanel"]],inputs:{showControl:"showControl",state:"state"},outputs:{controlClick:"controlClick"},ngContentSelectors:zC,decls:2,vars:1,consts:[["mat-button","","class","control",3,"click",4,"ngIf"],["mat-button","",1,"control",3,"click"],["fontSet","fa","fontIcon","fa-caret-right"]],template:function(t,e){1&t&&(ms(),Ka(0,FC,2,1,"button",0),gs(1)),2&t&&Ja("ngIf",e.showControl)},directives:[Lh,iC,ME],styles:["[_nghost-%COMP%]{overflow-y:visible;visibility:visible!important;width:65%;z-index:30;position:fixed;right:0;height:calc(100% - 3.3rem)}.control[_ngcontent-%COMP%], [_nghost-%COMP%]{background:#fff;box-shadow:-3px 0 5px rgba(57,63,72,.3);-moz-box-shadow:-3px 0 5px rgba(57,63,72,.3);-webkit-box-shadow:-3px 0 5px rgba(57,63,72,.3);top:3.3rem}.control[_ngcontent-%COMP%]{height:3.3rem;position:absolute;right:100%;display:block;width:25px;min-width:20px;padding:0;color:#8c8c8c;border-radius:0}.control[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:24px;margin-top:-5px}"],data:{animation:[Kd("control",[$d("full",Jd({transform:"scaleX(1)"})),$d("short",Jd({transform:"scaleX(-1)"})),tf("full <=> short",Zd("300ms ease-in"))])]}}),YC),BC=y("wd/R");function HC(t,e){if(1&t&&ns(0,"cm-header",2),2&t){var n=fs();Ja("@header",n.showHeader)("lang",n.lang)}}var UC,VC=((UC=function(){function t(e,n,i,r){if(_(this,t),this.translate=e,this.route=n,this._doc=i,this.platformId=r,this.showHeader=!0,this.removeHeader=!1,Hh(this.platformId)){document.isIE=!!document.documentMode,document.isEdge=!document.isIE&&!!window.StyleMedia,document.isSafari=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!=typeof safari&&safari.pushNotification).toString();var o=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",o+"px"),window.addEventListener("resize",function(){var t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",t+"px")}),window.skipSectionChange=0}BC.updateLocale("en",{meridiem:function(t,e,n){return t<12?"a.m.":"p.m."}}),this.translate.addLangs(["en","de"]),e.setDefaultLang("en");var a=null,s=this.getParameterByName("lang",this._doc.location.href.toLowerCase())||"";s&&s.match(/en|de/)&&(a=s),Hh(this.platformId)&&!a&&this.translate.getBrowserLang().match(/en|de/)&&(a=this.translate.getBrowserLang()),a=a||"en",this.translate.use(a),this.lang=a}return x(t,[{key:"ngOnInit",value:function(){var t=this;this.route.queryParams.subscribe(function(e){e.lang&&e.lang.match(/en|de/)&&t.translate.use(e.lang)}),this.currentLangSubscription=this.translate.onLangChange.subscribe(function(e){t.lang=e.lang})}},{key:"ngOnDestroy",value:function(){this.currentLangSubscription.unsubscribe()}},{key:"getParameterByName",value:function(t,e){e||(e=this._doc.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}}]),t}()).\u0275fac=function(t){return new(t||UC)(Qa(vx),Qa(mv),Qa(Gc),Qa(Xl))},UC.\u0275cmp=oe({type:UC,selectors:[["cm-app"]],decls:3,vars:1,consts:[["fxLayout","column","fxFlexFill",""],["fxLayout","row",3,"lang",4,"ngIf"],["fxLayout","row",3,"lang"]],template:function(t,e){1&t&&(ts(0,"div",0),Ka(1,HC,1,2,"cm-header",1),ns(2,"router-outlet"),es()),2&t&&(yo(1),Ja("ngIf",!e.removeHeader))},directives:[lT,NT,Lh,Q_,NC],styles:["[_nghost-%COMP%]{height:100%;width:100%}"],data:{animation:[Kd("header",[$d("false",Jd({opacity:0})),$d("true",Jd({opacity:1})),tf("false <=> true",Zd("300ms ease-in"))])]}}),UC),qC=new fi("REQUEST");new fi("RESPONSE");var GC,WC=((GC=function(){function t(){_(this,t)}return x(t,[{key:"ngOnInit",value:function(){}},{key:"activateHover",value:function(t){this.active=t}}]),t}()).\u0275fac=function(t){return new(t||GC)},GC.\u0275cmp=oe({type:GC,selectors:[["cm-start-page-selector"]],decls:11,vars:8,consts:[["routerLink","/topography","routerLinkActive","active",1,"selector-topography",3,"mouseenter","mouseleave"],[1,"not-selected-overlay"],[1,"label"],[1,"seperator"],["routerLink","/topology","routerLinkActive","active",1,"selector-topology",3,"mouseenter","mouseleave"]],template:function(t,e){1&t&&(ts(0,"div",0),us("mouseenter",function(){return e.activateHover("topography")})("mouseleave",function(){return e.activateHover(null)}),ns(1,"div",1),ts(2,"div",2),zs(3),dl(4,"translate"),es(),es(),ns(5,"div",3),ts(6,"div",4),us("mouseenter",function(){return e.activateHover("topology")})("mouseleave",function(){return e.activateHover(null)}),ns(7,"div",1),ts(8,"div",2),zs(9),dl(10,"translate"),es(),es()),2&t&&(yo(1),Ja("@topographyBlur",e.active),yo(2),js(fl(4,4,"header.topography")),yo(4),Ja("@topologyBlur",e.active),yo(2),js(fl(10,6,"header.topology")))},directives:[U_,Z_],pipes:[_x],styles:[".selector-topography[_ngcontent-%COMP%], .selector-topology[_ngcontent-%COMP%]{width:100%;height:calc(50% - 4px);cursor:pointer;overflow:hidden}.selector-topography[_ngcontent-%COMP%]:hover   .label[_ngcontent-%COMP%], .selector-topology[_ngcontent-%COMP%]:hover   .label[_ngcontent-%COMP%]{background:rgba(166,116,129,.9)}.selector-topography[_ngcontent-%COMP%]:focus, .selector-topology[_ngcontent-%COMP%]:focus{outline:none}.not-selected-overlay[_ngcontent-%COMP%]{width:100%;height:100%;opacity:0;background:#fff}.seperator[_ngcontent-%COMP%]{height:8px;color:#fff;position:relative}.selector-topography[_ngcontent-%COMP%]{background-image:url(topography.b79cbd31b47048d0141c.jpg);background-position:50%;background-size:cover}@media screen and (max-width:959px){.selector-topography[_ngcontent-%COMP%]{background-image:url(topography-mobile.f6971d465c0db9a1885c.jpg)}}.selector-topology[_ngcontent-%COMP%]{background-image:url(topology.8bb26fdc6578af280e0b.jpg);background-position:50%;background-size:cover}@media screen and (max-width:959px){.selector-topology[_ngcontent-%COMP%]{background-image:url(topology-mobile.13693d888281fcb1ed28.jpg)}}.label[_ngcontent-%COMP%]{font-family:Source Sans Pro Bold;font-size:1.2rem;color:#fff;background:hsla(0,0%,54.9%,.9);text-align:center;width:240px;height:60px;line-height:55px;position:relative;bottom:calc(50% + 30px);left:calc(50% - 120px)}@media screen and (max-width:959px){.label[_ngcontent-%COMP%]{font-size:20px;width:200px;height:50px;line-height:50px;bottom:calc(50% + 25px);left:calc(50% - 100px)}}"],data:{animation:[Kd("topologyBlur",[$d("topography",Jd({opacity:"0.5"})),$d("topology",Jd({opacity:"0"})),tf("* <=> *",Zd("300ms ease-in"))]),Kd("topographyBlur",[$d("topography",Jd({opacity:0})),$d("topology",Jd({opacity:.5})),tf("* <=> *",Zd("300ms ease-in"))])]}}),GC);function XC(t,e){if(1&t&&(ts(0,"div",4),ns(1,"cm-information",5),es()),2&t){var n=fs();yo(1),Ja("content",n.content)("lang",n.lang)("media",n.media)}}var KC,ZC,QC,JC,$C,tI=function(t,e){return{"cm-square-plus":t,"cm-square-close":e}},eI=((JC=function(){function t(){_(this,t),this.opened=!1,this.openedFirst=!1}return x(t,[{key:"ngOnInit",value:function(){}},{key:"openInline",value:function(){this.opened=!0,this.openedFirst=!0}},{key:"toogle",value:function(){this.opened=!this.opened,this.opened&&(this.openedFirst=!0)}},{key:"elementId",get:function(){return(this.id+"").startsWith("n:")?this.id+"":"n:"+this.id}}]),t}()).\u0275fac=function(t){return new(t||JC)},JC.\u0275cmp=oe({type:JC,selectors:[["cm-note"]],hostVars:1,hostBindings:function(t,e){2&t&&Ga("id",e.elementId)},inputs:{content:"content",lang:"lang",media:"media",id:"id"},decls:4,vars:6,consts:[["mat-icon-button","",1,"control",3,"click"],[3,"ngClass"],[1,"animation-container"],["class","container",4,"ngIf"],[1,"container"],[3,"content","lang","media"]],template:function(t,e){1&t&&(ts(0,"button",0),us("click",function(){return e.toogle()}),ns(1,"span",1),es(),ts(2,"div",2),Ka(3,XC,2,3,"div",3),es()),2&t&&(yo(1),Ja("ngClass",ul(3,tI,!e.opened,e.opened)),yo(1),Ja("@container",e.opened),yo(1),Ja("ngIf",e.openedFirst))},styles:["[_nghost-%COMP%]{margin-left:1px;margin-right:1px}.animation-container[_ngcontent-%COMP%]{overflow:hidden}.container[_ngcontent-%COMP%]{padding:20px 25px;background:#f4f4f4;margin-top:10px;margin-bottom:10px;font-family:Source Sans Pro;font-size:.9rem;line-height:1.35rem}.container[_ngcontent-%COMP%]     em, .container[_ngcontent-%COMP%]     i{font-family:Source Sans Pro Italic}.mat-icon-button[_ngcontent-%COMP%]{width:20px;min-width:20px;height:20px;line-height:20px;min-height:20px;vertical-align:top;font-size:20px;padding:0;color:#a67481;margin:3px 0 0;border-radius:0}@media screen and (max-width:959px){.mat-icon-button[_ngcontent-%COMP%]{margin-top:1px}}"],data:{animation:[Kd("container",[$d("true",Jd({height:"*",display:"*"})),$d("false",Jd({height:"0px",display:"none"})),tf("false => true",[Jd({display:"block"}),Zd("300ms ease-in")]),tf("true => false",[Zd("300ms ease-in")])])]}}),JC),nI=((QC=function(){function t(){_(this,t),this.closed=new vl,this.opened=new vl}return x(t,[{key:"ngOnInit",value:function(){}},{key:"elementId",get:function(){return(this.id+"").startsWith("q:")?this.id+"":"q:"+this.id}}]),t}()).\u0275fac=function(t){return new(t||QC)},QC.\u0275cmp=oe({type:QC,selectors:[["cm-quote"]],hostVars:1,hostBindings:function(t,e){2&t&&Ga("id",e.elementId)},inputs:{content:"content",lang:"lang",media:"media",id:"id"},outputs:{closed:"closed",opened:"opened"},decls:1,vars:3,consts:[[3,"content","lang","media","galleryClosed","galleryOpened"]],template:function(t,e){1&t&&(ts(0,"cm-information",0),us("galleryClosed",function(){return e.closed.emit()})("galleryOpened",function(){return e.opened.emit()}),es()),2&t&&Ja("content",e.content)("lang",e.lang)("media",e.media)},styles:['[_nghost-%COMP%]{display:block;padding:.5rem 2rem;font-family:"Source Serif Pro Italics";color:#333}@media screen and (max-width:959px){[_nghost-%COMP%]{padding:12px 0}}[_nghost-%COMP%]     em, [_nghost-%COMP%]     i{font-family:"Source Serif Pro Regular";font-style:normal}[_nghost-%COMP%]     .mat-dialog-container{background:#fff}']}),QC),iI=((ZC=function(){function t(){_(this,t),this.text=""}return x(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||ZC)},ZC.\u0275cmp=oe({type:ZC,selectors:[["cm-link-extern"]],inputs:{href:"href",text:"text"},decls:4,vars:2,consts:[["target","_blank",3,"href"],[1,"cm-external-link"],[3,"innerHtml"]],template:function(t,e){1&t&&(ts(0,"a",0),ns(1,"span",1),zs(2,"\xa0"),ns(3,"span",2),es()),2&t&&(ys("href",e.href,br),yo(3),Ja("innerHtml",e.text,_r))},styles:[""]}),ZC),rI=((KC=function(){function t(e){_(this,t),this.router=e,this.info="full",this.text="",this.fragment=""}return x(t,[{key:"ngOnInit",value:function(){if(this.href.indexOf("#")){var t=this.href.split("#");this.href=t[0],this.fragment=t[1]||"p:1"}this.href.startsWith("events")&&(this.href=/topography/+this.href)}},{key:"click",value:function(t){t.preventDefault(),window.skipSectionChange+=1,this.router.navigate([this.href],{queryParams:{info:this.info},queryParamsHandling:"merge",fragment:this.fragment}),setTimeout(function(){window.skipSectionChange-=1},200)}}]),t}()).\u0275fac=function(t){return new(t||KC)(Qa(H_))},KC.\u0275cmp=oe({type:KC,selectors:[["cm-link-intern"]],inputs:{href:"href",info:"info",text:"text"},decls:2,vars:1,consts:[["href","#",3,"click"],[3,"innerHtml"]],template:function(t,e){1&t&&(ts(0,"a",0),us("click",function(t){return e.click(t)}),ns(1,"span",1),es()),2&t&&(yo(1),Ja("innerHtml",e.text,_r))},styles:[""]}),KC),oI=function(){return["."]},aI=(($C=function(){function t(){_(this,t),this.text="",this.fragment=""}return x(t,[{key:"ngOnInit",value:function(){var t=this.href.split("#");this.fragment=t[1]}}]),t}()).\u0275fac=function(t){return new(t||$C)},$C.\u0275cmp=oe({type:$C,selectors:[["cm-link-inpage"]],inputs:{href:"href",text:"text"},decls:2,vars:4,consts:[["queryParamsHandling","merge",3,"routerLink","fragment"],[3,"innerHtml"]],template:function(t,e){1&t&&(ts(0,"a",0),ns(1,"span",1),es()),2&t&&(Ja("routerLink",al(3,oI))("fragment",e.fragment),yo(1),Ja("innerHtml",e.text,_r))},directives:[V_],styles:[""]}),$C),sI=y("ulZh");function uI(){return(uI=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function lI(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function cI(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var hI,dI="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}:Object.assign,fI=["","webkit","Moz","MS","ms","o"],pI="undefined"==typeof document?{style:{}}:document.createElement("div"),mI=Math.round,gI=Math.abs,yI=Date.now;function vI(t,e){for(var n,i,r=e[0].toUpperCase()+e.slice(1),o=0;o<fI.length;){if((i=(n=fI[o])?n+r:e)in t)return i;o++}}hI="undefined"==typeof window?{}:window;var _I=vI(pI.style,"touchAction"),bI=void 0!==_I,xI=function(){if(!bI)return!1;var t={},e=hI.CSS&&hI.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){return t[n]=!e||hI.CSS.supports("touch-action",n)}),t}(),wI="ontouchstart"in hI,kI=void 0!==vI(hI,"PointerEvent"),MI=wI&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),SI=["x","y"],EI=["clientX","clientY"];function LI(t,e,n){var i;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function TI(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function CI(t,e){return t.indexOf(e)>-1}var II=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){"compute"===t&&(t=this.compute()),bI&&this.manager.element.style&&xI[t]&&(this.manager.element.style[_I]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return LI(this.manager.recognizers,function(e){TI(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(CI(t,"none"))return"none";var e=CI(t,"pan-x"),n=CI(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":CI(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var i=this.actions,r=CI(i,"none")&&!xI.none,o=CI(i,"pan-y")&&!xI["pan-y"],a=CI(i,"pan-x")&&!xI["pan-x"];if(r&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!a||!o)return r||o&&6&n||a&&24&n?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function PI(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function DI(t){var e=t.length;if(1===e)return{x:mI(t[0].clientX),y:mI(t[0].clientY)};for(var n=0,i=0,r=0;r<e;)n+=t[r].clientX,i+=t[r].clientY,r++;return{x:mI(n/e),y:mI(i/e)}}function OI(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:mI(t.pointers[n].clientX),clientY:mI(t.pointers[n].clientY)},n++;return{timeStamp:yI(),pointers:e,center:DI(e),deltaX:t.deltaX,deltaY:t.deltaY}}function AI(t,e,n){n||(n=SI);var i=e[n[0]]-t[n[0]],r=e[n[1]]-t[n[1]];return Math.sqrt(i*i+r*r)}function RI(t,e,n){return n||(n=SI),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}function NI(t,e){return t===e?1:gI(t)>=gI(e)?t<0?2:4:e<0?8:16}function FI(t,e,n){return{x:e/t||0,y:n/t||0}}function YI(t,e,n){var i=n.pointers.length,r=n.changedPointers.length,o=1&e&&i-r==0,a=12&e&&i-r==0;n.isFirst=!!o,n.isFinal=!!a,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,i=e.pointers,r=i.length;n.firstInput||(n.firstInput=OI(e)),r>1&&!n.firstMultiple?n.firstMultiple=OI(e):1===r&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,u=e.center=DI(i);e.timeStamp=yI(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=RI(s,u),e.distance=AI(s,u),function(t,e){var n=e.center,i=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},i=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=r.x+(n.x-i.x),e.deltaY=r.y+(n.y-i.y)}(n,e),e.offsetDirection=NI(e.deltaX,e.deltaY);var l,c,h=FI(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=gI(h.x)>gI(h.y)?h.x:h.y,e.scale=a?(l=a.pointers,AI((c=i)[0],c[1],EI)/AI(l[0],l[1],EI)):1,e.rotation=a?function(t,e){return RI(e[1],e[0],EI)+RI(t[1],t[0],EI)}(a.pointers,i):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,i,r,o,a=t.lastInterval||e,s=e.timeStamp-a.timeStamp;if(8!==e.eventType&&(s>25||void 0===a.velocity)){var u=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,c=FI(s,u,l);i=c.x,r=c.y,n=gI(c.x)>gI(c.y)?c.x:c.y,o=NI(u,l),t.lastInterval=e}else n=a.velocity,i=a.velocityX,r=a.velocityY,o=a.direction;e.velocity=n,e.velocityX=i,e.velocityY=r,e.direction=o}(n,e);var d,f=t.element,p=e.srcEvent;PI(d=p.composedPath?p.composedPath()[0]:p.path?p.path[0]:p.target,f)&&(f=d),e.target=f}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function zI(t){return t.trim().split(/\s+/g)}function jI(t,e,n){LI(zI(e),function(e){t.addEventListener(e,n,!1)})}function BI(t,e,n){LI(zI(e),function(e){t.removeEventListener(e,n,!1)})}function HI(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var UI=function(){function t(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){TI(t.options.enable,[t])&&n.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&jI(this.element,this.evEl,this.domHandler),this.evTarget&&jI(this.target,this.evTarget,this.domHandler),this.evWin&&jI(HI(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&BI(this.element,this.evEl,this.domHandler),this.evTarget&&BI(this.target,this.evTarget,this.domHandler),this.evWin&&BI(HI(this.element),this.evWin,this.domHandler)},t}();function VI(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}var qI={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},GI={2:"touch",3:"pen",4:"mouse",5:"kinect"},WI="pointerdown",XI="pointermove pointerup pointercancel";hI.MSPointerEvent&&!hI.PointerEvent&&(WI="MSPointerDown",XI="MSPointerMove MSPointerUp MSPointerCancel");var KI=function(t){function e(){var n,i=e.prototype;return i.evEl=WI,i.evWin=XI,(n=t.apply(this,arguments)||this).store=n.manager.session.pointerEvents=[],n}return lI(e,t),e.prototype.handler=function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),r=qI[i],o=GI[t.pointerType]||t.pointerType,a="touch"===o,s=VI(e,t.pointerId,"pointerId");1&r&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&r&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))},e}(UI);function ZI(t){return Array.prototype.slice.call(t,0)}function QI(t,e,n){for(var i=[],r=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];VI(r,a)<0&&i.push(t[o]),r[o]=a,o++}return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}var JI={touchstart:1,touchmove:2,touchend:4,touchcancel:8},$I=function(t){function e(){var n;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",(n=t.apply(this,arguments)||this).targetIds={},n}return lI(e,t),e.prototype.handler=function(t){var e=JI[t.type],n=tP.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})},e}(UI);function tP(t,e){var n,i,r=ZI(t.touches),o=this.targetIds;if(3&e&&1===r.length)return o[r[0].identifier]=!0,[r,r];var a=ZI(t.changedTouches),s=[],u=this.target;if(i=r.filter(function(t){return PI(t.target,u)}),1===e)for(n=0;n<i.length;)o[i[n].identifier]=!0,n++;for(n=0;n<a.length;)o[a[n].identifier]&&s.push(a[n]),12&e&&delete o[a[n].identifier],n++;return s.length?[QI(i.concat(s),"identifier",!0),s]:void 0}var eP={mousedown:1,mousemove:2,mouseup:4},nP=function(t){function e(){var n,i=e.prototype;return i.evEl="mousedown",i.evWin="mousemove mouseup",(n=t.apply(this,arguments)||this).pressed=!1,n}return lI(e,t),e.prototype.handler=function(t){var e=eP[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))},e}(UI);function iP(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY},i=this.lastTouches;this.lastTouches.push(n),setTimeout(function(){var t=i.indexOf(n);t>-1&&i.splice(t,1)},2500)}}function rP(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,iP.call(this,e)):12&t&&iP.call(this,e)}function oP(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var r=this.lastTouches[i],o=Math.abs(e-r.x),a=Math.abs(n-r.y);if(o<=25&&a<=25)return!0}return!1}var aP=function(t){function e(e,n){var i;return(i=t.call(this,e,n)||this).handler=function(t,e,n){var r="mouse"===n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"===n.pointerType)rP.call(cI(cI(i)),e,n);else if(r&&oP.call(cI(cI(i)),n))return;i.callback(t,e,n)}},i.touch=new $I(i.manager,i.handler),i.mouse=new nP(i.manager,i.handler),i.primaryTouch=null,i.lastTouches=[],i}return lI(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(UI);function sP(t,e,n){return!!Array.isArray(t)&&(LI(t,n[e],n),!0)}var uP=1;function lP(t,e){var n=e.manager;return n?n.get(t):t}function cP(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var hP=function(){function t(t){void 0===t&&(t={}),this.options=uI({enable:!0},t),this.id=uP++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return dI(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(sP(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=lP(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return sP(t,"dropRecognizeWith",this)||(t=lP(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(sP(t,"requireFailure",this))return this;var e=this.requireFail;return-1===VI(e,t=lP(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(sP(t,"dropRequireFailure",this))return this;t=lP(t,this);var e=VI(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,n=this.state;function i(n){e.manager.emit(n,t)}n<8&&i(e.options.event+cP(n)),i(e.options.event),t.additionalEvent&&i(t.additionalEvent),n>=8&&i(e.options.event+cP(n))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=32},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=dI({},t);if(!TI(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),dP=function(t){function e(e){return void 0===e&&(e={}),t.call(this,uI({pointers:1},e))||this}lI(e,t);var n=e.prototype;return n.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},n.process=function(t){var e=this.state,n=t.eventType,i=6&e,r=this.attrTest(t);return i&&(8&n||!r)?16|e:i||r?4&n?8|e:2&e?4|e:2:32},e}(hP);function fP(t){return 16===t?"down":8===t?"up":2===t?"left":4===t?"right":""}var pP=function(t){function e(e){var n;return void 0===e&&(e={}),(n=t.call(this,uI({event:"pan",threshold:10,pointers:1,direction:30},e))||this).pX=null,n.pY=null,n}lI(e,t);var n=e.prototype;return n.getTouchAction=function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},n.directionTest=function(t){var e=this.options,n=!0,i=t.distance,r=t.direction,o=t.deltaX,a=t.deltaY;return r&e.direction||(6&e.direction?(r=0===o?1:o<0?2:4,n=o!==this.pX,i=Math.abs(t.deltaX)):(r=0===a?1:a<0?8:16,n=a!==this.pY,i=Math.abs(t.deltaY))),t.direction=r,n&&i>e.threshold&&r&e.direction},n.attrTest=function(t){return dP.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},n.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var n=fP(e.direction);n&&(e.additionalEvent=this.options.event+n),t.prototype.emit.call(this,e)},e}(dP),mP=function(t){function e(e){return void 0===e&&(e={}),t.call(this,uI({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},e))||this}lI(e,t);var n=e.prototype;return n.getTouchAction=function(){return pP.prototype.getTouchAction.call(this)},n.attrTest=function(e){var n,i=this.options.direction;return 30&i?n=e.overallVelocity:6&i?n=e.overallVelocityX:24&i&&(n=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&i&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&gI(n)>this.options.velocity&&4&e.eventType},n.emit=function(t){var e=fP(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(dP),gP={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function yP(t,e){var n,i=t.element;i.style&&(LI(t.options.cssProps,function(r,o){n=vI(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=r):i.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={}))}var vP=function(){function t(t,e){var n=this;this.options=dI({},gP,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new(this.options.inputClass||(kI?KI:MI?$I:wI?aP:nP))(this,YI),this.touchAction=new II(this,this.options.touchAction),yP(this,!0),LI(this.options.recognizers,function(t){var e=n.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}var e=t.prototype;return e.set=function(t){return dI(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var i=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(e.curRecognizer=null,r=null);for(var o=0;o<i.length;)n=i[o],2===e.stopped||r&&n!==r&&!n.canRecognizeWith(r)?n.reset():n.recognize(t),!r&&14&n.state&&(e.curRecognizer=n,r=n),o++}},e.get=function(t){if(t instanceof hP)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event===t)return e[n];return null},e.add=function(t){if(sP(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(sP(t,"remove",this))return this;var e=this.get(t);if(t){var n=this.recognizers,i=VI(n,e);-1!==i&&(n.splice(i,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var n=this.handlers;return LI(zI(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},e.off=function(t,e){if(void 0===t)return this;var n=this.handlers;return LI(zI(t),function(t){e?n[t]&&n[t].splice(VI(n[t],e),1):delete n[t]}),this},e.emit=function(t,e){this.options.domEvents&&function(t,e){var n=document.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](e),i++}},e.destroy=function(){this.element&&yP(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}();function _P(t,e,n){var i="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=window.console&&(window.console.warn||window.console.log);return r&&r.call(window.console,i,n),t.apply(this,arguments)}}var bP=_P(function(t,e,n){for(var i=Object.keys(e),r=0;r<i.length;)(!n||n&&void 0===t[i[r]])&&(t[i[r]]=e[i[r]]),r++;return t},"extend","Use `assign`.");_P(function(t,e){return bP(t,e,!0)},"merge","Use `assign`.");var xP,wP=((xP=function(){function t(e){_(this,t),this.renderer=e,this.swipeHandlers=new Map}return x(t,[{key:"manageSwipe",value:function(t,e,n,i,r){var o=this.getSwipeHandlers(n);try{if(t&&!o){var a=new vP(e.nativeElement);a.add(new mP({direction:6})),a.on("swipeleft",function(){return i()});var s=new vP(e.nativeElement);s.add(new mP({direction:6})),a.on("swiperight",function(){return r()}),this.swipeHandlers.set(n,[a,s])}else!t&&o&&(o.map(function(t){return t()}),this.removeSwipeHandlers(n))}catch(u){}}},{key:"validateUrl",value:function(t){return t.replace?t.replace(new RegExp(" ","g"),"%20").replace(new RegExp("'","g"),"%27"):t}},{key:"getBackgroundUrl",value:function(t){return"url('"+this.validateUrl(t)+"')"}},{key:"getFileType",value:function(t){if(t.startsWith("data:"))return t.substr(5,Math.min(t.indexOf(";"),t.indexOf("/"))-5);if(t.startsWith("blob:"))return"image";var e=t.split(".").pop().toLowerCase();return e&&"jpeg"!==e&&"jpg"!==e&&"png"!==e&&"bmp"!==e&&"gif"!==e&&"webp"!==e?"avi"===e||"flv"===e||"wmv"===e||"mov"===e||"mp4"===e?"video":"unknown":"image"}},{key:"getSwipeHandlers",value:function(t){return this.swipeHandlers.get(t)}},{key:"removeSwipeHandlers",value:function(t){this.swipeHandlers.delete(t)}}]),t}()).\u0275fac=function(t){return new(t||xP)(Ri(fu))},xP.\u0275prov=Tt({token:xP,factory:xP.\u0275fac,providedIn:"root"}),xP),kP=["previewImage"];function MP(t,e){if(1&t){var n=os();ts(0,"ngx-gallery-arrows",18),us("prevClick",function(){return $e(n),fs().showPrev()})("nextClick",function(){return $e(n),fs().showNext()}),es()}if(2&t){var i=fs();Ja("prevDisabled",!i.canShowPrev())("nextDisabled",!i.canShowNext())("arrowPrevIcon",i.arrowPrevIcon)("arrowNextIcon",i.arrowNextIcon)}}function SP(t,e){if(1&t){var n=os();ts(0,"ngx-gallery-action",19),us("closeClick",function(t){$e(n);var i=e.$implicit,r=fs();return i.onClick(t,r.index)}),es()}if(2&t){var i=e.$implicit;Ja("icon",i.icon)("disabled",i.disabled)("titleText",i.titleText)}}function EP(t,e){if(1&t&&(ts(0,"a",20),ns(1,"i"),es()),2&t){var n=fs();Ja("href",n.src,br),yo(1),Hs("ngx-gallery-icon-content ",n.downloadIcon,"")}}function LP(t,e){if(1&t){var n=os();ts(0,"ngx-gallery-action",21),us("closeClick",function(){return $e(n),fs().zoomOut()}),es()}if(2&t){var i=fs();Ja("icon",i.zoomOutIcon)("disabled",!i.canZoomOut())}}function TP(t,e){if(1&t){var n=os();ts(0,"ngx-gallery-action",21),us("closeClick",function(){return $e(n),fs().zoomIn()}),es()}if(2&t){var i=fs();Ja("icon",i.zoomInIcon)("disabled",!i.canZoomIn())}}function CP(t,e){if(1&t){var n=os();ts(0,"ngx-gallery-action",7),us("closeClick",function(){return $e(n),fs().rotateLeft()}),es()}2&t&&Ja("icon",fs().rotateLeftIcon)}function IP(t,e){if(1&t){var n=os();ts(0,"ngx-gallery-action",7),us("closeClick",function(){return $e(n),fs().rotateRight()}),es()}2&t&&Ja("icon",fs().rotateRightIcon)}function PP(t,e){if(1&t){var n=os();ts(0,"ngx-gallery-action",7),us("closeClick",function(){return $e(n),fs().manageFullscreen()}),es()}2&t&&Ja("icon","ngx-gallery-fullscreen "+fs().fullscreenIcon)}function DP(t,e){if(1&t){var n=os();ts(0,"img",22,23),us("contextmenu",function(t){return $e(n),fs().onRightClick(t)})("click",function(t){return t.stopPropagation()})("mouseenter",function(){return $e(n),fs().imageMouseEnter()})("mouseleave",function(){return $e(n),fs().imageMouseLeave()})("mousedown",function(t){return $e(n),fs().mouseDownHandler(t)})("touchstart",function(t){return $e(n),fs().mouseDownHandler(t)}),es()}if(2&t){var i=fs();Es("transform",i.getTransform())("left",i.positionLeft+"px")("top",i.positionTop+"px"),Ls("ngx-gallery-active",!i.loading)("animation",i.animation)("ngx-gallery-grab",i.canDragOnZoom()),Ja("src",i.src,br)}}function OP(t,e){1&t&&ns(0,"source",26)}function AP(t,e){if(1&t){var n=os();ts(0,"video",24),us("contextmenu",function(t){return $e(n),fs().onRightClick(t)})("click",function(t){return t.stopPropagation()})("mouseenter",function(){return $e(n),fs().imageMouseEnter()})("mouseleave",function(){return $e(n),fs().imageMouseLeave()})("mousedown",function(t){return $e(n),fs().mouseDownHandler(t)})("touchstart",function(t){return $e(n),fs().mouseDownHandler(t)}),Ka(1,OP,1,0,"source",25),es()}if(2&t){var i=fs();Es("transform",i.getTransform())("left",i.positionLeft+"px")("top",i.positionTop+"px"),Ls("ngx-gallery-active",!i.loading)("animation",i.animation)("ngx-gallery-grab",i.canDragOnZoom()),yo(1),Ja("ngIf",i.isnativ)}}function RP(t,e){if(1&t){var n=os();ts(0,"video",27),us("contextmenu",function(t){return $e(n),fs().onRightClick(t)})("click",function(t){return t.stopPropagation()})("mouseenter",function(){return $e(n),fs().imageMouseEnter()})("mouseleave",function(){return $e(n),fs().imageMouseLeave()})("mousedown",function(t){return $e(n),fs().mouseDownHandler(t)})("touchstart",function(t){return $e(n),fs().mouseDownHandler(t)}),es()}if(2&t){var i=fs();Es("transform",i.getTransform())("left",i.positionLeft+"px")("top",i.positionTop+"px"),Ls("ngx-gallery-active",!i.loading)("animation",i.animation)("ngx-gallery-grab",i.canDragOnZoom()),Ja("src",i.src,br)}}function NP(t,e){if(1&t){var n=os();ts(0,"audio",28,23),us("contextmenu",function(t){return $e(n),fs().onRightClick(t)})("click",function(t){return t.stopPropagation()})("mouseenter",function(){return $e(n),fs().imageMouseEnter()})("mouseleave",function(){return $e(n),fs().imageMouseLeave()})("mousedown",function(t){return $e(n),fs().mouseDownHandler(t)})("touchstart",function(t){return $e(n),fs().mouseDownHandler(t)}),es()}if(2&t){var i=fs();Es("transform",i.getTransform())("left",i.positionLeft+"px")("top",i.positionTop+"px"),Ls("ngx-gallery-active",!i.loading)("animation",i.animation)("ngx-gallery-grab",i.canDragOnZoom()),Ja("src",i.src,br)}}function FP(t,e){if(1&t){var n=os();ts(0,"ngx-gallery-bullets",29),us("bulletChange",function(t){return $e(n),fs().showAtIndex(t)}),es()}if(2&t){var i=fs();Ja("count",i.images.length)("active",i.index)}}function YP(t,e){if(1&t&&(ts(0,"div",30),ts(1,"div",31),us("click",function(t){return t.stopPropagation()}),ns(2,"cm-caption",32),es(),es()),2&t){var n=fs();yo(2),Ja("content",n.description)("lang","de")}}var zP,jP,BP=((jP=function(){function t(e,n,i,r,o){_(this,t),this.sanitization=e,this.elementRef=n,this.helperService=i,this.renderer=r,this.changeDetectorRef=o,this.showSpinner=!1,this.positionLeft=0,this.positionTop=0,this.zoomValue=1,this.loading=!1,this.rotateValue=0,this.index=0,this.previewOpen=new vl,this.previewClose=new vl,this.activeChange=new vl,this.isOpen=!0,this.initialX=0,this.initialY=0,this.initialLeft=0,this.initialTop=0,this.isMove=!1}return x(t,[{key:"ngOnInit",value:function(){this.arrows&&this.arrowsAutoHide&&(this.arrows=!1)}},{key:"ngOnChanges",value:function(t){var e=this;t.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"preview",function(){return e.showNext()},function(){return e.showPrev()})}},{key:"ngOnDestroy",value:function(){this.keyDownListener&&this.keyDownListener()}},{key:"onMouseEnter",value:function(){this.arrowsAutoHide&&!this.arrows&&(this.arrows=!0)}},{key:"onMouseLeave",value:function(){this.arrowsAutoHide&&this.arrows&&(this.arrows=!1)}},{key:"onKeyDown",value:function(t){this.isOpen&&(this.keyboardNavigation&&(this.isKeyboardPrev(t)?this.showPrev():this.isKeyboardNext(t)&&this.showNext()),this.closeOnEsc&&this.isKeyboardEsc(t)&&this.close())}},{key:"onRightClick",value:function(t){t.preventDefault()}},{key:"open",value:function(t){var e=this;this.previewOpen.emit(),this.index=t,this.isOpen=!0,this.show(!0),this.forceFullscreen&&this.manageFullscreen(),this.keyDownListener=this.renderer.listen("window","keydown",function(t){return e.onKeyDown(t)})}},{key:"close",value:function(){this.isOpen=!1,this.previewClose.emit(),this.stopAutoPlay(),this.keyDownListener&&this.keyDownListener()}},{key:"imageMouseEnter",value:function(){this.autoPlay&&this.autoPlayPauseOnHover&&this.stopAutoPlay()}},{key:"imageMouseLeave",value:function(){this.autoPlay&&this.autoPlayPauseOnHover&&this.startAutoPlay()}},{key:"startAutoPlay",value:function(){var t=this;this.autoPlay&&(this.stopAutoPlay(),this.timer=setTimeout(function(){t.showNext()||(t.index=-1,t.showNext())},this.autoPlayInterval))}},{key:"stopAutoPlay",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"showAtIndex",value:function(t){this.index=t,this.show()}},{key:"showNext",value:function(){return!!this.canShowNext()&&(this.index++,this.index===this.images.length&&(this.index=0),this.show(),!0)}},{key:"showPrev",value:function(){this.canShowPrev()&&(this.index--,this.index<0&&(this.index=this.images.length-1),this.show())}},{key:"canShowNext",value:function(){return!this.loading&&!!this.images&&(this.infinityMove||this.index<this.images.length-1)}},{key:"canShowPrev",value:function(){return!this.loading&&!!this.images&&(this.infinityMove||this.index>0)}},{key:"manageFullscreen",value:function(){if(this.fullscreen||this.forceFullscreen){var t=document;t.fullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||t.msFullscreenElement?this.closeFullscreen():this.openFullscreen()}}},{key:"getSafeUrl",value:function(t){return this.sanitization.bypassSecurityTrustUrl(t)}},{key:"getFileType",value:function(t){return this.helperService.getFileType(t)}},{key:"zoomIn",value:function(){this.canZoomIn()&&(this.zoomValue+=this.zoomStep,this.zoomValue>this.zoomMax&&(this.zoomValue=this.zoomMax))}},{key:"zoomOut",value:function(){this.canZoomOut()&&(this.zoomValue-=this.zoomStep,this.zoomValue<this.zoomMin&&(this.zoomValue=this.zoomMin),this.zoomValue<=1&&this.resetPosition())}},{key:"rotateLeft",value:function(){this.rotateValue-=90}},{key:"rotateRight",value:function(){this.rotateValue+=90}},{key:"getTransform",value:function(){return this.sanitization.bypassSecurityTrustStyle("scale("+this.zoomValue+") rotate("+this.rotateValue+"deg)")}},{key:"canZoomIn",value:function(){return this.zoomValue<this.zoomMax}},{key:"canZoomOut",value:function(){return this.zoomValue>this.zoomMin}},{key:"canDragOnZoom",value:function(){return this.zoom&&this.zoomValue>1}},{key:"mouseDownHandler",value:function(t){this.canDragOnZoom()&&(this.initialX=this.getClientX(t),this.initialY=this.getClientY(t),this.initialLeft=this.positionLeft,this.initialTop=this.positionTop,this.isMove=!0,t.preventDefault())}},{key:"mouseUpHandler",value:function(t){this.isMove=!1}},{key:"mouseMoveHandler",value:function(t){this.isMove&&(this.positionLeft=this.initialLeft+(this.getClientX(t)-this.initialX),this.positionTop=this.initialTop+(this.getClientY(t)-this.initialY))}},{key:"getClientX",value:function(t){return t.touches&&t.touches.length?t.touches[0].clientX:t.clientX}},{key:"getClientY",value:function(t){return t.touches&&t.touches.length?t.touches[0].clientY:t.clientY}},{key:"resetPosition",value:function(){this.zoom&&(this.positionLeft=0,this.positionTop=0)}},{key:"isKeyboardNext",value:function(t){return 39===t.keyCode}},{key:"isKeyboardPrev",value:function(t){return 37===t.keyCode}},{key:"isKeyboardEsc",value:function(t){return 27===t.keyCode}},{key:"openFullscreen",value:function(){var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}},{key:"closeFullscreen",value:function(){if(this.isFullscreen()){var t=document;t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitExitFullscreen&&t.webkitExitFullscreen()}}},{key:"isFullscreen",value:function(){var t=document;return t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement}},{key:"show",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loading=!0,this.stopAutoPlay(),this.activeChange.emit(this.index),e||!this.animation?this._show():setTimeout(function(){return t._show()},300)}},{key:"_show",value:function(){var t=this;this.hls&&(this.hls.destroy(),this.hls=null),this.zoomValue=1,this.rotateValue=0,this.resetPosition(),this.src=this.getSafeUrl(this.images[this.index]),this.type=this.getFileType(this.images[this.index]),this.srcIndex=this.index,this.description=this.descriptions[this.index],"image"===this.types[this.index]&&(this.changeDetectorRef.markForCheck(),setTimeout(function(){setTimeout(function(){t.loading&&!t.previewImage.nativeElement.complete?(t.showSpinner=!0,t.changeDetectorRef.markForCheck()):(t.loading=!1,t.changeDetectorRef.markForCheck())}),t.previewImage.nativeElement.onload=function(){t.loading=!1,t.showSpinner=!1,t.previewImage.nativeElement.onload=null,t.startAutoPlay(),t.changeDetectorRef.markForCheck()}})),"video"===this.types[this.index]&&(this.isnativ=!sI.isSupported(),setTimeout(function(){var e=document.getElementById("gallery-video");sI.isSupported()&&(t.hls=new sI({maxBufferLength:10,maxBufferSize:512e3}),t.hls.attachMedia(e),t.hls.on(sI.Events.MEDIA_ATTACHED,function(){t.hls.loadSource(t.images[t.index])})),t.loading=!1,t.changeDetectorRef.markForCheck()})),"audio"===this.types[this.index]&&setTimeout(function(){t.loading=!1,t.changeDetectorRef.markForCheck()})}},{key:"isLoaded",value:function(t){return!(!t.complete||void 0!==t.naturalWidth&&0===t.naturalWidth)}}]),t}()).\u0275fac=function(t){return new(t||jP)(Qa(Pd),Qa(hu),Qa(wP),Qa(fu),Qa(Au))},jP.\u0275cmp=oe({type:jP,selectors:[["ngx-gallery-preview"]],viewQuery:function(t,e){var n;1&t&&Dl(kP,!0),2&t&&Il(n=Fl())&&(e.previewImage=n.first)},hostBindings:function(t,e){1&t&&us("mouseenter",function(){return e.onMouseEnter()})("mouseleave",function(){return e.onMouseLeave()})},inputs:{images:"images",descriptions:"descriptions",types:"types",showDescription:"showDescription",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",swipe:"swipe",fullscreen:"fullscreen",forceFullscreen:"forceFullscreen",closeOnClick:"closeOnClick",closeOnEsc:"closeOnEsc",keyboardNavigation:"keyboardNavigation",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",closeIcon:"closeIcon",fullscreenIcon:"fullscreenIcon",spinnerIcon:"spinnerIcon",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",autoPlayPauseOnHover:"autoPlayPauseOnHover",infinityMove:"infinityMove",zoom:"zoom",zoomStep:"zoomStep",zoomMax:"zoomMax",zoomMin:"zoomMin",zoomInIcon:"zoomInIcon",zoomOutIcon:"zoomOutIcon",animation:"animation",actions:"actions",rotate:"rotate",rotateLeftIcon:"rotateLeftIcon",rotateRightIcon:"rotateRightIcon",download:"download",downloadIcon:"downloadIcon",bullets:"bullets"},outputs:{previewOpen:"previewOpen",previewClose:"previewClose",activeChange:"activeChange"},features:[Te],decls:21,vars:17,consts:[[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],[1,"ngx-gallery-preview-top"],[1,"ngx-gallery-preview-icons"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-icon","aria-hidden","true","download","",3,"href",4,"ngIf"],[3,"icon","disabled","closeClick",4,"ngIf"],[3,"icon","closeClick",4,"ngIf"],[3,"icon","closeClick"],[1,"ngx-spinner-wrapper","ngx-gallery-center"],["src","./assets/icons/cm-loading.svg"],[1,"ngx-gallery-preview-wrapper",3,"click","mouseup","mousemove","touchend","touchmove"],[1,"ngx-gallery-preview-img-wrapper"],["class","ngx-gallery-preview-img ngx-gallery-center",3,"src","ngx-gallery-active","animation","ngx-gallery-grab","transform","left","top","contextmenu","click","mouseenter","mouseleave","mousedown","touchstart",4,"ngIf"],["id","gallery-video","controls","","controlsList","nodownload","preload","metadata","class","ngx-gallery-preview-img ngx-gallery-preview-video  ngx-gallery-center",3,"ngx-gallery-active","animation","ngx-gallery-grab","transform","left","top","contextmenu","click","mouseenter","mouseleave","mousedown","touchstart",4,"ngIf"],["id","gallery-video","controls","","controlsList","nodownload","preload","metadata","class","ngx-gallery-preview-img ngx-gallery-preview-video  ngx-gallery-center",3,"src","ngx-gallery-active","animation","ngx-gallery-grab","transform","left","top","contextmenu","click","mouseenter","mouseleave","mousedown","touchstart",4,"ngIf"],["controls","","controlsList","nodownload","preload","none","class","ngx-gallery-preview-img ngx-gallery-center",3,"src","ngx-gallery-active","animation","ngx-gallery-grab","transform","left","top","contextmenu","click","mouseenter","mouseleave","mousedown","touchstart",4,"ngIf"],[3,"count","active","bulletChange",4,"ngIf"],["class","ngx-gallery-preview-text",4,"ngIf"],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick"],[3,"icon","disabled","titleText","closeClick"],["aria-hidden","true","download","",1,"ngx-gallery-icon",3,"href"],[3,"icon","disabled","closeClick"],[1,"ngx-gallery-preview-img","ngx-gallery-center",3,"src","contextmenu","click","mouseenter","mouseleave","mousedown","touchstart"],["previewImage",""],["id","gallery-video","controls","","controlsList","nodownload","preload","metadata",1,"ngx-gallery-preview-img","ngx-gallery-preview-video","ngx-gallery-center",3,"contextmenu","click","mouseenter","mouseleave","mousedown","touchstart"],["id","gallery-video-src","src","","type","application/x-mpegURL",4,"ngIf"],["id","gallery-video-src","src","","type","application/x-mpegURL"],["id","gallery-video","controls","","controlsList","nodownload","preload","metadata",1,"ngx-gallery-preview-img","ngx-gallery-preview-video","ngx-gallery-center",3,"src","contextmenu","click","mouseenter","mouseleave","mousedown","touchstart"],["controls","","controlsList","nodownload","preload","none",1,"ngx-gallery-preview-img","ngx-gallery-center",3,"src","contextmenu","click","mouseenter","mouseleave","mousedown","touchstart"],[3,"count","active","bulletChange"],[1,"ngx-gallery-preview-text"],[1,"ngx-gallery-preview-text-content",3,"click"],[3,"content","lang"]],template:function(t,e){1&t&&(Ka(0,MP,1,4,"ngx-gallery-arrows",0),ts(1,"div",1),ts(2,"div",2),Ka(3,SP,1,3,"ngx-gallery-action",3),Ka(4,EP,2,4,"a",4),Ka(5,LP,1,2,"ngx-gallery-action",5),Ka(6,TP,1,2,"ngx-gallery-action",5),Ka(7,CP,1,1,"ngx-gallery-action",6),Ka(8,IP,1,1,"ngx-gallery-action",6),Ka(9,PP,1,1,"ngx-gallery-action",6),ts(10,"ngx-gallery-action",7),us("closeClick",function(){return e.close()}),es(),es(),es(),ts(11,"div",8),ns(12,"img",9),es(),ts(13,"div",10),us("click",function(){return e.closeOnClick&&e.close()})("mouseup",function(t){return e.mouseUpHandler(t)})("mousemove",function(t){return e.mouseMoveHandler(t)})("touchend",function(t){return e.mouseUpHandler(t)})("touchmove",function(t){return e.mouseMoveHandler(t)}),ts(14,"div",11),Ka(15,DP,2,13,"img",12),Ka(16,AP,2,13,"video",13),Ka(17,RP,1,13,"video",14),Ka(18,NP,2,13,"audio",15),Ka(19,FP,1,2,"ngx-gallery-bullets",16),es(),Ka(20,YP,3,2,"div",17),es()),2&t&&(Ja("ngIf",e.arrows),yo(3),Ja("ngForOf",e.actions),yo(1),Ja("ngIf",e.download&&e.src),yo(1),Ja("ngIf",e.zoom),yo(1),Ja("ngIf",e.zoom),yo(1),Ja("ngIf",e.rotate),yo(1),Ja("ngIf",e.rotate),yo(1),Ja("ngIf",e.fullscreen),yo(1),Ja("icon","ngx-gallery-close "+e.closeIcon),yo(1),Ls("ngx-gallery-active",e.showSpinner),yo(4),Ja("ngIf",e.isOpen&&"image"===e.types[e.index]&&e.src),yo(1),Ja("ngIf",!e.isnativ&&e.isOpen&&"video"===e.types[e.index]&&e.src),yo(1),Ja("ngIf",e.isnativ&&e.isOpen&&"video"===e.types[e.index]&&e.src),yo(1),Ja("ngIf",e.isOpen&&"audio"===e.types[e.index]&&e.src),yo(1),Ja("ngIf",e.bullets),yo(1),Ja("ngIf",e.showDescription&&e.description))},styles:[".ngx-gallery-active[_nghost-%COMP%]{width:100%;height:100%;position:fixed;left:0;top:0;background:rgba(0,0,0,.7);z-index:10000;display:inline-block;font-size:50px!important}[_nghost-%COMP%]{display:none}[_nghost-%COMP%], [_nghost-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{font-size:50px!important}ngx-gallery-bullets[_ngcontent-%COMP%]{height:5%;align-items:center;padding:0}.ngx-gallery-preview-img[_ngcontent-%COMP%]{opacity:0;max-width:90%;max-height:90%;-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:transform .5s}.ngx-gallery-preview-img.animation[_ngcontent-%COMP%]{transition:opacity .5s linear,transform .5s}.ngx-gallery-preview-img.ngx-gallery-active[_ngcontent-%COMP%]{opacity:1}.ngx-gallery-preview-img.ngx-gallery-grab[_ngcontent-%COMP%]{cursor:-webkit-grab;cursor:grab}.ngx-gallery-icon.ngx-gallery-spinner[_ngcontent-%COMP%]{font-size:50px;left:0;display:inline-block}[_nghost-%COMP%]   .ngx-gallery-preview-top[_ngcontent-%COMP%]{position:absolute;width:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-size:25px}.ngx-gallery-preview-icons[_ngcontent-%COMP%]{float:right}.ngx-gallery-preview-icons[_ngcontent-%COMP%]   .ngx-gallery-icon[_ngcontent-%COMP%]{position:relative;margin-right:10px;margin-top:10px;font-size:25px;cursor:pointer;text-decoration:none}.ngx-gallery-preview-icons[_ngcontent-%COMP%]   .ngx-gallery-icon.ngx-gallery-icon-disabled[_ngcontent-%COMP%]{cursor:default;opacity:.4}.ngx-spinner-wrapper[_ngcontent-%COMP%]{width:50px;height:50px;display:none}.ngx-spinner-wrapper.ngx-gallery-active[_ngcontent-%COMP%]{display:inline-block}.ngx-gallery-center[_ngcontent-%COMP%]{position:absolute;left:0;right:0;bottom:0;margin:auto;top:0}.ngx-gallery-preview-text[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,.7);padding:10px;text-align:center;color:#fff;font-size:16px;flex:0 1 auto;z-index:10}.ngx-gallery-preview-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-flow:column}.ngx-gallery-preview-img-wrapper[_ngcontent-%COMP%]{flex:1 1 auto;position:relative}"],changeDetection:0}),jP),HP=function(){var t=function t(){_(this,t)};return t.Fade="fade",t.Slide="slide",t.Rotate="rotate",t.Zoom="zoom",t}(),UP=((zP=function(){function t(){_(this,t),this.disabled=!1,this.titleText="",this.closeClick=new vl}return x(t,[{key:"ngOnInit",value:function(){}},{key:"handleClick",value:function(t){this.disabled||this.closeClick.emit(t),t.stopPropagation(),t.preventDefault()}}]),t}()).\u0275fac=function(t){return new(t||zP)},zP.\u0275cmp=oe({type:zP,selectors:[["ngx-gallery-action"]],inputs:{icon:"icon",disabled:"disabled",titleText:"titleText"},outputs:{closeClick:"closeClick"},decls:2,vars:6,consts:[["aria-hidden","true",1,"ngx-gallery-icon",3,"title","click"]],template:function(t,e){1&t&&(ts(0,"div",0),us("click",function(t){return e.handleClick(t)}),ns(1,"i"),es()),2&t&&(Ls("ngx-gallery-icon-disabled",e.disabled),ys("title",e.titleText),yo(1),Hs("ngx-gallery-icon-content ",e.icon,""))},styles:[".ngx-gallery-icon[_ngcontent-%COMP%]{color:#fff;position:absolute;z-index:2000;display:inline-block;position:relative;margin-right:10px;margin-top:10px;font-size:25px;cursor:pointer;text-decoration:none}.ngx-gallery-icon[_ngcontent-%COMP%]   .ngx-gallery-icon-content[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),zP),VP=function(t){return{"ngx-gallery-active":t}};function qP(t,e){if(1&t){var n=os();ts(0,"div",1),us("click",function(t){$e(n);var i=e.index;return fs().handleChange(t,i)}),es()}if(2&t){var i=e.index,r=fs();Ja("ngClass",sl(1,VP,i==r.active))}}var GP,WP,XP=((WP=function(){function t(){_(this,t),this.active=0,this.bulletChange=new vl}return x(t,[{key:"ngOnInit",value:function(){}},{key:"getBullets",value:function(){return Array(this.count)}},{key:"handleChange",value:function(t,e){this.bulletChange.emit(e)}}]),t}()).\u0275fac=function(t){return new(t||WP)},WP.\u0275cmp=oe({type:WP,selectors:[["ngx-gallery-bullets"]],inputs:{count:"count",active:"active"},outputs:{bulletChange:"bulletChange"},decls:1,vars:1,consts:[["class","ngx-gallery-bullet",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"ngx-gallery-bullet",3,"ngClass","click"]],template:function(t,e){1&t&&Ka(0,qP,1,3,"div",0),2&t&&Ja("ngForOf",e.getBullets())},directives:[Sh,kh,kL],styles:["[_nghost-%COMP%]{position:absolute;z-index:2000;display:inline-flex;left:50%;transform:translateX(-50%);bottom:0;padding:10px}.ngx-gallery-bullet[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;cursor:pointer;background:#fff}.ngx-gallery-bullet[_ngcontent-%COMP%]:not(:first-child){margin-left:5px}.ngx-gallery-bullet.ngx-gallery-active[_ngcontent-%COMP%], .ngx-gallery-bullet[_ngcontent-%COMP%]:hover{background:#000}"],changeDetection:0}),WP),KP=((GP=function(){function t(){_(this,t),this.prevClick=new vl,this.nextClick=new vl}return x(t,[{key:"ngOnInit",value:function(){}},{key:"handlePrevClick",value:function(){this.prevClick.emit()}},{key:"handleNextClick",value:function(){this.nextClick.emit()}}]),t}()).\u0275fac=function(t){return new(t||GP)},GP.\u0275cmp=oe({type:GP,selectors:[["ngx-gallery-arrows"]],inputs:{prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon"},outputs:{prevClick:"prevClick",nextClick:"nextClick"},decls:6,vars:10,consts:[[1,"ngx-gallery-arrows-wrapper","ngx-gallery-arrow-left"],["aria-hidden","true",1,"ngx-gallery-icon","ngx-gallery-arrow",3,"click"],[1,"ngx-gallery-arrows-wrapper","ngx-gallery-arrow-right"]],template:function(t,e){1&t&&(ts(0,"div",0),ts(1,"div",1),us("click",function(){return e.handlePrevClick()}),ns(2,"i"),es(),es(),ts(3,"div",2),ts(4,"div",1),us("click",function(){return e.handleNextClick()}),ns(5,"i"),es(),es()),2&t&&(yo(1),Ls("ngx-gallery-disabled",e.prevDisabled),yo(1),Hs("ngx-gallery-icon-content ",e.arrowPrevIcon,""),yo(2),Ls("ngx-gallery-disabled",e.nextDisabled),yo(1),Hs("ngx-gallery-icon-content ",e.arrowNextIcon,""))},styles:[".ngx-gallery-arrows-wrapper[_ngcontent-%COMP%]{position:absolute;height:100%;width:1px;display:table;z-index:2000;table-layout:fixed}.ngx-gallery-preview-img-wrapper[_ngcontent-%COMP%]   .ngx-gallery-arrow-wrapper[_ngcontent-%COMP%]{z-index:10001}.ngx-gallery-arrow-left[_ngcontent-%COMP%]{left:0}.ngx-gallery-arrow-right[_ngcontent-%COMP%]{right:0}.ngx-gallery-arrow[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%);cursor:pointer}.ngx-gallery-arrow.ngx-gallery-disabled[_ngcontent-%COMP%]{opacity:.6;cursor:default}.ngx-gallery-arrow-left[_ngcontent-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{left:10px}.ngx-gallery-arrow-right[_ngcontent-%COMP%]   .ngx-gallery-arrow[_ngcontent-%COMP%]{right:10px}"],changeDetection:0}),GP);function ZP(t,e){if(1&t){var n=os();ts(0,"ngx-gallery-action",8),us("closeClick",function(t){$e(n);var i=e.$implicit,r=fs(2).$implicit;return i.onClick(t,r.index)}),es()}if(2&t){var i=e.$implicit;Ja("icon",i.icon)("disabled",i.disabled)("titleText",i.titleText)}}function QP(t,e){if(1&t&&(ts(0,"div",9),us("click",function(t){return t.stopPropagation()}),es()),2&t){var n=fs(2).$implicit;Ja("innerHTML",fs().descriptions[n.index],_r)}}var JP=function(t){return{"ngx-gallery-clickable":t}};function $P(t,e){if(1&t){var n=os();ts(0,"div",4),us("click",function(t){$e(n);var e=fs().$implicit;return fs().handleClick(t,e.index)})("@animation.start",function(t){return $e(n),fs(2).onStart(t)})("@animation.done",function(t){return $e(n),fs(2).onDone(t)}),ts(1,"div",5),Ka(2,ZP,1,3,"ngx-gallery-action",6),es(),Ka(3,QP,1,1,"div",7),es()}if(2&t){var i=fs().$implicit,r=fs();Es("background-image",r.getSafeUrl(i.src)),Ja("ngClass",sl(6,JP,r.clickable))("@animation",r.action),yo(2),Ja("ngForOf",r.actions),yo(1),Ja("ngIf",r.showDescription&&r.descriptions[i.index])}}function tD(t,e){if(1&t){var n=os();ts(0,"ngx-gallery-action",8),us("closeClick",function(t){$e(n);var i=e.$implicit,r=fs(2).$implicit;return i.onClick(t,r.index)}),es()}if(2&t){var i=e.$implicit;Ja("icon",i.icon)("disabled",i.disabled)("titleText",i.titleText)}}function eD(t,e){if(1&t&&(ts(0,"div",9),us("click",function(t){return t.stopPropagation()}),es()),2&t){var n=fs(2).$implicit;Ja("innerHTML",fs().descriptions[n.index],_r)}}function nD(t,e){if(1&t){var n=os();ts(0,"div",4),us("click",function(t){$e(n);var e=fs().$implicit;return fs().handleClick(t,e.index)})("@animation.start",function(t){return $e(n),fs(2).onStart(t)})("@animation.done",function(t){return $e(n),fs(2).onDone(t)}),ts(1,"video",10),ns(2,"source",11),zs(3," Your browser does not support the video tag. "),es(),ts(4,"div",5),Ka(5,tD,1,3,"ngx-gallery-action",6),es(),Ka(6,eD,1,1,"div",7),es()}if(2&t){var i=fs().$implicit,r=fs();Es("background-image",r.getSafeUrl(i.src)),Ja("ngClass",sl(7,JP,r.clickable))("@animation",r.action),yo(2),Ja("src",i.src,br),yo(3),Ja("ngForOf",r.actions),yo(1),Ja("ngIf",r.showDescription&&r.descriptions[i.index])}}function iD(t,e){if(1&t&&(is(0),Ka(1,$P,4,8,"div",3),Ka(2,nD,7,9,"div",3),rs()),2&t){var n=e.$implicit,i=fs();yo(1),Ja("ngIf","image"===n.type&&n.index===i._selectedIndex),yo(1),Ja("ngIf","video"===n.type&&n.index===i._selectedIndex)}}function rD(t,e){if(1&t){var n=os();ts(0,"ngx-gallery-bullets",12),us("bulletChange",function(t){return $e(n),fs().show(t)}),es()}if(2&t){var i=fs();Ja("count",i.images.length)("active",i._selectedIndex)}}function oD(t,e){if(1&t){var n=os();ts(0,"ngx-gallery-arrows",13),us("prevClick",function(){return $e(n),fs().showPrev()})("nextClick",function(){return $e(n),fs().showNext()}),es()}if(2&t){var i=fs();Hs("ngx-gallery-image-size-",i.size,""),Ja("prevDisabled",!i.canShowPrev())("nextDisabled",!i.canShowNext())("arrowPrevIcon",i.arrowPrevIcon)("arrowNextIcon",i.arrowNextIcon)}}var aD,sD=((aD=function(){function t(e,n,i,r){_(this,t),this.sanitization=e,this.changeDetectorRef=n,this.elementRef=i,this.helperService=r,this.imageClick=new vl,this.activeChange=new vl,this.animating=new vl,this.canChangeImage=!0,this.isAnimating=!1,this.changeDetectorRef=n,this.action="none"}return x(t,[{key:"ngOnInit",value:function(){this.arrows&&this.arrowsAutoHide&&(this.arrows=!1),this.autoPlay&&this.startAutoPlay()}},{key:"ngOnChanges",value:function(t){var e=this;t.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"image",function(){return e.showNext()},function(){return e.showPrev()})}},{key:"onMouseEnter",value:function(){this.arrowsAutoHide&&!this.arrows&&(this.arrows=!0),this.autoPlay&&this.autoPlayPauseOnHover&&this.stopAutoPlay()}},{key:"onMouseLeave",value:function(){this.arrowsAutoHide&&this.arrows&&(this.arrows=!1),this.autoPlay&&this.autoPlayPauseOnHover&&this.startAutoPlay()}},{key:"reset",value:function(t){this._selectedIndex=t,this.action="none"}},{key:"getImages",value:function(){if(!this.images)return[];if(this.lazyLoading){var t=[this._selectedIndex],e=this._selectedIndex-1;-1===e&&this.infinityMove?t.push(this.images.length-1):e>=0&&t.push(e);var n=this._selectedIndex+1;return n===this.images.length&&this.infinityMove?t.push(0):n<this.images.length&&t.push(n),this.images.filter(function(e,n){return-1!==t.indexOf(n)})}return this.images}},{key:"startAutoPlay",value:function(){var t=this;this.stopAutoPlay(),this.timer=setInterval(function(){t.showNext()||(t._selectedIndex=-1,t.showNext())},this.autoPlayInterval)}},{key:"stopAutoPlay",value:function(){this.timer&&clearInterval(this.timer)}},{key:"handleClick",value:function(t,e){this.clickable&&(this.imageClick.emit(e),t.stopPropagation(),t.preventDefault())}},{key:"show",value:function(t){var e,n;this.isAnimating||(t>this._selectedIndex?(this.animation===HP.Slide?e="slideRight":this.animation===HP.Fade?e="fade":this.animation===HP.Rotate?e="rotateRight":this.animation===HP.Zoom&&(e="zoom"),this.setAction(e)):(this.animation===HP.Slide?n="slideLeft":this.animation===HP.Fade?n="fade":this.animation===HP.Rotate?n="rotateLeft":this.animation===HP.Zoom&&(n="zoom"),this.setAction(n)),this._selectedIndex=t,this.activeChange.emit(this._selectedIndex),this.setChangeTimeout())}},{key:"setAction",value:function(t){this.action=t,this.changeDetectorRef.detectChanges()}},{key:"showNext",value:function(){var t;if(!this.isAnimating)return!(!this.canShowNext()||!this.canChangeImage||(this.animation===HP.Slide?t="slideRight":this.animation===HP.Fade?t="fade":this.animation===HP.Rotate?t="rotateRight":this.animation===HP.Zoom&&(t="zoom"),this.setAction(t),this._selectedIndex++,this._selectedIndex===this.images.length&&(this._selectedIndex=0),this.activeChange.emit(this._selectedIndex),this.setChangeTimeout(),0))}},{key:"showPrev",value:function(){var t;!this.isAnimating&&this.canShowPrev()&&this.canChangeImage&&(this.animation===HP.Slide?t="slideLeft":this.animation===HP.Fade?t="fade":this.animation===HP.Rotate?t="rotateLeft":this.animation===HP.Zoom&&(t="zoom"),this.setAction(t),this._selectedIndex--,this._selectedIndex<0&&(this._selectedIndex=this.images.length-1),this.activeChange.emit(this._selectedIndex),this.setChangeTimeout())}},{key:"setChangeTimeout",value:function(){var t=this;this.canChangeImage=!1;var e=1e3;this.animation!==HP.Slide&&this.animation!==HP.Fade||(e=500),setTimeout(function(){t.canChangeImage=!0},e)}},{key:"canShowNext",value:function(){return!!this.images&&(this.infinityMove||this._selectedIndex<this.images.length-1)}},{key:"canShowPrev",value:function(){return!!this.images&&(this.infinityMove||this._selectedIndex>0)}},{key:"getSafeUrl",value:function(t){return this.sanitization.bypassSecurityTrustStyle(this.helperService.getBackgroundUrl(t))}},{key:"getFileType",value:function(t){return this.helperService.getFileType(t)}},{key:"onStart",value:function(t){this.isAnimating=!0,this.animating.emit(!0)}},{key:"onDone",value:function(t){this.isAnimating=!1,this.animating.emit(!1)}},{key:"selectedIndex",set:function(t){var e;if(t>this._selectedIndex)this.animation===HP.Slide?e="slideRight":this.animation===HP.Fade?e="fade":this.animation===HP.Rotate?e="rotateRight":this.animation===HP.Zoom&&(e="zoom"),this.setAction(e);else if(t<this._selectedIndex){var n;this.animation===HP.Slide?n="slideLeft":this.animation===HP.Fade?n="fade":this.animation===HP.Rotate?n="rotateLeft":this.animation===HP.Zoom&&(n="zoom"),this.setAction(n)}this._selectedIndex=t}}]),t}()).\u0275fac=function(t){return new(t||aD)(Qa(Pd),Qa(Au),Qa(hu),Qa(wP))},aD.\u0275cmp=oe({type:aD,selectors:[["ngx-gallery-image"]],hostBindings:function(t,e){1&t&&us("mouseenter",function(){return e.onMouseEnter()})("mouseleave",function(){return e.onMouseLeave()})},inputs:{images:"images",clickable:"clickable",selectedIndex:"selectedIndex",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",swipe:"swipe",animation:"animation",size:"size",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",autoPlay:"autoPlay",autoPlayInterval:"autoPlayInterval",autoPlayPauseOnHover:"autoPlayPauseOnHover",infinityMove:"infinityMove",lazyLoading:"lazyLoading",actions:"actions",descriptions:"descriptions",showDescription:"showDescription",bullets:"bullets"},outputs:{imageClick:"imageClick",activeChange:"activeChange",animating:"animating"},features:[Te],decls:4,vars:7,consts:[[4,"ngFor","ngForOf"],[3,"count","active","bulletChange",4,"ngIf"],[3,"class","prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],["class","ngx-gallery-image",3,"ngClass","background-image","click",4,"ngIf"],[1,"ngx-gallery-image",3,"ngClass","click"],[1,"ngx-gallery-icons-wrapper"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-image-text",3,"innerHTML","click",4,"ngIf"],[3,"icon","disabled","titleText","closeClick"],[1,"ngx-gallery-image-text",3,"innerHTML","click"],["controls","",2,"width","100%","height","100%","background","#000"],[3,"src"],[3,"count","active","bulletChange"],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick"]],template:function(t,e){var n,i;1&t&&(ts(0,"div"),Ka(1,iD,3,2,"ng-container",0),Ka(2,rD,1,2,"ngx-gallery-bullets",1),Ka(3,oD,1,7,"ngx-gallery-arrows",2),es()),2&t&&(n=e.animation,i=e.size,Is(xi,Ts,function(t,e,n,i,r,o){var a=qa(t,ln(),n,r);return hn(2),a?"ngx-gallery-image-wrapper ngx-gallery-animation-"+Me(n)+" ngx-gallery-image-size-"+Me(r):go}(Qe(),0,n,0,i),!0),yo(1),Ja("ngForOf",e.getImages()),yo(1),Ja("ngIf",e.bullets),yo(1),Ja("ngIf",e.arrows))},directives:[Sh,Lh,kh,kL,UP,XP,KP],styles:["[_nghost-%COMP%]{width:100%;display:inline-block;position:relative;font-size:25px}.ngx-gallery-image-wrapper[_ngcontent-%COMP%]{left:0;overflow:hidden}.ngx-gallery-image[_ngcontent-%COMP%], .ngx-gallery-image-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0}.ngx-gallery-image[_ngcontent-%COMP%]{background-position:50%;background-repeat:no-repeat}.ngx-gallery-image-size-cover[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{background-size:cover}.ngx-gallery-image-size-contain[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{background-size:contain}.ngx-gallery-animation-fade[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{left:0;opacity:1;transition:.5s ease-in-out}.ngx-gallery-animation-fade[_ngcontent-%COMP%]   .ngx-gallery-image.ngx-gallery-active[_ngcontent-%COMP%]{opacity:1}.ngx-gallery-animation-rotate[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{transition:1s ease;transform:scale(1) rotate(0deg);left:0;opacity:1}.ngx-gallery-animation-zoom[_ngcontent-%COMP%]   .ngx-gallery-image[_ngcontent-%COMP%]{transition:1s ease;transform:scale(1);left:0;opacity:1}.ngx-gallery-image-text[_ngcontent-%COMP%]{width:100%;background:rgba(0,0,0,.7);padding:10px;text-align:center;color:#fff;font-size:16px;position:absolute;bottom:0;z-index:10}"],data:{animation:[Kd("animation",[$d("slideRight",Jd({})),$d("slideLeft",Jd({})),$d("fade",Jd({})),$d("rotateLeft",Jd({})),$d("rotateRight",Jd({})),$d("zoom",Jd({})),tf("slideRight => void",[Zd("100ms ease-in-out",Jd({transform:"translateX(-100%)"}))]),tf("void => slideRight",[Jd({transform:"translateX(100%)"}),Zd("100ms ease-in-out",Jd({transform:"translateX(0)"}))]),tf("slideLeft => void",[Zd("100ms ease-in-out",Jd({transform:"translateX(100%)"}))]),tf("void => slideLeft",[Jd({transform:"translateX(-100%)"}),Zd("100ms ease-in-out",Jd({transform:"translateX(0)"}))]),tf("fade => void",[Zd("100ms ease-in-out",Jd({opacity:"0"}))]),tf("void => fade",[Jd({opacity:"0"}),Zd("100ms ease-in-out",Jd({opacity:"1"}))]),tf("rotateLeft => void",[Zd("100ms ease-in-out",Jd({transform:"scale(1, 1) rotate(-90deg)",opacity:"0"}))]),tf("void => rotateLeft",[Jd({transform:"scale(1, 1) rotate(-90deg)",opacity:"0"}),Zd("100ms ease-in-out",Jd({transform:"scale(1, 1) rotate(0deg)",opacity:"1"}))]),tf("rotateRight => void",[Zd("100ms ease-in-out",Jd({transform:"scale(1, 1) rotate(90deg)",opacity:"0"}))]),tf("void => rotateRight",[Jd({transform:"scale(1, 1) rotate(90deg)",opacity:"0"}),Zd("100ms ease-in-out",Jd({transform:"scale(1, 1) rotate(0deg)",opacity:"1"}))]),tf("zoom => void",[Zd("100ms ease-in-out",Jd({transform:"scale(2.5,2.5)",opacity:"0"}))]),tf("void => zoom",[Jd({transform:"scale(2.5,2.5)",opacity:"0"}),Zd("100ms ease-in-out",Jd({transform:"scale(1, 1)",opacity:"1"}))])])]},changeDetection:0}),aD),uD=function(){var t=function t(){_(this,t)};return t.Column=1,t.Row=2,t.Page=3,t}(),lD=function(t,e){return{"ngx-gallery-active":t,"ngx-gallery-clickable":e}};function cD(t,e){if(1&t&&ns(0,"div",10),2&t){var n=fs(),i=n.$implicit,r=n.index,o=fs();Es("background-image",o.getSafeUrl(i)),Ja("ngClass",ul(3,lD,r==o.selectedIndex,o.clickable))}}function hD(t,e){if(1&t&&(ts(0,"div",11),ts(1,"video",12),ns(2,"source",13),zs(3," Your browser does not support the video tag. "),es(),es()),2&t){var n=fs(),i=n.index,r=n.$implicit,o=fs();yo(1),Ja("ngClass",ul(2,lD,i==o.selectedIndex,o.clickable)),yo(1),Ja("src",r,br)}}function dD(t,e){if(1&t){var n=os();ts(0,"ngx-gallery-action",14),us("closeClick",function(t){$e(n);var i=e.$implicit,r=fs().index;return i.onClick(t,r)}),es()}if(2&t){var i=e.$implicit;Ja("icon",i.icon)("disabled",i.disabled)("titleText",i.titleText)}}function fD(t,e){if(1&t&&(ts(0,"div",15),ts(1,"span",16),zs(2),es(),es()),2&t){var n=fs(2);yo(2),Bs("+",n.remainingCountValue,"")}}function pD(t,e){if(1&t){var n=os();ts(0,"a",3),us("click",function(t){$e(n);var i=e.index;return fs().handleClick(t,i)}),Ka(1,cD,1,6,"div",4),Ka(2,hD,4,5,"div",5),ts(3,"div",6),Ka(4,dD,1,3,"ngx-gallery-action",7),es(),Ka(5,fD,3,1,"div",8),ns(6,"span",9),es()}if(2&t){var i=e.$implicit,r=e.index,o=fs();Es("width",o.getThumbnailWidth())("height",o.getThumbnailHeight())("left",o.getThumbnailLeft(r))("top",o.getThumbnailTop(r)),Ja("href",o.hasLink(r)?o.links[r]:"#",br)("target",o.linkTarget)("ngClass",ul(16,lD,r==o.selectedIndex,o.clickable)),Ga("aria-label",o.labels[r]),yo(1),Ja("ngIf","image"==o.getFileType(i)),yo(1),Ja("ngIf","video"==o.getFileType(i)),yo(2),Ja("ngForOf",o.actions),yo(1),Ja("ngIf",o.remainingCount&&o.remainingCountValue&&r==o.rows*o.columns-1)}}function mD(t,e){if(1&t){var n=os();ts(0,"ngx-gallery-arrows",17),us("prevClick",function(){return $e(n),fs().moveLeft()})("nextClick",function(){return $e(n),fs().moveRight()}),es()}if(2&t){var i=fs();Ja("prevDisabled",!i.canMoveLeft())("nextDisabled",!i.canMoveRight())("arrowPrevIcon",i.arrowPrevIcon)("arrowNextIcon",i.arrowNextIcon)}}var gD,yD=((gD=function(){function t(e,n,i,r){_(this,t),this.sanitization=e,this.elementRef=n,this.helperService=i,this.changeDetectorRef=r,this.minStopIndex=0,this.activeChange=new vl,this.index=0}return x(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(t){var e=this;t.selectedIndex&&this.validateIndex(),t.swipe&&this.helperService.manageSwipe(this.swipe,this.elementRef,"thumbnails",function(){return e.moveRight()},function(){return e.moveLeft()}),this.images&&(this.remainingCountValue=this.images.length-this.rows*this.columns)}},{key:"onMouseEnter",value:function(){this.mouseenter=!0}},{key:"onMouseLeave",value:function(){this.mouseenter=!1}},{key:"reset",value:function(t){this.selectedIndex=t,this.setDefaultPosition(),this.index=0,this.validateIndex()}},{key:"getImages",value:function(){if(!this.images)return[];if(this.remainingCount)return this.images.slice(0,this.rows*this.columns);if(this.lazyLoading&&this.order!==uD.Row){var t=0;return this.order===uD.Column?t=(this.index+this.columns+this.moveSize)*this.rows:this.order===uD.Page&&(t=this.index+this.columns*this.rows*2),t<=this.minStopIndex?t=this.minStopIndex:this.minStopIndex=t,this.images.slice(0,t)}return this.images}},{key:"handleClick",value:function(t,e){this.hasLink(e)||this.isAnimating||(this.selectedIndex=e,this.activeChange.emit(e)),t.stopPropagation(),t.preventDefault()}},{key:"hasLink",value:function(t){if(this.links&&this.links.length&&this.links[t])return!0}},{key:"moveRight",value:function(){if(this.canMoveRight()){this.index+=this.moveSize;var t=this.getMaxIndex()-this.columns;this.index>t&&(this.index=t),this.setThumbnailsPosition()}}},{key:"moveLeft",value:function(){this.canMoveLeft()&&(this.index-=this.moveSize,this.index<0&&(this.index=0),this.setThumbnailsPosition())}},{key:"canMoveRight",value:function(){return this.index+this.columns<this.getMaxIndex()}},{key:"canMoveLeft",value:function(){return 0!==this.index}},{key:"getThumbnailLeft",value:function(t){var e;return e=this.order===uD.Column?Math.floor(t/this.rows):this.order===uD.Page?t%this.columns+Math.floor(t/(this.rows*this.columns))*this.columns:this.order===uD.Row&&this.remainingCount?t%this.columns:t%Math.ceil(this.images.length/this.rows),this.getThumbnailPosition(e,this.columns)}},{key:"getThumbnailTop",value:function(t){var e;return e=this.order===uD.Column?t%this.rows:this.order===uD.Page?Math.floor(t/this.columns)-Math.floor(t/(this.rows*this.columns))*this.rows:this.order===uD.Row&&this.remainingCount?Math.floor(t/this.columns):Math.floor(t/Math.ceil(this.images.length/this.rows)),this.getThumbnailPosition(e,this.rows)}},{key:"getThumbnailWidth",value:function(){return this.getThumbnailDimension(this.columns)}},{key:"getThumbnailHeight",value:function(){return this.getThumbnailDimension(this.rows)}},{key:"setThumbnailsPosition",value:function(){this.thumbnailsLeft=-100/this.columns*this.index+"%",this.thumbnailsMarginLeft=-(this.margin-(this.columns-1)*this.margin/this.columns)*this.index+"px",this.changeDetectorRef.markForCheck()}},{key:"setDefaultPosition",value:function(){this.thumbnailsLeft="0px",this.thumbnailsMarginLeft="0px"}},{key:"canShowArrows",value:function(){return!this.remainingCount&&this.arrows&&this.images&&this.images.length>this.getVisibleCount()&&(!this.arrowsAutoHide||this.mouseenter)}},{key:"validateIndex",value:function(){var t;if(this.images&&(t=this.order===uD.Column?Math.floor(this.selectedIndex/this.rows):this.selectedIndex%Math.ceil(this.images.length/this.rows),this.remainingCount&&(t=0),t<this.index||t>=this.index+this.columns)){var e=this.getMaxIndex()-this.columns;this.index=t>e?e:t,this.setThumbnailsPosition()}}},{key:"getSafeUrl",value:function(t){return this.sanitization.bypassSecurityTrustStyle(this.helperService.getBackgroundUrl(t))}},{key:"getFileType",value:function(t){return"image"}},{key:"getThumbnailPosition",value:function(t,e){return this.getSafeStyle("calc("+100/e*t+"% + "+(this.margin-(e-1)*this.margin/e)*t+"px)")}},{key:"getThumbnailDimension",value:function(t){return this.getSafeStyle(0!==this.margin?"calc("+100/t+"% - "+(t-1)*this.margin/t+"px)":"calc("+100/t+"% + 1px)")}},{key:"getMaxIndex",value:function(){if(this.order===uD.Page){var t=Math.floor(this.images.length/this.getVisibleCount())*this.columns;return this.images.length%this.getVisibleCount()>this.columns?t+=this.columns:t+=this.images.length%this.getVisibleCount(),t}return Math.ceil(this.images.length/this.rows)}},{key:"getVisibleCount",value:function(){return this.columns*this.rows}},{key:"getSafeStyle",value:function(t){return this.sanitization.bypassSecurityTrustStyle(t)}}]),t}()).\u0275fac=function(t){return new(t||gD)(Qa(Pd),Qa(hu),Qa(wP),Qa(Au))},gD.\u0275cmp=oe({type:gD,selectors:[["ngx-gallery-thumbnails"]],hostBindings:function(t,e){1&t&&us("mouseenter",function(){return e.onMouseEnter()})("mouseleave",function(){return e.onMouseLeave()})},inputs:{images:"images",isAnimating:"isAnimating",links:"links",labels:"labels",linkTarget:"linkTarget",columns:"columns",rows:"rows",arrows:"arrows",arrowsAutoHide:"arrowsAutoHide",margin:"margin",selectedIndex:"selectedIndex",clickable:"clickable",swipe:"swipe",size:"size",arrowPrevIcon:"arrowPrevIcon",arrowNextIcon:"arrowNextIcon",moveSize:"moveSize",order:"order",remainingCount:"remainingCount",lazyLoading:"lazyLoading",actions:"actions"},outputs:{activeChange:"activeChange"},features:[Te],decls:4,vars:9,consts:[[1,"ngx-gallery-thumbnails"],["class","ngx-gallery-thumbnail",3,"href","target","width","height","left","top","ngClass","click",4,"ngFor","ngForOf"],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick",4,"ngIf"],[1,"ngx-gallery-thumbnail",3,"href","target","ngClass","click"],["class","ngx-gallery-thumbnail","style","width: 100%; height: 100%; position:absolute;",3,"background-image","ngClass",4,"ngIf"],["class","ngx-gallery-thumbnail-video",4,"ngIf"],[1,"ngx-gallery-icons-wrapper"],[3,"icon","disabled","titleText","closeClick",4,"ngFor","ngForOf"],["class","ngx-gallery-remaining-count-overlay",4,"ngIf"],[1,"cm-square-expand"],[1,"ngx-gallery-thumbnail",2,"width","100%","height","100%","position","absolute",3,"ngClass"],[1,"ngx-gallery-thumbnail-video"],[1,"ngx-gallery-thumbnail",2,"width","100%","height","100%","position","absolute","left","0","background","#000",3,"ngClass"],[3,"src"],[3,"icon","disabled","titleText","closeClick"],[1,"ngx-gallery-remaining-count-overlay"],[1,"ngx-gallery-remaining-count"],[3,"prevDisabled","nextDisabled","arrowPrevIcon","arrowNextIcon","prevClick","nextClick"]],template:function(t,e){1&t&&(ts(0,"div"),ts(1,"div",0),Ka(2,pD,7,19,"a",1),es(),es(),Ka(3,mD,1,4,"ngx-gallery-arrows",2)),2&t&&(Hs("ngx-gallery-thumbnails-wrapper ngx-gallery-thumbnail-size-",e.size,""),yo(1),Es("transform","translateX("+e.thumbnailsLeft+")")("margin-left",e.thumbnailsMarginLeft),yo(1),Ja("ngForOf",e.getImages()),yo(1),Ja("ngIf",e.canShowArrows()))},directives:[Sh,Lh,kh,kL,UP,KP],styles:['@charset "UTF-8";[_nghost-%COMP%]{width:100%;display:inline-block;position:relative}.ngx-gallery-thumbnails-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;overflow:hidden}.ngx-gallery-thumbnails[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;left:0;transform:translateX(0);transition:transform .5s ease-in-out;will-change:transform}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{position:absolute;height:100%;background-position:50%;background-repeat:no-repeat;text-decoration:none}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]   .ngx-gallery-thumbnail-video[_ngcontent-%COMP%]:after{content:"\uf144";display:block;position:absolute;background:transparent;height:100%;width:100%;left:0;top:calc(50% - 20px);font-size:40px;color:#fff;margin:0;padding:0;font-family:fontawesome;text-shadow:0 4px 3px rgba(0,0,0,.4),0 8px 13px rgba(0,0,0,.1),0 18px 23px rgba(0,0,0,.1)}.ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{background-size:cover;height:100%}.ngx-gallery-thumbnail-size-cover[_ngcontent-%COMP%]   .ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{background-size:cover}.ngx-gallery-thumbnail-size-contain[_ngcontent-%COMP%]   .ngx-gallery-thumbnails[_ngcontent-%COMP%]   .ngx-gallery-thumbnail[_ngcontent-%COMP%]{background-size:contain}.ngx-gallery-remaining-count-overlay[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;left:0;top:0;background-color:rgba(0,0,0,.4)}.ngx-gallery-remaining-count[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:30px}'],changeDetection:0}),gD),vD=function t(e){_(this,t),this.icon=e.icon,this.disabled=!!e.disabled&&e.disabled,this.titleText=e.titleText?e.titleText:"",this.onClick=e.onClick},_D=function(){var t=function t(){_(this,t)};return t.ThumbnailsTop="thumbnails-top",t.ThumbnailsBottom="thumbnails-bottom",t}(),bD=function(){var t=function t(){_(this,t)};return t.Cover="cover",t.Contain="contain",t}(),xD=function t(e){_(this,t);var n=void 0!==e.breakpoint;function i(t,i){return e&&(void 0!==t||n)?t:i}this.breakpoint=i(e.breakpoint,void 0),this.width=i(e.width,"500px"),this.height=i(e.height,"400px"),this.fullWidth=i(e.fullWidth,!1),this.layout=i(e.layout,_D.ThumbnailsBottom),this.startIndex=i(e.startIndex,0),this.linkTarget=i(e.linkTarget,"_blank"),this.lazyLoading=i(e.lazyLoading,!0),this.image=i(e.image,!0),this.imagePercent=i(e.imagePercent,75),this.imageArrows=i(e.imageArrows,!0),this.imageArrowsAutoHide=i(e.imageArrowsAutoHide,!1),this.imageSwipe=i(e.imageSwipe,!1),this.imageAnimation=i(e.imageAnimation,HP.Fade),this.imageSize=i(e.imageSize,bD.Cover),this.imageAutoPlay=i(e.imageAutoPlay,!1),this.imageAutoPlayInterval=i(e.imageAutoPlayInterval,2e3),this.imageAutoPlayPauseOnHover=i(e.imageAutoPlayPauseOnHover,!1),this.imageInfinityMove=i(e.imageInfinityMove,!1),e&&e.imageActions&&e.imageActions.length&&(e.imageActions=e.imageActions.map(function(t){return new vD(t)})),this.imageActions=i(e.imageActions,[]),this.imageDescription=i(e.imageDescription,!1),this.imageBullets=i(e.imageBullets,!1),this.thumbnails=i(e.thumbnails,!0),this.thumbnailsColumns=i(e.thumbnailsColumns,4),this.thumbnailsRows=i(e.thumbnailsRows,1),this.thumbnailsPercent=i(e.thumbnailsPercent,25),this.thumbnailsMargin=i(e.thumbnailsMargin,10),this.thumbnailsArrows=i(e.thumbnailsArrows,!0),this.thumbnailsArrowsAutoHide=i(e.thumbnailsArrowsAutoHide,!1),this.thumbnailsSwipe=i(e.thumbnailsSwipe,!1),this.thumbnailsMoveSize=i(e.thumbnailsMoveSize,1),this.thumbnailsOrder=i(e.thumbnailsOrder,uD.Column),this.thumbnailsRemainingCount=i(e.thumbnailsRemainingCount,!1),this.thumbnailsAsLinks=i(e.thumbnailsAsLinks,!1),this.thumbnailsAutoHide=i(e.thumbnailsAutoHide,!1),this.thumbnailMargin=i(e.thumbnailMargin,10),this.thumbnailSize=i(e.thumbnailSize,bD.Cover),e&&e.thumbnailActions&&e.thumbnailActions.length&&(e.thumbnailActions=e.thumbnailActions.map(function(t){return new vD(t)})),this.thumbnailActions=i(e.thumbnailActions,[]),this.thumbnailClasses=i(e.thumbnailClasses,[]),this.preview=i(e.preview,!0),this.previewDescription=i(e.previewDescription,!0),this.previewArrows=i(e.previewArrows,!0),this.previewArrowsAutoHide=i(e.previewArrowsAutoHide,!1),this.previewSwipe=i(e.previewSwipe,!1),this.previewFullscreen=i(e.previewFullscreen,!1),this.previewForceFullscreen=i(e.previewForceFullscreen,!1),this.previewCloseOnClick=i(e.previewCloseOnClick,!1),this.previewCloseOnEsc=i(e.previewCloseOnEsc,!1),this.previewKeyboardNavigation=i(e.previewKeyboardNavigation,!1),this.previewAnimation=i(e.previewAnimation,!0),this.previewAutoPlay=i(e.previewAutoPlay,!1),this.previewAutoPlayInterval=i(e.previewAutoPlayInterval,2e3),this.previewAutoPlayPauseOnHover=i(e.previewAutoPlayPauseOnHover,!1),this.previewInfinityMove=i(e.previewInfinityMove,!1),this.previewZoom=i(e.previewZoom,!1),this.previewZoomStep=i(e.previewZoomStep,.1),this.previewZoomMax=i(e.previewZoomMax,2),this.previewZoomMin=i(e.previewZoomMin,.5),this.previewRotate=i(e.previewRotate,!1),this.previewDownload=i(e.previewDownload,!1),this.previewCustom=i(e.previewCustom,void 0),this.previewBullets=i(e.previewBullets,!1),this.arrowPrevIcon=i(e.arrowPrevIcon,"fa fa-arrow-circle-left"),this.arrowNextIcon=i(e.arrowNextIcon,"fa fa-arrow-circle-right"),this.closeIcon=i(e.closeIcon,"fa fa-times-circle"),this.fullscreenIcon=i(e.fullscreenIcon,"fa fa-arrows-alt"),this.spinnerIcon=i(e.spinnerIcon,"fa fa-spinner fa-pulse fa-3x fa-fw"),this.zoomInIcon=i(e.zoomInIcon,"fa fa-search-plus"),this.zoomOutIcon=i(e.zoomOutIcon,"fa fa-search-minus"),this.rotateLeftIcon=i(e.rotateLeftIcon,"fa fa-undo"),this.rotateRightIcon=i(e.rotateRightIcon,"fa fa-repeat"),this.downloadIcon=i(e.downloadIcon,"fa fa-arrow-circle-down"),e&&e.actions&&e.actions.length&&(e.actions=e.actions.map(function(t){return new vD(t)})),this.actions=i(e.actions,[])},wD=function t(e){_(this,t),this.src=e.src,this.type=e.type,this.index=e.index};function kD(t,e){if(1&t){var n=os();ts(0,"ngx-gallery-image",3),us("imageClick",function(t){return $e(n),fs().openPreview(t)})("activeChange",function(t){return $e(n),fs().selectFromImage(t)})("animating",function(t){return $e(n),fs().setAnimating(t)}),es()}if(2&t){var i=fs();Es("height",i.getImageHeight()),Ja("images",i.mediumImages)("clickable",null==i.currentOptions?null:i.currentOptions.preview)("selectedIndex",i.selectedIndex)("arrows",null==i.currentOptions?null:i.currentOptions.imageArrows)("arrowsAutoHide",null==i.currentOptions?null:i.currentOptions.imageArrowsAutoHide)("arrowPrevIcon",null==i.currentOptions?null:i.currentOptions.arrowPrevIcon)("arrowNextIcon",null==i.currentOptions?null:i.currentOptions.arrowNextIcon)("swipe",null==i.currentOptions?null:i.currentOptions.imageSwipe)("animation",null==i.currentOptions?null:i.currentOptions.imageAnimation)("size",null==i.currentOptions?null:i.currentOptions.imageSize)("autoPlay",null==i.currentOptions?null:i.currentOptions.imageAutoPlay)("autoPlayInterval",null==i.currentOptions?null:i.currentOptions.imageAutoPlayInterval)("autoPlayPauseOnHover",null==i.currentOptions?null:i.currentOptions.imageAutoPlayPauseOnHover)("infinityMove",null==i.currentOptions?null:i.currentOptions.imageInfinityMove)("lazyLoading",null==i.currentOptions?null:i.currentOptions.lazyLoading)("actions",null==i.currentOptions?null:i.currentOptions.imageActions)("descriptions",i.descriptions)("showDescription",null==i.currentOptions?null:i.currentOptions.imageDescription)("bullets",null==i.currentOptions?null:i.currentOptions.imageBullets)}}var MD=function(){return[]};function SD(t,e){if(1&t){var n=os();ts(0,"ngx-gallery-thumbnails",4),us("activeChange",function(t){return $e(n),fs().selectFromThumbnails(t)}),es()}if(2&t){var i=fs();Es("margin-top",i.getThumbnailsMarginTop())("margin-bottom",i.getThumbnailsMarginBottom())("height",i.getThumbnailsHeight()),Ja("images",i.smallImages)("isAnimating",i.isAnimating)("links",null!=i.currentOptions&&i.currentOptions.thumbnailsAsLinks?i.links:al(28,MD))("labels",i.labels)("linkTarget",null==i.currentOptions?null:i.currentOptions.linkTarget)("selectedIndex",i.selectedIndex)("columns",null==i.currentOptions?null:i.currentOptions.thumbnailsColumns)("rows",null==i.currentOptions?null:i.currentOptions.thumbnailsRows)("margin",null==i.currentOptions?null:i.currentOptions.thumbnailMargin)("arrows",null==i.currentOptions?null:i.currentOptions.thumbnailsArrows)("arrowsAutoHide",null==i.currentOptions?null:i.currentOptions.thumbnailsArrowsAutoHide)("arrowPrevIcon",null==i.currentOptions?null:i.currentOptions.arrowPrevIcon)("arrowNextIcon",null==i.currentOptions?null:i.currentOptions.arrowNextIcon)("clickable",(null==i.currentOptions?null:i.currentOptions.image)||(null==i.currentOptions?null:i.currentOptions.preview))("swipe",null==i.currentOptions?null:i.currentOptions.thumbnailsSwipe)("size",null==i.currentOptions?null:i.currentOptions.thumbnailSize)("moveSize",null==i.currentOptions?null:i.currentOptions.thumbnailsMoveSize)("order",null==i.currentOptions?null:i.currentOptions.thumbnailsOrder)("remainingCount",null==i.currentOptions?null:i.currentOptions.thumbnailsRemainingCount)("lazyLoading",null==i.currentOptions?null:i.currentOptions.lazyLoading)("actions",null==i.currentOptions?null:i.currentOptions.thumbnailActions)("ngClass",null==i.currentOptions?null:i.currentOptions.thumbnailClasses)}}var ED,LD,TD=((LD=function(){function t(e,n){_(this,t),this.myElement=e,this.helperService=n,this.options=[{}],this.imagesReady=new vl,this.change=new vl,this.previewOpen=new vl,this.previewClose=new vl,this.previewChange=new vl,this.oldImagesLength=0,this.selectedIndex=0,this.breakpoint=void 0,this.prevBreakpoint=void 0}return x(t,[{key:"ngOnInit",value:function(){this.options=this.options.map(function(t){return new xD(t)}),this.sortOptions(),this.setBreakpoint(),this.setOptions(),this.checkFullWidth(),this.currentOptions&&(this.selectedIndex=this.currentOptions.startIndex)}},{key:"ngDoCheck",value:function(){(void 0!==this.images&&this.images.length!==this.oldImagesLength||this.images!==this.oldImages)&&(this.oldImagesLength=this.images.length,this.oldImages=this.images,this.setOptions(),this.setImages(),this.images&&this.images.length&&this.imagesReady.emit(),this.image&&this.image.reset(this.currentOptions.startIndex),this.currentOptions.thumbnailsAutoHide&&this.currentOptions.thumbnails&&this.images.length<=1&&(this.currentOptions.thumbnails=!1,this.currentOptions.imageArrows=!1),this.resetThumbnails())}},{key:"ngAfterViewInit",value:function(){this.checkFullWidth()}},{key:"onResize",value:function(){var t=this;this.setBreakpoint(),this.prevBreakpoint!==this.breakpoint&&(this.setOptions(),this.resetThumbnails()),this.currentOptions&&this.currentOptions.fullWidth&&(this.fullWidthTimeout&&clearTimeout(this.fullWidthTimeout),this.fullWidthTimeout=setTimeout(function(){t.checkFullWidth()},200))}},{key:"getImageHeight",value:function(){return this.currentOptions&&this.currentOptions.thumbnails?this.currentOptions.imagePercent+"%":"100%"}},{key:"getThumbnailsHeight",value:function(){return this.currentOptions&&this.currentOptions.image?"calc("+this.currentOptions.thumbnailsPercent+"% - "+this.currentOptions.thumbnailsMargin+"px)":"100%"}},{key:"getThumbnailsMarginTop",value:function(){return this.currentOptions&&this.currentOptions.layout===_D.ThumbnailsBottom?this.currentOptions.thumbnailsMargin+"px":"0px"}},{key:"getThumbnailsMarginBottom",value:function(){return this.currentOptions&&this.currentOptions.layout===_D.ThumbnailsTop?this.currentOptions.thumbnailsMargin+"px":"0px"}},{key:"openPreview",value:function(t){this.currentOptions.previewCustom?this.currentOptions.previewCustom(t):(this.previewEnabled=!0,this.preview.open(t))}},{key:"onPreviewOpen",value:function(){this.previewOpen.emit(),this.image&&this.image.autoPlay&&this.image.stopAutoPlay()}},{key:"onPreviewClose",value:function(){this.previewEnabled=!1,this.previewClose.emit(),this.image&&this.image.autoPlay&&this.image.startAutoPlay()}},{key:"selectFromImage",value:function(t){this.select(t)}},{key:"selectFromThumbnails",value:function(t){this.select(t),this.currentOptions&&this.currentOptions.thumbnails&&this.currentOptions.preview&&(!this.currentOptions.image||this.currentOptions.thumbnailsRemainingCount)&&this.openPreview(this.selectedIndex)}},{key:"show",value:function(t){this.select(t)}},{key:"showNext",value:function(){this.image.showNext()}},{key:"showPrev",value:function(){this.image.showPrev()}},{key:"canShowNext",value:function(){return!(!this.images||!this.currentOptions||!(this.currentOptions.imageInfinityMove||this.selectedIndex<this.images.length-1))}},{key:"canShowPrev",value:function(){return!(!this.images||!this.currentOptions||!(this.currentOptions.imageInfinityMove||this.selectedIndex>0))}},{key:"previewSelect",value:function(t){this.previewChange.emit({index:t,image:this.images[t]})}},{key:"moveThumbnailsRight",value:function(){this.thumbnails.moveRight()}},{key:"moveThumbnailsLeft",value:function(){this.thumbnails.moveLeft()}},{key:"canMoveThumbnailsRight",value:function(){return this.thumbnails.canMoveRight()}},{key:"canMoveThumbnailsLeft",value:function(){return this.thumbnails.canMoveLeft()}},{key:"resetThumbnails",value:function(){this.thumbnails&&this.thumbnails.reset(this.currentOptions.startIndex)}},{key:"select",value:function(t){this.selectedIndex=t,this.change.emit({index:t,image:this.images[t]})}},{key:"checkFullWidth",value:function(){this.currentOptions&&this.currentOptions.fullWidth&&(this.width=document.body.clientWidth+"px",this.left="translateX("+-(document.body.clientWidth-this.myElement.nativeElement.parentNode.innerWidth)/2+"px)")}},{key:"setImages",value:function(){var t=this;this.images.forEach(function(e){return e.type=t.helperService.getFileType(e.url||e.big||e.medium||e.small||"")}),this.smallImages=this.images.map(function(t){return t.small}),this.mediumImages=this.images.map(function(t,e){return new wD({src:t.medium,type:t.type,index:e})}),this.bigImages=this.images.map(function(t){return t.big}),this.descriptions=this.images.map(function(t){return t.description}),this.links=this.images.map(function(t){return t.url}),this.types=this.images.map(function(t){return t.cmtype}),this.labels=this.images.map(function(t){return t.label})}},{key:"setBreakpoint",value:function(){var t;this.prevBreakpoint=this.breakpoint,"undefined"!=typeof window&&(t=this.options.filter(function(t){return t.breakpoint>=window.innerWidth}).map(function(t){return t.breakpoint})),this.breakpoint=t&&t.length?t.pop():void 0}},{key:"sortOptions",value:function(){this.options=[].concat(r(this.options.filter(function(t){return void 0===t.breakpoint})),r(this.options.filter(function(t){return void 0!==t.breakpoint}).sort(function(t,e){return e.breakpoint-t.breakpoint})))}},{key:"setOptions",value:function(){var t=this;this.currentOptions=new xD({}),this.options.filter(function(e){return void 0===e.breakpoint||e.breakpoint>=t.breakpoint}).map(function(e){return t.combineOptions(t.currentOptions,e)}),this.width=this.currentOptions.width,this.height=this.currentOptions.height}},{key:"combineOptions",value:function(t,e){Object.keys(e).map(function(n){return t[n]=void 0!==e[n]?e[n]:t[n]})}},{key:"setAnimating",value:function(t){this.isAnimating=t}}]),t}()).\u0275fac=function(t){return new(t||LD)(Qa(hu),Qa(wP))},LD.\u0275cmp=oe({type:LD,selectors:[["ngx-gallery"]],viewQuery:function(t,e){var n;1&t&&(Dl(BP,!0),Dl(sD,!0),Dl(yD,!0)),2&t&&(Il(n=Fl())&&(e.preview=n.first),Il(n=Fl())&&(e.image=n.first),Il(n=Fl())&&(e.thumbnails=n.first))},hostVars:6,hostBindings:function(t,e){1&t&&us("resize",function(){return e.onResize()},!1,Tr),2&t&&Es("width",e.width)("height",e.height)("transform",e.left)},inputs:{options:"options",images:"images"},outputs:{imagesReady:"imagesReady",change:"change",previewOpen:"previewOpen",previewClose:"previewClose",previewChange:"previewChange"},features:[ru([wP])],decls:4,vars:42,consts:[[3,"height","images","clickable","selectedIndex","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","swipe","animation","size","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","lazyLoading","actions","descriptions","showDescription","bullets","imageClick","activeChange","animating",4,"ngIf"],[3,"marginTop","marginBottom","height","images","isAnimating","links","labels","linkTarget","selectedIndex","columns","rows","margin","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","clickable","swipe","size","moveSize","order","remainingCount","lazyLoading","actions","ngClass","activeChange",4,"ngIf"],[3,"images","types","descriptions","showDescription","arrowPrevIcon","arrowNextIcon","closeIcon","fullscreenIcon","spinnerIcon","arrows","arrowsAutoHide","swipe","fullscreen","forceFullscreen","closeOnClick","closeOnEsc","keyboardNavigation","animation","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","zoom","zoomStep","zoomMax","zoomMin","zoomInIcon","zoomOutIcon","actions","rotate","rotateLeftIcon","rotateRightIcon","download","downloadIcon","bullets","previewClose","previewOpen","activeChange"],[3,"images","clickable","selectedIndex","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","swipe","animation","size","autoPlay","autoPlayInterval","autoPlayPauseOnHover","infinityMove","lazyLoading","actions","descriptions","showDescription","bullets","imageClick","activeChange","animating"],[3,"images","isAnimating","links","labels","linkTarget","selectedIndex","columns","rows","margin","arrows","arrowsAutoHide","arrowPrevIcon","arrowNextIcon","clickable","swipe","size","moveSize","order","remainingCount","lazyLoading","actions","ngClass","activeChange"]],template:function(t,e){1&t&&(ts(0,"div"),Ka(1,kD,1,21,"ngx-gallery-image",0),Ka(2,SD,1,29,"ngx-gallery-thumbnails",1),ts(3,"ngx-gallery-preview",2),us("previewClose",function(){return e.onPreviewClose()})("previewOpen",function(){return e.onPreviewOpen()})("activeChange",function(t){return e.previewSelect(t)}),es(),es()),2&t&&(Hs("ngx-gallery-layout ",null==e.currentOptions?null:e.currentOptions.layout,""),yo(1),Ja("ngIf",null==e.currentOptions?null:e.currentOptions.image),yo(1),Ja("ngIf",null==e.currentOptions?null:e.currentOptions.thumbnails),yo(1),Ls("ngx-gallery-active",e.previewEnabled),Ja("images",e.bigImages)("types",e.types)("descriptions",e.descriptions)("showDescription",null==e.currentOptions?null:e.currentOptions.previewDescription)("arrowPrevIcon",null==e.currentOptions?null:e.currentOptions.arrowPrevIcon)("arrowNextIcon",null==e.currentOptions?null:e.currentOptions.arrowNextIcon)("closeIcon",null==e.currentOptions?null:e.currentOptions.closeIcon)("fullscreenIcon",null==e.currentOptions?null:e.currentOptions.fullscreenIcon)("spinnerIcon",null==e.currentOptions?null:e.currentOptions.spinnerIcon)("arrows",null==e.currentOptions?null:e.currentOptions.previewArrows)("arrowsAutoHide",null==e.currentOptions?null:e.currentOptions.previewArrowsAutoHide)("swipe",null==e.currentOptions?null:e.currentOptions.previewSwipe)("fullscreen",null==e.currentOptions?null:e.currentOptions.previewFullscreen)("forceFullscreen",null==e.currentOptions?null:e.currentOptions.previewForceFullscreen)("closeOnClick",null==e.currentOptions?null:e.currentOptions.previewCloseOnClick)("closeOnEsc",null==e.currentOptions?null:e.currentOptions.previewCloseOnEsc)("keyboardNavigation",null==e.currentOptions?null:e.currentOptions.previewKeyboardNavigation)("animation",null==e.currentOptions?null:e.currentOptions.previewAnimation)("autoPlay",null==e.currentOptions?null:e.currentOptions.previewAutoPlay)("autoPlayInterval",null==e.currentOptions?null:e.currentOptions.previewAutoPlayInterval)("autoPlayPauseOnHover",null==e.currentOptions?null:e.currentOptions.previewAutoPlayPauseOnHover)("infinityMove",null==e.currentOptions?null:e.currentOptions.previewInfinityMove)("zoom",null==e.currentOptions?null:e.currentOptions.previewZoom)("zoomStep",null==e.currentOptions?null:e.currentOptions.previewZoomStep)("zoomMax",null==e.currentOptions?null:e.currentOptions.previewZoomMax)("zoomMin",null==e.currentOptions?null:e.currentOptions.previewZoomMin)("zoomInIcon",null==e.currentOptions?null:e.currentOptions.zoomInIcon)("zoomOutIcon",null==e.currentOptions?null:e.currentOptions.zoomOutIcon)("actions",null==e.currentOptions?null:e.currentOptions.actions)("rotate",null==e.currentOptions?null:e.currentOptions.previewRotate)("rotateLeftIcon",null==e.currentOptions?null:e.currentOptions.rotateLeftIcon)("rotateRightIcon",null==e.currentOptions?null:e.currentOptions.rotateRightIcon)("download",null==e.currentOptions?null:e.currentOptions.previewDownload)("downloadIcon",null==e.currentOptions?null:e.currentOptions.downloadIcon)("bullets",null==e.currentOptions?null:e.currentOptions.previewBullets))},directives:[Lh,BP,sD,yD,kh,kL],styles:["[_nghost-%COMP%]{display:inline-block}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{float:left}.ngx-gallery-layout[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}.ngx-gallery-layout.thumbnails-top[_ngcontent-%COMP%]   ngx-gallery-image[_ngcontent-%COMP%]{order:2}.ngx-gallery-layout.thumbnails-bottom[_ngcontent-%COMP%]   ngx-gallery-image[_ngcontent-%COMP%], .ngx-gallery-layout.thumbnails-top[_ngcontent-%COMP%]   ngx-gallery-thumbnails[_ngcontent-%COMP%]{order:1}.ngx-gallery-layout.thumbnails-bottom[_ngcontent-%COMP%]   ngx-gallery-thumbnails[_ngcontent-%COMP%]{order:2}*[_ngcontent-%COMP%]{box-sizing:border-box}ngx-gallery-preview[_ngcontent-%COMP%]{font-size:25px}ngx-gallery-preview[_ngcontent-%COMP%]   .ngx-gallery-icon[_ngcontent-%COMP%]{z-index:2000}.ngx-gallery-clickable[_ngcontent-%COMP%]{cursor:pointer}.ngx-gallery-icons-wrapper[_ngcontent-%COMP%]   .ngx-gallery-icon[_ngcontent-%COMP%]{position:relative;margin-right:5px;margin-top:5px;font-size:20px;cursor:pointer}.ngx-gallery-icons-wrapper[_ngcontent-%COMP%]{float:right}"],changeDetection:0}),LD),CD=((ED=function(){function t(e,n,i,r){var o,a=this;if(_(this,t),this.mediaObserver=e,this.elmentRef=n,this.platformId=i,this.request=r,this.closed=new vl,this.opened=new vl,Hh(this.platformId))this.mediaSubscription=this.mediaObserver.media$.subscribe(function(t){a.isMobile="xs"===t.mqAlias||"sm"===t.mqAlias});else{var s=!1;(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(o=this.request.headers["user-agent"])||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(o.substr(0,4)))&&(s=!0),this.isMobile=s}}return x(t,[{key:"ngOnInit",value:function(){var t=this;this.galleryOptions=[{previewInfinityMove:!0,previewKeyboardNavigation:!0,arrowPrevIcon:"cm-chevron-left",arrowNextIcon:"cm-chevron-right",closeIcon:"cm-square-close",thumbnailsSwipe:!1,thumbnailsMoveSize:3,previewSwipe:!1,image:!1,height:"200px",width:"100%"},{breakpoint:1400,thumbnailsColumns:3},{breakpoint:959,thumbnailsColumns:2.2,thumbnailsMoveSize:2,thumbnailsArrows:!1,imageArrows:!1,imageSwipe:!0,thumbnailsSwipe:!0,previewSwipe:!0}];var e=[];this.data.entities.forEach(function(n){var i=n.captionEn;"de"===t.lang&&(i=n.captionDe);var r=n.data.thumbnail,o=n.data.full;t.isMobile&&(r=n.data.mobileThumbnail,o=n.data.mobileFull),e.push({cmtype:n.type,small:r,big:o,description:i})}),this.galleryImages=e}},{key:"previewOpened",value:function(){this.opened.emit();var t=document.getElementsByClassName("placeholder-scroll");t[0]&&(t[0].style.height="0px");var e=document.getElementsByClassName("scroll-container");e[0]&&(e[0].classList.add("noscroll"),!this.isMobile&&"undefined"!=typeof window&&window.isSafari&&(e[0].style.zIndex=99))}},{key:"previewClosed",value:function(){var t=document.getElementsByClassName("placeholder-scroll");t[0]&&(t[0].style.height="");var e=document.getElementsByClassName("scroll-container");e[0]&&(e[0].classList.remove("noscroll"),!this.isMobile&&"undefined"!=typeof window&&window.isSafari&&(e[0].style.zIndex=""));var n=document.getElementsByClassName("ngx-gallery-preview-wrapper");if(n[0]){var i,r=a(n[0].getElementsByTagName("audio"));try{for(r.s();!(i=r.n()).done;)i.value.pause()}catch(o){r.e(o)}finally{r.f()}}this.closed.emit()}},{key:"ngOnDestroy",value:function(){Hh(this.platformId)&&this.mediaSubscription.unsubscribe()}},{key:"elementId",get:function(){return(this.id+"").startsWith("g:")?this.id+"":"g:"+this.id}}]),t}()).\u0275fac=function(t){return new(t||ED)(Qa(lL),Qa(hu),Qa(Xl),Qa(qC,8))},ED.\u0275cmp=oe({type:ED,selectors:[["cm-gallery"]],hostVars:1,hostBindings:function(t,e){2&t&&Ga("id",e.elementId)},inputs:{data:"data",lang:"lang",id:"id"},outputs:{closed:"closed",opened:"opened"},decls:1,vars:2,consts:[[3,"options","images","previewOpen","previewClose"]],template:function(t,e){1&t&&(ts(0,"ngx-gallery",0),us("previewOpen",function(){return e.previewOpened()})("previewClose",function(){return e.previewClosed()}),es()),2&t&&Ja("options",e.galleryOptions)("images",e.galleryImages)},directives:[TD],styles:["[_nghost-%COMP%]{height:220px;padding-top:10px;display:block;background:#f4f4f4;padding-left:100%;padding-right:100%;margin:40px -100%}[_nghost-%COMP%]     .ngx-gallery-preview-text{color:#333!important;z-index:999!important;font-family:Source Sans Pro!important;font-size:.9rem!important;line-height:1.35rem!important;background:#f4f4f4!important}[_nghost-%COMP%]     .ngx-gallery-preview-text em, [_nghost-%COMP%]     .ngx-gallery-preview-text i{font-family:Source Sans Pro Italic!important}[_nghost-%COMP%]     .ngx-gallery-preview-text-content{max-width:1000px;margin:auto}[_nghost-%COMP%]     .ngx-gallery-thumbnails .ngx-gallery-arrow-left{left:-60px!important}[_nghost-%COMP%]     .ngx-gallery-thumbnails .ngx-gallery-arrow-left .ngx-gallery-icon-content{color:#5a5a5a!important;font-size:30px!important}[_nghost-%COMP%]     .ngx-gallery-thumbnails .ngx-gallery-arrow-right{right:-60px!important}[_nghost-%COMP%]     .ngx-gallery-thumbnails .ngx-gallery-arrow-right .ngx-gallery-icon-content{color:#5a5a5a!important;font-size:30px!important}[_nghost-%COMP%]     .ngx-gallery-preview .ngx-gallery-arrow{font-size:40px}[_nghost-%COMP%]     .ngx-gallery-preview .cm-caption{max-height:6rem;overflow-y:auto;display:block}[_nghost-%COMP%]     .ngx-gallery-preview .cm-caption p{margin:0}[_nghost-%COMP%]     .ngx-gallery-preview #gallery-video{width:100%;height:100%}[_nghost-%COMP%]     .mobile-info ngx-gallery-arrows{display:none}[_nghost-%COMP%]     .cm-image ngx-gallery-arrows{display:none!important}[_nghost-%COMP%]     .ngx-gallery-close{font-size:30px;background-color:#4d4d4d}"]}),ED),ID=["gallery"];function PD(t,e){if(1&t){var n=os();ts(0,"div",5),ts(1,"div",6),ts(2,"span",7),us("click",function(){return $e(n),fs(2).showImage()}),es(),ts(3,"img",8),us("click",function(){return $e(n),fs(2).showImage()})("contextmenu",function(t){return $e(n),fs(2).onRightClick(t)}),es(),ts(4,"ngx-gallery",9,10),us("previewOpen",function(){return $e(n),fs(2).previewOpened()})("previewClose",function(){return $e(n),fs(2).previewClosed()}),es(),es(),ns(6,"cm-caption",11),es()}if(2&t){var i=fs(2);yo(3),Ja("src",i.isMobile?i.data.data.mobileFull:i.data.data.full,br),yo(1),Ja("options",i.galleryOptions)("images",i.galleryImages),yo(2),Ja("content","en"===i.lang?i.data.captionEn:i.data.captionDe)("lang",i.lang)}}var DD=function(t,e){return{"cm-square-image-big":t,"cm-square-close":e}};function OD(t,e){if(1&t){var n=os();ts(0,"span"),ts(1,"button",1),us("click",function(){return $e(n),fs().toggle()}),ns(2,"span",2),es(),ts(3,"div",3),Ka(4,PD,7,5,"div",4),es(),es()}if(2&t){var i=fs();yo(2),Ja("ngClass",ul(3,DD,!i.isOpen,i.isOpen)),yo(1),Ja("@container",i.isOpen),yo(1),Ja("ngIf",i.openedFirst)}}var AD,RD=((AD=function(){function t(e,n,i){var r,o=this;if(_(this,t),this.mediaObserver=e,this.platformId=n,this.request=i,this.closed=new vl,this.opened=new vl,this.isOpen=!1,this.openedFirst=!1,Hh(this.platformId))this.mediaSubscription=this.mediaObserver.media$.subscribe(function(t){o.isMobile="xs"===t.mqAlias||"sm"===t.mqAlias});else{var a=!1;(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(r=this.request.headers["user-agent"])||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substr(0,4)))&&(a=!0),this.isMobile=a}}return x(t,[{key:"ngOnInit",value:function(){this.galleryOptions=[{image:!1,thumbnails:!1,closeIcon:"cm-square-close",width:"0px",height:"0px",spinnerIcon:"fa fa-spinner fa-pulse fa-3x fa-fw"}];var t=this.data.data.full;this.isMobile&&(t=this.data.data.mobileFull),this.galleryImages=[{cmtype:"image",small:t,big:t,description:"de"===this.lang?this.data.captionDe:this.data.captionEn}]}},{key:"openInline",value:function(){this.isOpen=!0,this.openedFirst=!0}},{key:"toggle",value:function(){this.isOpen=!this.isOpen,this.isOpen&&(this.openedFirst=!0)}},{key:"showImage",value:function(){this.gallery.openPreview(0)}},{key:"onRightClick",value:function(t){t.preventDefault()}},{key:"previewOpened",value:function(){this.opened.emit();var t=document.getElementsByClassName("placeholder-scroll");t[0]&&(t[0].style.height="0px");var e=document.getElementsByClassName("scroll-container");e[0]&&(e[0].classList.add("noscroll"),!this.isMobile&&"undefined"!=typeof window&&window.isSafari&&(e[0].style.zIndex=99))}},{key:"previewClosed",value:function(){var t=document.getElementsByClassName("placeholder-scroll");t[0]&&(t[0].style.height="");var e=document.getElementsByClassName("scroll-container");e[0]&&(e[0].classList.remove("noscroll"),!this.isMobile&&"undefined"!=typeof window&&window.isSafari&&(e[0].style.zIndex="")),this.closed.emit()}},{key:"ngOnDestroy",value:function(){Hh(this.platformId)&&this.mediaSubscription.unsubscribe()}},{key:"elementId",get:function(){return(this.id+"").startsWith("i:")?this.id+"":"i:"+this.id}}]),t}()).\u0275fac=function(t){return new(t||AD)(Qa(lL),Qa(Xl),Qa(qC,8))},AD.\u0275cmp=oe({type:AD,selectors:[["cm-image"]],viewQuery:function(t,e){var n;1&t&&Dl(ID,!0),2&t&&Il(n=Fl())&&(e.gallery=n.first)},hostVars:1,hostBindings:function(t,e){2&t&&Ga("id",e.elementId)},inputs:{data:"data",lang:"lang",id:"id"},outputs:{closed:"closed",opened:"opened"},decls:1,vars:1,consts:[[4,"ngIf"],["mat-icon-button","",1,"control",3,"click"],[3,"ngClass"],[1,"animation-container"],["class","container","fxLayout","row","fxLayout.lt-md","column",4,"ngIf"],["fxLayout","row","fxLayout.lt-md","column",1,"container"],["fxFlex","50",1,"image"],[1,"cm-square-expand",3,"click"],[3,"src","click","contextmenu"],[3,"options","images","previewOpen","previewClose"],["gallery",""],["fxFlex","50",1,"caption",3,"content","lang"]],template:function(t,e){1&t&&Ka(0,OD,5,6,"span",0),2&t&&Ja("ngIf",e.data)},styles:["[_nghost-%COMP%]{margin-left:1px;margin-right:1px}.animation-container[_ngcontent-%COMP%]{overflow:hidden}.container[_ngcontent-%COMP%]{padding:20px 20px 0;background:#f4f4f4;margin-top:10px;margin-bottom:10px;font-family:Source Sans Pro;font-size:.9rem;line-height:1.35rem}@media screen and (max-width:959px){.container[_ngcontent-%COMP%]{padding-bottom:0}}.container[_ngcontent-%COMP%]     em, .container[_ngcontent-%COMP%]     i{font-family:Source Sans Pro Italic;font-style:normal}img[_ngcontent-%COMP%]{width:100%;cursor:pointer}@media screen and (min-width:959px){img[_ngcontent-%COMP%]{margin-bottom:17px}}.image[_ngcontent-%COMP%]{position:relative}.caption[_ngcontent-%COMP%]{padding:0 25px;margin-top:-1rem}@media screen and (max-width:959px){.caption[_ngcontent-%COMP%]{padding:20px 0 0}}.mat-icon-button[_ngcontent-%COMP%]{width:20px;min-width:20px;height:20px;line-height:20px;min-height:20px;vertical-align:top;font-size:20px;padding:0;color:#a67481;margin:3px 0 0;border-radius:0}@media screen and (max-width:959px){.mat-icon-button[_ngcontent-%COMP%]{margin-top:1px}}"],data:{animation:[Kd("container",[$d("true",Jd({height:"*",display:"*"})),$d("false",Jd({height:"0px",display:"none"})),tf("false => true",[Jd({display:"block"}),Zd("300ms ease-in")]),tf("true => false",[Zd("300ms ease-in")])])]}}),AD);function ND(t,e){if(1&t){var n=os();ts(0,"div",5),ts(1,"div",6),ts(2,"audio",7),us("contextmenu",function(t){return $e(n),fs(2).onRightClick(t)}),ns(3,"source",8),es(),es(),ns(4,"cm-caption",9),es()}if(2&t){var i=fs(2);yo(3),Ja("src",i.data.data.full,br),yo(1),Ja("content","en"===i.lang?i.data.captionEn:i.data.captionDe)("lang",i.lang)}}var FD=function(t,e){return{"cm-square-audio":t,"cm-square-close":e}};function YD(t,e){if(1&t){var n=os();ts(0,"span"),ts(1,"button",1),us("click",function(){return $e(n),fs().toggle()}),ns(2,"span",2),es(),ts(3,"div",3),Ka(4,ND,5,3,"div",4),es(),es()}if(2&t){var i=fs();yo(2),Ja("ngClass",ul(3,FD,!i.opened,i.opened)),yo(1),Ja("@container",i.opened),yo(1),Ja("ngIf",i.openedFirst)}}var zD,jD=((zD=function(){function t(){_(this,t),this.opened=!1,this.openedFirst=!1}return x(t,[{key:"ngOnInit",value:function(){}},{key:"onRightClick",value:function(t){t.preventDefault()}},{key:"openInline",value:function(){this.opened=!0,this.openedFirst=!0}},{key:"toggle",value:function(){this.opened=!this.opened,this.opened&&(this.openedFirst=!0)}},{key:"elementId",get:function(){return(this.id+"").startsWith("a:")?this.id+"":"a:"+this.id}}]),t}()).\u0275fac=function(t){return new(t||zD)},zD.\u0275cmp=oe({type:zD,selectors:[["cm-audio"]],hostVars:1,hostBindings:function(t,e){2&t&&Ga("id",e.elementId)},inputs:{data:"data",lang:"lang",id:"id"},decls:1,vars:1,consts:[[4,"ngIf"],["mat-icon-button","",1,"control",3,"click"],[3,"ngClass"],[1,"animation-container"],["class","container","fxLayout","row","fxLayout.lt-md","column",4,"ngIf"],["fxLayout","row","fxLayout.lt-md","column",1,"container"],["fxFlex","50",1,"image"],["controls","","controlsList","nodownload","preload","none",3,"contextmenu"],["type","audio/mpeg",3,"src"],["fxFlex","50",1,"caption",3,"content","lang"]],template:function(t,e){1&t&&Ka(0,YD,5,6,"span",0),2&t&&Ja("ngIf",e.data)},styles:["[_nghost-%COMP%]{margin-left:1px;margin-right:1px}.animation-container[_ngcontent-%COMP%]{overflow:hidden}.container[_ngcontent-%COMP%]{padding:20px 20px 0;background:#f4f4f4;margin-top:10px;margin-bottom:10px;font-family:Source Sans Pro;font-size:.9rem;line-height:1.35rem}.container[_ngcontent-%COMP%]     em, .container[_ngcontent-%COMP%]     i{font-family:Source Sans Pro Italic;font-style:normal}img[_ngcontent-%COMP%]{width:100%}.caption[_ngcontent-%COMP%]{padding:0 25px;margin-top:-1rem}@media screen and (max-width:959px){.caption[_ngcontent-%COMP%]{padding:20px 0 0}}.mat-icon-button[_ngcontent-%COMP%]{width:20px;min-width:20px;height:20px;line-height:20px;min-height:20px;vertical-align:top;font-size:20px;padding:0;color:#a67481;margin:3px 0 0;border-radius:0}@media screen and (max-width:959px){.mat-icon-button[_ngcontent-%COMP%]{margin-top:1px}}audio[_ngcontent-%COMP%]{width:100%;margin-top:15px}@media screen and (min-width:959px){audio[_ngcontent-%COMP%]{margin-bottom:17px}}"],data:{animation:[Kd("container",[$d("true",Jd({height:"*",display:"*"})),$d("false",Jd({height:"0px",display:"none"})),tf("false => true",[Jd({display:"block"}),Zd("300ms ease-in")]),tf("true => false",[Zd("300ms ease-in")])])]}}),zD),BD=["video"];function HD(t,e){if(1&t&&ns(0,"cm-caption",9),2&t){var n=fs(2);Ja("content","en"===n.lang?n.data.captionEn:n.data.captionDe)("lang",n.lang)}}var UD=function(t,e){return{"cm-square-film":t,"cm-square-close":e}};function VD(t,e){if(1&t){var n=os();ts(0,"span"),ts(1,"button",1),us("click",function(){return $e(n),fs().toggle()}),ns(2,"span",2),es(),ts(3,"div",3),ts(4,"div",4),ts(5,"div",5),ts(6,"video",6,7),us("contextmenu",function(t){return $e(n),fs().onRightClick(t)}),es(),es(),Ka(8,HD,1,2,"cm-caption",8),es(),es(),es()}if(2&t){var i=fs();yo(2),Ja("ngClass",ul(3,UD,!i.opened,i.opened)),yo(1),Ja("@container",i.opened),yo(5),Ja("ngIf",i.openedFirst)}}var qD,GD,WD,XD=((WD=function(){function t(){_(this,t),this.opened=!1,this.openedFirst=!1}return x(t,[{key:"ngOnInit",value:function(){}},{key:"toggle",value:function(){var t=this;this.opened?(this.opened=!1,this.hls&&this.hls.destroy()):(this.opened=!0,this.openedFirst=!0,sI.isSupported()?(this.hls=new sI({maxBufferLength:10,maxBufferSize:512e3}),this.hls.attachMedia(this.videoElement.nativeElement),this.hls.on(sI.Events.MEDIA_ATTACHED,function(){t.hls.loadSource(t.data.data.full)})):this.videoElement.nativeElement.src=this.data.data.full)}},{key:"openInline",value:function(){this.opened||this.toggle()}},{key:"onRightClick",value:function(t){t.preventDefault()}},{key:"elementId",get:function(){return(this.id+"").startsWith("v:")?this.id+"":"v:"+this.id}}]),t}()).\u0275fac=function(t){return new(t||WD)},WD.\u0275cmp=oe({type:WD,selectors:[["cm-video"]],viewQuery:function(t,e){var n;1&t&&Dl(BD,!0),2&t&&Il(n=Fl())&&(e.videoElement=n.first)},hostVars:1,hostBindings:function(t,e){2&t&&Ga("id",e.elementId)},inputs:{data:"data",lang:"lang",id:"id"},decls:1,vars:1,consts:[[4,"ngIf"],["mat-icon-button","",1,"control",3,"click"],[3,"ngClass"],[1,"animation-container"],["fxLayout","row","fxLayout.lt-md","column",1,"container"],["fxFlex","50",1,"video"],["controls","","controlsList","nodownload","preload","metadata",3,"contextmenu"],["video",""],["fxFlex","50","class","caption",3,"content","lang",4,"ngIf"],["fxFlex","50",1,"caption",3,"content","lang"]],template:function(t,e){1&t&&Ka(0,VD,9,6,"span",0),2&t&&Ja("ngIf",e.data)},styles:["[_nghost-%COMP%]{margin-left:1px;margin-right:1px}.animation-container[_ngcontent-%COMP%]{overflow:hidden}.container[_ngcontent-%COMP%]{padding:20px 20px 0;background:#f4f4f4;margin-top:10px;margin-bottom:10px;font-family:Source Sans Pro;font-size:.9rem;line-height:1.35rem}@media screen and (max-width:959px){.container[_ngcontent-%COMP%]{padding-bottom:0}}.container[_ngcontent-%COMP%]     em, .container[_ngcontent-%COMP%]     i{font-family:Source Sans Pro Italic;font-style:normal}img[_ngcontent-%COMP%]{width:100%}.caption[_ngcontent-%COMP%]{padding:0 25px;margin-top:-1rem}@media screen and (max-width:959px){.caption[_ngcontent-%COMP%]{padding:20px 0 0}}.mat-icon-button[_ngcontent-%COMP%]{width:20px;min-width:20px;height:20px;line-height:20px;min-height:20px;vertical-align:top;font-size:20px;padding:0;color:#a67481;margin:3px 0 0;border-radius:0}@media screen and (max-width:959px){.mat-icon-button[_ngcontent-%COMP%]{margin-top:1px}}video[_ngcontent-%COMP%]{width:100%}@media screen and (min-width:959px){video[_ngcontent-%COMP%]{margin-bottom:17px}}"],data:{animation:[Kd("container",[$d("true",Jd({height:"*",display:"*"})),$d("false",Jd({height:"0px",display:"none"})),tf("false => true",[Jd({display:"block"}),Zd("300ms ease-in")]),tf("true => false",[Zd("300ms ease-in")])])]}}),WD),KD=((GD=function(){function t(e){_(this,t),this._sanitizer=e}return x(t,[{key:"transform",value:function(t){return this._sanitizer.bypassSecurityTrustHtml(t)}}]),t}()).\u0275fac=function(t){return new(t||GD)(Qa(Pd))},GD.\u0275pipe=fe({name:"sanitizeHtml",type:GD,pure:!0}),GD),ZD=((qD=function(){function t(e,n,i,r){_(this,t),this.element=e,this.componentFactoryResolver=n,this.injector=i,this.applicationRef=r,this.galleryClosed=new vl,this.galleryOpened=new vl,this.subscriptions=[],this.componentRefs=[],this.loading=!1,this.noteFactory=this.componentFactoryResolver.resolveComponentFactory(eI),this.quoteFactory=this.componentFactoryResolver.resolveComponentFactory(nI),this.linkInternFactory=this.componentFactoryResolver.resolveComponentFactory(rI),this.linkExternFactory=this.componentFactoryResolver.resolveComponentFactory(iI),this.linkInpageFactory=this.componentFactoryResolver.resolveComponentFactory(aI),this.galleryFactory=this.componentFactoryResolver.resolveComponentFactory(CD),this.imageFactory=this.componentFactoryResolver.resolveComponentFactory(RD),this.videoFactory=this.componentFactoryResolver.resolveComponentFactory(XD),this.audioFactory=this.componentFactoryResolver.resolveComponentFactory(jD)}return x(t,[{key:"ngOnInit",value:function(){}},{key:"insertIds",value:function(){var t=this.element.nativeElement.querySelectorAll(":scope > .wrapper > p, cm-note, cm-quote"),e=1,n=1,i=1;t.forEach(function(t){if("P"===t.tagName)return t.id="p:"+e,void(e+=1);"CM-NOTE"===t.tagName?(t.id=n,n+=1):"CM-QUOTE"===t.tagName&&(t.id=i,i+=1)})}},{key:"ngAfterViewInit",value:function(){this.insertIds()}},{key:"ngOnChanges",value:function(){this.destroyAllDynamicComponents(),this.insertIds(),this.insertDynamicComponents()}},{key:"insertDynamicComponents",value:function(){var t=this;this.loading=!1,setTimeout(function(){var e=t.element.nativeElement.querySelectorAll(":scope > .wrapper > p, cm-note, cm-quote, cm-link-intern, cm-link-extern, cm-link-inpage, cm-gallery, cm-image, cm-video, cm-audio"),n=1,i=1,r=1;e.forEach(function(e){var o;if("P"===e.tagName)return e.id="p:"+n,void(n+=1);if("CM-NOTE"===e.tagName){e.classList.add("reset");var a=e.innerHTML;(o=t.noteFactory.create(t.injector,[],e)).instance.id=i,i+=1,o.instance.content=a,o.instance.lang=t.lang,o.instance.media=t.media}else if("CM-QUOTE"===e.tagName){var s=e.innerHTML;(o=t.quoteFactory.create(t.injector,[],e)).instance.id=r,r+=1,o.instance.content=s,o.instance.lang=t.lang,o.instance.media=t.media,t.subscriptions.push(o.instance.opened.subscribe(function(){t.galleryOpened.emit()})),t.subscriptions.push(o.instance.closed.subscribe(function(){t.galleryClosed.emit()}))}else if("CM-LINK-INTERN"===e.tagName){var u=e.innerHTML,l=e.attributes.href.value,c=null;e.attributes.info&&(c=e.attributes.info.value),(o=t.linkInternFactory.create(t.injector,[],e)).instance.text=u,o.instance.href=l,o.instance.info=c}else if("CM-LINK-EXTERN"===e.tagName){var h=e.innerHTML,d=e.attributes.href.value;(o=t.linkExternFactory.create(t.injector,[],e)).instance.text=h,o.instance.href=d}else if("CM-LINK-INPAGE"===e.tagName){var f=e.innerHTML,p=e.attributes.href.value;(o=t.linkInpageFactory.create(t.injector,[],e)).instance.text=f,o.instance.href=p}else if("CM-GALLERY"===e.tagName){var m=e.attributes.id.value;(o=t.galleryFactory.create(t.injector,[],e)).instance.id=m,o.instance.data=t.media.galleries[m.replace("g:","")],o.instance.lang=t.lang,t.subscriptions.push(o.instance.opened.subscribe(function(){t.galleryOpened.emit()})),t.subscriptions.push(o.instance.closed.subscribe(function(){t.galleryClosed.emit()}))}else if("CM-IMAGE"===e.tagName){e.classList.add("reset");var g=e.attributes.id.value;(o=t.imageFactory.create(t.injector,[],e)).instance.id=g,o.instance.data=t.media.images[g.replace("i:","")],o.instance.lang=t.lang,t.subscriptions.push(o.instance.opened.subscribe(function(){t.galleryOpened.emit()})),t.subscriptions.push(o.instance.closed.subscribe(function(){t.galleryClosed.emit()}))}else if("CM-VIDEO"===e.tagName){e.classList.add("reset");var y=e.attributes.id.value;(o=t.videoFactory.create(t.injector,[],e)).instance.id=y,o.instance.data=t.media.videos[y.replace("v:","")],o.instance.lang=t.lang}else if("CM-AUDIO"===e.tagName){e.classList.add("reset");var v=e.attributes.id.value;(o=t.audioFactory.create(t.injector,[],e)).instance.id=v,o.instance.data=t.media.audios[v.replace("a:","")],o.instance.lang=t.lang}t.applicationRef.attachView(o.hostView),t.componentRefs.push(o)}),t.loading=!1},250)}},{key:"destroyAllDynamicComponents",value:function(){this.subscriptions.forEach(function(t){t.unsubscribe()})}},{key:"openComponentByRef",value:function(t){(t.startsWith("i:")||t.startsWith("v:")||t.startsWith("a:")||t.startsWith("n:"))&&this.componentRefs.forEach(function(e){e.instance.elementId===t&&e.instance.openInline()})}},{key:"ngOnDestroy",value:function(){this.destroyAllDynamicComponents()}}]),t}()).\u0275fac=function(t){return new(t||qD)(Qa(hu),Qa(su),Qa(Ia),Qa(Oc))},qD.\u0275cmp=oe({type:qD,selectors:[["cm-information"]],inputs:{content:"content",lang:"lang",media:"media"},outputs:{galleryClosed:"galleryClosed",galleryOpened:"galleryOpened"},features:[Te],decls:2,vars:5,consts:[[1,"wrapper",3,"innerHtml"]],template:function(t,e){1&t&&(ns(0,"div",0),dl(1,"sanitizeHtml")),2&t&&(Ls("is-hidden",e.loading),Ja("innerHtml",fl(1,3,e.content),_r))},pipes:[KD],styles:[".is-hidden[_ngcontent-%COMP%]{display:none}"]}),qD);function QD(t,e){1&t&&ns(0,"cm-start-page-selector")}function JD(t,e){if(1&t&&(ts(0,"div",3),ts(1,"div",4),ns(2,"cm-information",5),ts(3,"button",6),zs(4),dl(5,"uppercase"),dl(6,"translate"),es(),ts(7,"button",7),zs(8),dl(9,"uppercase"),dl(10,"translate"),es(),ts(11,"button",8),zs(12),dl(13,"uppercase"),dl(14,"translate"),es(),es(),es()),2&t){var n=fs(2);yo(2),Ja("content","de"===n.translate.currentLang?n.startTextDe:n.startTextEn)("lang",n.translate.currentLang),yo(2),js(fl(5,5,fl(6,7,"header.about"))),yo(4),js(fl(9,9,fl(10,11,"header.book"))),yo(4),js(fl(13,13,fl(14,15,"header.team")))}}function $D(t,e){if(1&t&&(ts(0,"cm-sidepanel"),Ka(1,JD,15,17,"div",2),es()),2&t){var n=fs();yo(1),Ja("ngIf",n.page)}}function tO(t,e){if(1&t){var n=os();ts(0,"div",11),ts(1,"div",12),ns(2,"div",13),es(),ts(3,"div",14),ts(4,"button",15),us("click",function(){return $e(n),fs(2).mobileShowMore()}),zs(5),dl(6,"uppercase"),dl(7,"translate"),es(),es(),es()}if(2&t){var i=fs(2);yo(2),Ja("innerHTML","de"===i.translate.currentLang?i.startMobileTextDe:i.startMobileTextEn,_r),yo(3),js(fl(6,2,fl(7,4,"header.about")))}}function eO(t,e){if(1&t&&(ts(0,"div",9),ns(1,"cm-start-page-selector"),Ka(2,tO,8,6,"div",10),es()),2&t){var n=fs();yo(2),Ja("ngIf",n.page)}}var nO,iO,rO,oO=((nO=function(){function t(e,n,i,r,o,a,s,u,l,c){var h,d=this;if(_(this,t),this.translate=e,this.route=n,this.mediaObserver=i,this.router=r,this.app=o,this.document=a,this.platformId=s,this.request=u,this.meta=l,this.title=c,this.isMobile=!0,this.startTextDe="<p><i>Campus Medius</i> erforscht und erweitert die M\xf6glichkeiten der digitalen Kartografie in den Kultur- und Medienwissenschaften. Die Felder auf der linken Seite f\xfchren direkt zur historischen Fallstudie. Wir empfehlen aber, zuerst den einf\xfchrenden \xdcberblick zu lesen.</p>",this.startTextEn="<p><i>Campus Medius</i> explores and expands the possibilities of digital mapping in cultural and media studies. The fields on the left lead directly to the historical case study. However, we recommend reading the introductory overview first.</p>",this.startMobileTextDe="<p><i>Campus Medius</i> erforscht und erweitert die M\xf6glich&shy;keiten der digitalen Karto&shy;grafie in den Kultur- und Medien&shy;wissen&shy;schaften.</p>",this.startMobileTextEn="<p><i>Campus Medius</i> explores and expands the possi&shy;bilities of digital mapping in cultural and media studies.</p>",Hh(this.platformId))this.mediaSubscription=this.mediaObserver.media$.subscribe(function(t){d.isMobile="xs"===t.mqAlias||"sm"===t.mqAlias});else{var f=!1;(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(h=this.request.headers["user-agent"])||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(h.substr(0,4)))&&(f=!0),this.isMobile=f}}return x(t,[{key:"ngOnInit",value:function(){var t=this;this.route.data.subscribe(function(e){t.page=e.pages.find(function(t){return"Start"===t.titleEn}),t.updateSiteMetaAndTitle()})}},{key:"updateSiteMetaAndTitle",value:function(){var t,e,n,i="https://campusmedius.net";t="de"===this.translate.currentLang?this.page.keywordsDe:this.page.keywordsEn,e=("de"===this.translate.currentLang?this.page.abstractDe:this.page.abstractEn).replace(/<[^>]*>/g,""),n=i+"?lang="+("de"===this.translate.currentLang?"en":"de"),i+="?lang="+this.translate.currentLang;var r="de"===this.translate.currentLang?"https://campusmedius.net/assets/screenshot_de.png":"https://campusmedius.net/assets/screenshot_en.png";this.title.setTitle("Campus Medius"),this.document.documentElement.lang=this.translate.currentLang,this.meta.updateTag({name:"keywords",content:t.join(",")}),this.meta.updateTag({name:"description",content:e,lang:this.translate.currentLang}),this.document.querySelector("link[rel=canonical]").setAttribute("href",i);var o=this.document.querySelector("link[rel=alternate]");o.setAttribute("href",n),o.setAttribute("hreflang",this.translate.currentLang),this.meta.updateTag({name:"og:title",content:"Campus Medius"}),this.meta.updateTag({name:"og:description",content:e}),this.meta.updateTag({name:"og:type",content:"website"}),this.meta.updateTag({name:"og:url",content:i}),this.meta.updateTag({name:"og:image",content:r}),this.meta.updateTag({name:"og:site_name",content:"Campus Medius"}),this.meta.updateTag({name:"twitter:card",content:"summary"}),this.document.getElementById("jsonld").text=""}},{key:"readMore",value:function(){this.router.navigate(["/overview"],{queryParamsHandling:"merge"})}},{key:"mobileShowMore",value:function(){this.router.navigate(["/overview"],{queryParamsHandling:"merge"})}},{key:"ngOnDestroy",value:function(){Hh(this.platformId)&&this.mediaSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||nO)(Qa(vx),Qa(mv),Qa(lL),Qa(H_),Qa(VC),Qa(Gc),Qa(Xl),Qa(qC,8),Qa(Yd),Qa(Hd))},nO.\u0275cmp=oe({type:nO,selectors:[["cm-start-page"]],decls:3,vars:3,consts:[[4,"ngIf"],["class","mobile-short-info",4,"ngIf"],["class","info-container",4,"ngIf"],[1,"info-container"],[1,"info-content"],[3,"content","lang"],["mat-flat-button","","color","warn","routerLink","/overview","routerLinkActive","active",1,"btn-read-more"],["mat-flat-button","","color","warn","routerLink","/book","routerLinkActive","active",1,"btn-read-more"],["mat-flat-button","","color","warn","routerLink","/team","routerLinkActive","active",1,"btn-read-more"],[1,"mobile-short-info"],["class","info",4,"ngIf"],[1,"info"],[1,"mobile-abstract"],[3,"innerHTML"],[1,"intro"],["mat-flat-button","","color","warn",1,"btn-read-more",3,"click"]],template:function(t,e){1&t&&(Ka(0,QD,1,0,"cm-start-page-selector",0),Ka(1,$D,2,1,"cm-sidepanel",0),Ka(2,eO,3,1,"div",1)),2&t&&(Ja("ngIf",!e.isMobile),yo(1),Ja("ngIf",!e.isMobile),yo(1),Ja("ngIf",e.isMobile))},directives:[Lh,WC,jC,ZD,iC,U_,Z_],pipes:[zh,_x],styles:["cm-start-page-selector[_ngcontent-%COMP%]{height:calc(100% - 3.3rem);position:fixed;top:3.3rem;width:calc(100vw - 450px)}@media screen and (max-width:959px){cm-start-page-selector[_ngcontent-%COMP%]{width:100%;top:2.5rem;position:static;top:auto;flex:1;display:block;height:auto;z-index:10}}cm-sidepanel[_ngcontent-%COMP%]{width:470px}.info-container[_ngcontent-%COMP%]{color:#333;height:100%;display:flex;align-items:center}.info-content[_ngcontent-%COMP%]{width:70%;max-width:900px;margin-left:auto;margin-right:auto;margin-top:-35px}.mobile-short-info[_ngcontent-%COMP%]{height:calc(100% - 2.5rem);display:flex;flex-direction:column;position:fixed;width:100%;background:#fff;box-sizing:border-box;overflow:hidden;bottom:0}.mobile-short-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{box-shadow:0 -3px 5px rgba(57,63,72,.3);-moz-box-shadow:0 -3px 5px rgba(57,63,72,.3);-webkit-box-shadow:0 -3px 5px rgba(57,63,72,.3);z-index:11}.mobile-short-info[_ngcontent-%COMP%]   .btn-read-more[_ngcontent-%COMP%]{width:100%}.mobile-short-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-bottom:20px;padding-left:20px;padding-right:20px}.mobile-short-info[_ngcontent-%COMP%]   .btn-read-more[_ngcontent-%COMP%]{margin-top:0!important}.mobile-short-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{-webkit-margin-after:15px;margin-block-end:15px;-webkit-margin-before:15px;margin-block-start:15px}"]}),nO),aO=function(){function t(e,n){_(this,t),this._document=n;var i=this._textarea=this._document.createElement("textarea"),r=i.style;r.position="fixed",r.top=r.opacity="0",r.left="-999em",i.setAttribute("aria-hidden","true"),i.value=e,this._document.body.appendChild(i)}return x(t,[{key:"copy",value:function(){var t=this._textarea,e=!1;try{if(t){var n=this._document.activeElement;t.select(),t.setSelectionRange(0,t.value.length),e=this._document.execCommand("copy"),n&&n.focus()}}catch(FY){}return e}},{key:"destroy",value:function(){var t=this._textarea;t&&(t.parentNode&&t.parentNode.removeChild(t),this._textarea=void 0)}}]),t}(),sO=((rO=function(){function t(e){_(this,t),this._document=e}return x(t,[{key:"copy",value:function(t){var e=this.beginCopy(t),n=e.copy();return e.destroy(),n}},{key:"beginCopy",value:function(t){return new aO(t,this._document)}}]),t}()).\u0275fac=function(t){return new(t||rO)(Ri(Gc))},rO.\u0275prov=Tt({factory:function(){return new rO(Ri(Gc))},token:rO,providedIn:"root"}),rO),uO=((iO=function t(){_(this,t)}).\u0275mod=ce({type:iO}),iO.\u0275inj=Ct({factory:function(t){return new(t||iO)}}),iO);function lO(t,e){1&t&&(ts(0,"span"),zs(1," trans. by Katy Derbyshire,"),es())}function cO(t,e){1&t&&(ts(0,"span"),zs(1," trans. by Maria Slater,"),es())}function hO(t,e){if(1&t){var n=os();ts(0,"div",4),ts(1,"div",5),zs(2,"Translation"),es(),ts(3,"div",11),ts(4,"cm-link-intern",28),us("click",function(){return $e(n),fs(2).close()}),es(),es(),es()}2&t&&(yo(4),Ja("text","Katy Derbyshire"))}function dO(t,e){if(1&t){var n=os();ts(0,"div",4),ts(1,"div",5),zs(2,"Translation"),es(),ts(3,"div",11),ts(4,"cm-link-intern",29),us("click",function(){return $e(n),fs(2).close()}),es(),es(),es()}2&t&&(yo(4),Ja("text","Maria Slater"))}function fO(t,e){if(1&t){var n=os();ts(0,"a",17),us("click",function(){$e(n);var t=fs(2);return t.keywordsExpanded=!t.keywordsExpanded}),zs(1),es()}if(2&t){var i=fs(2);yo(1),Bs("(",i.keywordsExpanded?"show less":"show all",")")}}function pO(t,e){if(1&t){var n=os();ts(0,"div",5),ts(1,"button",30),us("click",function(){return $e(n),fs(2).downloadJsonLd()}),ns(2,"span",31),es(),es()}}function mO(t,e){if(1&t){var n=os();ts(0,"div",32),ts(1,"button",30),us("click",function(){return $e(n),fs(2).downloadJsonLd()}),ns(2,"span",31),es(),es()}}function gO(t,e){if(1&t){var n=os();ts(0,"div",3),ts(1,"div",4),ts(2,"div",5),zs(3,"Citation"),es(),ts(4,"div",6),ts(5,"span"),zs(6,'Simon Ganahl: "'),es(),ns(7,"span",7),ts(8,"span"),zs(9,',"'),es(),Ka(10,lO,2,0,"span",8),Ka(11,cO,2,0,"span",8),ts(12,"span"),zs(13),ts(14,"i"),zs(15,"Campus Medius"),es(),zs(16),es(),ts(17,"span",9),zs(18),es(),ts(19,"a",10),us("click",function(){return $e(n),fs().copyCitation()}),zs(20,"(copy)"),es(),es(),es(),ts(21,"div",4),ts(22,"div",5),zs(23,"Title"),es(),ts(24,"div",11),zs(25,'"'),ns(26,"span",7),zs(27,'" in '),ts(28,"i"),zs(29,"Campus Medius"),es(),es(),es(),ts(30,"div",4),ts(31,"div",5),zs(32,"URL"),es(),ts(33,"div",12),zs(34),ts(35,"a",10),us("click",function(){return $e(n),fs().copyUrl()}),zs(36,"(copy)"),es(),es(),es(),ts(37,"div",4),ts(38,"div",5),zs(39,"Text"),es(),ts(40,"div",11),ts(41,"cm-link-intern",13),us("click",function(){return $e(n),fs().close()}),es(),es(),es(),Ka(42,hO,5,1,"div",14),Ka(43,dO,5,1,"div",14),ts(44,"div",4),ts(45,"div",5),zs(46,"Code"),es(),ts(47,"div",11),ts(48,"cm-link-intern",15),us("click",function(){return $e(n),fs().close()}),es(),es(),es(),ts(49,"div",4),ts(50,"div",5),zs(51,"Design"),es(),ts(52,"div",11),ts(53,"cm-link-intern",16),us("click",function(){return $e(n),fs().close()}),es(),es(),es(),ts(54,"div",4),ts(55,"div",5),zs(56,"Published"),es(),ts(57,"div",11),zs(58),es(),es(),ts(59,"div",4),ts(60,"div",5),zs(61,"Updated"),es(),ts(62,"div",11),zs(63),es(),es(),ts(64,"div",4),ts(65,"div",5),zs(66,"Abstract"),es(),ts(67,"div",11),ns(68,"span",7),zs(69,"\xa0"),ts(70,"a",17),us("click",function(){$e(n);var t=fs();return t.abstractExpanded=!t.abstractExpanded}),zs(71),es(),es(),es(),ts(72,"div",4),ts(73,"div",5),zs(74,"Keywords"),es(),ts(75,"div",11),zs(76),Ka(77,fO,2,1,"a",18),es(),es(),ts(78,"div",4),ts(79,"div",5),zs(80,"Copyright"),es(),ts(81,"div",11),zs(82," Unless stated otherwise, this website's content is available open access under Creative Commons "),ns(83,"cm-link-extern",19),zs(84,". This license permits unrestricted use and distribution of the respective material, provided that the creator(s), who retain copyright, and the source are properly credited, ideally in the form suggested above. However, this does not apply to the works (texts, images, audio, video) cited in "),ts(85,"i"),zs(86,"Campus Medius"),es(),zs(87,": for their copyright details, the sources given in the notes and captions must be consulted in each case! "),es(),es(),ts(88,"div",4),ts(89,"div",5),zs(90,"Funding"),es(),ts(91,"div",11),zs(92," Based on international peer reviews, the production of this website has been supported by the Austrian Academy of Sciences ("),ns(93,"cm-link-extern",20),zs(94,": APART\xa011810), the Austrian Science Fund ("),ns(95,"cm-link-extern",21),zs(96,": J\xa03181-G20 & PUD\xa017-G), the City of Vienna ("),ns(97,"cm-link-extern",22),zs(98,": 573323/14), the "),ns(99,"cm-link-extern",23),zs(100," at the University of Vienna, and the digital repository "),ns(101,"cm-link-extern",24),zs(102,". "),es(),es(),ts(103,"div",4),Ka(104,pO,3,0,"div",25),ts(105,"div",26),ts(106,"a",17),us("click",function(){return $e(n),fs().downloadJsonLd()}),Ka(107,mO,3,0,"div",27),zs(108,"Download metadata in JSON-LD format"),es(),es(),es(),es()}if(2&t){var i=fs();yo(7),ys("innerHtml",i.titleEn,_r),yo(3),Ja("ngIf","event"===i.data.type),yo(1),Ja("ngIf","mediator"===i.data.type&&"0"!==i.data.data.id),yo(2),Bs(" last modified on ",i.updatedEn,", in: Simon Ganahl et al.: "),yo(3),Bs(", 2014\u2013",i.updatedYear,", URL: "),yo(2),Bs("",i.url," "),yo(8),ys("innerHtml",i.titleEn,_r),yo(8),Bs("",i.url," "),yo(7),Ja("text","Simon Ganahl"),yo(1),Ja("ngIf","event"===i.data.type),yo(1),Ja("ngIf","mediator"===i.data.type&&"0"!==i.data.data.id),yo(5),Ja("text","Andreas Krimbacher"),yo(5),Ja("text","Susanne Kiesenhofer"),yo(5),js(i.publishedEn),yo(5),js(i.updatedEn),yo(5),ys("innerHtml",i.abstractExpanded?i.abstractEn:i.abstractShortEn,_r),yo(3),Bs("(",i.abstractExpanded?"show less":"show all",")"),yo(5),Bs("",i.keywordsExpanded?i.keywordsEnStr:i.keywordsShortEnStr," "),yo(1),Ja("ngIf",i.keywordsShowExpanded),yo(6),Ja("text","CC BY 4.0"),yo(21),Ja("ngIf",!i.data.isMobile),yo(3),Ja("ngIf",i.data.isMobile)}}function yO(t,e){if(1&t){var n=os();ts(0,"a",17),us("click",function(){$e(n);var t=fs(2);return t.keywordsExpanded=!t.keywordsExpanded}),zs(1),es()}if(2&t){var i=fs(2);yo(1),Bs("(",i.keywordsExpanded?"weniger anzeigen":"alle anzeigen",")")}}function vO(t,e){if(1&t){var n=os();ts(0,"div",5),ts(1,"button",30),us("click",function(){return $e(n),fs(2).downloadJsonLd()}),ns(2,"span",31),es(),es()}}function _O(t,e){if(1&t){var n=os();ts(0,"div",32),ts(1,"button",30),us("click",function(){return $e(n),fs(2).downloadJsonLd()}),ns(2,"span",31),es(),es()}}function bO(t,e){if(1&t){var n=os();ts(0,"div",3),ts(1,"div",4),ts(2,"div",5),zs(3,"Zitation"),es(),ts(4,"div",6),zs(5,'Simon Ganahl: "'),ns(6,"span",7),zs(7),ts(8,"i"),zs(9,"Campus Medius"),es(),zs(10),ts(11,"span",9),zs(12),es(),ts(13,"a",10),us("click",function(){return $e(n),fs().copyCitation()}),zs(14,"(kopieren)"),es(),es(),es(),ts(15,"div",4),ts(16,"div",5),zs(17,"Titel"),es(),ts(18,"div",11),zs(19,'"'),ns(20,"span",7),zs(21,'" in '),ts(22,"i"),zs(23,"Campus Medius"),es(),es(),es(),ts(24,"div",4),ts(25,"div",5),zs(26,"URL"),es(),ts(27,"div",12),zs(28),ts(29,"a",10),us("click",function(){return $e(n),fs().copyUrl()}),zs(30,"(kopieren)"),es(),es(),es(),ts(31,"div",4),ts(32,"div",5),zs(33,"Text"),es(),ts(34,"div",11),ts(35,"cm-link-intern",13),us("click",function(){return $e(n),fs().close()}),es(),es(),es(),ts(36,"div",4),ts(37,"div",5),zs(38,"Code"),es(),ts(39,"div",11),ts(40,"cm-link-intern",15),us("click",function(){return $e(n),fs().close()}),es(),es(),es(),ts(41,"div",4),ts(42,"div",5),zs(43,"Design"),es(),ts(44,"div",11),ts(45,"cm-link-intern",16),us("click",function(){return $e(n),fs().close()}),es(),es(),es(),ts(46,"div",4),ts(47,"div",5),zs(48,"Publiziert"),es(),ts(49,"div",11),zs(50),es(),es(),ts(51,"div",4),ts(52,"div",5),zs(53,"Aktualisiert"),es(),ts(54,"div",11),zs(55),es(),es(),ts(56,"div",4),ts(57,"div",5),zs(58,"Abstract"),es(),ts(59,"div",11),ns(60,"span",7),zs(61,"\xa0"),ts(62,"a",17),us("click",function(){$e(n);var t=fs();return t.abstractExpanded=!t.abstractExpanded}),zs(63),es(),es(),es(),ts(64,"div",4),ts(65,"div",5),zs(66,"Schlagw\xf6rter"),es(),ts(67,"div",11),zs(68),Ka(69,yO,2,1,"a",18),es(),es(),ts(70,"div",4),ts(71,"div",5),zs(72,"Urheberrecht"),es(),ts(73,"div",11),zs(74," Wenn nicht anders angegeben, sind die Inhalte dieser Website unter Creative Commons "),ns(75,"cm-link-extern",33),zs(76," frei verf\xfcgbar. Diese Lizenz gestattet die uneingeschr\xe4nkte Nutzung und Verbreitung des entsprechenden Materials unter der Bedingung, dass die UrheberInnen, bei denen alle Rechte verbleiben, und die Quelle eindeutig genannt werden, idealerweise in der oben vorgeschlagenen Form. Das gilt allerdings nicht f\xfcr die Werke (Texte, Bilder, Ton- und Filmaufnahmen), die in "),ts(77,"i"),zs(78,"Campus Medius"),es(),zs(79," zitiert werden: F\xfcr deren Urheberrechte m\xfcssen in jedem Fall die angef\xfchrten Quellen konsultiert werden! "),es(),es(),ts(80,"div",4),ts(81,"div",5),zs(82,"F\xf6rderungen"),es(),ts(83,"div",11),zs(84," Basierend auf internationalen Begutachtungen ("),ts(85,"i"),zs(86,"peer reviews"),es(),zs(87,"), wurde die Herstellung dieser Website gef\xf6rdert von der \xd6sterreichischen Akademie der Wissenschaften ("),ns(88,"cm-link-extern",34),zs(89,": APART 11810), dem \xf6sterreichischen Wissenschaftsfonds ("),ns(90,"cm-link-extern",35),zs(91,": J\xa03181-G20 & PUD\xa017-G), der Stadt Wien ("),ns(92,"cm-link-extern",22),zs(93,": 573323/14), dem "),ns(94,"cm-link-extern",36),zs(95," der Universit\xe4t Wien sowie dem digitalen Repositorium "),ns(96,"cm-link-extern",24),zs(97,". "),es(),es(),ts(98,"div",4),Ka(99,vO,3,0,"div",25),ts(100,"div",26),ts(101,"a",17),us("click",function(){return $e(n),fs().downloadJsonLd()}),Ka(102,_O,3,0,"div",27),zs(103,"Metadaten im Format JSON-LD herunterladen"),es(),es(),es(),es()}if(2&t){var i=fs();yo(6),ys("innerHtml",i.titleDe,_r),yo(1),Bs('", zuletzt aktualisiert am ',i.updatedDe,", in: Simon Ganahl u.a.: "),yo(3),Bs(", 2014\u2013",i.updatedYear,", URL: "),yo(2),Bs("",i.url," "),yo(8),ys("innerHtml",i.titleDe,_r),yo(8),Bs("",i.url," "),yo(7),Ja("text","Simon Ganahl"),yo(5),Ja("text","Andreas Krimbacher"),yo(5),Ja("text","Susanne Kiesenhofer"),yo(5),js(i.publishedDe),yo(5),js(i.updatedDe),yo(5),ys("innerHtml",i.abstractExpanded?i.abstractDe:i.abstractShortDe,_r),yo(3),Bs("(",i.abstractExpanded?"weniger anzeigen":"alles anzeigen",")"),yo(5),Bs("",i.keywordsExpanded?i.keywordsDeStr:i.keywordsShortDeStr," "),yo(1),Ja("ngIf",i.keywordsShowExpanded),yo(6),Ja("text","CC BY 4.0"),yo(24),Ja("ngIf",!i.data.isMobile),yo(3),Ja("ngIf",i.data.isMobile)}}var xO,wO=((xO=function(){function t(e,n,i,r,o){_(this,t),this.translate=e,this.dialogRef=n,this.clipboard=i,this.document=r,this.data=o,this.abstractExpanded=!1,this.abstractShowExpanded=!0,this.keywordsExpanded=!1,this.keywordsShowExpanded=!0}return x(t,[{key:"ngOnInit",value:function(){"event"===this.data.type?this.url="https://campusmedius.net/topography/events/"+this.data.data.id+"?lang="+this.translate.currentLang+"&info=full":"mediator"===this.data.type?this.url="https://campusmedius.net/topology/mediations/"+this.data.mediationId+"/mediators/"+this.data.data.id+"?lang="+this.translate.currentLang+"&info=full":"page"===this.data.type?(this.url="https://campusmedius.net","Overview"===this.data.data.titleEn?this.url+="/overview?lang="+this.translate.currentLang:"Project Team"===this.data.data.titleEn?this.url+="/team?lang="+this.translate.currentLang:"Book Edition"===this.data.data.titleEn?this.url+="/book?lang="+this.translate.currentLang:"Disclosure"===this.data.data.titleEn&&(this.url+="/disclosure?lang="+this.translate.currentLang)):this.url="https://campusmedius.net?lang="+this.translate.currentLang,this.copyUrlStr=this.url,this.url=this.url.replace(/\//g,"/\u200b"),this.url=this.url.replace(/\./g,".\u200b"),this.titleEn=this.data.data.titleEn.replace(/"/g,""),this.titleDe=this.data.data.titleDe.replace(/"/g,""),this.data.data.created.locale("de-at"),this.data.data.updated.locale("de-at"),this.publishedDe=this.data.data.created.format("D.\xa0MMMM YYYY"),this.updatedDe=this.data.data.updated.format("D.\xa0MMMM YYYY"),this.data.data.created.locale("en"),this.data.data.updated.locale("en"),this.publishedEn=this.data.data.created.format("MMMM\xa0D, YYYY"),this.updatedEn=this.data.data.updated.format("MMMM\xa0D, YYYY"),this.updatedYear=this.data.data.updated.format("YYYY"),this.abstractEn=this.data.data.abstractEn.replace(/<p>/g,"").replace(/<\/p>/g,""),this.abstractDe=this.data.data.abstractDe.replace(/<p>/g,"").replace(/<\/p>/g,""),this.abstractShortEn=this.abstractEn.split(" ").slice(0,5).join(" ")+" \u2026",this.abstractShortDe=this.abstractDe.split(" ").slice(0,5).join(" ")+" \u2026",this.keywordsEn=this.data.data.keywordsEn.sort(function(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}),this.keywordsEnStr=this.keywordsEn.join(", "),this.keywordsDe=this.data.data.keywordsDe.sort(function(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}),this.keywordsDeStr=this.keywordsDe.join(", "),this.keywordsEn.length>3?(this.keywordsShortEnStr=this.keywordsEn.slice(0,3).join(", ")+", \u2026",this.keywordsShowExpanded=!0):(this.keywordsShortEnStr=this.keywordsEnStr,this.keywordsShowExpanded=!1),this.data.data.keywordsDe.length>3?(this.keywordsShortDeStr=this.keywordsDe.slice(0,3).join(", ")+", \u2026",this.keywordsShowExpanded=!0):(this.keywordsShortDeStr=this.keywordsDeStr,this.keywordsShowExpanded=!1)}},{key:"close",value:function(){this.dialogRef.close()}},{key:"copyUrl",value:function(){this.clipboard.copy(this.copyUrlStr)}},{key:"copyCitation",value:function(){var t;if("en"===this.translate.currentLang){var e="";"event"===this.data.type&&(e=" trans. by Katy Derbyshire,"),"mediator"===this.data.type&&"0"!==this.data.data.id&&(e=" trans. by Maria Slater,"),t='Simon Ganahl: "'+this.titleEn+',"'+e+" last modified on "+this.updatedEn+", in: Simon Ganahl et al.: Campus Medius, 2014\u2013"+this.updatedYear+", URL: "+this.copyUrlStr}else t='Simon Ganahl: "'+this.titleDe+'", zuletzt aktualisiert am '+this.updatedDe+", in: Simon Ganahl u.a.: Campus Medius, 2014\u2013"+this.updatedYear+", URL: "+this.copyUrlStr;this.clipboard.copy(t)}},{key:"downloadJsonLd",value:function(){var t=this.document.getElementById("jsonld"),e="campusmedius-";e+="en"===this.translate.currentLang?this.titleEn.toLowerCase().replace(/ /g,"-"):this.titleDe.toLowerCase().replace(/ /g,"-");var n="data:text/json;charset=utf-8,"+encodeURIComponent(t.text),i=this.document.createElement("a");i.setAttribute("href",n),i.setAttribute("download",e+".jsonld"),document.body.appendChild(i),i.click(),i.remove()}}]),t}()).\u0275fac=function(t){return new(t||xO)(Qa(vx),Qa(oM),Qa(sO),Qa(Gc),Qa(cM))},xO.\u0275cmp=oe({type:xO,selectors:[["cm-cite-dialog"]],decls:4,vars:2,consts:[[1,"container"],["mat-button","",1,"close","cm-close",3,"click"],["fxLayout","column","class","meta-info-container",4,"ngIf"],["fxLayout","column",1,"meta-info-container"],["fxLayout","row","fxLayout.lt-md","column"],[1,"label"],[1,"content","citation-content"],[3,"innerHtml"],[4,"ngIf"],[1,"url"],[1,"copy",3,"click"],[1,"content"],[1,"content","url"],["href","/team#ganahl",3,"text","click"],["fxLayout","row","fxLayout.lt-md","column",4,"ngIf"],["href","/team#krimbacher",3,"text","click"],["href","/team#kiesenhofer",3,"text","click"],[3,"click"],[3,"click",4,"ngIf"],["href","https://creativecommons.org/licenses/by/4.0/deed.en",3,"text"],["href","https://www.oeaw.ac.at/en/austrian-academy-of-sciences","text","\xd6AW"],["href","https://fwf.ac.at/en","text","FWF"],["href","https://www.wien.gv.at/kultur/abteilung/","text","MA 7"],["href","https://www.univie.ac.at/germanistik/","text","Department of German Studies"],["href","https://phaidra.univie.ac.at/","text","Phaidra"],["class","label",4,"ngIf"],[1,"content","jsonldcontent"],["class","inline-jsonld-button",4,"ngIf"],["href","/team#derbyshire",3,"text","click"],["href","/team#slater",3,"text","click"],["mat-icon-button","",1,"download-button",3,"click"],[1,"cm-square-download"],[1,"inline-jsonld-button"],["href","https://creativecommons.org/licenses/by/4.0/deed.de",3,"text"],["href","https://www.oeaw.ac.at/","text","\xd6AW"],["href","https://fwf.ac.at/","text","FWF"],["href","https://www.univie.ac.at/germanistik/","text","Institut f\xfcr Germanistik"]],template:function(t,e){1&t&&(ts(0,"div",0),ts(1,"button",1),us("click",function(){return e.close()}),es(),Ka(2,gO,109,22,"div",2),Ka(3,bO,104,18,"div",2),es()),2&t&&(yo(2),Ja("ngIf","en"===e.translate.currentLang),yo(1),Ja("ngIf","de"===e.translate.currentLang))},directives:[iC,Lh,lT,rI,iI],styles:["[_nghost-%COMP%]{color:#333;font-family:Source Sans Pro;display:block;width:100%;height:100%}[_nghost-%COMP%]     em, [_nghost-%COMP%]     i{font-family:Source Sans Pro Italic;font-style:normal}.container[_ngcontent-%COMP%]{padding:0 25px!important;height:100%;width:100%;box-sizing:border-box;overflow:hidden;overflow-y:auto;position:relative}@media screen and (max-width:959px){.container[_ngcontent-%COMP%]{padding:0 14px!important}}.label[_ngcontent-%COMP%]{font-family:Source Sans Pro Semibold;min-width:100px;font-size:.8rem;text-align:right;padding-right:15px;line-height:1.2rem;padding-top:.1rem}@media screen and (max-width:959px){.label[_ngcontent-%COMP%]{text-align:left}}.content[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:.5em;line-height:1.35rem;overflow:hidden}.close[_ngcontent-%COMP%]{float:right;display:block;min-width:20px;margin-bottom:2px;width:30px;padding:0;height:30px;line-height:30px;position:absolute;right:15px}a[_ngcontent-%COMP%]{color:#a67481;-webkit-text-decoration:underline #a67481;text-decoration:underline #a67481;cursor:pointer}.copy[_ngcontent-%COMP%]{transition:all 1s ease-out;border-radius:3px;padding:0 3px}.copy[_ngcontent-%COMP%]:active{transition:all 0s;background-color:#a67481;color:#fff}.citation-content[_ngcontent-%COMP%]{padding-right:50px}.download-button[_ngcontent-%COMP%]{width:20px;min-width:20px;height:20px;line-height:20px;min-height:20px;vertical-align:top;font-size:20px;padding:0;margin:0;color:#a67481;border-radius:0}.download-button-wrapper[_ngcontent-%COMP%]{position:relative;width:0;height:0;top:1px}@media screen and (max-width:959px){.download-button-wrapper[_ngcontent-%COMP%]{top:-1px}}.inline-jsonld-button[_ngcontent-%COMP%]{display:inline;margin-right:5px}@media screen and (max-width:959px){.jsonldcontent[_ngcontent-%COMP%]{margin-top:5px}}"]}),xO);function kO(t,e){return function(n,i){e(n,i,t)}}var MO={target:null,action:"click",duration:650,easing:"easeInOutQuad",offset:0,offsetMap:new Map},SO={easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},easeOutElastic:function(t){return Math.pow(2,-10*t)*Math.sin((t-1/4)*(2*Math.PI)/1)+1}};function EO(t){return t===window}var LO,TO,CO,IO=function(){function t(e,n,i,r,o,a){var s=this;_(this,t),this.container=e,this.listenerTarget=n,this.isWindow=i,this.to=r,this.options=o,this.isBrowser=a,this.loop=function(){s.timeLapsed+=s.tick,s.percentage=s.timeLapsed/s.options.duration,s.percentage=s.percentage>1?1:s.percentage,s.position=s.startPosition+(s.startPosition-s.to<=0?1:-1)*s.distance*SO[s.options.easing](s.percentage),null!==s.lastPosition&&s.position===s.lastPosition?s.stop():(s.source$.next(s.position),s.isWindow?s.listenerTarget.scrollTo(0,Math.floor(s.position)):s.container.scrollTop=Math.floor(s.position),s.lastPosition=s.position)},this.tick=16,this.interval=null,this.lastPosition=null,this.timeLapsed=0,this.windowScrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,this.startPosition=this.container?this.isWindow?this.windowScrollTop:this.container.scrollTop:this.windowScrollTop,this.container&&!this.isWindow&&(this.to=this.to-this.container.getBoundingClientRect().top+this.startPosition);var u=this.startPosition-this.to;this.distance=this.container?Math.abs(this.startPosition-this.to):this.to,this.mappedOffset=this.options.offset,this.isBrowser&&this.options.offsetMap.forEach(function(t,e){return s.mappedOffset=window.innerWidth>e?t:s.mappedOffset}),this.distance+=this.mappedOffset*(u<=0?1:-1),this.source$=new Hb}return x(t,[{key:"start",value:function(){return clearInterval(this.interval),this.interval=setInterval(this.loop,this.tick),this.source$.asObservable()}},{key:"stop",value:function(){clearInterval(this.interval),this.interval=null,this.source$.complete()}}]),t}(),PO=((LO=function(){function t(e,n){_(this,t),this.document=e,this.platformId=n,this.interruptiveEvents=["mousewheel","DOMMouseScroll","touchstart"]}return x(t,[{key:"scrollTo",value:function(t){return Hh(this.platformId)?this.start(t):(new Hb).asObservable()}},{key:"start",value:function(t){var e=this,n=Object.assign(Object.assign({},MO),t);this.animation&&this.animation.stop();var i=this.getNode(n.target);if(n.target&&!i)return Nb("Unable to find Target Element");var r=this.getContainer(n,i);if(n.container&&!r)return Nb("Unable to find Container Element");var o=this.getListenerTarget(r)||window,a=r?r.getBoundingClientRect().top:0;i&&(a=EO(o)?window.scrollY+i.getBoundingClientRect().top:i.getBoundingClientRect().top),this.animation=new IO(r,o,EO(o),a,n,Hh(this.platformId));var s=function(){return e.animation.stop()};this.addInterruptiveEventListeners(o,s);var u=this.animation.start();return this.subscribeToAnimation(u,o,s),u}},{key:"subscribeToAnimation",value:function(t,e,n){var i=this,r=t.subscribe(function(){},function(){},function(){i.removeInterruptiveEventListeners(i.interruptiveEvents,e,n),r.unsubscribe()})}},{key:"getContainer",value:function(t,e){var n=null;return t.container?n=this.getNode(t.container,!0):e&&(n=this.getFirstScrollableParent(e)),n}},{key:"addInterruptiveEventListeners",value:function(t,e){var n=this;t||(t=window),this.interruptiveEvents.forEach(function(i){return t.addEventListener(i,e,!!n.supportPassive()&&{passive:!0})})}},{key:"supportPassive",value:function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(n){}return t}},{key:"removeInterruptiveEventListeners",value:function(t,e,n){e||(e=window),t.forEach(function(t){return e.removeEventListener(t,n)})}},{key:"getFirstScrollableParent",value:function(t){var e=window.getComputedStyle(t),n=/(auto|scroll|overlay)/;if("fixed"===e.position)return null;for(var i=t;i.parentElement;)if(i=i.parentElement,"absolute"!==(e=window.getComputedStyle(i)).position&&"hidden"!==e.overflow&&"hidden"!==e.overflowY&&(n.test(e.overflow+e.overflowY)||"BODY"===i.tagName))return i;return null}},{key:"getNode",value:function(t){var e,n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"string"==typeof(n=t)||n instanceof String?e=!i||"body"!==t&&"BODY"!==t?this.document.getElementById(function(t){return"#"===t.substring(0,1)?t.substring(1):t}(t)):this.document.body:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}(t)?e=this.document.getElementById(String(t)):function(t){return t instanceof hu}(t)?e=t.nativeElement:function(t){return t instanceof HTMLElement}(t)&&(e=t),e}},{key:"getListenerTarget",value:function(t){return t?this.isDocumentBody(t)?window:t:null}},{key:"isDocumentBody",value:function(t){return"BODY"===t.tagName.toUpperCase()}}]),t}()).\u0275fac=function(t){return new(t||LO)(Ri(Gc),Ri(Xl))},LO.\u0275prov=Tt({token:LO,factory:function(t){return LO.\u0275fac(t)}}),LO=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}([kO(0,Mi(Gc)),kO(1,Mi(Xl))],LO)),DO=((CO=TO=function(){function t(){_(this,t)}return x(t,null,[{key:"forRoot",value:function(){return{ngModule:TO,providers:[PO]}}}]),t}()).\u0275mod=ce({type:CO}),CO.\u0275inj=Ct({factory:function(t){return new(t||CO)}}),CO);function OO(t,e){if(1&t&&ns(0,"span",11),2&t){var n=fs();Ja("innerHtml",n.subTitle?n.subTitle:"",_r)}}function AO(t,e){if(1&t){var n=os();ts(0,"button",12),us("click",function(){return $e(n),fs().citeClick.emit()}),ns(1,"span",13),es()}2&t&&Ja("title","de"===fs().lang?"Metadaten":"Metadata")}function RO(t,e){if(1&t){var n=os();ts(0,"button",17),us("click",function(){return $e(n),fs(2).moreClick.emit()}),zs(1),es()}if(2&t){var i=fs(2);yo(1),js(i.readMoreText)}}function NO(t,e){if(1&t&&(ts(0,"div",14),ns(1,"cm-information",15),Ka(2,RO,2,1,"button",16),es()),2&t){var n=fs();yo(1),Ja("content",n.abstract)("lang",n.lang),yo(1),Ja("ngIf",!n.hideReadMoreText)}}function FO(t,e){if(1&t&&ns(0,"cm-information",20),2&t){var n=fs(3);Ja("content",n.content)("lang",n.lang)("media",n.media)}}function YO(t,e){if(1&t&&(ts(0,"div"),Ka(1,FO,1,3,"cm-information",19),es()),2&t){var n=fs(2);yo(1),Ja("ngIf",n.content&&n.media)}}function zO(t,e){1&t&&Ka(0,YO,2,1,"div",18),2&t&&Ja("ngIf",fs().content)}var jO,BO=((jO=function(){function t(e,n,i){_(this,t),this.element=e,this.scrollToService=n,this.platformId=i,this.hideSubTitle=!1,this.state="short",this.readMoreText="START",this.hideReadMoreText=!1,this.moreClick=new vl,this.citeClick=new vl,this.sectionChange=new vl,this.showTitleHeader=new vl,this.currentShowTitleHeader=!1}return x(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(){var t=this;setTimeout(function(){t.parentElement=t.element.nativeElement.children[0],t.spiedElements=t.element.nativeElement.querySelectorAll(".info-content > div > cm-information > div > p"),t.onScroll()},50)}},{key:"onScroll",value:function(){if(!Uh(this.platformId)){if(!window.skipSectionChange){for(var t,e=this.parentElement.scrollTop,n=this.parentElement.offsetTop,i=0;i<this.spiedElements.length;i++){var r=this.spiedElements[i];r.offsetTop-n<=e+200&&(t=r.id)}t!==this.currentSection&&(this.currentSection=t,this.sectionChange.emit(t))}this.emitTitleHeaderVisibility()}}},{key:"emitTitleHeaderVisibility",value:function(){var t=!1;this.parentElement&&this.parentElement.scrollTop>110&&(t=!0),t!==this.currentShowTitleHeader&&(this.currentShowTitleHeader=t,this.showTitleHeader.emit(this.currentShowTitleHeader))}},{key:"scrollToReference",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-100;Uh(this.platformId)||("top"!==t&&"p:1"!==t||(t="#info-top"),setTimeout(function(){window.skipSectionChange+=1;var r=document.getElementById(t.replace("#",""));r&&(e.information.openComponentByRef(t),e.scrollToService.scrollTo({target:r,offset:i,duration:n}).subscribe(function(t){e.onScroll(),setTimeout(function(){e.emitTitleHeaderVisibility()},0)})),setTimeout(function(){window.skipSectionChange-=1},n+50)},250))}}]),t}()).\u0275fac=function(t){return new(t||jO)(Qa(hu),Qa(PO),Qa(Xl))},jO.\u0275cmp=oe({type:jO,selectors:[["cm-info-container"]],viewQuery:function(t,e){var n;1&t&&Dl(ZD,!0),2&t&&Il(n=Fl())&&(e.information=n.first)},inputs:{title:"title",subTitle:"subTitle",hideSubTitle:"hideSubTitle",abstract:"abstract",lang:"lang",content:"content",media:"media",state:"state",readMoreText:"readMoreText",hideReadMoreText:"hideReadMoreText"},outputs:{moreClick:"moreClick",citeClick:"citeClick",sectionChange:"sectionChange",showTitleHeader:"showTitleHeader"},features:[Te],decls:12,vars:5,consts:[["fxFill","",1,"info-body",3,"scroll"],[1,"info-content"],["id","info-top"],[1,"info-heading"],["class","sub-heading",3,"innerHtml",4,"ngIf"],[1,"cite-button-wrapper"],["mat-icon-button","","class","cite-button",3,"title","click",4,"ngIf"],[3,"innerHtml"],["class","intro",4,"ngIf","ngIfElse"],["fullInfo",""],[1,"bottom-white"],[1,"sub-heading",3,"innerHtml"],["mat-icon-button","",1,"cite-button",3,"title","click"],[1,"cm-square-quote-alt"],[1,"intro"],[3,"content","lang"],["mat-flat-button","","class","btn-read-more","color","warn",3,"click",4,"ngIf"],["mat-flat-button","","color","warn",1,"btn-read-more",3,"click"],[4,"ngIf"],[3,"content","lang","media",4,"ngIf"],[3,"content","lang","media"]],template:function(t,e){if(1&t&&(ts(0,"div",0),us("scroll",function(){return e.onScroll()}),ts(1,"div",1),ns(2,"div",2),ts(3,"div",3),Ka(4,OO,1,1,"span",4),ts(5,"div",5),Ka(6,AO,2,1,"button",6),es(),ns(7,"h1",7),es(),Ka(8,NO,3,3,"div",8),Ka(9,zO,1,1,"ng-template",null,9,Bl),es(),ns(11,"div",10),es()),2&t){var n=Za(10);yo(4),Ja("ngIf",!e.hideSubTitle),yo(2),Ja("ngIf","full"===e.state),yo(1),Ja("innerHtml",e.title,_r),yo(1),Ja("ngIf","short"===e.state)("ngIfElse",n)}},directives:[NT,Lh,iC,ZD],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:block}.info-heading[_ngcontent-%COMP%]{margin-bottom:50px}.info-heading[_ngcontent-%COMP%]   .sub-heading[_ngcontent-%COMP%]{color:#8c8c8c;font-size:.9rem;font-family:Source Sans Pro Semibold}.info-heading[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 40px;font-family:Source Sans Pro Bold;font-size:1.5rem}.bottom-white[_ngcontent-%COMP%]{width:100%;height:120px}.info-body[_ngcontent-%COMP%]{display:inline-block;overflow-x:hidden;overflow-y:auto;overflow-anchor:none;padding-top:55px;width:100%;box-sizing:border-box}.info-body[_ngcontent-%COMP%]   .btn-read-more[_ngcontent-%COMP%]{width:100%;margin-top:20px;margin-bottom:0;padding:6px 16px;border-radius:0}.info-content[_ngcontent-%COMP%]{padding-bottom:120px;width:70%;max-width:900px;margin-left:auto;margin-right:auto}.cite-button[_ngcontent-%COMP%]{width:20px;min-width:20px;height:20px;line-height:20px;min-height:20px;vertical-align:top;font-size:20px;padding:0;margin:0;color:#a67481;position:absolute;left:-40px;top:4px;border-radius:0}.cite-button-wrapper[_ngcontent-%COMP%]{position:relative;width:0;height:0;top:1px}@media screen and (max-width:959px){.cite-button-wrapper[_ngcontent-%COMP%]{top:-1px}}.title-header[_ngcontent-%COMP%]{height:3.3rem;position:absolute;left:25px}.title-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:.9rem;margin:0 0 0 10px}.title-header[_ngcontent-%COMP%]   .cite-button[_ngcontent-%COMP%]{left:0;top:-2px;position:relative}"]}),jO);function HO(t,e){if(1&t&&ns(0,"span",12),2&t){var n=fs();Ja("innerHtml",n.subTitle?n.subTitle:"",_r)}}function UO(t,e){if(1&t){var n=os();ts(0,"div"),ts(1,"cm-information",13),us("galleryClosed",function(t){return $e(n),fs().triggerGalleryClosed(t)})("galleryOpened",function(t){return $e(n),fs().triggerGalleryOpened(t)}),es(),es()}if(2&t){var i=fs();yo(1),Ja("content",i.content)("lang",i.lang)("media",i.media)}}function VO(t,e){if(1&t){var n=os();ts(0,"div",14),ts(1,"button",15),us("click",function(){return $e(n),fs().citeClick.emit()}),ns(2,"span",7),es(),ns(3,"h1",8),ts(4,"button",16),us("click",function(){return $e(n),fs().showShort.emit()}),ns(5,"span",17),es(),es()}if(2&t){var i=fs();Ja("@titleHeader",i.showHeader),yo(3),Ja("innerHtml",i.title,_r)}}var qO,GO=((qO=function(){function t(e,n,i){_(this,t),this.element=e,this.scrollToService=n,this.platformId=i,this.hideSubTitle=!1,this.citeClick=new vl,this.showShort=new vl,this.sectionChange=new vl,this.galleryClosed=new vl,this.galleryOpened=new vl,this.galleryIsOpen=!1}return x(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(){var t=this;setTimeout(function(){t.parentElement=t.element.nativeElement.children[0],t.spiedElements=t.element.nativeElement.querySelectorAll(".info-content > div > cm-information > div > p")},50)}},{key:"checkCurrentSection",value:function(t){if(!window.skipSectionChange&&this.spiedElements){for(var e,n=0;n<this.spiedElements.length;n++){var i=this.spiedElements[n];i.offsetTop-t<=200&&(e=i.id)}e!==this.currentSection&&(this.currentSection=e,this.sectionChange.emit(this.currentSection))}}},{key:"scrollToReference",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-95;Uh(this.platformId)||setTimeout(function(){window.skipSectionChange+=1,"top"!==t&&"p:1"!==t||(t="#info-top",i=-45);var r=document.getElementById(t.replace("#",""));e.information.openComponentByRef(t),r&&e.scrollToService.scrollTo({target:r,offset:i,duration:n}),setTimeout(function(){window.skipSectionChange-=1},n+50)},250)}},{key:"triggerGalleryClosed",value:function(t){this.galleryIsOpen=!1,this.galleryClosed.emit(t)}},{key:"triggerGalleryOpened",value:function(t){this.galleryIsOpen=!0,this.galleryOpened.emit(t)}}]),t}()).\u0275fac=function(t){return new(t||qO)(Qa(hu),Qa(PO),Qa(Xl))},qO.\u0275cmp=oe({type:qO,selectors:[["cm-info-container-mobile"]],viewQuery:function(t,e){var n;1&t&&Dl(ZD,!0),2&t&&Il(n=Fl())&&(e.information=n.first)},inputs:{title:"title",subTitle:"subTitle",hideSubTitle:"hideSubTitle",lang:"lang",content:"content",media:"media",showHeader:"showHeader"},outputs:{citeClick:"citeClick",showShort:"showShort",sectionChange:"sectionChange",galleryClosed:"galleryClosed",galleryOpened:"galleryOpened"},features:[Te],decls:12,vars:5,consts:[["fxFill","",1,"info-body"],[1,"placeholder-scroll"],["id","info-top",1,"info-content"],[1,"info-heading"],["class","sub-heading",3,"innerHtml",4,"ngIf"],[1,"cite-button-wrapper"],["mat-icon-button","",1,"cite-button",3,"title","click"],[1,"cm-square-quote-alt"],[3,"innerHtml"],[4,"ngIf"],[1,"bottom-white"],["class","title-header","fxLayout","row","fxLayoutAlign"," center",4,"ngIf"],[1,"sub-heading",3,"innerHtml"],[3,"content","lang","media","galleryClosed","galleryOpened"],["fxLayout","row","fxLayoutAlign"," center",1,"title-header"],["mat-icon-button","",1,"cite-button",3,"click"],["mat-icon-button","",1,"back-to-top-mobile",3,"click"],[1,"cm-back-to-top"]],template:function(t,e){1&t&&(ts(0,"div",0),ns(1,"div",1),ts(2,"div",2),ts(3,"div",3),Ka(4,HO,1,1,"span",4),ts(5,"div",5),ts(6,"button",6),us("click",function(){return e.citeClick.emit()}),ns(7,"span",7),es(),es(),ns(8,"h1",8),es(),Ka(9,UO,2,3,"div",9),ns(10,"div",10),es(),es(),Ka(11,VO,6,2,"div",11)),2&t&&(yo(4),Ja("ngIf",!e.hideSubTitle),yo(2),Ja("title","de"===e.lang?"Metadaten":"Metadata"),yo(2),Ja("innerHtml",e.title,_r),yo(1),Ja("ngIf",e.content),yo(2),Ja("ngIf",!e.galleryIsOpen))},directives:[NT,Lh,iC,ZD,lT,HT],styles:[".info-body[_ngcontent-%COMP%]{width:100%;height:100%;display:block;position:absolute}.placeholder-scroll[_ngcontent-%COMP%]{height:100vh;width:100%}.info-content[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;display:inline-block;overflow:hidden;padding:0 15px;position:relative;z-index:12;min-height:calc(var(--vh, 1vh) * 100);background:#fff;box-shadow:0 -3px 5px rgba(57,63,72,.3);-moz-box-shadow:0 -3px 5px rgba(57,63,72,.3);-webkit-box-shadow:0 -3px 5px rgba(57,63,72,.3)}.info-heading[_ngcontent-%COMP%]{margin-bottom:50px;margin-top:50px}.info-heading[_ngcontent-%COMP%]   .sub-heading[_ngcontent-%COMP%]{color:#8c8c8c;font-size:.9rem;font-family:Source Sans Pro Semibold}.info-heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 40px 30px;font-family:Source Sans Pro Bold;font-size:1.5rem}.info-heading[_ngcontent-%COMP%]   .cite-button[_ngcontent-%COMP%]{left:0}.info-heading[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:20px;height:20px;line-height:20px}.info-heading[_ngcontent-%COMP%]   .cite-button-wrapper[_ngcontent-%COMP%]{top:-4px}.bottom-white[_ngcontent-%COMP%]{width:100%;height:120px;background:#fff}.title-header[_ngcontent-%COMP%]{height:2.5rem;position:fixed;top:0;left:0;z-index:19;background-color:#fff;padding:0 15px;width:100%;box-shadow:0 3px 5px rgba(57,63,72,.3);-webkit-box-shadow:0 3px 5px rgba(57,63,72,.3);-moz-box-shadow:0 3px 5px rgba(57,63,72,.3)}.title-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:.9rem;margin:0 0 0 10px}.title-header[_ngcontent-%COMP%]   .cite-button[_ngcontent-%COMP%]{left:0;top:-2px;position:relative}.title-header[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{width:20px}.back-to-top-mobile[_ngcontent-%COMP%]{position:absolute;right:15px;width:26px;min-width:26px;height:26px;line-height:26px;min-height:26px;vertical-align:top;font-size:26px;padding:0;margin:0;color:#a67481;border-radius:0}.back-to-top-mobile[_ngcontent-%COMP%]   .cm-back-to-top[_ngcontent-%COMP%]{background:#fff;border-radius:16px}"],data:{animation:[Kd("titleHeader",[$d("false",Jd({opacity:0})),$d("true",Jd({opacity:1})),tf("false <=> true",Zd("300ms ease-in"))])]}}),qO);function WO(t,e){if(1&t){var n=os();ts(0,"div",11),ts(1,"cm-info-container",12),us("citeClick",function(){return $e(n),fs(2).showCite()})("sectionChange",function(t){return $e(n),fs(2).sectionChange(t)})("showTitleHeader",function(t){return $e(n),fs(2).showTitleHeader=t}),es(),es()}if(2&t){var i=fs(2);yo(1),Ja("lang",i.translate.currentLang)("title","de"===i.translate.currentLang?i.page.titleDe:i.page.titleEn)("state","full")("content","de"===i.translate.currentLang?i.page.information.contentDe:i.page.information.contentEn)("media",i.page.information.media)}}function XO(t,e){if(1&t){var n=os();ts(0,"cm-sidepanel"),ts(1,"div",3),ts(2,"button",4),us("click",function(){return $e(n),fs().showCite()}),ns(3,"span",5),es(),ns(4,"h2",6),es(),ts(5,"div",7),ts(6,"button",8),us("click",function(){return $e(n),fs().scrollUp()}),ns(7,"span",9),es(),es(),Ka(8,WO,2,5,"div",10),es()}if(2&t){var i=fs();yo(1),Ja("@titleHeader",i.showTitleHeader),yo(1),Ja("title","de"===i.translate.currentLang?"Metadaten":"Metadata"),yo(2),Ja("innerHtml","de"===i.translate.currentLang?i.page.titleDe:i.page.titleEn,_r),yo(1),Ja("@titleHeader",i.showTitleHeader),yo(3),Ja("ngIf",i.page)}}function KO(t,e){if(1&t){var n=os();ts(0,"div",15),ts(1,"div",16),ns(2,"div",17),es(),ts(3,"div",18),ts(4,"button",19),us("click",function(){return $e(n),fs(2).mobileShowMore()}),zs(5),dl(6,"uppercase"),dl(7,"translate"),es(),es(),es()}if(2&t){var i=fs(2);yo(2),Ja("innerHTML","de"===i.translate.currentLang?i.overviewPage.mobileAbstractDe:i.overviewPage.mobileAbstractEn,_r),yo(3),js(fl(6,2,fl(7,4,"info.read-more")))}}function ZO(t,e){if(1&t&&(ts(0,"div",13),ns(1,"cm-start-page-selector"),Ka(2,KO,8,6,"div",14),es()),2&t){var n=fs();yo(2),Ja("ngIf",n.page)}}function QO(t,e){if(1&t){var n=os();ts(0,"cm-info-container-mobile",20),us("citeClick",function(){return $e(n),fs().showCite()})("sectionChange",function(t){return $e(n),fs().sectionChange(t)})("sectionChange",function(t){return $e(n),fs().sectionChange(t)})("showShort",function(){return $e(n),fs().mobileShowShort()})("galleryClosed",function(t){return $e(n),fs().galleryClosed(t)})("galleryOpened",function(t){return $e(n),fs().galleryOpened(t)}),es()}if(2&t){var i=fs();Ja("lang",i.translate.currentLang)("title","de"===i.translate.currentLang?i.page.titleDe:i.page.titleEn)("content","de"===i.translate.currentLang?i.page.information.contentDe:i.page.information.contentEn)("media",i.page.information.media)("showHeader",i.showTitleHeaderMobile)}}var JO,$O,tA,eA,nA=((eA=function(){function t(e,n,i,r,o,a,s,u,l,c,h,d){var f,p=this;if(_(this,t),this.translate=e,this.route=n,this.dialog=i,this.router=r,this.elementRef=o,this.app=a,this.mediaObserver=s,this.document=u,this.platformId=l,this.request=c,this.meta=h,this.title=d,this.isMobile=!0,this.galleryIsOpen=!1,this.showTitleHeader=!1,this.showTitleHeaderMobile=!1,this.scrollTopBeforeGalleryOpen=0,this.skipFragmentUpdate=!1,Hh(this.platformId))this.mediaSubscription=this.mediaObserver.media$.subscribe(function(t){p.isMobile="xs"===t.mqAlias||"sm"===t.mqAlias});else{var m=!1;(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(f=this.request.headers["user-agent"])||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(f.substr(0,4)))&&(m=!0),this.isMobile=m}}return x(t,[{key:"ngOnInit",value:function(){var t=this;this.queryParamsSubscription=this.route.queryParams.subscribe(function(e){setTimeout(function(){return t.updateSiteMetaAndTitle()})}),this.dataSubscription=this.route.data.subscribe(function(e){t.page=e.pages.find(function(e){return e.titleEn===t.pageTitleEn}),t.overviewPage=e.pages.find(function(t){return"Overview"===t.titleEn});var n=t.route.snapshot.fragment;n=n||"top",t.route.snapshot.queryParams.lang&&t.route.snapshot.queryParams.info||t.router.navigate(["."],{relativeTo:t.route,queryParams:{lang:t.translate.currentLang},queryParamsHandling:"merge",replaceUrl:!0,fragment:n}),t.updateSiteMetaAndTitle()})}},{key:"updateSiteMetaAndTitle",value:function(){var t,e,n,i,r="https://campusmedius.net";t="de"===this.translate.currentLang?this.page.titleDe:this.page.titleEn,e=(e="de"===this.translate.currentLang?this.page.keywordsDe:this.page.keywordsEn).sort(function(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}),n="de"===this.translate.currentLang?this.page.abstractDe:this.page.abstractEn,"Overview"===this.page.titleEn?r+="/overview":"Project Team"===this.page.titleEn?r+="/team":"Book Edition"===this.page.titleEn?r+="/book":"Disclosure"===this.page.titleEn&&(r+="/disclosure");var o,a="de"===this.translate.currentLang?"https://campusmedius.net/assets/screenshot_de.png":"https://campusmedius.net/assets/screenshot_en.png",s="de"===this.translate.currentLang?"Wenn nicht anders angegeben, sind die Inhalte der Website unter Creative Commons CC BY 4.0 frei verf\xfcgbar. Diese Lizenz gestattet die uneingeschr\xe4nkte Nutzung und Verbreitung des entsprechenden Materials unter der Bedingung, dass die UrheberInnen, bei denen alle Rechte verbleiben, und die Quelle eindeutig genannt werden. Die Referenz sollte in der Form erfolgen, wie sie in den Metadaten empfohlen wird, die \xfcber das Zitatsymbol neben dem Titel der jeweiligen Seite abgerufen werden k\xf6nnen. Die offene Creative-Commons-Lizenz gilt allerdings nicht f\xfcr die Werke (Texte, Bilder, Ton- und Filmaufnahmen), die in Campus Medius zitiert werden: F\xfcr deren Urheberrechte m\xfcssen in jedem Fall die angef\xfchrten Quellen konsultiert werden!":"Unless stated otherwise, the website's content is available open access under Creative Commons CC BY 4.0. This license permits unrestricted use and distribution of the respective material, provided that the creator(s), who retain copyright, and the source are properly credited. The reference should be made in the form suggested in the metadata that can be accessed via the quote icon next to each page title. However, the open Creative Commons license does not apply to the works (texts, images, audio, video) cited in Campus Medius: for their copyright details, the sources given in the notes and captions must be consulted in each case!";o="de"===this.translate.currentLang?[{"@context":"https://schema.org","@type":"Organization",name:"\xd6sterreichische Akademie der Wissenschaften (\xd6AW)",url:"https://www.oeaw.ac.at/"},{"@context":"https://schema.org","@type":"Organization",name:"\xd6sterreichischer Wissenschaftsfonds (FWF)",url:"https://fwf.ac.at/"},{"@context":"https://schema.org","@type":"Organization",name:"Universit\xe4t Wien",url:"https://www.univie.ac.at/"},{"@context":"https://schema.org","@type":"Organization",name:"Stadt Wien",url:"https://www.wien.gv.at/kultur/abteilung/"}]:[{"@context":"https://schema.org","@type":"Organization",name:"Austrian Academy of Sciences (\xd6AW)",url:"https://www.oeaw.ac.at/en/austrian-academy-of-sciences"},{"@context":"https://schema.org","@type":"Organization",name:"Austrian Science Fund (FWF)",url:"https://fwf.ac.at/en/"},{"@context":"https://schema.org","@type":"Organization",name:"University of Vienna",url:"https://www.univie.ac.at/en/"},{"@context":"https://schema.org","@type":"Organization",name:"City of Vienna",url:"https://www.wien.gv.at/kultur/abteilung/"}],i=r+"?lang="+("de"===this.translate.currentLang?"en":"de"),r+="?lang="+this.translate.currentLang;var u=(t=t.replace(/<[^>]*>/g,"").replace(/"/g,""))+" in Campus Medius";n=n.replace(/<[^>]*>/g,""),this.title.setTitle(t),this.document.documentElement.lang=this.translate.currentLang,this.meta.updateTag({name:"keywords",content:e.join(",")}),this.meta.updateTag({name:"description",content:n,lang:this.translate.currentLang}),this.document.querySelector("link[rel=canonical]").setAttribute("href",r);var l=this.document.querySelector("link[rel=alternate]");l.setAttribute("href",i),l.setAttribute("hreflang",this.translate.currentLang),this.meta.updateTag({name:"og:title",content:u}),this.meta.updateTag({name:"og:description",content:n}),this.meta.updateTag({name:"og:type",content:"website"}),this.meta.updateTag({name:"og:url",content:r}),this.meta.updateTag({name:"og:image",content:a}),this.meta.updateTag({name:"og:site_name",content:"Campus Medius"}),this.meta.updateTag({name:"twitter:card",content:"summary"}),this.document.getElementById("jsonld").text=JSON.stringify({"@context":"https://schema.org/","@type":"ScholarlyArticle",name:u,headline:t,abstract:n,inLanguage:this.translate.currentLang,image:a,datePublished:this.page.created.toISOString(),dateModified:this.page.updated.toISOString(),keywords:e.join(","),url:r,author:{"@context":"https://schema.org/","@type":"Person",name:"Simon Ganahl"},funder:o,copyrightNotice:s,isPartOf:{"@context":"https://schema.org","@type":"WebSite",url:"https://campusmedius.net",author:[{"@context":"https://schema.org/","@type":"Person",name:"Simon Ganahl"},{"@context":"https://schema.org/","@type":"Person",name:"Susanne Kiesenhofer"},{"@context":"https://schema.org/","@type":"Person",name:"Andreas Krimbacher"}]}},null,2)}},{key:"ngAfterViewInit",value:function(){var t=this;this.route.fragment.subscribe(function(e){t.skipFragmentUpdate?t.skipFragmentUpdate=!1:setTimeout(function(){e=e||"top";var n=t.isMobile?t.infoContainerMobile:t.infoContainer;n&&(window.skipSectionChange+=1,n.scrollToReference(e,100),setTimeout(function(){window.skipSectionChange-=1},2e3))},0)})}},{key:"showCite",value:function(){this.dialog.open(wO,{width:"800px",maxHeight:"90vh",data:{data:this.page,type:"page",isMobile:this.isMobile},autoFocus:!1})}},{key:"scrollUp",value:function(){this.router.navigate([],{queryParamsHandling:"merge",fragment:"top"})}},{key:"sectionChange",value:function(t){t!==this.route.snapshot.fragment&&(this.skipFragmentUpdate=!0,this.router.navigate([],{fragment:t,queryParams:{},queryParamsHandling:"merge",replaceUrl:!0}))}},{key:"mobileShowShort",value:function(){var t=this;this.app.removeHeader=!1,setTimeout(function(){t.showTitleHeaderMobile=!1,t.app.showHeader=!0,t.router.navigate(["/"],{queryParamsHandling:"merge"})})}},{key:"onMobileScroll",value:function(){var t=this;if(!this.galleryIsOpen&&!window.skipSectionChange){var e=this.elementRef.nativeElement.scrollTop,n=this.elementRef.nativeElement.clientHeight;e<270&&this.mobileShowShort(),e<n+150?this.showTitleHeaderMobile&&(this.app.removeHeader=!1,setTimeout(function(){t.showTitleHeaderMobile=!1,t.app.showHeader=!0})):this.showTitleHeaderMobile||(this.showTitleHeaderMobile=!0,this.app.showHeader=!1,setTimeout(function(){t.app.removeHeader=!0},300)),this.infoContainerMobile&&this.infoContainerMobile.checkCurrentSection(e-n)}}},{key:"galleryClosed",value:function(){this.galleryIsOpen=!1,this.showTitleHeaderMobile||(this.app.removeHeader=!1),this.elementRef.nativeElement.scrollTop=this.scrollTopBeforeGalleryOpen}},{key:"galleryOpened",value:function(){this.scrollTopBeforeGalleryOpen=this.elementRef.nativeElement.scrollTop,this.galleryIsOpen=!0,this.app.removeHeader=!0}},{key:"ngOnDestroy",value:function(){this.dataSubscription.unsubscribe(),this.queryParamsSubscription.unsubscribe(),Hh(this.platformId)&&this.mediaSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||eA)(Qa(vx),Qa(mv),Qa(mM),Qa(H_),Qa(hu),Qa(VC),Qa(lL),Qa(Gc),Qa(Xl),Qa(qC,8),Qa(Yd),Qa(Hd))},eA.\u0275cmp=oe({type:eA,selectors:[["cm-page"]],viewQuery:function(t,e){var n;1&t&&(Dl(BO,!0),Dl(GO,!0)),2&t&&(Il(n=Fl())&&(e.infoContainer=n.first),Il(n=Fl())&&(e.infoContainerMobile=n.first))},hostAttrs:[1,"scroll-container"],hostBindings:function(t,e){1&t&&us("scroll",function(){return e.onMobileScroll()})},inputs:{pageTitleEn:"pageTitleEn"},decls:4,vars:3,consts:[[4,"ngIf"],["class","mobile-short-info",4,"ngIf"],["class","mobile-info",3,"lang","title","content","media","showHeader","citeClick","sectionChange","showShort","galleryClosed","galleryOpened",4,"ngIf"],["fxLayout","row","fxLayoutAlign"," center",1,"title-header"],["mat-icon-button","",1,"cite-button",3,"title","click"],[1,"cm-square-quote-alt"],[3,"innerHtml"],[1,"up-header"],["mat-icon-button","",1,"back-to-top",3,"click"],[1,"cm-back-to-top"],["class","info-container",4,"ngIf"],[1,"info-container"],[3,"lang","title","state","content","media","citeClick","sectionChange","showTitleHeader"],[1,"mobile-short-info"],["class","info",4,"ngIf"],[1,"info"],[1,"mobile-abstract"],[3,"innerHTML"],[1,"intro"],["mat-flat-button","","color","warn",1,"btn-read-more",3,"click"],[1,"mobile-info",3,"lang","title","content","media","showHeader","citeClick","sectionChange","showShort","galleryClosed","galleryOpened"]],template:function(t,e){1&t&&(ns(0,"cm-start-page-selector"),Ka(1,XO,9,5,"cm-sidepanel",0),Ka(2,ZO,3,1,"div",1),Ka(3,QO,1,5,"cm-info-container-mobile",2)),2&t&&(yo(1),Ja("ngIf",!e.isMobile),yo(1),Ja("ngIf",e.isMobile),yo(1),Ja("ngIf",e.isMobile))},directives:[WC,Lh,jC,lT,HT,iC,BO,GO],pipes:[zh,_x],styles:["[_nghost-%COMP%]{display:block;height:calc(var(--vh, 1vh) * 100);position:relative;overflow:hidden}@media screen and (max-width:959px){[_nghost-%COMP%]{overflow-x:hidden;overflow-y:auto;width:100%;position:fixed}}cm-sidepanel[_ngcontent-%COMP%]{width:80%}cm-start-page-selector[_ngcontent-%COMP%]{height:calc(100% - 3.3rem);position:fixed;top:3.3rem;width:20%}@media screen and (max-width:959px){cm-start-page-selector[_ngcontent-%COMP%]{width:100%;top:2.5rem;position:static;top:auto;flex:1;display:block;height:auto;z-index:10}}.info-container[_ngcontent-%COMP%]{color:#333;height:100%;margin-top:3.3rem}.mobile-short-info[_ngcontent-%COMP%]{height:calc(100% - 2.5rem);display:flex;flex-direction:column;position:fixed;width:100%;background:#fff;box-sizing:border-box;overflow:hidden;bottom:0}.mobile-short-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{box-shadow:0 -3px 5px rgba(57,63,72,.3);-moz-box-shadow:0 -3px 5px rgba(57,63,72,.3);-webkit-box-shadow:0 -3px 5px rgba(57,63,72,.3);z-index:11}.mobile-short-info[_ngcontent-%COMP%]   .btn-read-more[_ngcontent-%COMP%]{width:100%}.mobile-short-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-bottom:20px;padding-left:20px;padding-right:20px}.mobile-short-info[_ngcontent-%COMP%]   .btn-read-more[_ngcontent-%COMP%]{margin-top:0!important}.mobile-short-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{-webkit-margin-after:15px;margin-block-end:15px;-webkit-margin-before:15px;margin-block-start:15px}.mobile-info[_ngcontent-%COMP%]{z-index:15;width:100%}"],data:{animation:[Kd("titleHeader",[$d("false",Jd({opacity:0})),$d("true",Jd({opacity:1})),tf("false <=> true",Zd("300ms ease-in"))])]}}),eA),iA=((tA=function(){function t(){_(this,t)}return x(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||tA)},tA.\u0275cmp=oe({type:tA,selectors:[["cm-team-page"]],decls:1,vars:1,consts:[[3,"pageTitleEn"]],template:function(t,e){1&t&&ns(0,"cm-page",0),2&t&&Ja("pageTitleEn","Project Team")},directives:[nA],styles:[""]}),tA),rA=(($O=function(){function t(){_(this,t)}return x(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||$O)},$O.\u0275cmp=oe({type:$O,selectors:[["cm-book-page"]],decls:1,vars:1,consts:[[3,"pageTitleEn"]],template:function(t,e){1&t&&ns(0,"cm-page",0),2&t&&Ja("pageTitleEn","Book Edition")},directives:[nA],styles:[""]}),$O),oA=((JO=function(){function t(){_(this,t)}return x(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||JO)},JO.\u0275cmp=oe({type:JO,selectors:[["cm-about-page"]],decls:1,vars:1,consts:[[3,"pageTitleEn"]],template:function(t,e){1&t&&ns(0,"cm-page",0),2&t&&Ja("pageTitleEn","Overview")},directives:[nA],styles:[""]}),JO);new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map,new Map;var aA,sA=((aA=function t(){_(this,t)}).\u0275mod=ce({type:aA}),aA.\u0275inj=Ct({factory:function(t){return new(t||aA)},imports:[[TE]]}),aA);new gu("11.0.0-beta.33");var uA,lA,cA,hA,dA,fA,pA,mA,gA,yA=((gA=function(){function t(e,n){_(this,t),Uh(n)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}return x(t,null,[{key:"withConfig",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{ngModule:t,providers:e.serverLoaded?[{provide:DE,useValue:Object.assign(Object.assign({},PE),e)},{provide:AE,useValue:n,multi:!0},{provide:OE,useValue:!0}]:[{provide:DE,useValue:Object.assign(Object.assign({},PE),e)},{provide:AE,useValue:n,multi:!0}]}}}]),t}()).\u0275mod=ce({type:gA}),gA.\u0275inj=Ct({factory:function(t){return new(t||gA)(Ri(OE),Ri(Xl))},imports:[[JT,LL,sA],JT,LL,sA]}),gA),vA=((mA=function t(){_(this,t)}).\u0275mod=ce({type:mA}),mA.\u0275inj=Ct({factory:function(t){return new(t||mA)},imports:[[Bh,Ok,Zx,fw],fw,Ok]}),mA),_A=((pA=function(){function t(){_(this,t)}return x(t,[{key:"transform",value:function(t){return t.replace(/<.*?>/g,"")}}]),t}()).\u0275fac=function(t){return new(t||pA)},pA.\u0275pipe=fe({name:"striphtml",type:pA,pure:!0}),pA),bA=((fA=function t(){_(this,t)}).\u0275mod=ce({type:fA}),fA.\u0275inj=Ct({factory:function(t){return new(t||fA)},imports:[[Bh,yA,vA,OC,SE,rC,gM,oE,nS,pw,uO,bx.forChild()],yA,vA,OC,SE,rC,gM,oE,nS,pw,uO,bx]}),fA),xA=((dA=function(){function t(){_(this,t)}return x(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||dA)},dA.\u0275cmp=oe({type:dA,selectors:[["cm-caption"]],inputs:{content:"content",lang:"lang"},decls:1,vars:2,consts:[[3,"content","lang"]],template:function(t,e){1&t&&ns(0,"cm-information",0),2&t&&Ja("content",e.content)("lang",e.lang)},directives:[ZD],styles:[""]}),dA),wA=((hA=function(){function t(e){_(this,t),this.http=e}return x(t,[{key:"information",value:function(t){return this.informations.pipe(W(function(e){return e.find(function(e){return e.id===t})}))}},{key:"requestInformations",value:function(){return this.http.get("/api/information/informations/?format=json").pipe(W(function(t){return(t=t||[]).forEach(function(t){t.id=t.id+""}),t}))}},{key:"informations",get:function(){return this.cache$||(this.cache$=this.requestInformations().pipe(Vb(1))),this.cache$}}]),t}()).\u0275fac=function(t){return new(t||hA)(Ri($m))},hA.\u0275prov=Tt({token:hA,factory:hA.\u0275fac}),hA),kA=((cA=function(){function t(e){_(this,t),this.http=e}return x(t,[{key:"page",value:function(t){return this.pages.pipe(W(function(e){return e.find(function(e){return e.id===t})}))}},{key:"requestPages",value:function(){return this.http.get("/api/main/pages/?format=json").pipe(W(function(t){return(t=t||[]).forEach(function(t){t.id=t.id+"",t.informationId=t.informationId+"",t.information=null,t.created=BC(t.created),t.updated=BC(t.updated)}),t}))}},{key:"pages",get:function(){return this.cache$||(this.cache$=this.requestPages().pipe(Vb(1))),this.cache$}}]),t}()).\u0275fac=function(t){return new(t||cA)(Ri($m))},cA.\u0275prov=Tt({token:cA,factory:cA.\u0275fac}),cA),MA=((lA=function(){function t(e,n){_(this,t),this.PageService=e,this.informationService=n}return x(t,[{key:"resolve",value:function(t){return Db({pages:this.PageService.pages,informations:this.informationService.informations}).pipe(W(function(t){return t.pages.forEach(function(e){e.information=t.informations.find(function(t){return t.id===e.informationId})}),t.pages}))}}]),t}()).\u0275fac=function(t){return new(t||lA)(Ri(kA),Ri(wA))},lA.\u0275prov=Tt({token:lA,factory:lA.\u0275fac}),lA),SA=((uA=function t(){_(this,t)}).\u0275mod=ce({type:uA}),uA.\u0275inj=Ct({factory:function(t){return new(t||uA)},providers:[wA,kA,MA],imports:[[Bh,bA,yA,DO.forRoot(),bx.forChild(),ub],yA,bx,DO]}),uA);ae(RD,[Lh,iC,kh,kL,lT,_T,TD,xA],[]),ae(jD,[Lh,iC,kh,kL,lT,_T,xA],[]),ae(XD,[Lh,iC,kh,kL,lT,_T,xA],[]),ae(nI,[ZD],[]),ae(eI,[iC,kh,kL,Lh,ZD],[]),ae(BP,[Lh,KP,Sh,UP,XP,xA],[]);var EA,LA=((EA=function(){function t(){_(this,t)}return x(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||EA)},EA.\u0275cmp=oe({type:EA,selectors:[["cm-disclosure-page"]],decls:1,vars:1,consts:[[3,"pageTitleEn"]],template:function(t,e){1&t&&ns(0,"cm-page",0),2&t&&Ja("pageTitleEn","Disclosure")},directives:[nA],styles:[""]}),EA),TA=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});"undefined"!=typeof window&&window,"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,"undefined"!=typeof global&&global;var CA=function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.defaultEncapsulation,r=void 0===i?TA.Emulated:i,o=n.useJit,a=void 0===o||o,s=n.jitDevMode,u=void 0!==s&&s,l=n.missingTranslation,c=void 0===l?null:l,h=n.preserveWhitespaces,d=n.strictInjectionParameters;_(this,t),this.defaultEncapsulation=r,this.useJit=!!a,this.jitDevMode=!!u,this.missingTranslation=c,this.preserveWhitespaces=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null===t?e:t}(void 0===(e=h)?null:e),this.strictInjectionParameters=!0===d},IA=[{provide:sc,useFactory:function(){return new sc}}],PA=function(){function t(e){_(this,t),this._defaultOptions=[{useJit:!0,defaultEncapsulation:Ut.Emulated,missingTranslation:$l.Warning}].concat(r(e))}return x(t,[{key:"createCompiler",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n={useJit:DA((t=this._defaultOptions.concat(e)).map(function(t){return t.useJit})),defaultEncapsulation:DA(t.map(function(t){return t.defaultEncapsulation})),providers:OA(t.map(function(t){return t.providers})),missingTranslation:DA(t.map(function(t){return t.missingTranslation})),preserveWhitespaces:DA(t.map(function(t){return t.preserveWhitespaces}))};return Ia.create([IA,{provide:CA,useFactory:function(){return new CA({useJit:n.useJit,jitDevMode:Sc(),defaultEncapsulation:n.defaultEncapsulation,missingTranslation:n.missingTranslation,preserveWhitespaces:n.preserveWhitespaces})},deps:[]},n.providers]).get(sc)}}]),t}();function DA(t){for(var e=t.length-1;e>=0;e--)if(void 0!==t[e])return t[e]}function OA(t){var e=[];return t.forEach(function(t){return t&&e.push.apply(e,r(t))}),e}function AA(t){return t.createCompiler()}var RA,NA=function(){var t=function(){function t(){_(this,t)}return x(t,null,[{key:"forRoot",value:function(){return{ngModule:t,providers:[{provide:uc,useValue:{},multi:!0},{provide:lc,useClass:PA,deps:[uc]},{provide:sc,useFactory:AA,deps:[lc]}]}}}]),t}();return t.\u0275mod=ce({type:t}),t.\u0275inj=Ct({factory:function(e){return new(e||t)},providers:[Ib],imports:[[Bh,SA,bA,ub,bx.forChild()],bA]}),t}(),FA=((RA=function(){function t(e){_(this,t),this.http=e}return x(t,[{key:"event",value:function(t){return this.events.pipe(W(function(e){return e.find(function(e){return e.id===t})}))}},{key:"requestEvents",value:function(){return this.http.get("/api/topography/events/?format=json").pipe(W(function(t){return(t=t||[]).forEach(function(t){t.id=t.id+"",t.previousEventId=t.previousEvent+"",t.previousEvent=null,t.nextEventId=t.nextEvent+"",t.nextEvent=null,t.informationId=t.informationId+"",t.information=null,t.start=BC(t.start),t.end=BC(t.end),t.created=BC(t.created),t.updated=BC(t.updated)}),t}))}},{key:"events",get:function(){return this.cache$||(this.cache$=this.requestEvents().pipe(Vb(1))),this.cache$}}]),t}()).\u0275fac=function(t){return new(t||RA)(Ri($m))},RA.\u0275prov=Tt({token:RA,factory:RA.\u0275fac}),RA),YA=y("4ZJM"),zA=["map"],jA=["mapattrib"];function BA(t,e){1&t&&(ts(0,"div",13),ns(1,"i",14),es())}function HA(t,e){1&t&&(ns(0,"div",15),dl(1,"translate")),2&t&&Ja("innerHtml",fl(1,1,"map.webgl"),_r)}var UA,VA=function(t){return{deactivated:t}},qA=function(t,e){return{"vie-map-not-visible":t,"vie-map-visible":e}},GA=function(t){return{isOpen:t}},WA=["*"],XA=((UA=function(){function t(e,n,i){if(_(this,t),this.router=e,this.zone=n,this.platformId=i,this.MAP_TILES_URL="/tiles",this.overlayLeftSize="0px",this.overlayRightSize="0px",this.overlayTopSize="0px",this.overlayBottomSize="0px",this.viennaMapVisible=!0,this.isMaxZoom=!1,this.isMinZoom=!1,this.mapAttribIsOpen=!1,this.noWebGL=!1,this.isServer=!0,Hh(this.platformId)){var r=document.createElement("canvas"),o=r.getContext("webgl")||r.getContext("experimental-webgl");o&&o instanceof WebGLRenderingContext||(this.noWebGL=!0),this.isServer=!1}else this.isServer=!0}return x(t,[{key:"clickout",value:function(t){this.mapAttrib.nativeElement.contains(t.target)||(this.mapAttribIsOpen=!1)}},{key:"ngOnInit",value:function(){var t=this;this.noWebGL||this.isServer||(this.map=new YA.Map({container:this.mapElement.nativeElement,attributionControl:!1,maxZoom:15,minZoom:10,style:"./assets/map/styles/topography.json",center:[16.372472,48.208417],zoom:12.14,maxBounds:[16.092438268381983,48.039937085835646,16.908715046308544,48.33566214894444],boxZoom:!1,dragRotate:!1,keyboard:!1,touchPitch:!1}),this.map.touchZoomRotate.disableRotation(),this.map.addControl(new YA.AttributionControl,"top-right"),this.map.on("zoomend",function(e){var n=e.target.getZoom(),i=!1,r=!1;10===n?r=!0:15===n&&(i=!0),t.isMinZoom===r&&t.isMaxZoom===i||t.zone.run(function(){t.isMinZoom=r,t.isMaxZoom=i})}))}},{key:"getOverlaySize",value:function(t,e){var n;return t.endsWith("%")?n=parseFloat(t.substring(0,t.length-1))*e/100:t.endsWith("px")?n=parseFloat(t.substring(0,t.length-2)):console.log("error: size not valid format"),n}},{key:"getVisibleMapCenterPixel",value:function(){var t=this.map.project(this.map.getBounds().getSouthEast()),e=this.getOverlaySize(this.overlayRightSize,t.x),n=this.getOverlaySize(this.overlayLeftSize,t.x),i=this.getOverlaySize(this.overlayTopSize,t.y),r=this.getOverlaySize(this.overlayBottomSize,t.y);return new YA.Point((t.x-e-n)/2+n,(t.y-i-r)/2+i)}},{key:"getVisibleMapCenterLatLng",value:function(){return this.map.unproject(this.getVisibleMapCenterPixel())}},{key:"getVisibleMapCenterOffest",value:function(){this.map.project(this.map.getCenter())}},{key:"zoomIn",value:function(){this.map.zoomIn({around:this.getVisibleMapCenterLatLng()})}},{key:"zoomOut",value:function(){this.map.zoomOut({around:this.getVisibleMapCenterLatLng()})}},{key:"flyTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.map){e||(e=this.map.getZoom()),this.map.setZoom(e);var n=this.map.project(this.map.getCenter()),i=this.getVisibleMapCenterPixel(),r=this.map.project(t);this.map.easeTo({center:this.map.unproject({x:r.x+(n.x-i.x),y:r.y+(n.y-i.y)}),zoom:e,duration:600})}}},{key:"jumpTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.map){e||(e=this.map.getZoom()),this.map.setZoom(e);var n=this.map.project(this.map.getCenter()),i=this.getVisibleMapCenterPixel(),r=this.map.project(t);this.map.jumpTo({center:this.map.unproject({x:r.x+(n.x-i.x),y:r.y+(n.y-i.y)}),zoom:e})}}},{key:"toogleViennaMap",value:function(){this.viennaMapVisible=!this.viennaMapVisible,this.map.setLayoutProperty("vienna1933","visibility",this.viennaMapVisible?"visible":"none")}}]),t}()).\u0275fac=function(t){return new(t||UA)(Qa(H_),Qa(dc),Qa(Xl))},UA.\u0275cmp=oe({type:UA,selectors:[["cm-map"]],viewQuery:function(t,e){var n;1&t&&(Pl(zA,!0),Pl(jA,!0)),2&t&&(Il(n=Fl())&&(e.mapElement=n.first),Il(n=Fl())&&(e.mapAttrib=n.first))},hostBindings:function(t,e){1&t&&us("click",function(t){return e.clickout(t)},!1,Cr)},inputs:{overlayLeftSize:"overlayLeftSize",overlayRightSize:"overlayRightSize",overlayTopSize:"overlayTopSize",overlayBottomSize:"overlayBottomSize"},ngContentSelectors:WA,decls:19,vars:22,consts:[["class","map-spinner",4,"ngIf"],[1,"map-control"],["mat-flat-button","","color","warn",1,"zoom","cm-plus",3,"ngClass","click"],["mat-flat-button","","color","warn",1,"zoom","cm-minus",3,"ngClass","click"],["mat-flat-button","","color","warn",1,"vie-map-toggle","cm-layers",3,"ngClass","click"],[1,"map-attrib",3,"ngClass"],["mapattrib",""],["mat-mini-fab","","color","primary",1,"cm-circle-copyright",3,"click"],[1,"map-attrib-inner"],["href","https://www.openstreetmap.org/copyright","target","_blank"],["href","https://www.freytagberndt.com","target","_blank"],["map",""],["class","nowebgl",3,"innerHtml",4,"ngIf"],[1,"map-spinner"],[1,"fas","fa-spinner"],[1,"nowebgl",3,"innerHtml"]],template:function(t,e){1&t&&(ms(),Ka(0,BA,2,0,"div",0),ts(1,"div",1),ts(2,"button",2),us("click",function(){return e.zoomIn()}),es(),ts(3,"button",3),us("click",function(){return e.zoomOut()}),es(),ts(4,"button",4),us("click",function(){return e.toogleViennaMap()}),es(),ts(5,"div",5,6),ts(7,"button",7),us("click",function(){return e.mapAttribIsOpen=!e.mapAttribIsOpen}),es(),ts(8,"div",8),ts(9,"a",9),zs(10),dl(11,"translate"),es(),ts(12,"a",10),zs(13),dl(14,"translate"),es(),es(),es(),es(),ns(15,"div",null,11),gs(17),Ka(18,HA,2,3,"div",12)),2&t&&(Ja("ngIf",e.isServer),yo(2),Ja("ngClass",sl(13,VA,e.isMaxZoom)),yo(1),Ja("ngClass",sl(15,VA,e.isMinZoom)),yo(1),Ja("ngClass",ul(17,qA,!e.viennaMapVisible,e.viennaMapVisible)),yo(1),Ja("ngClass",sl(20,GA,e.mapAttribIsOpen)),yo(3),Ja("@mapattribOpen",e.mapAttribIsOpen),yo(2),js(fl(11,9,"map.attrib.osm")),yo(3),js(fl(14,11,"map.attrib.freytag")),yo(5),Ja("ngIf",e.noWebGL))},directives:[Lh,iC,kh,kL],pipes:[_x],styles:[".mapboxgl-map[_ngcontent-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]     .mapboxgl-ctrl-attrib{display:none}.map-spinner[_ngcontent-%COMP%]{position:absolute;background:transparent url(cm-loading.2873408142f9489e400b.svg);z-index:1000;height:64px;width:64px;top:64px;left:78px}.map-spinner[_ngcontent-%COMP%]   .fa-spinner[_ngcontent-%COMP%]:before{content:none}.map-control[_ngcontent-%COMP%]{position:absolute;z-index:5;top:24px;left:24px}@media screen and (max-width:959px){.map-control[_ngcontent-%COMP%]{top:55px;left:15px}}.map-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:hsla(0,0%,54.9%,.9);display:block;min-width:20px;margin-bottom:2px;width:30px;padding:0;height:30px;line-height:30px}.map-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgba(166,116,129,.9)}.map-control[_ngcontent-%COMP%]   .zoom[_ngcontent-%COMP%]{font-size:16px}.map-control[_ngcontent-%COMP%]   .deactivated[_ngcontent-%COMP%]{opacity:.6;cursor:default}.map-control[_ngcontent-%COMP%]   .deactivated[_ngcontent-%COMP%]:hover{background:hsla(0,0%,54.9%,.9)}.map-control[_ngcontent-%COMP%]   .mat-button-wraper[_ngcontent-%COMP%]{line-height:30px}.map-control[_ngcontent-%COMP%]   .vie-map-not-visible[_ngcontent-%COMP%]{color:hsla(0,0%,54.9%,.9);background-color:hsla(0,0%,100%,.9);border:1px solid hsla(0,0%,54.9%,.9)}.map-control[_ngcontent-%COMP%]   .vie-map-not-visible[_ngcontent-%COMP%]:hover{color:hsla(0,0%,100%,.9)}.map-control[_ngcontent-%COMP%]   .vie-map-toggle[_ngcontent-%COMP%]{margin-top:15px;font-size:22px}.map-control[_ngcontent-%COMP%]   .map-attrib[_ngcontent-%COMP%]{margin-top:15px}.nowebgl[_ngcontent-%COMP%]{width:400px;padding-top:20px;padding-left:80px;box-sizing:border-box;padding-right:20px}@media screen and (max-width:959px){.nowebgl[_ngcontent-%COMP%]{width:100%;padding-top:60px;padding-left:80px;box-sizing:border-box;padding-right:20px}}"],data:{animation:[Kd("mapattribOpen",[$d("true",Jd({opacity:1})),$d("false",Jd({width:"0px",height:"0px",opacity:0})),tf("false => true",[Jd({display:"block"}),Zd("300ms ease-in")]),tf("true => false",[Zd("300ms ease-in")])])]}}),UA),KA=["marker"],ZA=function(t){return["/topography","events",t]},QA=function(t,e){return{active:t,selected:e}};function JA(t,e){if(1&t&&(ts(0,"div",1,2),dl(2,"striphtml"),ns(3,"div",3),ts(4,"div",4),Ln(),ts(5,"svg",5),ns(6,"use",6),es(),es(),es()),2&t){var n=fs();ys("title",fl(2,3,"de"===n.lang?n.event.titleDe:n.event.titleEn)),Ja("routerLink",sl(5,ZA,n.event.id))("ngClass",ul(7,QA,n.active,n.selected))}}var $A,tR=(($A=function(){function t(e){_(this,t),this.mapCmp=e,this.mapAvailable=!0}return x(t,[{key:"ngOnInit",value:function(){this.mapCmp.map||(this.mapAvailable=!1)}},{key:"ngAfterViewInit",value:function(){this.mapCmp.map?this.marker=new YA.Marker(this.markerElement.nativeElement,{offset:[0,-25]}).setLngLat([this.event.coordinates.lng,this.event.coordinates.lat]).addTo(this.mapCmp.map):this.mapAvailable=!1}}]),t}()).\u0275fac=function(t){return new(t||$A)(Qa(XA))},$A.\u0275cmp=oe({type:$A,selectors:[["cm-map-event"]],viewQuery:function(t,e){var n;1&t&&Dl(KA,!0),2&t&&Il(n=Fl())&&(e.markerElement=n.first)},inputs:{event:"event",lang:"lang",active:"active",selected:"selected"},decls:1,vars:1,consts:[["queryParamsHandling","merge","class","marker",3,"title","routerLink","ngClass",4,"ngIf"],["queryParamsHandling","merge",1,"marker",3,"title","routerLink","ngClass"],["marker",""],[1,"highlight"],[1,"icon"],["width","100%","height","100%","viewBox","0 0 84 128"],[0,"xlink","href","./assets/icons/pins.svg#pin"]],template:function(t,e){1&t&&Ka(0,JA,7,10,"div",0),2&t&&Ja("ngIf",e.mapAvailable)},directives:[Lh,U_,kh,kL],pipes:[_A],styles:[".marker[_ngcontent-%COMP%]{cursor:pointer}.marker[_ngcontent-%COMP%], .marker[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:32px;height:50px}.marker[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#8c8c8c;opacity:.9;position:absolute;background-size:100% 100%;z-index:100}@media screen and (max-width:959px){.marker[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:26px;height:40px;bottom:0;left:3px}}.marker.selected[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#a67481!important;opacity:1}.marker.active[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#f4f4f4;opacity:1}.marker[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{position:absolute;display:none;width:70px;height:70px;border-radius:35px;left:-18px;top:-10px;background-color:#e2e2e2;opacity:.8;z-index:99}@media screen and (max-width:959px){.marker[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:30px;left:-14px;top:0}}.marker.selected[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .marker[_ngcontent-%COMP%]:hover   .highlight[_ngcontent-%COMP%]{display:block}.marker[_ngcontent-%COMP%]:focus{outline:0}"]}),$A);function eR(t,e){1&t&&ns(0,"span",8)}function nR(t,e){if(1&t&&ns(0,"span",9),2&t){var n=fs();Ja("innerHtml","de"===n.translate.currentLang?n.previousEvent.titleDe:n.previousEvent.titleEn,_r)}}function iR(t,e){1&t&&(ts(0,"span",10),zs(1),dl(2,"translate"),es()),2&t&&(yo(1),js(fl(2,1,"info.previous")))}function rR(t,e){if(1&t&&ns(0,"span",9),2&t){var n=fs();Ja("innerHtml","de"===n.translate.currentLang?n.nextEvent.titleDe:n.nextEvent.titleEn,_r)}}function oR(t,e){1&t&&(ts(0,"span",10),zs(1),dl(2,"translate"),es()),2&t&&(yo(1),js(fl(2,1,"info.next")))}function aR(t,e){1&t&&ns(0,"span",11)}var sR,uR=function(t){return{hide:t}},lR=((sR=function(){function t(e){_(this,t),this.translate=e,this.eventSelected=new vl}return x(t,[{key:"ngOnInit",value:function(){}},{key:"select",value:function(t){this.eventSelected.emit(t)}}]),t}()).\u0275fac=function(t){return new(t||sR)(Qa(vx))},sR.\u0275cmp=oe({type:sR,selectors:[["cm-info-event-nav"]],inputs:{nextEvent:"nextEvent",previousEvent:"previousEvent",isMobile:"isMobile"},outputs:{eventSelected:"eventSelected"},decls:10,vars:9,consts:[["fxLayout","row","fxLayoutAlign"," center",1,"wrapper"],["fxFlex","50","fxLayout","row","fxLayoutAlign","end center",1,"previous",3,"click"],["class","arrow cm-chevron-left",4,"ngIf"],["class","text",3,"innerHtml",4,"ngIf"],["class","text",4,"ngIf"],["fxFlex","",1,"cm-seperator",3,"ngClass"],["fxFlex","50","fxLayout","row","fxLayoutAlign","start center",1,"next",3,"click"],["class","arrow cm-chevron-right",4,"ngIf"],[1,"arrow","cm-chevron-left"],[1,"text",3,"innerHtml"],[1,"text"],[1,"arrow","cm-chevron-right"]],template:function(t,e){1&t&&(ts(0,"div",0),ts(1,"div",1),us("click",function(){return e.select(e.previousEvent)}),Ka(2,eR,1,0,"span",2),Ka(3,nR,1,1,"span",3),Ka(4,iR,3,3,"span",4),es(),ns(5,"div",5),ts(6,"div",6),us("click",function(){return e.select(e.nextEvent)}),Ka(7,rR,1,1,"span",3),Ka(8,oR,3,3,"span",4),Ka(9,aR,1,0,"span",7),es(),es()),2&t&&(yo(2),Ja("ngIf",e.previousEvent),yo(1),Ja("ngIf",e.previousEvent&&!e.isMobile),yo(1),Ja("ngIf",e.previousEvent&&e.isMobile),yo(1),Ja("ngClass",sl(7,uR,!e.nextEvent||!e.previousEvent)),yo(2),Ja("ngIf",e.nextEvent&&!e.isMobile),yo(1),Ja("ngIf",e.nextEvent&&e.isMobile),yo(1),Ja("ngIf",e.nextEvent))},directives:[lT,HT,_T,Lh,kh,kL],pipes:[_x],styles:["[_nghost-%COMP%]{display:inline-block;color:#8c8c8c;font-size:.8rem;max-width:470px;width:100%;white-space:nowrap}@media screen and (max-width:959px){[_nghost-%COMP%]{font-size:.8rem}}[_nghost-%COMP%]    {font-family:Source Sans Pro Semibold}[_nghost-%COMP%]     em, [_nghost-%COMP%]     i{font-family:Source Sans Pro Semibold Italic;font-style:normal}[_nghost-%COMP%]     .text:hover{text-decoration:underline}[_nghost-%COMP%]     .text:hover em, [_nghost-%COMP%]     .text:hover i{font-style:normal;text-decoration:underline}.wrapper[_ngcontent-%COMP%]{height:3.3rem}@media screen and (max-width:959px){.wrapper[_ngcontent-%COMP%]{height:2.5rem}}.previous[_ngcontent-%COMP%]{height:32px;cursor:pointer;text-align:right;overflow:hidden}.previous[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{line-height:32px;margin-right:5px;font-size:1.1rem;color:#8c8c8c}.cm-seperator[_ngcontent-%COMP%]{color:#8c8c8c;font-size:1.5rem;margin-right:-5px;margin-left:-5px}.next[_ngcontent-%COMP%]{cursor:pointer;height:32px;text-align:left;overflow:hidden}.next[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{line-height:32px;margin-left:5px;font-size:1.1rem;color:#8c8c8c}"]}),sR),cR=["baseline"],hR=["handleright"],dR=["handleleft"],fR=function(t){return["/topography","events",t]},pR=function(t,e){return{active:t,selected:e}};function mR(t,e){if(1&t&&(ts(0,"div",18),dl(1,"striphtml"),ns(2,"div",19),es()),2&t){var n=e.$implicit,i=fs(2);Es("left",n.left,"%")("width",n.width,"%"),ys("title",fl(1,7,"de"===i.lang?n.event.titleDe:n.event.titleEn)),Ja("routerLink",sl(9,fR,n.event.id)),yo(2),Ja("ngClass",ul(11,pR,-1!==i.filteredIds.indexOf(n.event.id),i.selectedEvent&&i.selectedEvent.id===n.event.id))}}function gR(t,e){if(1&t&&(ts(0,"div",16),Ka(1,mR,3,14,"div",17),es()),2&t){var n=e.$implicit;yo(1),Ja("ngForOf",n)}}var yR,vR=function(t){return{move:t}},_R=((yR=function(){function t(e){_(this,t),this.translate=e,this.destroy$=new V,this.startFilterChanged=new vl,this.endFilterChanged=new vl,this.height=new vl,this.timelineStart=BC("1933-05-13T13:00Z"),this.timelineEnd=BC("1933-05-14T13:00Z"),this.baselineLabelFormatEn="MMM D, YYYY \u2013 h a",this.baselineLabelFormatDe="D. MMM YYYY \u2013 H:mm",this.lang=null,this.baselineLabelFormat=null,this.handleLabelFormat=null,this.steps=24,this.totalMinutes=60*this.steps,this.rows=[],this.indicatorLineHeight=null,this.mouseStartX=null,this.leftHandleStartX=null,this.rightHandleStartX=null,this.leftHandleX=null,this.leftHandleStep=null,this.rightHandleX=null,this.rightHandleStep=null,this.moveRightHandle=!1,this.moveLeftHandle=!1,this.initialized=!1,this.opened=!0}return x(t,[{key:"ngAfterViewInit",value:function(){var t=this;this.handleRightHammer=new vP(this.handleRightElement.nativeElement),this.handleRightHammer.add(new pP({direction:30,threshold:0})),this.handleRightHammer.on("pan",function(e){return t.handleRightMouseMove(e)}),this.handleLeftHammer=new vP(this.handleLeftElement.nativeElement),this.handleLeftHammer.add(new pP({direction:30,threshold:0})),this.handleLeftHammer.on("pan",function(e){return t.handleLeftMouseMove(e)}),this.leftHandleX=0,this.leftHandleStep=0,this.leftHandleLabel=this.getLabel(this.leftHandleStep),this.rightHandleX=100,this.rightHandleStep=this.steps,this.rightHandleLabel=this.getLabel(this.rightHandleStep),this.setupRows(this.events),this.initialized=!0,this.setLang(this.translate.currentLang),this.translate.onLangChange.pipe(jx(this.destroy$)).subscribe(function(e){t.setLang(e.lang)}),setTimeout(function(){return t.height.emit(t.opened?"220px":"40px")})}},{key:"ngOnChanges",value:function(t){this.initialized&&t.events&&this.setupRows(t.events.currentValue)}},{key:"toggle",value:function(){this.opened=!this.opened,this.height.emit(this.opened?"220px":"40px")}},{key:"setLang",value:function(t){this.lang=t,this.baselineLabelFormat="de"===t?this.baselineLabelFormatDe:this.baselineLabelFormatEn}},{key:"setupRows",value:function(t){var e=this;if(t){var n=[];t.forEach(function(t){var i=t.timelineRow-1;n[i]||(n[i]=[]);var r=t.start.diff(e.timelineStart,"minutes"),o=t.end.diff(e.timelineStart,"minutes"),a=r/e.totalMinutes*100;n[i].push({left:a,width:o/e.totalMinutes*100-a,event:t})}),n.forEach(function(t){t=t.sort(function(t,e){return t.event.start.isBefore(e.event.start)})}),this.rows=n,this.indicatorLineHeight=13*this.rows.length+39}}},{key:"getLabel",value:function(t){return t+" h"}},{key:"handleRightMouseMove",value:function(t){var e=this.baselineElement.nativeElement.getBoundingClientRect().width,n=e/this.steps;this.moveRightHandle||(this.moveRightHandle=!0,this.rightHandleStartX=this.rightHandleX,window.document.body.style.cursor="pointer");var i=this.rightHandleStartX/100*e+t.deltaX;i>e&&(i=e);var r=Math.round(i/n);r<=this.leftHandleStep&&(r=this.leftHandleStep+1)>this.steps&&(r=this.steps),this.rightHandleStep!==r&&(this.endFilterChanged.emit(this.timelineStart.clone().add(r,"hours")),this.rightHandleX=r*n*100/e,this.rightHandleLabel=this.getLabel(r)),this.rightHandleStep=r,t.isFinal&&(this.moveLeftHandle=!1,window.document.body.style.cursor="default")}},{key:"handleLeftMouseMove",value:function(t){var e=this.baselineElement.nativeElement.getBoundingClientRect().width,n=e/this.steps;this.moveLeftHandle||(this.moveLeftHandle=!0,this.leftHandleStartX=this.leftHandleX,window.document.body.style.cursor="pointer");var i=this.leftHandleStartX/100*e+t.deltaX;i<0&&(i=0);var r=Math.round(i/n);r>=this.rightHandleStep&&(r=this.rightHandleStep-1)<0&&(r=0),this.leftHandleStep!==r&&(this.startFilterChanged.emit(this.timelineStart.clone().add(r,"hours")),this.leftHandleX=r*n*100/e,this.leftHandleLabel=this.getLabel(r)),this.leftHandleStep=r,t.isFinal&&(this.moveLeftHandle=!1,window.document.body.style.cursor="default")}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete(),this.handleLeftHammer.destroy(),this.handleRightHammer.destroy()}}]),t}()).\u0275fac=function(t){return new(t||yR)(Qa(vx))},yR.\u0275cmp=oe({type:yR,selectors:[["cm-timeline"]],viewQuery:function(t,e){var n;1&t&&(Dl(cR,!0),Dl(hR,!0),Dl(dR,!0)),2&t&&(Il(n=Fl())&&(e.baselineElement=n.first),Il(n=Fl())&&(e.handleRightElement=n.first),Il(n=Fl())&&(e.handleLeftElement=n.first))},hostVars:3,hostBindings:function(t,e){2&t&&(Vs("@panel",e.opened),Ls("open",e.opened))},inputs:{events:"events",filteredIds:"filteredIds",selectedEvent:"selectedEvent"},outputs:{startFilterChanged:"startFilterChanged",endFilterChanged:"endFilterChanged",height:"height"},features:[Te],decls:25,vars:31,consts:[[1,"header",3,"click"],["mat-flat-button","","color","warn",1,"panel-control"],["fontSet","fa","fontIcon","fa-caret-down"],[1,"events"],["class","events-row",4,"ngFor","ngForOf"],[1,"baseline"],["baseline",""],[1,"selectedline"],[1,"handle","handle-left",3,"ngClass"],["handleleft",""],[1,"indicatorline"],[1,"indicatorlabel"],[1,"handle","handle-right",3,"ngClass"],["handleright",""],[1,"startlabel"],[1,"endlabel"],[1,"events-row"],["class","event","queryParamsHandling","merge",3,"title","routerLink","left","width",4,"ngFor","ngForOf"],["queryParamsHandling","merge",1,"event",3,"title","routerLink"],[1,"bar",3,"ngClass"]],template:function(t,e){1&t&&(ts(0,"div",0),us("click",function(){return e.toggle()}),ts(1,"button",1),ns(2,"mat-icon",2),es(),ts(3,"span"),zs(4),dl(5,"translate"),es(),es(),ts(6,"div",3),Ka(7,gR,2,1,"div",4),ts(8,"div",5,6),ns(10,"div",7),ts(11,"div",8,9),ts(13,"div",10),ts(14,"div",11),zs(15),es(),es(),es(),ts(16,"div",12,13),ts(18,"div",10),ts(19,"div",11),zs(20),es(),es(),es(),ts(21,"div",14),zs(22),es(),ts(23,"div",15),zs(24),es(),es(),es()),2&t&&(yo(2),Ja("@panelControl",e.opened),yo(2),js(fl(5,25,"timeline.header")),yo(3),Ja("ngForOf",e.rows),yo(3),Es("left",e.leftHandleX,"%")("right",100-e.rightHandleX,"%"),yo(1),Es("left",e.leftHandleX,"%"),Ja("ngClass",sl(27,vR,e.moveLeftHandle)),yo(2),Es("height",e.indicatorLineHeight,"px")("top",3-e.indicatorLineHeight,"px"),yo(2),js(e.leftHandleLabel),yo(1),Es("right",100-e.rightHandleX,"%"),Ja("ngClass",sl(29,vR,e.moveRightHandle)),yo(2),Es("height",e.indicatorLineHeight,"px")("top",3-e.indicatorLineHeight,"px"),yo(2),js(e.rightHandleLabel),yo(2),js(e.timelineStart.utcOffset(60).locale(e.lang).format(e.baselineLabelFormat)),yo(2),js(e.timelineEnd.utcOffset(60).locale(e.lang).format(e.baselineLabelFormat)))},directives:[iC,ME,Sh,kh,kL,U_],pipes:[_x,_A],styles:["[_nghost-%COMP%]{display:block;position:absolute;z-index:9;bottom:0;width:calc(100vw - 470px);background:rgba(90,90,90,.9);color:#fff;box-sizing:border-box;padding:0 24px;font-family:Source Sans Pro;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}@media screen and (max-width:959px){[_nghost-%COMP%]{bottom:auto;width:100%!important;top:2.5rem;position:fixed}.open[_nghost-%COMP%]{top:calc(2.5rem - 40px);z-index:12}}[_nghost-%COMP%]   .panel-control[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;min-width:40px;height:16px;border-radius:0;line-height:15px;margin-left:-28px}@media screen and (max-width:959px){[_nghost-%COMP%]   .panel-control[_ngcontent-%COMP%]{bottom:0;top:auto;transform:scaleY(-1)}}[_nghost-%COMP%]   .panel-control[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:19px;height:15px;line-height:15px;margin-top:-4px}.header[_ngcontent-%COMP%]{padding:6px 0;font-family:Source Sans Pro;cursor:pointer;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.events[_ngcontent-%COMP%]{margin-top:30px}.events-row[_ngcontent-%COMP%]{height:12px;margin-top:6px;width:100%;position:relative}.event[_ngcontent-%COMP%]{display:inline-block;position:absolute;height:100%;padding:0 2px;box-sizing:border-box}.event[_ngcontent-%COMP%]:focus{outline:0}.bar[_ngcontent-%COMP%]{min-width:5px;width:100%;height:100%;background:hsla(0,0%,54.9%,.9);border-radius:1px}.bar.active[_ngcontent-%COMP%]{background:hsla(0,0%,95.7%,.9)}.bar.selected[_ngcontent-%COMP%], .bar[_ngcontent-%COMP%]:hover{background:rgba(166,116,129,.9)}.bar[_ngcontent-%COMP%]:hover{cursor:pointer}.baseline[_ngcontent-%COMP%]{position:relative;height:2px;background:#fff;margin-bottom:50px;margin-top:15px;width:100%;border-radius:1px}.selectedline[_ngcontent-%COMP%]{position:absolute;height:6px;background:#fff;transform:translateY(-2px);opacity:.9;border-radius:3px;transition:left .2s cubic-bezier(.25,.8,.25,1),right .2s cubic-bezier(.25,.8,.25,1)}.handle-left[_ngcontent-%COMP%]{margin-left:-8px;transition:left .2s cubic-bezier(.25,.8,.25,1)}.handle-right[_ngcontent-%COMP%]{margin-right:-8px;transition:right .2s cubic-bezier(.25,.8,.25,1)}.handle[_ngcontent-%COMP%]{position:absolute;top:-7px;height:16px;width:16px;background:#fff;opacity:1;border-radius:8px}.handle.move[_ngcontent-%COMP%], .handle[_ngcontent-%COMP%]:hover{cursor:pointer}.indicatorline[_ngcontent-%COMP%]{background-image:linear-gradient(#fff 33%,hsla(0,0%,100%,0) 0);background-position:100%;background-size:2px 8px;background-repeat:repeat-y;width:2px;position:relative;left:7px}.indicatorlabel[_ngcontent-%COMP%]{color:#fff;font-size:.8rem;position:relative;top:-1.6em;left:-15px;width:35px;text-align:center}.startlabel[_ngcontent-%COMP%]{float:left}.endlabel[_ngcontent-%COMP%], .startlabel[_ngcontent-%COMP%]{font-size:.8rem;margin-top:10px}.endlabel[_ngcontent-%COMP%]{float:right}"],data:{animation:[Kd("panelControl",[$d("true",Jd({transform:"scaleY(1)"})),$d("false",Jd({transform:"scaleY(-1)"})),tf("false <=> true",Zd("300ms ease-in"))]),Kd("panel",[$d("true",Jd({height:"220px"})),$d("false",Jd({height:"40px"})),tf("false <=> true",Zd("300ms ease-in"))])]}}),yR),bR=["baseline"],xR=["handleright"],wR=["handleleft"],kR=function(t,e){return{active:t,selected:e}};function MR(t,e){if(1&t&&(ts(0,"div",21),ns(1,"div",22),es()),2&t){var n=e.$implicit,i=fs(2);Es("left",n.left,"%")("width",n.width,"%"),yo(1),Ja("ngClass",ul(5,kR,-1!==i.filteredIds.indexOf(n.event.id),i.selectedEvent&&i.selectedEvent.id===n.event.id))}}function SR(t,e){if(1&t&&(ts(0,"div",19),Ka(1,MR,2,8,"div",20),es()),2&t){var n=e.$implicit;yo(1),Ja("ngForOf",n)}}var ER,LR,TR=function(t){return{move:t}},CR=((LR=function(){function t(e){_(this,t),this.translate=e,this.destroy$=new V,this.startFilterChanged=new vl,this.endFilterChanged=new vl,this.height=new vl,this.timelineStart=BC("1933-05-13T13:00Z"),this.timelineEnd=BC("1933-05-14T13:00Z"),this.baselineLabelFormatEn="MMM D, YYYY \u2013 h a",this.baselineLabelFormatDe="D. MMM YYYY \u2013 H:mm",this.lang=null,this.baselineLabelFormat=null,this.handleLabelFormat=null,this.steps=24,this.totalMinutes=60*this.steps,this.rows=[],this.indicatorLineHeight=null,this.mouseStartX=null,this.leftHandleStartX=null,this.rightHandleStartX=null,this.leftHandleX=null,this.leftHandleStep=null,this.rightHandleX=null,this.rightHandleStep=null,this.moveRightHandle=!1,this.moveLeftHandle=!1,this.initialized=!1,this.opened=!1}return x(t,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var t=this;this.handleRightHammer=new vP(this.handleRightElement.nativeElement),this.handleRightHammer.add(new pP({direction:6,threshold:0})),this.handleRightHammer.on("pan",function(e){return t.handleRightMouseMove(e)}),this.handleLeftHammer=new vP(this.handleLeftElement.nativeElement),this.handleLeftHammer.add(new pP({direction:6,threshold:0})),this.handleLeftHammer.on("pan",function(e){return t.handleLeftMouseMove(e)}),this.leftHandleX=0,this.leftHandleStep=0,this.leftHandleLabel=this.getLabel(this.leftHandleStep),this.rightHandleX=100,this.rightHandleStep=this.steps,this.rightHandleLabel=this.getLabel(this.rightHandleStep),this.setupRows(this.events),this.initialized=!0,this.setLang(this.translate.currentLang),this.translate.onLangChange.pipe(jx(this.destroy$)).subscribe(function(e){t.setLang(e.lang)}),setTimeout(function(){return t.height.emit(t.opened?"180px":"40px")})}},{key:"ngOnChanges",value:function(t){this.initialized&&t.events&&this.setupRows(t.events.currentValue)}},{key:"toggle",value:function(){this.opened=!this.opened,this.height.emit(this.opened?"180px":"40px")}},{key:"setLang",value:function(t){this.lang=t,this.baselineLabelFormat="de"===t?this.baselineLabelFormatDe:this.baselineLabelFormatEn}},{key:"setupRows",value:function(t){var e=this,n=[];t.forEach(function(t){var i=t.timelineRow-1;n[i]||(n[i]=[]);var r=t.start.diff(e.timelineStart,"minutes"),o=t.end.diff(e.timelineStart,"minutes"),a=r/e.totalMinutes*100;n[i].push({left:a,width:o/e.totalMinutes*100-a,event:t})}),n.forEach(function(t){t=t.sort(function(t,e){return t.event.start.isBefore(e.event.start)})}),this.rows=n,this.indicatorLineHeight=13*this.rows.length+28}},{key:"getLabel",value:function(t){return t+" h"}},{key:"handleRightMouseMove",value:function(t){this.moveRightHandle||(this.moveRightHandle=!0,this.rightHandleStartX=this.rightHandleX,window.document.body.style.cursor="pointer");var e=this.baselineElement.nativeElement.getBoundingClientRect().width,n=e/this.steps,i=this.rightHandleStartX/100*e+t.deltaX;i>e&&(i=e);var r=Math.round(i/n);r<=this.leftHandleStep&&(r=this.leftHandleStep+1)>this.steps&&(r=this.steps),this.rightHandleStep!==r&&(this.endFilterChanged.emit(this.timelineStart.clone().add(r,"hours")),this.rightHandleX=r*n*100/e,this.rightHandleLabel=this.getLabel(r)),this.rightHandleStep=r,t.isFinal&&(this.moveRightHandle=!1,window.document.body.style.cursor="default")}},{key:"handleLeftMouseMove",value:function(t){this.moveLeftHandle||(this.moveLeftHandle=!0,this.leftHandleStartX=this.leftHandleX,window.document.body.style.cursor="pointer");var e=this.baselineElement.nativeElement.getBoundingClientRect().width,n=e/this.steps,i=this.leftHandleStartX/100*e+t.deltaX;i<0&&(i=0);var r=Math.round(i/n);r>=this.rightHandleStep&&(r=this.rightHandleStep-1)<0&&(r=0),this.leftHandleStep!==r&&(this.startFilterChanged.emit(this.timelineStart.clone().add(r,"hours")),this.leftHandleX=r*n*100/e,this.leftHandleLabel=this.getLabel(r)),this.leftHandleStep=r,t.isFinal&&(this.moveLeftHandle=!1,window.document.body.style.cursor="default")}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete(),this.handleLeftHammer.destroy(),this.handleRightHammer.destroy()}}]),t}()).\u0275fac=function(t){return new(t||LR)(Qa(vx))},LR.\u0275cmp=oe({type:LR,selectors:[["cm-timeline-mobile"]],viewQuery:function(t,e){var n;1&t&&(Dl(bR,!0),Dl(xR,!0),Dl(wR,!0)),2&t&&(Il(n=Fl())&&(e.baselineElement=n.first),Il(n=Fl())&&(e.handleRightElement=n.first),Il(n=Fl())&&(e.handleLeftElement=n.first))},hostVars:3,hostBindings:function(t,e){2&t&&(Vs("@panel",e.opened),Ls("open",e.opened))},inputs:{events:"events",filteredIds:"filteredIds",selectedEvent:"selectedEvent"},outputs:{startFilterChanged:"startFilterChanged",endFilterChanged:"endFilterChanged",height:"height"},features:[Te],decls:27,vars:32,consts:[[1,"header",3,"click"],["mat-flat-button","","color","warn",1,"panel-control"],["fontSet","fa","fontIcon","fa-caret-down"],[1,"title"],[1,"events"],["class","events-row",4,"ngFor","ngForOf"],[1,"baseline"],["baseline",""],[1,"selectedline"],[1,"handle","handle-left",3,"ngClass"],["handleleft",""],[1,"left-touch-area"],[1,"indicatorline"],[1,"indicatorlabel"],[1,"handle","handle-right",3,"ngClass"],["handleright",""],[1,"right-touch-area"],[1,"startlabel"],[1,"endlabel"],[1,"events-row"],["class","event",3,"left","width",4,"ngFor","ngForOf"],[1,"event"],[1,"bar",3,"ngClass"]],template:function(t,e){1&t&&(ts(0,"div",0),us("click",function(){return e.toggle()}),ts(1,"button",1),ns(2,"mat-icon",2),es(),ts(3,"span",3),zs(4),dl(5,"translate"),es(),es(),ts(6,"div",4),Ka(7,SR,2,1,"div",5),ts(8,"div",6,7),ns(10,"div",8),ts(11,"div",9,10),ns(13,"div",11),ts(14,"div",12),ts(15,"div",13),zs(16),es(),es(),es(),ts(17,"div",14,15),ns(19,"div",16),ts(20,"div",12),ts(21,"div",13),zs(22),es(),es(),es(),ts(23,"div",17),zs(24),es(),ts(25,"div",18),zs(26),es(),es(),es()),2&t&&(Ja("@header",e.opened),yo(2),Ja("@panelControl",e.opened),yo(2),js(fl(5,26,"timeline.header")),yo(3),Ja("ngForOf",e.rows),yo(3),Es("left",e.leftHandleX,"%")("right",100-e.rightHandleX,"%"),yo(1),Es("left",e.leftHandleX,"%"),Ja("ngClass",sl(28,TR,e.moveLeftHandle)),yo(3),Es("height",e.indicatorLineHeight,"px")("top",-e.indicatorLineHeight,"px"),yo(2),js(e.leftHandleLabel),yo(1),Es("right",100-e.rightHandleX,"%"),Ja("ngClass",sl(30,TR,e.moveRightHandle)),yo(3),Es("height",e.indicatorLineHeight,"px")("top",-e.indicatorLineHeight,"px"),yo(2),js(e.rightHandleLabel),yo(2),js(e.timelineStart.utcOffset(60).locale(e.lang).format(e.baselineLabelFormat)),yo(2),js(e.timelineEnd.utcOffset(60).locale(e.lang).format(e.baselineLabelFormat)))},directives:[iC,ME,Sh,kh,kL],pipes:[_x],styles:["[_nghost-%COMP%]{display:block;position:absolute;z-index:9;bottom:0;background:rgba(90,90,90,.9);color:#fff;box-sizing:border-box;padding:0 15px;font-family:Source Sans Pro;overflow:hidden;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}@media screen and (max-width:959px){[_nghost-%COMP%]{bottom:auto;width:100%!important;top:2.5rem;position:fixed}.open[_nghost-%COMP%]{z-index:11}}[_nghost-%COMP%]   .panel-control[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;min-width:40px;height:16px;border-radius:0;line-height:15px;margin-left:-28px}@media screen and (max-width:959px){[_nghost-%COMP%]   .panel-control[_ngcontent-%COMP%]{bottom:0;top:auto;transform:scaleY(-1)}}[_nghost-%COMP%]   .panel-control[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:19px;height:15px;line-height:15px;margin-top:-4px}.header[_ngcontent-%COMP%]{font-family:Source Sans Pro;cursor:pointer;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:6px 0;display:inline-block}.events[_ngcontent-%COMP%]{margin-top:35px;padding:0 5px}.events-row[_ngcontent-%COMP%]{height:10px;margin-top:6px;width:100%;position:relative}.event[_ngcontent-%COMP%]{display:inline-block;position:absolute;height:100%;padding:0 2px;box-sizing:border-box}.event[_ngcontent-%COMP%]:focus{outline:0}.bar[_ngcontent-%COMP%]{min-width:5px;width:100%;height:100%;background:hsla(0,0%,54.9%,.9);border-radius:1px}.bar.active[_ngcontent-%COMP%]{background:hsla(0,0%,95.7%,.9)}.bar.selected[_ngcontent-%COMP%]{background:rgba(166,116,129,.9)}.baseline[_ngcontent-%COMP%]{position:relative;height:2px;background:#fff;margin-bottom:50px;margin-top:15px;width:100%;border-radius:1px}.selectedline[_ngcontent-%COMP%]{position:absolute;height:6px;background:#fff;transform:translateY(-2px);opacity:.9;border-radius:3px;transition:left .2s cubic-bezier(.25,.8,.25,1),right .2s cubic-bezier(.25,.8,.25,1)}.handle-left[_ngcontent-%COMP%]{margin-left:-8px;transition:left .2s cubic-bezier(.25,.8,.25,1)}.handle-right[_ngcontent-%COMP%]{margin-right:-8px;transition:right .2s cubic-bezier(.25,.8,.25,1)}.left-touch-area[_ngcontent-%COMP%]{right:-30px}.left-touch-area[_ngcontent-%COMP%], .right-touch-area[_ngcontent-%COMP%]{position:absolute;width:80px;height:160px;top:-123px}.right-touch-area[_ngcontent-%COMP%]{left:-30px}.handle[_ngcontent-%COMP%]{position:absolute;top:-7px;height:16px;width:16px;background:#fff;border-radius:8px}.handle.move[_ngcontent-%COMP%], .handle[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer}.indicatorline[_ngcontent-%COMP%]{background-image:linear-gradient(#fff 33%,hsla(0,0%,100%,0) 0);background-position:100%;background-size:2px 8px;background-repeat:repeat-y;width:2px;position:relative;left:7px}.indicatorlabel[_ngcontent-%COMP%]{color:#fff;font-size:.8rem;position:relative;top:-1.5em;left:-15px;width:35px;text-align:center}.startlabel[_ngcontent-%COMP%]{float:left}.endlabel[_ngcontent-%COMP%], .startlabel[_ngcontent-%COMP%]{font-size:.8rem;margin-top:10px}.endlabel[_ngcontent-%COMP%]{float:right}"],data:{animation:[Kd("panelControl",[$d("true",Jd({transform:"scaleY(1)"})),$d("false",Jd({transform:"scaleY(-1)"})),tf("false <=> true",Zd("300ms ease-in"))]),Kd("panel",[$d("true",Jd({height:"180px"})),$d("false",Jd({height:"40px"})),tf("false <=> true",Zd("300ms ease-in"))]),Kd("header",[$d("false",Jd({height:"40px"})),$d("true",Jd({height:"0px"})),tf("false <=> true",Zd("300ms ease-in"))])]}}),LR),IR=((ER=function(){function t(){_(this,t)}return x(t,[{key:"transform",value:function(t,e){if(!t)return null;var n=!1;0===t.start.diff(t.end,"days")&&(n=!0);var i="";if("en"===e){if(t.start.locale("en"),t.end.locale("en"),"9"===t.id)return t.start.utcOffset(60).format("MMMM D, YYYY \xa0\xa0\xa0 h:mm a");i=t.start.utcOffset(60).format("MMMM D, YYYY \xa0\xa0\xa0 h:mm a")+" \u2013 ",i+=n?t.end.utcOffset(60).format("h:mm a"):t.end.utcOffset(60).format("MMMM D, YYYY \xa0\xa0\xa0 h:mm a")}if("de"===e){if(t.start.locale("de-at"),t.end.locale("de-at"),"9"===t.id)return t.start.utcOffset(60).format("D. MMMM YYYY \xa0\xa0\xa0 k:mm")+" Uhr";n?(i=t.start.utcOffset(60).format("D. MMMM YYYY \xa0\xa0\xa0 k:mm")+" \u2013 ",i+=t.end.utcOffset(60).format("k:mm")+" Uhr"):(i=t.start.utcOffset(60).format("D. MMMM YYYY \xa0\xa0\xa0 k:mm")+" Uhr \u2013 ",i+=t.end.utcOffset(60).format("D. MMMM YYYY \xa0\xa0\xa0 h:mm")+" Uhr")}return i}}]),t}()).\u0275fac=function(t){return new(t||ER)},ER.\u0275pipe=fe({name:"infoTimestamp",type:ER,pure:!0}),ER),PR=["fullinfo"];function DR(t,e){if(1&t&&ns(0,"cm-map-event",7),2&t){var n=e.$implicit,i=fs();Ja("event",n)("lang",i.translate.currentLang)("active",-1!==i.filteredIds.indexOf(n.id))("selected",n===i.selectedEvent)}}function OR(t,e){if(1&t){var n=os();ts(0,"div",14),ts(1,"button",15),us("click",function(){return $e(n),fs(2).showCite()}),ns(2,"span",16),es(),ns(3,"h2",17),es()}if(2&t){var i=fs(2);Ja("@titleHeader",i.showTitleHeader),yo(1),Ja("title","de"===i.translate.currentLang?"Metadaten":"Metadata"),yo(2),Ja("innerHtml","de"===i.translate.currentLang?i.selectedEvent.titleDe:i.selectedEvent.titleEn,_r)}}function AR(t,e){if(1&t){var n=os();ts(0,"cm-info-event-nav",18),us("eventSelected",function(t){return $e(n),fs(2).eventSelected(t)}),es()}if(2&t){var i=fs(2);Ja("@infoEventNav",i.sidepanelState)("isMobile",!1)("nextEvent",i.nextEvent)("previousEvent",i.previousEvent)}}function RR(t,e){if(1&t){var n=os();ts(0,"div",19),ts(1,"button",20),us("click",function(){return $e(n),fs(2).scrollUp()}),ns(2,"span",21),es(),es()}2&t&&Ja("@titleHeader",fs(2).showTitleHeader)}function NR(t,e){if(1&t){var n=os();ts(0,"div",22),ts(1,"cm-info-container",23),us("citeClick",function(){return $e(n),fs(2).showCite()})("moreClick",function(){return $e(n),fs(2).toggleInformationPanel()})("sectionChange",function(t){return $e(n),fs(2).sectionChange(t)})("showTitleHeader",function(t){return $e(n),fs(2).showTitleHeader=t}),dl(2,"infoTimestamp"),es(),es()}if(2&t){var i=fs(2);yo(1),Ja("lang",i.translate.currentLang)("title","de"===i.translate.currentLang?i.selectedEvent.titleDe:i.selectedEvent.titleEn)("subTitle",pl(2,8,i.selectedEvent,i.translate.currentLang))("state",i.sidepanelState)("abstract","de"===i.translate.currentLang?i.selectedEvent.abstractDe:i.selectedEvent.abstractEn)("content","de"===i.translate.currentLang?i.information.contentDe:i.information.contentEn)("media",i.information.media)("readMoreText","de"===i.translate.currentLang?"WEITERLESEN":"READ MORE")}}function FR(t,e){if(1&t&&(ts(0,"div",24),ts(1,"div",25),ts(2,"h1",26),zs(3),es(),ns(4,"cm-information",27),ts(5,"button",28),zs(6,"START"),es(),es(),es()),2&t){var n=fs(2);yo(3),js("de"===n.translate.currentLang?n.page.titleDe:n.page.titleEn),yo(1),Ja("content","de"===n.translate.currentLang?n.page.abstractDe:n.page.abstractEn)("lang",n.translate.currentLang)}}function YR(t,e){if(1&t){var n=os();ts(0,"cm-sidepanel",8),us("controlClick",function(){return $e(n),fs().toggleInformationPanel()}),Ka(1,OR,4,3,"div",9),Ka(2,AR,1,4,"cm-info-event-nav",10),Ka(3,RR,3,1,"div",11),Ka(4,NR,3,11,"div",12),Ka(5,FR,7,3,"ng-template",null,13,Bl),es()}if(2&t){var i=Za(6),r=fs();Ls("is-full","full"===r.sidepanelState),Ja("@sidenav",r.sidepanelState)("state",r.sidepanelState)("showControl",r.selectedEvent),yo(1),Ja("ngIf","full"===r.sidepanelState),yo(1),Ja("ngIf",r.selectedEvent),yo(1),Ja("ngIf","full"===r.sidepanelState),yo(1),Ja("ngIf",r.selectedEvent)("ngIfElse",i)}}function zR(t,e){if(1&t){var n=os();ts(0,"div"),ts(1,"cm-timeline",29),us("startFilterChanged",function(t){return $e(n),fs().updateTimeFilter("start",t)})("endFilterChanged",function(t){return $e(n),fs().updateTimeFilter("end",t)})("height",function(t){return $e(n),fs().timelineHeight=t}),es(),es()}if(2&t){var i=fs();yo(1),Ja("@timeline",i.sidepanelState)("events",i.events)("filteredIds",i.filteredIds)("selectedEvent",i.selectedEvent)}}function jR(t,e){if(1&t){var n=os();ts(0,"cm-timeline-mobile",29),us("startFilterChanged",function(t){return $e(n),fs().updateTimeFilter("start",t)})("endFilterChanged",function(t){return $e(n),fs().updateTimeFilter("end",t)})("height",function(t){return $e(n),fs().timelineHeight=t}),es()}if(2&t){var i=fs();Ja("events",i.events)("filteredIds",i.filteredIds)("selectedEvent",i.selectedEvent)}}function BR(t,e){if(1&t){var n=os();ts(0,"div",38),ts(1,"cm-info-event-nav",18),us("eventSelected",function(t){return $e(n),fs(2).eventSelected(t)}),es(),es()}if(2&t){var i=fs(2);yo(1),Ja("isMobile",!0)("nextEvent",i.nextEvent)("previousEvent",i.previousEvent)}}var HR=function(t){return{"info-heading-mobile-ispage":t}};function UR(t,e){if(1&t&&(ts(0,"div",39),ts(1,"span",40),zs(2),dl(3,"infoTimestamp"),es(),ns(4,"h1",17),es()),2&t){var n=fs(2);Ja("ngClass",sl(6,HR,n.isPage)),yo(2),js(pl(3,3,n.selectedEvent,n.translate.currentLang)),yo(2),Ja("innerHtml","de"===n.translate.currentLang?n.selectedEvent.titleDe:n.selectedEvent.titleEn,_r)}}function VR(t,e){if(1&t&&(ts(0,"div",41),ts(1,"h1",42),zs(2),es(),es()),2&t){var n=fs(2);yo(2),js("de"===n.translate.currentLang?n.page.titleDe:n.page.titleEn)}}function qR(t,e){1&t&&(ts(0,"button",43),zs(1),dl(2,"uppercase"),dl(3,"translate"),es()),2&t&&(yo(1),js(fl(2,1,fl(3,3,"info.start"))))}function GR(t,e){if(1&t){var n=os();ts(0,"button",44),us("click",function(){return $e(n),fs(2).mobileShowMore()}),zs(1),dl(2,"uppercase"),dl(3,"translate"),es()}2&t&&(yo(1),js(fl(2,1,fl(3,3,"info.read-more"))))}function WR(t,e){if(1&t&&(ts(0,"div",30),Ka(1,BR,2,3,"div",31),ts(2,"div",32),Ka(3,UR,5,8,"div",33),Ka(4,VR,3,1,"div",34),ts(5,"div",35),Ka(6,qR,4,5,"button",36),Ka(7,GR,4,5,"button",37),es(),es(),es()),2&t){var n=fs();yo(1),Ja("ngIf",n.selectedEvent),yo(2),Ja("ngIf",n.selectedEvent),yo(1),Ja("ngIf",!n.selectedEvent),yo(2),Ja("ngIf",!n.selectedEvent),yo(1),Ja("ngIf",n.selectedEvent)}}function XR(t,e){if(1&t){var n=os();ts(0,"cm-info-container-mobile",45),us("citeClick",function(){return $e(n),fs().showCite()})("sectionChange",function(t){return $e(n),fs().sectionChange(t)})("showShort",function(){return $e(n),fs().mobileShowShort()})("galleryClosed",function(t){return $e(n),fs().galleryClosed(t)})("galleryOpened",function(t){return $e(n),fs().galleryOpened(t)}),dl(1,"infoTimestamp"),es()}if(2&t){var i=fs();Ja("lang",i.translate.currentLang)("title","de"===i.translate.currentLang?i.selectedEvent.titleDe:i.selectedEvent.titleEn)("subTitle",pl(1,6,i.selectedEvent,i.translate.currentLang))("content","de"===i.translate.currentLang?i.information.contentDe:i.information.contentEn)("media",i.information.media)("showHeader",i.showTitleHeaderMobile)}}var KR,ZR,QR,JR,$R={full:"70%",short:"470px"},tN=((QR=function(){function t(e,n,i,r,o,a,s,u,l,c,h,d,f){var p,m=this;if(_(this,t),this.translate=e,this.route=n,this.router=i,this.dialog=r,this.mediaObserver=o,this.elementRef=a,this.app=s,this.cd=u,this.meta=l,this.title=c,this.document=h,this.platformId=d,this.request=f,this.isFirst=!0,this.isMobile=!0,this.filteredIds=[],this.timeFilterStart=BC("1933-05-13T13:00Z"),this.timeFilterEnd=BC("1933-05-14T13:00Z"),this.sidepanelState="short",this.showTitleHeader=!1,this.showTitleHeaderMobile=!1,this.galleryIsOpen=!1,this.skipFragmentUpdate=!1,this.timelineHeight="40px",this.mobileOverlayHeight="125px",this.mobileOverlayAboutHeight="300px",this.mobileOverlayDefaultHeight="200px",this.mobileAbstractDe="<p><i>Campus Medius</i> erforscht und erweitert die M\xf6glichkeiten digitalen Mappings in den Kultur- und Medienwissenschaften.</p>",this.mobileAbstractEn="<p><i>Campus Medius</i> explores and expands the possibilities of digital mapping in cultural and media studies.</p>",Hh(this.platformId))this.mediaSubscription=this.mediaObserver.media$.subscribe(function(t){m.isMobile="xs"===t.mqAlias||"sm"===t.mqAlias});else{var g=!1;(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(p=this.request.headers["user-agent"])||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(p.substr(0,4)))&&(g=!0),this.isMobile=g}}return x(t,[{key:"ngOnInit",value:function(){var t=this;"undefined"!=typeof window&&window.isSafari&&(this.elementRef.nativeElement.style.webkitTransform="translate3d(0,0,0)"),"full"===this.route.snapshot.queryParams.info&&(this.sidepanelState="full"),this.sidepanelWidth=$R[this.sidepanelState],this.queryParamsSubscription=this.route.queryParams.subscribe(function(e){e.info&&(t.sidepanelState=e.info,t.sidepanelWidth=$R[t.sidepanelState],t.isMobile&&"full"===t.sidepanelState&&setTimeout(function(){return t.infoContainerMobile.scrollToReference("top")}),t.selectedEvent&&(t.isFirst?setTimeout(function(){return t.map.jumpTo(t.selectedEvent.coordinates)}):setTimeout(function(){return t.map.flyTo(t.selectedEvent.coordinates)}))),"short"===t.sidepanelState&&(t.app.removeHeader=!1,t.app.showHeader=!0,t.showTitleHeaderMobile=!1),setTimeout(function(){return t.updateSiteMetaAndTitle()}),t.adjustTimelineForEdge()}),this.dataSubscription=this.route.data.subscribe(function(e){t.events=e.events,t.generateTimeFilterIds(),t.selectedEvent=e.selectedEvent,t.selectedEvent?(t.previousEvent=t.selectedEvent.previousEvent,t.nextEvent=t.selectedEvent.nextEvent,t.information=t.selectedEvent.information,setTimeout(function(){var e=t.route.snapshot.fragment;e=e||"top";var n=t.isMobile?t.infoContainerMobile:t.infoContainer;n&&n.scrollToReference(e),t.map&&(t.isFirst?t.map.jumpTo(t.selectedEvent.coordinates,14):t.map.flyTo(t.selectedEvent.coordinates,14),t.isFirst=!1),t.route.snapshot.queryParams.lang&&t.route.snapshot.queryParams.info||t.router.navigate(["."],{relativeTo:t.route,queryParams:{lang:t.translate.currentLang,info:t.sidepanelState},queryParamsHandling:"merge",fragment:e,replaceUrl:!0})})):(t.isFirst=!1,t.isMobile?setTimeout(function(){return t.map.flyTo([16.372472,48.208417],11)}):setTimeout(function(){return t.map.flyTo([16.372472,48.208417],12.14)}),t.sidepanelState="short",t.page=e.pages.find(function(t){return"Topography"===t.titleEn})),t.updateSiteMetaAndTitle(),t.cd.detectChanges()})}},{key:"ngAfterViewInit",value:function(){var t=this;this.route.fragment.subscribe(function(e){t.skipFragmentUpdate?t.skipFragmentUpdate=!1:setTimeout(function(){e=e||"top";var n=t.isMobile?t.infoContainerMobile:t.infoContainer;n&&n.scrollToReference(e,100)},0)})}},{key:"updateSiteMetaAndTitle",value:function(){var t,e,n,i,r="https://campusmedius.net/topography";this.selectedEvent?(t="de"===this.translate.currentLang?this.selectedEvent.titleDe:this.selectedEvent.titleEn,e="de"===this.translate.currentLang?this.selectedEvent.keywordsDe:this.selectedEvent.keywordsEn,n="de"===this.translate.currentLang?this.selectedEvent.abstractDe:this.selectedEvent.abstractEn,i=(r+="/events/"+this.selectedEvent.id)+"?info=full&lang="+("de"===this.translate.currentLang?"en":"de"),r+="?info=full&lang="+this.translate.currentLang):(t="de"===this.translate.currentLang?this.page.titleDe:this.page.titleEn,e="de"===this.translate.currentLang?this.page.keywordsDe:this.page.keywordsEn,n="de"===this.translate.currentLang?this.page.abstractDe:this.page.abstractEn,i=r+"?lang="+("de"===this.translate.currentLang?"en":"de"),r+="?lang="+this.translate.currentLang),e=e.sort(function(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())});var o,a="de"===this.translate.currentLang?"https://campusmedius.net/assets/screenshot_de.png":"https://campusmedius.net/assets/screenshot_en.png",s="de"===this.translate.currentLang?"Wenn nicht anders angegeben, sind die Inhalte der Website unter Creative Commons CC BY 4.0 frei verf\xfcgbar. Diese Lizenz gestattet die uneingeschr\xe4nkte Nutzung und Verbreitung des entsprechenden Materials unter der Bedingung, dass die UrheberInnen, bei denen alle Rechte verbleiben, und die Quelle eindeutig genannt werden. Die Referenz sollte in der Form erfolgen, wie sie in den Metadaten empfohlen wird, die \xfcber das Zitatsymbol neben dem Titel der jeweiligen Seite abgerufen werden k\xf6nnen. Die offene Creative-Commons-Lizenz gilt allerdings nicht f\xfcr die Werke (Texte, Bilder, Ton- und Filmaufnahmen), die in Campus Medius zitiert werden: F\xfcr deren Urheberrechte m\xfcssen in jedem Fall die angef\xfchrten Quellen konsultiert werden!":"Unless stated otherwise, the website's content is available open access under Creative Commons CC BY 4.0. This license permits unrestricted use and distribution of the respective material, provided that the creator(s), who retain copyright, and the source are properly credited. The reference should be made in the form suggested in the metadata that can be accessed via the quote icon next to each page title. However, the open Creative Commons license does not apply to the works (texts, images, audio, video) cited in Campus Medius: for their copyright details, the sources given in the notes and captions must be consulted in each case!";o="de"===this.translate.currentLang?[{"@context":"https://schema.org","@type":"Organization",name:"\xd6sterreichische Akademie der Wissenschaften (\xd6AW)",url:"https://www.oeaw.ac.at/"},{"@context":"https://schema.org","@type":"Organization",name:"\xd6sterreichischer Wissenschaftsfonds (FWF)",url:"https://fwf.ac.at/"},{"@context":"https://schema.org","@type":"Organization",name:"Universit\xe4t Wien",url:"https://www.univie.ac.at/"},{"@context":"https://schema.org","@type":"Organization",name:"Stadt Wien",url:"https://www.wien.gv.at/kultur/abteilung/"}]:[{"@context":"https://schema.org","@type":"Organization",name:"Austrian Academy of Sciences (\xd6AW)",url:"https://www.oeaw.ac.at/en/austrian-academy-of-sciences"},{"@context":"https://schema.org","@type":"Organization",name:"Austrian Science Fund (FWF)",url:"https://fwf.ac.at/en/"},{"@context":"https://schema.org","@type":"Organization",name:"University of Vienna",url:"https://www.univie.ac.at/en/"},{"@context":"https://schema.org","@type":"Organization",name:"City of Vienna",url:"https://www.wien.gv.at/kultur/abteilung/"}];var u=(t=t.replace(/<[^>]*>/g,"").replace(/"/g,""))+" in Campus Medius";n=n.replace(/<[^>]*>/g,""),this.title.setTitle(t),this.document.documentElement.lang=this.translate.currentLang,this.meta.updateTag({name:"keywords",content:e.join(",")}),this.meta.updateTag({name:"description",content:n,lang:this.translate.currentLang}),this.document.querySelector("link[rel=canonical]").setAttribute("href",r);var l=this.document.querySelector("link[rel=alternate]");l.setAttribute("href",i),l.setAttribute("hreflang",this.translate.currentLang),this.meta.updateTag({name:"og:title",content:u}),this.meta.updateTag({name:"og:description",content:n}),this.meta.updateTag({name:"og:type",content:"website"}),this.meta.updateTag({name:"og:url",content:r}),this.meta.updateTag({name:"og:image",content:a}),this.meta.updateTag({name:"og:site_name",content:"Campus Medius"}),this.meta.updateTag({name:"twitter:card",content:"summary"}),this.document.getElementById("jsonld").text=this.selectedEvent?"en"===this.translate.currentLang?JSON.stringify({"@context":"https://schema.org/","@type":"ScholarlyArticle",name:u,headline:t,abstract:n,inLanguage:this.translate.currentLang,image:a,datePublished:this.selectedEvent.created.toISOString(),dateModified:this.selectedEvent.updated.toISOString(),keywords:e.join(","),url:r,author:{"@context":"https://schema.org/","@type":"Person",name:"Simon Ganahl"},translator:{"@context":"https://schema.org/","@type":"Person",name:"Katy Derbyshire"},funder:o,copyrightNotice:s,about:{"@type":"Event",name:t,startDate:this.selectedEvent.start.toISOString(),endDate:this.selectedEvent.end.toISOString(),location:{"@context":"https://schema.org","@type":"Place",geo:{"@type":"GeoCoordinates",latitude:this.selectedEvent.coordinates.lat,longitude:this.selectedEvent.coordinates.lng}}},isPartOf:{"@context":"https://schema.org","@type":"WebSite",url:"https://campusmedius.net",author:[{"@context":"https://schema.org/","@type":"Person",name:"Simon Ganahl"},{"@context":"https://schema.org/","@type":"Person",name:"Susanne Kiesenhofer"},{"@context":"https://schema.org/","@type":"Person",name:"Andreas Krimbacher"}]}},null,2):JSON.stringify({"@context":"https://schema.org/","@type":"ScholarlyArticle",name:u,headline:t,abstract:n,inLanguage:this.translate.currentLang,image:a,datePublished:this.selectedEvent.created.toISOString(),dateModified:this.selectedEvent.updated.toISOString(),keywords:e.join(","),url:r,author:{"@context":"https://schema.org/","@type":"Person",name:"Simon Ganahl"},funder:o,about:{"@type":"Event",name:t,startDate:this.selectedEvent.start.toISOString(),endDate:this.selectedEvent.end.toISOString(),location:{"@context":"https://schema.org","@type":"Place",geo:{"@type":"GeoCoordinates",latitude:this.selectedEvent.coordinates.lat,longitude:this.selectedEvent.coordinates.lng}}},copyrightNotice:s,isPartOf:{"@context":"https://schema.org","@type":"WebSite",url:"https://campusmedius.net",author:[{"@context":"https://schema.org/","@type":"Person",name:"Simon Ganahl"},{"@context":"https://schema.org/","@type":"Person",name:"Susanne Kiesenhofer"},{"@context":"https://schema.org/","@type":"Person",name:"Andreas Krimbacher"}]}},null,2):""}},{key:"adjustTimelineForEdge",value:function(){var t=this;Hh(this.platformId)&&document.isEdge&&setTimeout(function(){var e=document.getElementsByTagName("cm-timeline")[0];e&&("full"===t.sidepanelState?"25%"!==e.style.width&&setTimeout(function(){e.style.width="25%"},300):""!==e.style.width&&(e.style.width=""))})}},{key:"scrollUp",value:function(){this.router.navigate([],{queryParamsHandling:"merge",fragment:"top"})}},{key:"showCite",value:function(){this.dialog.open(wO,{width:"800px",maxHeight:"90vh",data:{data:this.selectedEvent,type:"event",isMobile:this.isMobile},autoFocus:!1})}},{key:"updateTimeFilter",value:function(t,e){"start"===t&&(this.timeFilterStart=e),"end"===t&&(this.timeFilterEnd=e),this.generateTimeFilterIds()}},{key:"generateTimeFilterIds",value:function(){var t=this,e=[];this.events.forEach(function(n){n.end.isAfter(t.timeFilterStart)&&n.start.isBefore(t.timeFilterEnd)&&e.push(n.id)}),this.filteredIds=e}},{key:"eventSelected",value:function(t){window.skipSectionChange+=1,this.router.navigate(["/topography","events",t.id],{queryParamsHandling:"preserve",fragment:"p:1"}),setTimeout(function(){window.skipSectionChange-=1},200)}},{key:"toggleInformationPanel",value:function(){var t=this;"full"===this.sidepanelState?(this.router.navigate([],{queryParams:{info:"short"},queryParamsHandling:"merge"}),setTimeout(function(){return t.map.flyTo(t.selectedEvent.coordinates)})):(setTimeout(function(){return t.map.flyTo(t.selectedEvent.coordinates)}),this.router.navigate([],{queryParams:{info:"full"},queryParamsHandling:"merge"}))}},{key:"mobileShowMore",value:function(){window.skipSectionChange+=1,this.router.navigate([],{queryParams:{info:"full"},queryParamsHandling:"merge"}),setTimeout(function(){window.skipSectionChange-=1},2e3)}},{key:"mobileShowShort",value:function(){"short"!==this.sidepanelState&&(this.sidepanelState="short",this.router.navigate([],{queryParams:{info:this.sidepanelState},queryParamsHandling:"merge"}))}},{key:"sectionChange",value:function(t){"full"===this.sidepanelState&&t!==this.route.snapshot.fragment&&(this.skipFragmentUpdate=!0,this.router.navigate([],{fragment:t,queryParams:{},queryParamsHandling:"merge",replaceUrl:!0}))}},{key:"onMobileScroll",value:function(){var t=this;if(!this.galleryIsOpen&&!window.skipSectionChange){var e=this.elementRef.nativeElement.scrollTop,n=this.elementRef.nativeElement.clientHeight;e<170&&this.mobileShowShort(),e<n+150?this.showTitleHeaderMobile&&(this.app.removeHeader=!1,setTimeout(function(){t.showTitleHeaderMobile=!1,t.app.showHeader=!0})):this.showTitleHeaderMobile||(this.showTitleHeaderMobile=!0,this.app.showHeader=!1,setTimeout(function(){t.app.removeHeader=!0},300)),this.infoContainerMobile&&this.infoContainerMobile.checkCurrentSection(e-n)}}},{key:"galleryClosed",value:function(){this.galleryIsOpen=!1,this.showTitleHeaderMobile||(this.app.removeHeader=!1)}},{key:"galleryOpened",value:function(){this.galleryIsOpen=!0,this.app.removeHeader=!0}},{key:"ngOnDestroy",value:function(){this.dataSubscription.unsubscribe(),this.queryParamsSubscription.unsubscribe(),Hh(this.platformId)&&this.mediaSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||QR)(Qa(vx),Qa(mv),Qa(H_),Qa(mM),Qa(lL),Qa(hu),Qa(VC),Qa(Au),Qa(Yd),Qa(Hd),Qa(Gc),Qa(Xl),Qa(qC,8))},QR.\u0275cmp=oe({type:QR,selectors:[["cm-topography"]],viewQuery:function(t,e){var n;1&t&&(Dl(XA,!0),Dl(PR,!0),Dl(BO,!0),Dl(GO,!0)),2&t&&(Il(n=Fl())&&(e.map=n.first),Il(n=Fl())&&(e.fullinfo=n.first),Il(n=Fl())&&(e.infoContainer=n.first),Il(n=Fl())&&(e.infoContainerMobile=n.first))},hostAttrs:[1,"scroll-container"],hostBindings:function(t,e){1&t&&us("scroll",function(){return e.onMobileScroll()})},decls:8,vars:9,consts:[[3,"overlayBottomSize","overlayRightSize","overlayTopSize"],[3,"event","lang","active","selected",4,"ngFor","ngForOf"],[3,"is-full","state","showControl","controlClick",4,"ngIf"],[4,"ngIf","ngIfElse"],["mobileTimeline",""],["class","mobile-short-info",4,"ngIf"],["class","mobile-info",3,"lang","title","subTitle","content","media","showHeader","citeClick","sectionChange","showShort","galleryClosed","galleryOpened",4,"ngIf"],[3,"event","lang","active","selected"],[3,"state","showControl","controlClick"],["class","title-header","fxLayout","row","fxLayoutAlign"," center",4,"ngIf"],[3,"isMobile","nextEvent","previousEvent","eventSelected",4,"ngIf"],["class","up-header",4,"ngIf"],["class","info-container",4,"ngIf","ngIfElse"],["startPage",""],["fxLayout","row","fxLayoutAlign"," center",1,"title-header"],["mat-icon-button","",1,"cite-button",3,"title","click"],[1,"cm-square-quote-alt"],[3,"innerHtml"],[3,"isMobile","nextEvent","previousEvent","eventSelected"],[1,"up-header"],["mat-icon-button","",1,"back-to-top",3,"click"],[1,"cm-back-to-top"],[1,"info-container"],[3,"lang","title","subTitle","state","abstract","content","media","readMoreText","citeClick","moreClick","sectionChange","showTitleHeader"],[1,"start-container"],[1,"info-content"],[1,"start-info-heading"],[3,"content","lang"],["mat-flat-button","","color","warn","routerLink","/topography/events/1","queryParamsHandling","merge","routerLinkActive","active",1,"btn-read-more"],[3,"events","filteredIds","selectedEvent","startFilterChanged","endFilterChanged","height"],[1,"mobile-short-info"],["class","event-nav-wrapper",4,"ngIf"],[1,"info"],["class","info-heading",3,"ngClass",4,"ngIf"],["class","mobile-abstract",4,"ngIf"],[1,"intro"],["mat-flat-button","","routerLink","/topography/events/1","queryParamsHandling","merge","routerLinkActive","active","class","btn-read-more","color","warn",4,"ngIf"],["mat-flat-button","","class","btn-read-more","color","warn",3,"click",4,"ngIf"],[1,"event-nav-wrapper"],[1,"info-heading",3,"ngClass"],[1,"time-info"],[1,"mobile-abstract"],[1,"start-info-heading-mobile"],["mat-flat-button","","routerLink","/topography/events/1","queryParamsHandling","merge","routerLinkActive","active","color","warn",1,"btn-read-more"],["mat-flat-button","","color","warn",1,"btn-read-more",3,"click"],[1,"mobile-info",3,"lang","title","subTitle","content","media","showHeader","citeClick","sectionChange","showShort","galleryClosed","galleryOpened"]],template:function(t,e){if(1&t&&(ts(0,"cm-map",0),Ka(1,DR,1,4,"cm-map-event",1),es(),Ka(2,YR,7,10,"cm-sidepanel",2),Ka(3,zR,2,4,"div",3),Ka(4,jR,1,3,"ng-template",null,4,Bl),Ka(6,WR,8,5,"div",5),Ka(7,XR,2,9,"cm-info-container-mobile",6)),2&t){var n=Za(5);Ja("overlayBottomSize",e.isMobile?e.mobileOverlayHeight:e.timelineHeight)("overlayRightSize",e.isMobile?"0px":e.sidepanelWidth)("overlayTopSize",e.isMobile?e.timelineHeight:"0px"),yo(1),Ja("ngForOf",e.events),yo(1),Ja("ngIf",!e.isMobile),yo(1),Ja("ngIf",!e.isMobile)("ngIfElse",n),yo(3),Ja("ngIf",e.isMobile),yo(1),Ja("ngIf",e.isMobile&&"full"===e.sidepanelState)}},directives:[XA,Sh,Lh,tR,jC,lT,HT,iC,lR,BO,ZD,U_,Z_,_R,CR,kh,kL,GO],pipes:[IR,zh,_x],styles:["[_nghost-%COMP%]{display:block;height:calc(var(--vh, 1vh) * 100);position:relative;overflow:hidden}@media screen and (max-width:959px){[_nghost-%COMP%]{overflow-x:hidden;overflow-y:auto;width:100%;position:fixed}}.info-container[_ngcontent-%COMP%]{color:#333;height:100%;padding-top:3.3rem}cm-info-event-nav[_ngcontent-%COMP%]{position:absolute;right:0}cm-sidepanel[_ngcontent-%COMP%]{width:470px}cm-sidepanel.is-full[_ngcontent-%COMP%]{width:70%}.col[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{height:100%}.ispage[_ngcontent-%COMP%]{margin-top:3.3rem}cm-map[_ngcontent-%COMP%]{height:calc(100% - 3.3rem);top:3.3rem;width:100%;position:fixed}@media screen and (max-width:959px){cm-map[_ngcontent-%COMP%]{display:block;height:calc(100% - 2.5rem);top:2.5rem}}.map-container[_ngcontent-%COMP%]{padding:0;z-index:10}.padding-bottom[_ngcontent-%COMP%]{color:#fff}.start-container[_ngcontent-%COMP%]{color:#333;height:100%;display:flex;align-items:center}.start-container[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]{padding-bottom:0}.info-content[_ngcontent-%COMP%]{padding-bottom:120px;width:70%;max-width:900px;margin-left:auto;margin-right:auto}.info-heading[_ngcontent-%COMP%]{margin-bottom:50px}.info-heading[_ngcontent-%COMP%]   .time-info[_ngcontent-%COMP%]{color:#8c8c8c;font-size:.9rem;font-family:Source Sans Pro Semibold}.info-heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 40px}.info-heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .start-info-heading[_ngcontent-%COMP%]{font-family:Source Sans Pro Bold;font-size:1.5rem}.start-info-heading[_ngcontent-%COMP%]{margin-bottom:50px}.start-info-heading-mobile[_ngcontent-%COMP%]{font-family:Source Sans Pro Bold;font-size:1.5rem}.topography-start[_ngcontent-%COMP%]{padding:0 50px;height:100%}.topography-start[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 10px;font-family:Source Sans Pro Bold;font-size:1.5rem}.mobile-short-info[_ngcontent-%COMP%]{position:fixed;width:100%;background:#fff;box-sizing:border-box;overflow:hidden;bottom:0;z-index:10;box-shadow:0 -3px 5px rgba(57,63,72,.3);-moz-box-shadow:0 -3px 5px rgba(57,63,72,.3);-webkit-box-shadow:0 -3px 5px rgba(57,63,72,.3)}.mobile-short-info[_ngcontent-%COMP%]   .btn-read-more[_ngcontent-%COMP%]{width:100%}.mobile-short-info[_ngcontent-%COMP%]   .info-heading[_ngcontent-%COMP%]{margin-bottom:0}.mobile-short-info[_ngcontent-%COMP%]   .info-heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:15px}.mobile-short-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-bottom:15px;padding-left:15px;padding-right:15px}.mobile-short-info[_ngcontent-%COMP%]   .event-nav-wrapper[_ngcontent-%COMP%]{width:100%;text-align:center}.mobile-short-info[_ngcontent-%COMP%]   .btn-read-more[_ngcontent-%COMP%]{margin-top:0!important}.mobile-short-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{-webkit-margin-after:15px;margin-block-end:15px;-webkit-margin-before:15px;margin-block-start:15px}.mobile-short-info[_ngcontent-%COMP%]   cm-info-event-nav[_ngcontent-%COMP%]{position:static;margin-top:10px;margin-bottom:5px;font-family:Source Sans Pro;color:#333;height:auto}.mobile-short-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{-webkit-margin-before:0;margin-block-start:0;-webkit-margin-after:0;margin-block-end:0;margin-bottom:18px}.mobile-short-info[_ngcontent-%COMP%]   .mobile-abstract[_ngcontent-%COMP%]{margin-top:18px}.mobile-info[_ngcontent-%COMP%]{z-index:15;width:100%}"],data:{animation:[Kd("sidenav",[$d("full",Jd({width:$R.full})),$d("short",Jd({width:$R.short})),tf("* <=> *",Zd("200ms ease-in"))]),Kd("infoEventNav",[$d("full",Jd({right:"60px"})),$d("short",Jd({right:"0px"})),tf("* <=> *",Zd("300ms ease-in"))]),Kd("timeline",[$d("full",Jd({width:"calc(100vw - "+$R.full+")"})),$d("short",Jd({width:"calc(100vw - "+$R.short+")"})),tf("* <=> *",Zd("200ms ease-in"))]),Kd("titleHeader",[$d("false",Jd({opacity:0})),$d("true",Jd({opacity:1})),tf("false <=> true",Zd("300ms ease-in"))])]}}),QR),eN=((ZR=function(){function t(e){_(this,t),this.eventService=e}return x(t,[{key:"resolve",value:function(t){return this.eventService.events}}]),t}()).\u0275fac=function(t){return new(t||ZR)(Ri(FA))},ZR.\u0275prov=Tt({token:ZR,factory:ZR.\u0275fac}),ZR),nN=((KR=function(){function t(e,n){_(this,t),this.eventService=e,this.informationService=n}return x(t,[{key:"resolve",value:function(t){var e=this,n=t.paramMap.get("id");return this.eventService.event(n).pipe(zg(function(t){return Db({previous:e.eventService.event(t.previousEventId),next:e.eventService.event(t.nextEventId),information:e.informationService.information(t.informationId)}).pipe(W(function(e){return t.previousEvent=e.previous,t.nextEvent=e.next,t.information=e.information,t}))}))}}]),t}()).\u0275fac=function(t){return new(t||KR)(Ri(FA),Ri(wA))},KR.\u0275prov=Tt({token:KR,factory:KR.\u0275fac}),KR),iN=[{path:"events/:id",component:tN,resolve:{events:eN,selectedEvent:nN},data:{reuse:!0}},{path:"",component:tN,resolve:{events:eN,pages:MA},data:{reuse:!0}}],rN=((JR=function t(){_(this,t)}).\u0275mod=ce({type:JR}),JR.\u0275inj=Ct({factory:function(t){return new(t||JR)},providers:[FA,eN,nN],imports:[[Bh,NA,bA,SA,ub.forChild(iN)]]}),JR),oN=y("WVt+"),aN=["map"];function sN(t,e){1&t&&(ts(0,"div",4),ns(1,"i",5),es())}function uN(t,e){1&t&&(ns(0,"div",6),dl(1,"translate")),2&t&&Ja("innerHtml",fl(1,1,"map.webgl"),_r)}var lN=["*"],cN=function(){var t=function(){function t(e,n,i){if(_(this,t),this.router=e,this.zone=n,this.platformId=i,this.overlayLeftSize="0px",this.overlayRightSize="0px",this.overlayTopSize="0px",this.overlayBottomSize="0px",this.isMobile=!1,this.viennaMapVisible=!0,this.isMaxZoom=!1,this.isMinZoom=!1,this.noWebGL=!1,this.isServer=!0,this.buildingsOnMap=!1,Hh(this.platformId)){var r=document.createElement("canvas"),o=r.getContext("webgl")||r.getContext("experimental-webgl");o&&o instanceof WebGLRenderingContext||(this.noWebGL=!0),this.isServer=!1}else this.isServer=!0}return x(t,[{key:"animateRoute",value:function(t,e){var n=oN.distance([t.coordinates.lng,t.coordinates.lat],[e.coordinates.lng,e.coordinates.lat]);this.map.easeTo({center:e.coordinates,duration:15e3*n/8.2,easing:function(t){return t}})}},{key:"navigateToGod",value:function(){var t=this;this.timer=setTimeout(function(){t.map.setLayoutProperty("eckebrecht","visibility","visible")},1e3),this.map.flyTo({zoom:this.isMobile?1:1.3,duration:5e3,center:[0,0],curve:1})}},{key:"ngOnInit",value:function(){var t=this;if(!this.noWebGL&&!this.isServer){var e=!1;window&&window.mapInteractive&&(e=!0),this.map=new mapboxgl.Map({container:this.mapElement.nativeElement,attributionControl:!1,maxZoom:18,minZoom:0,maxPitch:89,style:"./assets/map/styles/topology.json",center:[16.311658322849894,48.1850403758292],pitch:55,bearing:-21.6,zoom:16.6,interactive:e}),this.map.addControl(new mapboxgl.AttributionControl,"top-right"),this.map.on("load",function(){t.map.resize()}),this.layerSchoenbrunn=this.createBuildingLayer("schoenbrunn","./assets/map/buildings/schoenbrunn.glb",[16.3188412,48.1844412,-1.8]),this.layerJohannesgasse=this.createBuildingLayer("johannesgasse","./assets/map/buildings/johannesgasse.glb",[16.3723716,48.2047589,0]),this.layerFichtegasse=this.createBuildingLayer("fichtegasse","./assets/map/buildings/fichtegasse.glb",[16.3772644,48.2028985,-.5]),this.layerKarlmarxhof=this.createBuildingLayer("karlmarxhof","./assets/map/buildings/karlmarxhof.glb",[16.3625843,48.2452702,-1.4]),this.layerVorwaertshaus=this.createBuildingLayer("vorwaertshaus","./assets/map/buildings/vorwaertshaus.glb",[16.3547281,48.1920838,0])}}},{key:"addBulidings",value:function(){this.buildingsOnMap||(this.map.addLayer(this.layerSchoenbrunn),this.map.addLayer(this.layerJohannesgasse),this.map.addLayer(this.layerFichtegasse),this.map.addLayer(this.layerKarlmarxhof),this.map.addLayer(this.layerVorwaertshaus),this.buildingsOnMap=!0)}},{key:"removeBuildings",value:function(){this.buildingsOnMap&&(this.map.removeLayer("schoenbrunn"),this.map.removeLayer("johannesgasse"),this.map.removeLayer("fichtegasse"),this.map.removeLayer("karlmarxhof"),this.map.removeLayer("vorwaertshaus"),this.buildingsOnMap=!1)}},{key:"setPerspective",value:function(t){var e=this;this.map&&("1"===t.id&&"1"!==this.currentMediationId?(this.removeBuildings(),this.currentMediationId="1"):"2"===t.id&&"2"!==this.currentMediationId?(this.map.isStyleLoaded()&&this.map.setLayoutProperty("eckebrecht","visibility","none"),this.removeBuildings(),this.currentMediationId="2"):"3"===t.id&&"3"!==this.currentMediationId&&(this.map.isStyleLoaded()?(this.map.setLayoutProperty("eckebrecht","visibility","none"),this.addBulidings()):this.map.on("style.load",function(){e.addBulidings(),e.map.setLayoutProperty("eckebrecht","visibility","none")}),this.currentMediationId="3"))}},{key:"doNavigation",value:function(t,e,n){var i=this;this.map&&("1"===t.id?"0"===n.id?this.navigateToGod():(this.map.flyTo({center:n.coordinates,zoom:n.zoom,duration:5e3,curve:1}),this.timer=setTimeout(function(){i.map.setLayoutProperty("eckebrecht","visibility","none")},2500)):"2"===t.id?this.map.flyTo({center:n.coordinates,bearing:n.bearing,pitch:!1===this.isMobile?n.pitch:n.pitch-10,zoom:n.zoom,duration:6e3,curve:.1}):"3"===t.id&&this.animateRoute(e,n))}},{key:"flyToSovereignSign",value:function(t,e,n){var i=this;this.map&&(this.map.flyTo({duration:2e3,zoom:11}),this.map.once("moveend",function(){i.map.flyTo({center:n.coordinates,duration:2e3,zoom:n.zoom})}))}},{key:"showMediator",value:function(t,e){var n=this;this.map&&("0"===e.id&&(e.zoom=this.isMobile?1:1.3,setTimeout(function(){n.map.isStyleLoaded()?n.map.setLayoutProperty("eckebrecht","visibility","visible"):n.map.on("load",function(){n.map.setLayoutProperty("eckebrecht","visibility","visible")})},0)),this.map.jumpTo({center:e.coordinates,zoom:!0===this.isMobile&&"3"===t.id?e.zoom-.5:e.zoom,pitch:!1===this.isMobile?e.pitch:e.pitch-10,bearing:e.bearing}))}},{key:"stopAnimation",value:function(){clearTimeout(this.timer),this.map.stop()}},{key:"createBuildingLayer",value:function(t,e,n){if(!Uh(this.platformId)){var i=[0,0,0],r=mapboxgl.MercatorCoordinate.fromLngLat([n[0],n[1]],n[2]),o={translateX:r.x,translateY:r.y,translateZ:r.z,rotateX:i[0],rotateY:i[1],rotateZ:i[2],scale:r.meterInMercatorCoordinateUnits()},a=window.THREE;return{id:t,type:"custom",renderingMode:"3d",onAdd:function(t,n){this.camera=new a.Camera,this.scene=new a.Scene,this.scene.environment=null;var i=new a.AmbientLight(16777215,.6);this.scene.add(i);var r=new a.DirectionalLight(16777215,.6);r.position.set(0,-70,100).normalize(),this.scene.add(r);var o=new a.DirectionalLight(16777215,.6);o.position.set(0,70,100).normalize(),this.scene.add(o),(new a.GLTFLoader).load(e,(function(t){var e=new a.MeshPhongMaterial({color:7161425,emissive:2628126});t.scene.traverse(function(t){t.isMesh&&(t.material=e)}),this.scene.add(t.scene)}).bind(this)),this.map=t,this.renderer=new a.WebGLRenderer({canvas:t.getCanvas(),context:n,antialias:!0}),this.renderer.autoClear=!1},render:function(t,e){var n=(new a.Matrix4).makeRotationAxis(new a.Vector3(1,0,0),o.rotateX),i=(new a.Matrix4).makeRotationAxis(new a.Vector3(0,1,0),o.rotateY),r=(new a.Matrix4).makeRotationAxis(new a.Vector3(0,0,1),o.rotateZ),s=(new a.Matrix4).fromArray(e),u=(new a.Matrix4).makeTranslation(o.translateX,o.translateY,o.translateZ).scale(new a.Vector3(o.scale,-o.scale,o.scale)).multiply(n).multiply(i).multiply(r);this.camera.projectionMatrix=s.multiply(u),this.renderer.state.reset(),this.renderer.render(this.scene,this.camera),this.map.triggerRepaint()}}}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Qa(H_),Qa(dc),Qa(Xl))},t.\u0275cmp=oe({type:t,selectors:[["cm-map"]],viewQuery:function(t,e){var n;(1&t&&Pl(aN,!0),2&t)&&(Il(n=Fl())&&(e.mapElement=n.first))},inputs:{overlayLeftSize:"overlayLeftSize",overlayRightSize:"overlayRightSize",overlayTopSize:"overlayTopSize",overlayBottomSize:"overlayBottomSize",isMobile:"isMobile",selectedMediation:"selectedMediation",selectedMediator:"selectedMediator"},ngContentSelectors:lN,decls:5,vars:2,consts:[["class","map-spinner",4,"ngIf"],[1,"noselect"],["map",""],["class","nowebgl",3,"innerHtml",4,"ngIf"],[1,"map-spinner"],[1,"fas","fa-spinner"],[1,"nowebgl",3,"innerHtml"]],template:function(t,e){1&t&&(ms(),Ka(0,sN,2,0,"div",0),ns(1,"div",1,2),gs(3),Ka(4,uN,2,3,"div",3)),2&t&&(Ja("ngIf",e.isServer),yo(4),Ja("ngIf",e.noWebGL))},directives:[Lh],pipes:[_x],styles:[".mapboxgl-map[_ngcontent-%COMP%]{width:100%;height:100%}.nowebgl[_ngcontent-%COMP%]{width:400px;padding-top:20px;padding-left:80px;margin-top:260px;margin-left:385px;box-sizing:border-box;padding-right:20px}@media screen and (max-width:959px){.nowebgl[_ngcontent-%COMP%]{width:100%;padding-top:60px;padding-left:80px;box-sizing:border-box;padding-right:20px;margin-top:0;margin-left:0}}.map-spinner[_ngcontent-%COMP%]{position:fixed;background:transparent url(cm-loading.2873408142f9489e400b.svg);z-index:1000;height:64px;width:64px;top:110px;left:78px}.map-spinner[_ngcontent-%COMP%]   .fa-spinner[_ngcontent-%COMP%]:before{content:none}"]}),t}(),hN=function(t){return{"info-box-open":t}};function dN(t,e){if(1&t){var n=os();ts(0,"div",1),ts(1,"button",2),us("click",function(){$e(n);var t=fs();return t.isOpen=!t.isOpen}),es(),ts(2,"div",3),ts(3,"div",4),ts(4,"div",5),zs(5),dl(6,"translate"),es(),ns(7,"div",6),es(),ts(8,"div",4),ts(9,"div",5),zs(10),dl(11,"translate"),es(),ns(12,"div",6),es(),ts(13,"div",4),ts(14,"div",5),zs(15),dl(16,"translate"),es(),ts(17,"div",7),zs(18),es(),es(),ts(19,"div",4),ts(20,"div",5),zs(21),dl(22,"translate"),es(),ts(23,"div",7),zs(24),es(),es(),es(),es()}if(2&t){var i=fs();yo(1),Ja("ngClass",sl(18,hN,i.isOpen)),yo(1),Ja("@infoBoxOpen",i.isOpen),yo(3),js(fl(6,10,"infobox.place")),yo(2),Ja("innerHtml","de"===i.translate.currentLang?i.mediator.placeDe:i.mediator.placeEn,_r),yo(3),js(fl(11,12,"infobox.moment")),yo(2),Ja("innerHtml","de"===i.translate.currentLang?i.mediator.momentDe:i.mediator.momentEn,_r),yo(3),js(fl(16,14,"infobox.space")),yo(3),js(i.spaceStr),yo(3),js(fl(22,16,"infobox.time")),yo(3),js(i.timeStr)}}var fN,pN=((fN=function(){function t(e,n){_(this,t),this.translate=e,this.cdRef=n,this.space=0,this.time=0,this.inAnimation=!1,this.isOpen=!1}return x(t,[{key:"ngOnInit",value:function(){var t=this;this.currentLangSubscription=this.translate.onLangChange.subscribe(function(e){t.setSpaceTime(t.mediator,t.space,t.time)})}},{key:"navigateToMediator",value:function(t,e,n){["0","1","2","3","4","5"].includes(t.id)?this.animateSovereignSign(t,e):["6","7","8","9","10"].includes(t.id)?this.animateExaminingGaze(t,e,n):this.animateGovernedTransmission(t,e)}},{key:"animateSovereignSign",value:function(t,e){var n=this;if(this.mediator){var i=this.mediator;this.mediator=t;var r=i.coordinates,o=e.timeDifference;o<0&&(o=-o);var a=(new Date).getTime(),s=a+4500;this.timer="0"===t.id?setInterval(function(){n.inAnimation=!0;var e=(new Date).getTime(),i=50*Math.max((s-e)/4500,0);n.spaceStr=n.getSovereignSignSpaceStr({lng:r.lng/50*i,lat:r.lat/50*i}),n.timeStr=n.getSovereignSignTimeStr(o/50*i),0===i&&(clearInterval(n.timer),n.inAnimation=!1,n.setSpaceTime(t,0,0)),n.cdRef.detectChanges()},90):setInterval(function(){n.inAnimation=!0;var e=(new Date).getTime(),i=50*Math.min((e-a)/4500,1);n.spaceStr=n.getSovereignSignSpaceStr({lng:t.coordinates.lng/50*i,lat:t.coordinates.lat/50*i}),n.timeStr=n.getSovereignSignTimeStr(o/50*i),50===i&&(clearInterval(n.timer),n.inAnimation=!1),n.cdRef.detectChanges()},90)}}},{key:"animateExaminingGaze",value:function(t,e,n){var i=this,r=this.mediator;this.mediator=t;var o=r.distanceFromStart,a=t.distanceFromStart-r.distanceFromStart,s=r.timeAfterEnd,u=t.timeAfterEnd-r.timeAfterEnd,l=(new Date).getTime();this.timer=setInterval(function(){i.inAnimation=!0;var e=(new Date).getTime(),n=50*Math.min((e-l)/5e3,1),r=o+a/50*n;i.spaceStr=i.getExaminingGazeSpaceStr(r);var c=s+u/50*n;i.timeStr=i.getExaminingGazeTimeStr(c),50===n&&(clearInterval(i.timer),i.inAnimation=!1,i.setSpaceTime(t,r,c)),i.cdRef.detectChanges()},100)}},{key:"animateGovernedTransmission",value:function(t,e){var n=this;this.mediator=t;var i=15e3*oN.distance([e.source.coordinates.lng,e.source.coordinates.lat],[e.target.coordinates.lng,e.target.coordinates.lat])/8.2,r=(i-=500)/50,o=e.spaceDifference,a=e.timeDifference,s=(new Date).getTime();this.timer=setInterval(function(){n.inAnimation=!0;var t=(new Date).getTime(),e=50*Math.min((t-s)/i,1);n.spaceStr=n.getGovernedTransmissionSpaceStr(o/50*e),n.timeStr=n.getGovernedTransmissionTimeStr(a/50*e),50===e&&(clearInterval(n.timer),n.inAnimation=!1),n.cdRef.detectChanges()},r)}},{key:"setSpaceTime",value:function(t,e,n){this.inAnimation||("1"===t.mediationId?"0"===t.id?(this.spaceStr="0",this.timeStr="0"):(this.spaceStr=this.getSovereignSignSpaceStr(t.coordinates),this.timeStr=this.getSovereignSignTimeStr(t.relationsFrom[0].timeDifference)):"2"===t.mediationId?"6"===t.id?(this.spaceStr="de"===this.translate.currentLang?"Anfang":"Start",this.timeStr="de"===this.translate.currentLang?"Ende":"End"):(this.spaceStr=this.getExaminingGazeSpaceStr(t.distanceFromStart),this.timeStr=this.getExaminingGazeTimeStr(t.timeAfterEnd)):(this.spaceStr=this.getGovernedTransmissionSpaceStr(e),this.timeStr=this.getGovernedTransmissionTimeStr(n)),this.mediator=t,this.cdRef.detectChanges())}},{key:"getSovereignSignTimeStr",value:function(t){return this.getTimeStr(t," p. Chr.")}},{key:"getSovereignSignSpaceStr",value:function(t){return"N "+parseFloat(t.lat).toFixed(6).toString()+"\xb0 | E "+parseFloat(t.lng).toFixed(6).toString()+"\xb0"}},{key:"getExaminingGazeTimeStr",value:function(t){var e;return this.time=t,e="de"===this.translate.currentLang?" vor dem Ende":" before the end",this.getTimeStr(t,e)}},{key:"getExaminingGazeSpaceStr",value:function(t){return this.space=t,"de"===this.translate.currentLang?Math.round(t).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")+" m vom Anfang":Math.round(t).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")+" m from the start"}},{key:"getGovernedTransmissionTimeStr",value:function(t){if(this.time=t,0===t)return"0";var e="";return e="de"===this.translate.currentLang?"sp\xe4ter":"later",t<0&&(t=-t,e="de"===this.translate.currentLang?"fr\xfcher":"earlier"),this.getTimeStr(t,e)}},{key:"getGovernedTransmissionSpaceStr",value:function(t){return this.space=t,0===t?"0":"de"===this.translate.currentLang?Math.round(t).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")+" m entfernt":Math.round(t).toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")+" m away"}},{key:"getTimeStr",value:function(t,e){var n=Math.floor(t),i=Math.round(60*(t-n));if(n>8760){var r=Math.floor(n/8760);n-=8760*r;var o=r.toString(),a=Math.floor(n/24);return n-=24*a,o+" a "+a.toString()+" d "+n+" h "+i+" min "+e}if(n>48){var s=Math.floor(n/24);return n-=24*s,s.toString()+" d "+n+" h "+i+" min "+e}return n>0?n+" h "+i+" min "+e:i+" min "+e}},{key:"stopAnimation",value:function(){clearInterval(this.timer),this.inAnimation=!1}},{key:"ngOnDestroy",value:function(){this.currentLangSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||fN)(Qa(vx),Qa(Au))},fN.\u0275cmp=oe({type:fN,selectors:[["cm-info-box-mobile"]],inputs:{isOpen:"isOpen"},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],["mat-mini-fab","","color","primary",1,"info-button","cm-circle-info",3,"ngClass","click"],["fxLayout","column",1,"meta-info-container"],["fxLayout","row"],[1,"label"],[1,"content",3,"innerHtml"],[1,"content"]],template:function(t,e){1&t&&Ka(0,dN,25,20,"div",0),2&t&&Ja("ngIf",e.mediator)},directives:[Lh,iC,kh,kL,lT],pipes:[_x],styles:["[_nghost-%COMP%]{border-radius:3px}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;align-items:flex-end}[_nghost-%COMP%]   .meta-info-container[_ngcontent-%COMP%]{background-color:hsla(0,0%,95.7%,.9);opacity:0;padding:5px 10px;font-size:.8rem;font-family:Source Sans Pro;color:#333;line-height:22px;margin-left:7px;border-radius:4px;overflow:hidden;max-height:140px}.isOpen[_nghost-%COMP%]   .mat-mini-fab[_ngcontent-%COMP%]{background-color:#a67481}[_nghost-%COMP%]     .mat-mini-fab{float:left;background-color:#8c8c8c}[_nghost-%COMP%]     .mat-mini-fab .mat-button-wrapper{line-height:1.1rem;margin-top:-1px;font-size:1rem;font-weight:600}@media screen and (max-width:959px){[_nghost-%COMP%]{max-width:calc(100vw - 30px)}}button[_ngcontent-%COMP%]{margin:2px;display:block;min-width:20px;width:26px;padding:0;height:26px;line-height:30px;opacity:.9;background:#fff!important}button[_ngcontent-%COMP%]:hover{background:#fff}button[_ngcontent-%COMP%]:hover:before{color:#a67481}button[_ngcontent-%COMP%]:before{font-size:30px;color:#8c8c8c;position:absolute;top:-2px;left:-2px}button.info-box-open[_ngcontent-%COMP%]{background:#fff}button.info-box-open[_ngcontent-%COMP%]:before{color:#a67481}.info-box-open[_ngcontent-%COMP%]{background:#a67481}.label[_ngcontent-%COMP%]{font-family:Source Sans Pro Semibold;width:65px;min-width:65px}.content[_ngcontent-%COMP%]{font-family:Source Sans Pro}@media screen and (min-width:959px){.content[_ngcontent-%COMP%]{min-width:210px}}.at-god[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{min-width:60px}  .content em,   .content i{font-family:Source Sans Pro Italic!important;font-style:normal}  .info-button .mat-button-wrapper{display:none}"],data:{animation:[Kd("infoBoxOpen",[$d("true",Jd({opacity:1})),$d("false",Jd({width:"0px",height:"0px",opacity:0})),tf("false => true",[Jd({display:"block"}),Zd("300ms ease-in")]),tf("true => false",[Zd("300ms ease-in")])])]}}),fN),mN=["marker"];function gN(t,e){if(1&t){var n=os();ts(0,"div",10),us("click",function(){$e(n);var t=fs(2);return t.navigate(["/topology","mediations",t.mediation.id,"mediators",t.mediator.relationsTo[0].targetId])}),dl(1,"striphtml"),es()}if(2&t){var i=fs(2);ys("title",fl(1,1,"de"===i.lang?i.mediator.relationsTo[0].target.titleDe:i.mediator.relationsTo[0].target.titleEn))}}function yN(t,e){if(1&t){var n=os();ts(0,"div",11),us("click",function(){$e(n);var t=fs(2);return t.navigate(["/topology","mediations",t.mediation.id,"mediators",t.mediator.relationsTo[0].targetId])}),dl(1,"striphtml"),es()}if(2&t){var i=fs(2);Hs("icon-relation cm-chevron-double-up rel-to-",i.mediator.relationsTo[0].target.id,""),ys("title",fl(1,4,"de"===i.lang?i.mediator.relationsTo[0].target.titleDe:i.mediator.relationsTo[0].target.titleEn))}}function vN(t,e){if(1&t){var n=os();ts(0,"div",11),us("click",function(){$e(n);var t=fs(2);return t.navigate(["/topology","mediations",t.mediation.id,"mediators",t.mediator.relationsTo[1].targetId])}),dl(1,"striphtml"),es()}if(2&t){var i=fs(2);Hs("icon-relation cm-chevron-double-up rel-to-",i.mediator.relationsTo[1].target.id,""),ys("title",fl(1,4,"de"===i.lang?i.mediator.relationsTo[1].target.titleDe:i.mediator.relationsTo[1].target.titleEn))}}function _N(t,e){if(1&t){var n=os();ts(0,"div",11),us("click",function(){$e(n);var t=fs(2);return t.navigate(["/topology","mediations",t.mediation.id,"mediators",t.mediator.relationsTo[2].targetId])}),dl(1,"striphtml"),es()}if(2&t){var i=fs(2);Hs("icon-relation cm-chevron-double-up rel-to-",i.mediator.relationsTo[2].target.id,""),ys("title",fl(1,4,"de"===i.lang?i.mediator.relationsTo[2].target.titleDe:i.mediator.relationsTo[2].target.titleEn))}}function bN(t,e){if(1&t){var n=os();ts(0,"div",11),us("click",function(){$e(n);var t=fs(2);return t.navigate(["/topology","mediations",t.mediation.id,"mediators",t.mediator.relationsTo[3].targetId])}),dl(1,"striphtml"),es()}if(2&t){var i=fs(2);Hs("icon-relation cm-chevron-double-up rel-to-",i.mediator.relationsTo[3].target.id,""),ys("title",fl(1,4,"de"===i.lang?i.mediator.relationsTo[3].target.titleDe:i.mediator.relationsTo[3].target.titleEn))}}function xN(t,e){if(1&t){var n=os();ts(0,"div",12),us("click",function(){$e(n);var t=fs(2);return t.navigate(["/topology","mediations",t.mediation.id,"mediators",t.mediator.relationsFrom[0].sourceId])}),dl(1,"striphtml"),es()}if(2&t){var i=fs(2);ys("title",fl(1,1,"de"===i.lang?i.mediator.relationsFrom[0].source.titleDe:i.mediator.relationsFrom[0].source.titleEn))}}function wN(t,e){if(1&t){var n=os();ts(0,"div",13),us("click",function(){$e(n);var t=fs(2);return t.navigate(["/topology","mediations",t.mediation.id,"mediators",t.mediator.relationsTo[0].targetId])}),dl(1,"striphtml"),es()}if(2&t){var i=fs(2);ys("title",fl(1,1,"de"===i.lang?i.mediator.relationsTo[0].target.titleDe:i.mediator.relationsTo[0].target.titleEn))}}function kN(t,e){if(1&t&&(ts(0,"div",1,2),ts(2,"div",3),Ka(3,gN,2,3,"div",4),Ka(4,yN,2,6,"div",5),Ka(5,vN,2,6,"div",5),Ka(6,_N,2,6,"div",5),Ka(7,bN,2,6,"div",5),Ka(8,xN,2,3,"div",6),Ka(9,wN,2,3,"div",7),es(),ts(10,"div",8),dl(11,"striphtml"),Ln(),ts(12,"svg",9),ns(13,"use"),es(),es(),es()),2&t){var n=fs();yo(3),Ja("ngIf","1"===n.mediation.id),yo(1),Ja("ngIf","3"===n.mediation.id),yo(1),Ja("ngIf","3"===n.mediation.id),yo(1),Ja("ngIf","3"===n.mediation.id),yo(1),Ja("ngIf","3"===n.mediation.id),yo(1),Ja("ngIf","2"===n.mediation.id&&n.mediator.relationsFrom.length),yo(1),Ja("ngIf","2"===n.mediation.id&&n.mediator.relationsTo.length),yo(1),ys("title",fl(11,9,"de"===n.lang?n.mediator.titleDe:n.mediator.titleEn)),yo(3),Xa("href","./assets/icons/cm-icons-mediators.svg#mediator-",n.mediator.id,"",null,"xlink")}}var MN,SN=((MN=function(){function t(e,n){_(this,t),this.mapCmp=e,this.router=n,this.mapAvailable=!0}return x(t,[{key:"ngOnInit",value:function(){this.mapCmp.map||(this.mapAvailable=!1)}},{key:"ngAfterViewInit",value:function(){this.mapCmp.map?this.marker=new YA.Marker(this.markerElement.nativeElement,{offset:[0,0]}).setLngLat([this.mediator.coordinates.lng,this.mediator.coordinates.lat]).addTo(this.mapCmp.map):this.mapAvailable=!1}},{key:"navigate",value:function(t){this.router.navigate(t,{queryParamsHandling:"merge"})}},{key:"ngOnDestroy",value:function(){this.marker&&this.marker.remove()}}]),t}()).\u0275fac=function(t){return new(t||MN)(Qa(cN),Qa(H_))},MN.\u0275cmp=oe({type:MN,selectors:[["cm-map-mediator"]],viewQuery:function(t,e){var n;1&t&&Dl(mN,!0),2&t&&Il(n=Fl())&&(e.markerElement=n.first)},inputs:{mediator:"mediator",mediation:"mediation",lang:"lang"},decls:1,vars:1,consts:[["class","marker selected",4,"ngIf"],[1,"marker","selected"],["marker",""],[1,"outer"],["class","icon-relation up cm-chevron-double-up",3,"title","click",4,"ngIf"],[3,"class","title","click",4,"ngIf"],["class","icon-relation left cm-chevron-double-left",3,"title","click",4,"ngIf"],["class","icon-relation right cm-chevron-double-right",3,"title","click",4,"ngIf"],[1,"icon-wrapper",3,"title"],["viewBox","0 0 150 150",1,"icon","cm-topology-icon"],[1,"icon-relation","up","cm-chevron-double-up",3,"title","click"],[3,"title","click"],[1,"icon-relation","left","cm-chevron-double-left",3,"title","click"],[1,"icon-relation","right","cm-chevron-double-right",3,"title","click"]],template:function(t,e){1&t&&Ka(0,kN,14,11,"div",0),2&t&&Ja("ngIf",e.mapAvailable)},directives:[Lh],pipes:[_A],styles:[".marker[_ngcontent-%COMP%]{font-size:.9rem}.marker[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:90px;height:90px;left:-45px;top:-45px}@media screen and (max-width:959px){.marker[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:60px;height:60px;left:-30px;top:-30px}}.marker[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{fill:#5a5a5a;color:#5a5a5a;position:absolute;background-size:100% 100%;opacity:1;z-index:100;width:100%;height:100%}.marker[_ngcontent-%COMP%]   .outer[_ngcontent-%COMP%]{position:absolute;width:170px;height:170px;border-radius:85px;left:-40px;top:-40px;background-color:hsla(0,0%,69.4%,.8509803921568627);z-index:99}@media screen and (max-width:959px){.marker[_ngcontent-%COMP%]   .outer[_ngcontent-%COMP%]{width:110px;height:110px;border-radius:55px;left:-25px;top:-25px}}.marker.selected[_ngcontent-%COMP%]   .outer[_ngcontent-%COMP%], .marker[_ngcontent-%COMP%]:hover   .outer[_ngcontent-%COMP%]{background-color:hsla(0,0%,91%,.6901960784313725)}.marker[_ngcontent-%COMP%]:focus{outline:0}.marker[_ngcontent-%COMP%]   .icon-relation[_ngcontent-%COMP%]{position:absolute;color:#5a5a5a}.marker[_ngcontent-%COMP%]   .icon-relation[_ngcontent-%COMP%]:hover{cursor:pointer;color:#333;font-weight:700}.marker[_ngcontent-%COMP%]   .up[_ngcontent-%COMP%]{top:12px;left:76px}@media screen and (max-width:959px){.marker[_ngcontent-%COMP%]   .up[_ngcontent-%COMP%]{top:6px;left:47px}}.marker[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{top:77px;left:11px}@media screen and (max-width:959px){.marker[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{top:49px;left:6px}}.marker[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]{bottom:12px;left:76px}@media screen and (max-width:959px){.marker[_ngcontent-%COMP%]   .down[_ngcontent-%COMP%]{bottom:6px;left:47px}}.marker[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{top:77px;right:12px}@media screen and (max-width:959px){.marker[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{top:49px;right:6px}}.marker[_ngcontent-%COMP%]   .rel-to-11[_ngcontent-%COMP%]{top:12px;left:76px}@media screen and (max-width:959px){.marker[_ngcontent-%COMP%]   .rel-to-11[_ngcontent-%COMP%]{top:6px;left:47px}}.marker[_ngcontent-%COMP%]   .rel-to-12[_ngcontent-%COMP%]{top:55px;left:18px;transform:rotate(-72deg)}@media screen and (max-width:959px){.marker[_ngcontent-%COMP%]   .rel-to-12[_ngcontent-%COMP%]{top:30px;left:10px}}.marker[_ngcontent-%COMP%]   .rel-to-13[_ngcontent-%COMP%]{top:55px;right:18px;transform:rotate(72deg)}@media screen and (max-width:959px){.marker[_ngcontent-%COMP%]   .rel-to-13[_ngcontent-%COMP%]{top:30px;right:10px}}.marker[_ngcontent-%COMP%]   .rel-to-14[_ngcontent-%COMP%]{bottom:25px;left:42px;transform:rotate(-144deg)}@media screen and (max-width:959px){.marker[_ngcontent-%COMP%]   .rel-to-14[_ngcontent-%COMP%]{bottom:13px;left:24px}}.marker[_ngcontent-%COMP%]   .rel-to-15[_ngcontent-%COMP%]{bottom:25px;right:42px;transform:rotate(144deg)}@media screen and (max-width:959px){.marker[_ngcontent-%COMP%]   .rel-to-15[_ngcontent-%COMP%]{bottom:13px;right:24px}}"]}),MN);function EN(t,e){if(1&t&&(Ln(),ts(0,"svg",20),ns(1,"use"),es()),2&t){var n=fs();yo(1),Xa("href","./assets/icons/cm-icons-mediations.svg#mediator-",n.selectedMediator.id,"",null,"xlink")}}function LN(t,e){if(1&t&&(Ln(),ts(0,"svg",20),ns(1,"use"),es()),2&t){var n=fs();yo(1),Xa("href","./assets/icons/cm-icons-mediations.svg#mediator-",n.selectedMediator.id,"",null,"xlink")}}function TN(t,e){if(1&t&&(Ln(),ts(0,"svg",20),ns(1,"use"),es()),2&t){var n=fs();yo(1),Xa("href","./assets/icons/cm-icons-mediations.svg#mediator-",n.selectedMediator.id,"",null,"xlink")}}var CN,IN=function(t){return{short:t}},PN=function(t){return{selected:t}},DN=function(){return["/topology/mediations/1/mediators/0"]},ON=function(){return["0","1","2","3","4","5"]},AN=function(){return["/topology/mediations/2/mediators/6"]},RN=function(){return["6","7","8","9","10"]},NN=function(){return["/topology/mediations/3/mediators/11"]},FN=function(){return["11","12","13","14","15"]},YN=((CN=function(){function t(e){_(this,t),this.translate=e,this.height=new vl,this.state=new vl,this.focusedMediation=new vl,this.opened=!0,this.mediationsById={}}return x(t,[{key:"ngOnInit",value:function(){var t=this;this.mediations.forEach(function(e){t.mediationsById[e.id]=e})}},{key:"ngAfterViewInit",value:function(){var t=this;setTimeout(function(){return t.height.emit(t.opened?"220px":"40px")})}},{key:"toggle",value:function(){this.opened=!this.opened,this.height.emit(this.opened?"220px":"40px"),this.state.emit(this.opened?"open":"closed")}},{key:"selectMediation",value:function(t){this.focusedMediation.emit(this.mediationsById[t])}}]),t}()).\u0275fac=function(t){return new(t||CN)(Qa(vx))},CN.\u0275cmp=oe({type:CN,selectors:[["cm-mediations"]],hostVars:3,hostBindings:function(t,e){2&t&&(Vs("@panel",e.opened),Ls("open",e.opened))},inputs:{mediations:"mediations",selectedMediation:"selectedMediation",selectedMediator:"selectedMediator",sidepanelState:"sidepanelState"},outputs:{height:"height",state:"state",focusedMediation:"focusedMediation"},decls:57,vars:46,consts:[[1,"header",3,"click"],["mat-flat-button","","color","warn",1,"panel-control"],["fontSet","fa","fontIcon","fa-caret-down"],[1,"title"],[1,"mediation-container",3,"ngClass"],[1,"hr-container"],[1,"hr-grow"],[1,"hr-gap"],[1,"hr-middle"],["queryParamsHandling","merge",1,"mediation",3,"ngClass","routerLink","mouseenter","mouseleave"],[1,"icon-background"],[1,"icon-wrapper"],["viewBox","0 0 150 150",1,"icon","none-selected","cm-topology-icon"],[0,"xlink","href","./assets/icons/cm-icons-mediations.svg#mediator-1"],["viewBox","0 0 150 150","class","icon selected cm-topology-icon",4,"ngIf"],[1,"mediation-label"],[1,"demand"],[1,"response"],[0,"xlink","href","./assets/icons/cm-icons-mediations.svg#mediator-6"],[0,"xlink","href","./assets/icons/cm-icons-mediations.svg#mediator-11"],["viewBox","0 0 150 150",1,"icon","selected","cm-topology-icon"]],template:function(t,e){1&t&&(ts(0,"div",0),us("click",function(){return e.toggle()}),ts(1,"button",1),ns(2,"mat-icon",2),es(),ts(3,"span",3),zs(4),dl(5,"translate"),es(),es(),ts(6,"div",4),ts(7,"div",5),ns(8,"hr",6),ns(9,"span",7),ns(10,"hr",8),ns(11,"span",7),ns(12,"hr",8),ns(13,"span",7),ns(14,"hr",6),es(),ts(15,"div",9),us("mouseenter",function(){return e.selectMediation("1")})("mouseleave",function(){return e.selectMediation(null)}),ts(16,"div",10),ts(17,"div",11),Ln(),ts(18,"svg",12),ns(19,"use",13),es(),es(),Tn(),ts(20,"div",11),Ka(21,EN,2,1,"svg",14),es(),es(),ts(22,"div",15),ts(23,"div",16),zs(24),dl(25,"translate"),es(),ts(26,"div",17),zs(27),dl(28,"translate"),es(),es(),es(),ts(29,"div",9),us("mouseenter",function(){return e.selectMediation("2")})("mouseleave",function(){return e.selectMediation(null)}),ts(30,"div",10),ts(31,"div",11),Ln(),ts(32,"svg",12),ns(33,"use",18),es(),es(),Tn(),ts(34,"div",11),Ka(35,LN,2,1,"svg",14),es(),es(),ts(36,"div",15),ts(37,"div",16),zs(38),dl(39,"translate"),es(),ts(40,"div",17),zs(41),dl(42,"translate"),es(),es(),es(),ts(43,"div",9),us("mouseenter",function(){return e.selectMediation("3")})("mouseleave",function(){return e.selectMediation(null)}),ts(44,"div",10),ts(45,"div",11),Ln(),ts(46,"svg",12),ns(47,"use",19),es(),es(),Tn(),ts(48,"div",11),Ka(49,TN,2,1,"svg",14),es(),es(),ts(50,"div",15),ts(51,"div",16),zs(52),dl(53,"translate"),es(),ts(54,"div",17),zs(55),dl(56,"translate"),es(),es(),es(),es()),2&t&&(yo(2),Ja("@panelControl",e.opened),yo(2),js(fl(5,18,"mediations.header")),yo(2),Ja("ngClass",sl(32,IN,"full"==e.sidepanelState)),yo(9),Ja("ngClass",sl(34,PN,e.selectedMediation&&"1"===e.selectedMediation.id))("routerLink",al(36,DN)),yo(6),Ja("ngIf",e.selectedMediator&&al(37,ON).includes(e.selectedMediator.id)),yo(3),js(fl(25,20,"mediations.sovereignSignsDemand")),yo(3),js(fl(28,22,"mediations.sovereignSignsResponse")),yo(2),Ja("ngClass",sl(38,PN,e.selectedMediation&&"2"===e.selectedMediation.id))("routerLink",al(40,AN)),yo(6),Ja("ngIf",e.selectedMediator&&al(41,RN).includes(e.selectedMediator.id)),yo(3),js(fl(39,24,"mediations.examiningGazesDemand")),yo(3),js(fl(42,26,"mediations.examiningGazesResponse")),yo(2),Ja("ngClass",sl(42,PN,e.selectedMediation&&"3"===e.selectedMediation.id))("routerLink",al(44,NN)),yo(6),Ja("ngIf",e.selectedMediator&&al(45,FN).includes(e.selectedMediator.id)),yo(3),js(fl(53,28,"mediations.governedTransmissionsDemand")),yo(3),js(fl(56,30,"mediations.governedTransmissionsResponse")))},directives:[iC,ME,kh,kL,U_,Lh],pipes:[_x],styles:["[_nghost-%COMP%]{display:block;position:absolute;z-index:9;bottom:0;width:calc(100vw - 470px);background:rgba(90,90,90,.9);color:#fff;box-sizing:border-box;padding:0 24px;font-family:Source Sans Pro;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}@media screen and (max-width:959px){[_nghost-%COMP%]{bottom:auto;width:100%!important;top:2.5rem;position:fixed}.open[_nghost-%COMP%]{top:calc(2.5rem - 40px);z-index:12}}@media screen and (max-width:959px){[_nghost-%COMP%]{padding:0}}[_nghost-%COMP%]   .panel-control[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;min-width:40px;height:16px;border-radius:0;line-height:15px;margin-left:-28px}@media screen and (max-width:959px){[_nghost-%COMP%]   .panel-control[_ngcontent-%COMP%]{bottom:0;top:auto;transform:scaleY(-1)}}[_nghost-%COMP%]   .panel-control[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:19px;height:15px;line-height:15px;margin-top:-4px}.header[_ngcontent-%COMP%]{font-family:Source Sans Pro;cursor:pointer;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:6px 0;display:inline-block}@media screen and (max-width:959px){.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:6px 20px}}.hr-container[_ngcontent-%COMP%]{top:38px;position:relative;width:100%;display:flex;justify-content:space-evenly}@media screen and (max-width:959px){.hr-container[_ngcontent-%COMP%]{top:35px}}.hr-container[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;color:#8c8c8c;background:#f4f4f4;outline-color:#f4f4f4;border:none;height:1px}.hr-container[_ngcontent-%COMP%]   .hr-gap[_ngcontent-%COMP%]{width:78px}.hr-container[_ngcontent-%COMP%]   .hr-grow[_ngcontent-%COMP%]{flex-grow:1}.hr-container[_ngcontent-%COMP%]   .hr-middle[_ngcontent-%COMP%]{max-width:97px;width:calc(30% - 78px)}.mediation-label[_ngcontent-%COMP%]{margin-top:10px;margin-left:auto;margin-right:auto;color:#8c8c8c;font-size:.8rem;line-height:.9rem;font-family:Source Sans Pro}.mediation-label[_ngcontent-%COMP%]   .response[_ngcontent-%COMP%]{font-family:Source Sans Pro Semibold}@media screen and (max-width:959px){.mediation-label[_ngcontent-%COMP%]{margin-top:0}}.mediation-container[_ngcontent-%COMP%]{margin-top:5px;text-align:center;overflow:hidden}.mediation-container.short[_ngcontent-%COMP%]   .mediation-label[_ngcontent-%COMP%]{white-space:normal;width:100px}.mediation-container.short[_ngcontent-%COMP%]   .mediation-label[_ngcontent-%COMP%]   .demand[_ngcontent-%COMP%]{display:none}@media screen and (max-width:959px){.mediation-container[_ngcontent-%COMP%]{margin-top:0}.mediation-container[_ngcontent-%COMP%]   .mediation-label[_ngcontent-%COMP%]{white-space:normal;width:80px}.mediation-container[_ngcontent-%COMP%]   .mediation-label[_ngcontent-%COMP%]   .demand[_ngcontent-%COMP%]{display:none}}.mediation[_ngcontent-%COMP%]{text-align:center;width:30%;max-width:175px;display:inline-block;white-space:nowrap;position:relative}.mediation[_ngcontent-%COMP%]:hover{cursor:pointer}.mediation[_ngcontent-%COMP%]:hover   .mediation-icon[_ngcontent-%COMP%], .mediation[_ngcontent-%COMP%]:hover   .mediation-label[_ngcontent-%COMP%]{color:#fff}.mediation[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{opacity:1}.mediation[_ngcontent-%COMP%]:focus{outline:0}.selected[_ngcontent-%COMP%]   .mediation-icon[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   .mediation-label[_ngcontent-%COMP%]{color:#fff;cursor:pointer}.selected[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{opacity:1}.icon-wrapper[_ngcontent-%COMP%]{position:absolute;width:56px;height:56px;left:10px}@media screen and (max-width:959px){.icon-wrapper[_ngcontent-%COMP%]{left:5px}}.mediation-examininggaze[_ngcontent-%COMP%]{margin-right:70px;margin-left:70px}.mediation-icon[_ngcontent-%COMP%]{font-size:56px;color:#8c8c8c}.icon-background[_ngcontent-%COMP%]{width:78px;height:50px;display:inline-block;position:relative}@media screen and (max-width:959px){.icon-background[_ngcontent-%COMP%]{width:68px}}.icon[_ngcontent-%COMP%]{width:56px;height:56px;opacity:.5}@media screen and (max-width:959px){.icon[_ngcontent-%COMP%]{width:48px;height:48px}}.none-selected[_ngcontent-%COMP%]:hover{fill:#333;color:#333}"],data:{animation:[Kd("panelControl",[$d("true",Jd({transform:"scaleY(1)"})),$d("false",Jd({transform:"scaleY(-1)"})),tf("false <=> true",Zd("300ms ease-in"))]),Kd("panel",[$d("true",Jd({height:"220px"})),$d("false",Jd({height:"40px"})),tf("false <=> true",Zd("300ms ease-in"))])]}}),CN);function zN(t,e){if(1&t&&(Ln(),ts(0,"svg",20),ns(1,"use"),es()),2&t){var n=fs();yo(1),Xa("href","./assets/icons/cm-icons-mediations.svg#mediator-",n.selectedMediator.id,"",null,"xlink")}}function jN(t,e){if(1&t&&(Ln(),ts(0,"svg",20),ns(1,"use"),es()),2&t){var n=fs();yo(1),Xa("href","./assets/icons/cm-icons-mediations.svg#mediator-",n.selectedMediator.id,"",null,"xlink")}}function BN(t,e){if(1&t&&(Ln(),ts(0,"svg",20),ns(1,"use"),es()),2&t){var n=fs();yo(1),Xa("href","./assets/icons/cm-icons-mediations.svg#mediator-",n.selectedMediator.id,"",null,"xlink")}}var HN,UN=function(t){return{short:t}},VN=function(t){return{selected:t}},qN=function(){return["/topology/mediations/1/mediators/0"]},GN=function(){return["0","1","2","3","4","5"]},WN=function(){return["/topology/mediations/2/mediators/6"]},XN=function(){return["6","7","8","9","10"]},KN=function(){return["/topology/mediations/3/mediators/11"]},ZN=function(){return["11","12","13","14","15"]},QN=((HN=function(){function t(e){_(this,t),this.translate=e,this.height=new vl,this.state=new vl,this.focusedMediation=new vl,this.opened=!1,this.mediationsById={}}return x(t,[{key:"ngOnInit",value:function(){var t=this;this.mediations.forEach(function(e){t.mediationsById[e.id]=e})}},{key:"ngAfterViewInit",value:function(){var t=this;setTimeout(function(){return t.height.emit(t.opened?"140px":"40px")})}},{key:"toggle",value:function(){this.opened=!this.opened,this.height.emit(this.opened?"140px":"40px"),this.state.emit(this.opened?"open":"closed")}},{key:"selectMediation",value:function(t){this.focusedMediation.emit(this.mediationsById[t])}}]),t}()).\u0275fac=function(t){return new(t||HN)(Qa(vx))},HN.\u0275cmp=oe({type:HN,selectors:[["cm-mediations-mobile"]],hostVars:3,hostBindings:function(t,e){2&t&&(Vs("@panel",e.opened),Ls("open",e.opened))},inputs:{mediations:"mediations",selectedMediation:"selectedMediation",selectedMediator:"selectedMediator",sidepanelState:"sidepanelState"},outputs:{height:"height",state:"state",focusedMediation:"focusedMediation"},decls:57,vars:47,consts:[[1,"header",3,"click"],["mat-flat-button","","color","warn",1,"panel-control"],["fontSet","fa","fontIcon","fa-caret-down"],[1,"title"],[1,"mediation-container",3,"ngClass"],[1,"hr-container"],[1,"hr-grow"],[1,"hr-gap"],[1,"hr-middle"],["queryParamsHandling","merge",1,"mediation",3,"ngClass","routerLink","mouseenter","mouseleave"],[1,"icon-background"],[1,"icon-wrapper"],["viewBox","0 0 150 150",1,"icon","none-selected","cm-topology-icon"],[0,"xlink","href","./assets/icons/cm-icons-mediations.svg#mediator-1"],["viewBox","0 0 150 150","class","icon selected cm-topology-icon",4,"ngIf"],[1,"mediation-label"],[1,"demand"],[1,"response"],[0,"xlink","href","./assets/icons/cm-icons-mediations.svg#mediator-6"],[0,"xlink","href","./assets/icons/cm-icons-mediations.svg#mediator-11"],["viewBox","0 0 150 150",1,"icon","selected","cm-topology-icon"]],template:function(t,e){1&t&&(ts(0,"div",0),us("click",function(){return e.toggle()}),ts(1,"button",1),ns(2,"mat-icon",2),es(),ts(3,"span",3),zs(4),dl(5,"translate"),es(),es(),ts(6,"div",4),ts(7,"div",5),ns(8,"hr",6),ns(9,"span",7),ns(10,"hr",8),ns(11,"span",7),ns(12,"hr",8),ns(13,"span",7),ns(14,"hr",6),es(),ts(15,"div",9),us("mouseenter",function(){return e.selectMediation("1")})("mouseleave",function(){return e.selectMediation(null)}),ts(16,"div",10),ts(17,"div",11),Ln(),ts(18,"svg",12),ns(19,"use",13),es(),es(),Tn(),ts(20,"div",11),Ka(21,zN,2,1,"svg",14),es(),es(),ts(22,"div",15),ts(23,"div",16),zs(24),dl(25,"translate"),es(),ts(26,"div",17),zs(27),dl(28,"translate"),es(),es(),es(),ts(29,"div",9),us("mouseenter",function(){return e.selectMediation("2")})("mouseleave",function(){return e.selectMediation(null)}),ts(30,"div",10),ts(31,"div",11),Ln(),ts(32,"svg",12),ns(33,"use",18),es(),es(),Tn(),ts(34,"div",11),Ka(35,jN,2,1,"svg",14),es(),es(),ts(36,"div",15),ts(37,"div",16),zs(38),dl(39,"translate"),es(),ts(40,"div",17),zs(41),dl(42,"translate"),es(),es(),es(),ts(43,"div",9),us("mouseenter",function(){return e.selectMediation("3")})("mouseleave",function(){return e.selectMediation(null)}),ts(44,"div",10),ts(45,"div",11),Ln(),ts(46,"svg",12),ns(47,"use",19),es(),es(),Tn(),ts(48,"div",11),Ka(49,BN,2,1,"svg",14),es(),es(),ts(50,"div",15),ts(51,"div",16),zs(52),dl(53,"translate"),es(),ts(54,"div",17),zs(55),dl(56,"translate"),es(),es(),es(),es()),2&t&&(Ja("@header",e.opened),yo(2),Ja("@panelControl",e.opened),yo(2),js(fl(5,19,"mediations.header")),yo(2),Ja("ngClass",sl(33,UN,"full"==e.sidepanelState)),yo(9),Ja("ngClass",sl(35,VN,e.selectedMediation&&"1"===e.selectedMediation.id))("routerLink",al(37,qN)),yo(6),Ja("ngIf",e.selectedMediator&&al(38,GN).includes(e.selectedMediator.id)),yo(3),js(fl(25,21,"mediations.sovereignSignsDemand")),yo(3),js(fl(28,23,"mediations.sovereignSignsResponse")),yo(2),Ja("ngClass",sl(39,VN,e.selectedMediation&&"2"===e.selectedMediation.id))("routerLink",al(41,WN)),yo(6),Ja("ngIf",e.selectedMediator&&al(42,XN).includes(e.selectedMediator.id)),yo(3),js(fl(39,25,"mediations.examiningGazesDemand")),yo(3),js(fl(42,27,"mediations.examiningGazesResponse")),yo(2),Ja("ngClass",sl(43,VN,e.selectedMediation&&"3"===e.selectedMediation.id))("routerLink",al(45,KN)),yo(6),Ja("ngIf",e.selectedMediator&&al(46,ZN).includes(e.selectedMediator.id)),yo(3),js(fl(53,29,"mediations.governedTransmissionsDemand")),yo(3),js(fl(56,31,"mediations.governedTransmissionsResponse")))},directives:[iC,ME,kh,kL,U_,Lh],pipes:[_x],styles:["[_nghost-%COMP%]{display:block;position:absolute;overflow:hidden;z-index:9;bottom:0;height:0;width:calc(100vw - 470px);background:rgba(90,90,90,.9);color:#fff;box-sizing:border-box;padding:0 24px;font-family:Source Sans Pro;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}@media screen and (max-width:959px){[_nghost-%COMP%]{bottom:auto;width:100%!important;top:2.5rem;position:fixed}.open[_nghost-%COMP%]{z-index:12}}@media screen and (max-width:959px){[_nghost-%COMP%]{padding:0}}[_nghost-%COMP%]   .panel-control[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;min-width:40px;height:16px;border-radius:0;line-height:15px;margin-left:-28px}@media screen and (max-width:959px){[_nghost-%COMP%]   .panel-control[_ngcontent-%COMP%]{bottom:0;top:auto;transform:scaleY(-1)}}[_nghost-%COMP%]   .panel-control[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:19px;height:15px;line-height:15px;margin-top:-4px}.header[_ngcontent-%COMP%]{width:100%;overflow:hidden;font-family:Source Sans Pro;cursor:pointer;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:6px 0;display:inline-block}@media screen and (max-width:959px){.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:6px 14px}}.hr-container[_ngcontent-%COMP%]{top:38px;position:relative;width:100%;display:flex;justify-content:space-evenly}@media screen and (max-width:959px){.hr-container[_ngcontent-%COMP%]{top:35px}}.hr-container[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:inline-block;color:#8c8c8c;background:#f4f4f4;outline-color:#f4f4f4;border:none;height:1px}.hr-container[_ngcontent-%COMP%]   .hr-gap[_ngcontent-%COMP%]{width:78px}.hr-container[_ngcontent-%COMP%]   .hr-grow[_ngcontent-%COMP%]{flex-grow:1}.hr-container[_ngcontent-%COMP%]   .hr-middle[_ngcontent-%COMP%]{max-width:97px;width:calc(30% - 78px)}.mediation-label[_ngcontent-%COMP%]{margin-top:10px;margin-left:auto;margin-right:auto;color:#8c8c8c;font-size:.8rem;line-height:.9rem;font-family:Source Sans Pro}.mediation-label[_ngcontent-%COMP%]   .response[_ngcontent-%COMP%]{font-family:Source Sans Pro Semibold}@media screen and (max-width:959px){.mediation-label[_ngcontent-%COMP%]{margin-top:0}}.mediation-container[_ngcontent-%COMP%]{width:100%;margin-top:20px;text-align:center;overflow:hidden}@media screen and (max-width:959px){.mediation-container[_ngcontent-%COMP%]{margin-top:0}.mediation-container[_ngcontent-%COMP%]   .mediation-label[_ngcontent-%COMP%]{white-space:normal;width:80px}.mediation-container[_ngcontent-%COMP%]   .mediation-label[_ngcontent-%COMP%]   .demand[_ngcontent-%COMP%]{display:none}}.mediation[_ngcontent-%COMP%]{text-align:center;width:30%;max-width:175px;display:inline-block;white-space:nowrap;position:relative}.mediation[_ngcontent-%COMP%]:hover{cursor:pointer}.mediation[_ngcontent-%COMP%]:hover   .mediation-icon[_ngcontent-%COMP%], .mediation[_ngcontent-%COMP%]:hover   .mediation-label[_ngcontent-%COMP%]{color:#fff}.mediation[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{opacity:1}.mediation[_ngcontent-%COMP%]:focus{outline:0}.selected[_ngcontent-%COMP%]   .mediation-icon[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]   .mediation-label[_ngcontent-%COMP%]{color:#fff;cursor:pointer}.selected[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{opacity:1}.icon-wrapper[_ngcontent-%COMP%]{position:absolute;width:56px;height:56px;left:10px}@media screen and (max-width:959px){.icon-wrapper[_ngcontent-%COMP%]{left:5px}}.mediation-examininggaze[_ngcontent-%COMP%]{margin-right:70px;margin-left:70px}.mediation-icon[_ngcontent-%COMP%]{font-size:56px;color:#8c8c8c}.icon-background[_ngcontent-%COMP%]{width:78px;height:50px;display:inline-block;position:relative}@media screen and (max-width:959px){.icon-background[_ngcontent-%COMP%]{width:68px}}.icon[_ngcontent-%COMP%]{width:56px;height:56px;opacity:.5}@media screen and (max-width:959px){.icon[_ngcontent-%COMP%]{width:48px;height:48px}}.none-selected[_ngcontent-%COMP%]:hover{fill:#333;color:#333}"],data:{animation:[Kd("panelControl",[$d("true",Jd({transform:"scaleY(1)"})),$d("false",Jd({transform:"scaleY(-1)"})),tf("false <=> true",Zd("300ms ease-in"))]),Kd("panel",[$d("true",Jd({height:"140px"})),$d("false",Jd({height:"40px"})),tf("false <=> true",Zd("300ms ease-in"))]),Kd("header",[$d("false",Jd({height:"40px"})),$d("true",Jd({height:"0px"})),tf("false <=> true",Zd("300ms ease-in"))])]}}),HN),JN=function(t,e){return["/topology","mediations",t,"mediators",e]};function $N(t,e){if(1&t){var n=os();ts(0,"div",5),us("mouseenter",function(){$e(n);var t=e.$implicit;return fs().selectMediator(t)})("mouseleave",function(){return $e(n),fs().selectMediator(null)}),ts(1,"div",6),Ln(),ts(2,"svg",7),ns(3,"use"),es(),Tn(),ns(4,"br"),ts(5,"div",8),zs(6),es(),es(),es()}if(2&t){var i=e.$implicit,r=fs();Ja("@med1Blur",r.selectedMediationId),yo(1),Ja("routerLink",ul(4,JN,i.mediationId,i.id)),yo(2),Xa("href","./assets/icons/cm-icons-mediators.svg#mediator-",i.id,"",null,"xlink"),yo(3),Bs(" ","de"===r.lang?i.medium.titleDe:i.medium.titleEn," ")}}function tF(t,e){if(1&t){var n=os();ts(0,"div",5),us("mouseenter",function(){$e(n);var t=e.$implicit;return fs().selectMediator(t)})("mouseleave",function(){return $e(n),fs().selectMediator(null)}),ts(1,"div",6),Ln(),ts(2,"svg",7),ns(3,"use"),es(),Tn(),ns(4,"br"),ts(5,"div",8),zs(6),es(),es(),es()}if(2&t){var i=e.$implicit,r=fs();Ja("@med2Blur",r.selectedMediationId),yo(1),Ja("routerLink",ul(4,JN,i.mediationId,i.id)),yo(2),Xa("href","./assets/icons/cm-icons-mediators.svg#mediator-",i.id,"",null,"xlink"),yo(3),Bs(" ","de"===r.lang?i.medium.titleDe:i.medium.titleEn," ")}}function eF(t,e){if(1&t){var n=os();ts(0,"div",5),us("mouseenter",function(){$e(n);var t=e.$implicit;return fs().selectMediator(t)})("mouseleave",function(){return $e(n),fs().selectMediator(null)}),ts(1,"div",6),Ln(),ts(2,"svg",7),ns(3,"use"),es(),Tn(),ns(4,"br"),ts(5,"div",8),zs(6),es(),es(),es()}if(2&t){var i=e.$implicit,r=fs();Ja("@med3Blur",r.selectedMediationId),yo(1),Ja("routerLink",ul(4,JN,i.mediationId,i.id)),yo(2),Xa("href","./assets/icons/cm-icons-mediators.svg#mediator-",i.id,"",null,"xlink"),yo(3),Bs(" ","de"===r.lang?i.medium.titleDe:i.medium.titleEn," ")}}var nF,iF=function(t){return{"not-selected":t}},rF=((nF=function(){function t(){_(this,t),this.overlayRightSize="0px",this.overlayBottomSize="0px",this.focusedMediation=new vl,this.focusedMediator=new vl,this.mediationsById={}}return x(t,[{key:"ngOnInit",value:function(){var t=this;this.mediations.forEach(function(e){t.mediationsById[e.id]=e})}},{key:"selectMediation",value:function(t){this.selectedMediationId=t,this.focusedMediation.emit(this.mediationsById[t])}},{key:"selectMediator",value:function(t){this.focusedMediator.emit(t)}}]),t}()).\u0275fac=function(t){return new(t||nF)},nF.\u0275cmp=oe({type:nF,selectors:[["cm-start-selector"]],hostVars:4,hostBindings:function(t,e){2&t&&Es("right",e.overlayRightSize)("bottom",e.overlayBottomSize)},inputs:{mediators:"mediators",mediations:"mediations",selectedMediationId:"selectedMediationId",lang:"lang",overlayRightSize:"overlayRightSize",overlayBottomSize:"overlayBottomSize"},outputs:{focusedMediation:"focusedMediation",focusedMediator:"focusedMediator"},decls:10,vars:9,consts:[[1,"start-container"],[1,"mediation-container"],[1,"mediation",3,"mouseenter","mouseleave"],["class","mediator",3,"mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"mediation",3,"ngClass","mouseenter","mouseleave"],[1,"mediator",3,"mouseenter","mouseleave"],[3,"routerLink"],["viewBox","0 0 150 150",1,"icon","cm-topology-icon"],[1,"mediator-label"]],template:function(t,e){1&t&&(ts(0,"div",0),ts(1,"div",1),ts(2,"div",2),us("mouseenter",function(){return e.selectMediation("1")})("mouseleave",function(){return e.selectMediation(null)}),Ka(3,$N,7,7,"div",3),es(),es(),ts(4,"div",1),ts(5,"div",4),us("mouseenter",function(){return e.selectMediation("2")})("mouseleave",function(){return e.selectMediation(null)}),Ka(6,tF,7,7,"div",3),es(),es(),ts(7,"div",1),ts(8,"div",4),us("mouseenter",function(){return e.selectMediation("3")})("mouseleave",function(){return e.selectMediation(null)}),Ka(9,eF,7,7,"div",3),es(),es(),es()),2&t&&(yo(3),Ja("ngForOf",e.mediators.slice(0,5)),yo(2),Ja("ngClass",sl(5,iF,"1"===e.selectedMediationId||"3"===e.selectedMediationId)),yo(1),Ja("ngForOf",e.mediators.slice(5,10)),yo(2),Ja("ngClass",sl(7,iF,"1"===e.selectedMediationId||"2"===e.selectedMediationId)),yo(1),Ja("ngForOf",e.mediators.slice(10,15)))},directives:[Sh,kh,kL,U_],styles:["[_nghost-%COMP%]{position:absolute;top:3.3rem;left:0;display:flex;justify-content:center;align-items:center}.start-container[_ngcontent-%COMP%]{width:100%;height:100%;max-width:800px;max-height:600px;z-index:2}.mediator[_ngcontent-%COMP%]{display:inline-block;width:20%;text-align:center}.mediator[_ngcontent-%COMP%]:focus{outline:0}.mediator[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background-size:100% 100%;cursor:pointer;width:90px;height:90px;display:inline-block}.mediation-container[_ngcontent-%COMP%]{height:33%;display:flex;align-items:center}.mediation[_ngcontent-%COMP%]{width:100%;align-items:center;display:flex;cursor:pointer}.mediator-label[_ngcontent-%COMP%]{display:inline-block;font-size:.8rem;font-family:Source Sans Pro;color:#333;position:relative;top:-2px;line-height:2;background-color:#fff;padding:0 12px;border-radius:4px}"],data:{animation:[Kd("med1Blur",[$d("2",Jd({opacity:"0.5"})),$d("3",Jd({opacity:"0.5"})),tf("* <=> *",Zd("200ms ease-in"))]),Kd("med2Blur",[$d("1",Jd({opacity:"0.5"})),$d("3",Jd({opacity:"0.5"})),tf("* <=> *",Zd("200ms ease-in"))]),Kd("med3Blur",[$d("1",Jd({opacity:"0.5"})),$d("2",Jd({opacity:"0.5"})),tf("* <=> *",Zd("200ms ease-in"))])]}}),nF);function oF(t,e){if(1&t&&(ts(0,"div",11),zs(1),es()),2&t){var n=fs().$implicit,i=fs();yo(1),Bs(" ","de"===i.lang?n.medium.titleDe:n.medium.titleEn," ")}}var aF=function(t,e,n,i,r){return{"gallery-item-first":t,"gallery-item-last":e,"gallery-item-selected":n,"gallery-item-next":i,"gallery-item-previous":r}};function sF(t,e){if(1&t){var n=os();ts(0,"div",7),ts(1,"div",8),us("click",function(){$e(n);var t=e.$implicit;return fs().navigate(t)}),Ln(),ts(2,"svg",9),ns(3,"use"),es(),Tn(),ns(4,"br"),Ka(5,oF,2,1,"div",10),es(),es()}if(2&t){var i=e.$implicit,r=fs();Ja("ngClass",(o=aF,a=i===r.firstMediator,s=i===r.lastMediator,u=i===r.selectedMediator,l=i===r.nextMediator,c=i===r.previousMediator,h=un()+3,d=Qe(),f=function(t,e,n,i,r,o){var a=qa(t,e,n,i);return qa(t,e+2,r,o)||a}(d,h,a,s,u,l),Va(d,h+4,c)||f?Ha(d,h+5,o(a,s,u,l,c)):Ua(d,h+5))),yo(3),Xa("href","./assets/icons/cm-icons-mediators.svg#mediator-",i.id,"",null,"xlink"),yo(2),Ja("ngIf",i===r.selectedMediator)}var o,a,s,u,l,c,h,d,f}var uF,lF=((uF=function(){function t(e){_(this,t),this.router=e}return x(t,[{key:"ngOnInit",value:function(){this.selectMediatorByIndex(0)}},{key:"navigate",value:function(t){t===this.selectedMediator&&this.router.navigate(["/topology","mediations",t.mediationId,"mediators",t.id],{queryParamsHandling:"merge"})}},{key:"next",value:function(){this.selectMediatorByIndex((this.currentIndex+1)%5)}},{key:"previous",value:function(){this.selectMediatorByIndex((this.currentIndex+4)%5)}},{key:"selectMediatorByIndex",value:function(t){this.selectedMediator=this.mediators[t],this.previousMediator=this.mediators[(t+4)%5],this.lastMediator=this.mediators[(t+2)%5],this.nextMediator=this.mediators[(t+1)%5],this.firstMediator=this.mediators[(t+3)%5],this.currentIndex=t}}]),t}()).\u0275fac=function(t){return new(t||uF)(Qa(H_))},uF.\u0275cmp=oe({type:uF,selectors:[["cm-mediator-switcher-mobile"]],inputs:{mediators:"mediators",lang:"lang"},decls:7,vars:1,consts:[[1,"gallery"],[1,"gallery-container"],["class","gallery-item mediator",3,"ngClass",4,"ngFor","ngForOf"],[1,"previous-icon","icon",3,"click"],[1,"cm-chevron-left"],[1,"next-icon","icon",3,"click"],[1,"cm-chevron-right"],[1,"gallery-item","mediator",3,"ngClass"],[3,"click"],["viewBox","0 0 150 150",1,"icon","cm-topology-icon"],["class","mediator-label",4,"ngIf"],[1,"mediator-label"]],template:function(t,e){1&t&&(ts(0,"div",0),ts(1,"div",1),Ka(2,sF,6,9,"div",2),es(),ts(3,"div",3),us("click",function(){return e.previous()}),ns(4,"i",4),es(),ts(5,"div",5),us("click",function(){return e.next()}),ns(6,"i",6),es(),es()),2&t&&(yo(2),Ja("ngForOf",e.mediators))},directives:[Sh,kh,kL,Lh],styles:[".gallery[_ngcontent-%COMP%]{width:300px;height:110px;position:absolute}.gallery-container[_ngcontent-%COMP%]{display:flex;height:110px;margin:0 auto;max-width:1000px;position:relative;width:250px}.mediator[_ngcontent-%COMP%]{text-align:center;width:100px;height:110px}.mediator[_ngcontent-%COMP%]:focus{outline:0}.mediator[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background-size:100% 100%;cursor:pointer;display:inline-block}.mediator-label[_ngcontent-%COMP%]{display:inline-block;font-size:.8rem;font-family:Source Sans Pro;color:#333;position:relative;top:-2px;background-color:#fff;padding:0 12px;border-radius:4px;line-height:1.7}@media screen and (max-height:539px){.mediator-label[_ngcontent-%COMP%]{display:none}}.gallery-item[_ngcontent-%COMP%]{position:absolute;transition:all .3s ease-in-out;z-index:3;opacity:.7}.gallery-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:60px;height:60px;top:10px;position:relative}.gallery-item.gallery-item-selected[_ngcontent-%COMP%]{left:50%;transform:translateX(-50%);z-index:5;opacity:1}.gallery-item.gallery-item-selected[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:80px;height:80px;top:0;position:relative}.gallery-item.gallery-item-next[_ngcontent-%COMP%], .gallery-item.gallery-item-previous[_ngcontent-%COMP%]{height:100px;width:100px;opacity:.9;z-index:4}.gallery-item.gallery-item-next[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .gallery-item.gallery-item-previous[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:70px;height:70px;top:5px;position:relative}.gallery-item.gallery-item-previous[_ngcontent-%COMP%]{left:30%;transform:translateX(-50%)}.gallery-item.gallery-item-next[_ngcontent-%COMP%]{left:70%;transform:translateX(-50%)}.gallery-item.gallery-item-first[_ngcontent-%COMP%]{left:15%;transform:translateX(-50%)}.gallery-item.gallery-item-last[_ngcontent-%COMP%]{left:85%;transform:translateX(-50%)}.previous-icon[_ngcontent-%COMP%]{position:absolute;width:100px;height:110px;font-size:30px;font-weight:400;top:0;left:0;color:#5a5a5a;z-index:10}.previous-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:25px;left:0}.next-icon[_ngcontent-%COMP%]{width:100px;height:110px;font-size:30px;top:0;color:#5a5a5a;z-index:10}.next-icon[_ngcontent-%COMP%], .next-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:0}.next-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{top:25px}"]}),uF),cF=function(t,e){return["/topology","mediations",t,"mediators",e]},hF=function(t){return{info:t}};function dF(t,e){if(1&t&&(ts(0,"div",4),Ln(),ts(1,"svg",5),ns(2,"use"),es(),Tn(),ns(3,"br"),ts(4,"div",6),zs(5),es(),es()),2&t){var n=e.$implicit,i=fs(2);Hs("mediator icon cm-mediator-",n.medium.titleEn.toLowerCase(),""),Ja("routerLink",ul(7,cF,n.mediationId,n.id))("queryParams",sl(10,hF,i.sidepanelStateForLinks)),yo(2),Xa("href","./assets/icons/cm-icons-mediators.svg#mediator-",n.id,"",null,"xlink"),yo(3),Bs(" ","de"===i.lang?n.medium.titleDe:n.medium.titleEn," ")}}function fF(t,e){if(1&t&&(ts(0,"div"),Ka(1,dF,6,12,"div",3),es()),2&t){var n=fs();yo(1),Ja("ngForOf",n.mediators.slice(0,5))}}function pF(t,e){if(1&t&&ns(0,"cm-mediator-switcher-mobile",7),2&t){var n=fs();Ja("mediators",n.mediators.slice(0,5))("lang",n.lang)}}var mF,gF,yF=((gF=function(){function t(){_(this,t),this.overlayRightSize="0px",this.overlayBottomSize="0px"}return x(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||gF)},gF.\u0275cmp=oe({type:gF,selectors:[["cm-god-selector"]],hostVars:4,hostBindings:function(t,e){2&t&&Es("right",e.overlayRightSize)("bottom",e.overlayBottomSize)},inputs:{mediators:"mediators",lang:"lang",isMobile:"isMobile",sidepanelStateForLinks:"sidepanelStateForLinks",overlayRightSize:"overlayRightSize",overlayBottomSize:"overlayBottomSize"},decls:4,vars:2,consts:[[1,"god-container"],[4,"ngIf","ngIfElse"],["carousel",""],["queryParamsHandling","merge",3,"class","routerLink","queryParams",4,"ngFor","ngForOf"],["queryParamsHandling","merge",3,"routerLink","queryParams"],["viewBox","0 0 150 150",1,"icon","cm-topology-icon"],[1,"mediator-label"],[3,"mediators","lang"]],template:function(t,e){if(1&t&&(ts(0,"div",0),Ka(1,fF,2,1,"div",1),Ka(2,pF,1,2,"ng-template",null,2,Bl),es()),2&t){var n=Za(3);yo(1),Ja("ngIf",!e.isMobile)("ngIfElse",n)}},directives:[Lh,Sh,U_,lF],styles:["[_nghost-%COMP%]{position:fixed;top:3.3rem;left:0;display:flex;justify-content:center;align-items:center}@media screen and (max-width:959px){[_nghost-%COMP%]{top:85px}}[_nghost-%COMP%]   .icon[_ngcontent-%COMP%]{width:90px;height:90px;cursor:pointer}[_nghost-%COMP%]   .mediator-label[_ngcontent-%COMP%]{display:inline-block;font-size:.8rem;font-family:Source Sans Pro;color:#333;position:relative;top:-2px;line-height:2;background-color:#fff;padding:0 12px;border-radius:4px;margin-top:8px}[_nghost-%COMP%]   .cm-mediator-leader[_ngcontent-%COMP%]{position:absolute;top:0;left:155px;text-align:center}[_nghost-%COMP%]   .cm-mediator-editorial[_ngcontent-%COMP%]{position:absolute;top:130px;left:0;text-align:center}[_nghost-%COMP%]   .cm-mediator-residence[_ngcontent-%COMP%]{position:absolute;top:130px;right:0;text-align:center}[_nghost-%COMP%]   .cm-mediator-theater[_ngcontent-%COMP%]{position:absolute;bottom:0;left:70px;text-align:center}[_nghost-%COMP%]   .cm-mediator-reframing[_ngcontent-%COMP%]{position:absolute;bottom:0;right:70px;text-align:center}[_nghost-%COMP%]   .god-container[_ngcontent-%COMP%]{width:400px;height:400px;text-align:center;position:relative}@media screen and (max-width:959px){[_nghost-%COMP%]   .god-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}}cm-mediator-switcher-mobile[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}"]}),gF),vF=((mF=function(){function t(){_(this,t)}return x(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||mF)},mF.\u0275cmp=oe({type:mF,selectors:[["cm-start-selector-mobile"]],inputs:{mediators:"mediators",lang:"lang"},decls:7,vars:6,consts:[[1,"start-container"],[1,"mediation-container"],[3,"mediators","lang"]],template:function(t,e){1&t&&(ts(0,"div",0),ts(1,"div",1),ns(2,"cm-mediator-switcher-mobile",2),es(),ts(3,"div",1),ns(4,"cm-mediator-switcher-mobile",2),es(),ts(5,"div",1),ns(6,"cm-mediator-switcher-mobile",2),es(),es()),2&t&&(yo(2),Ja("mediators",e.mediators.slice(0,5))("lang",e.lang),yo(2),Ja("mediators",e.mediators.slice(5,10))("lang",e.lang),yo(2),Ja("mediators",e.mediators.slice(10,15))("lang",e.lang))},directives:[lF],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:1px}cm-mediator-switcher-mobile[_ngcontent-%COMP%]{align-items:center}.start-container[_ngcontent-%COMP%], cm-mediator-switcher-mobile[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:center}.start-container[_ngcontent-%COMP%]{max-width:800px;max-height:600px;z-index:2;flex-direction:column}.mediation-container[_ngcontent-%COMP%]{height:33%;display:flex;align-items:center}"]}),mF),_F=["mapattrib"];function bF(t,e){1&t&&(ts(0,"a",20),zs(1),dl(2,"translate"),es()),2&t&&(yo(1),js(fl(2,1,"map.attrib.freytag")))}function xF(t,e){1&t&&(ts(0,"span"),ts(1,"a",21),zs(2),dl(3,"translate"),es(),es()),2&t&&(yo(2),js(fl(3,1,"map.attrib.buildings")))}function wF(t,e){1&t&&(ts(0,"a",22),zs(1),dl(2,"translate"),es()),2&t&&(yo(1),js(fl(2,1,"map.attrib.world")))}function kF(t,e){if(1&t&&(ts(0,"div",16),Ka(1,bF,3,3,"a",17),Ka(2,xF,4,3,"span",18),Ka(3,wF,3,3,"ng-template",null,19,Bl),es()),2&t){var n=Za(4),i=fs(2);Ja("@mapattribOpen",i.mapAttribIsOpen),yo(1),Ja("ngIf",i.selectedMediator&&"0"!==i.selectedMediator.id)("ngIfElse",n),yo(1),Ja("ngIf",i.selectedMediation&&"3"===i.selectedMediation.id)}}var MF=function(t){return{isOpen:t}};function SF(t,e){if(1&t){var n=os();ts(0,"div",13),ts(1,"button",14),us("click",function(){$e(n);var t=fs();return t.mapAttribIsOpen=!t.mapAttribIsOpen}),es(),Ka(2,kF,5,4,"div",15),es()}if(2&t){var i=fs();Ja("ngClass",sl(2,MF,i.mapAttribIsOpen)),yo(2),Ja("ngIf",i.isBrowser)}}function EF(t,e){if(1&t&&ns(0,"cm-map-mediator",25),2&t){var n=fs(2);Ja("mediator",n.visibleMediator)("mediation",n.selectedMediation)("lang",n.translate.currentLang)}}function LF(t,e){if(1&t&&(ts(0,"cm-map",23),Ka(1,EF,1,3,"cm-map-mediator",24),es()),2&t){var n=fs();Ja("selectedMediation",n.selectedMediation)("selectedMediator",n.selectedMediator)("isMobile",n.isMobile)("@mapTopOffset",n.mediationState)("@mapLeftOffset",n.sidepanelState),yo(1),Ja("ngIf",n.visibleMediator)}}function TF(t,e){if(1&t&&ns(0,"cm-map-mediator",25),2&t){var n=fs(2);Ja("mediator",n.visibleMediator)("mediation",n.selectedMediation)("lang",n.translate.currentLang)}}function CF(t,e){if(1&t&&(ts(0,"cm-map",23),Ka(1,TF,1,3,"cm-map-mediator",24),es()),2&t){var n=fs();Ja("selectedMediation",n.selectedMediation)("selectedMediator",n.selectedMediator)("isMobile",n.isMobile),yo(1),Ja("ngIf",n.visibleMediator)}}function IF(t,e){if(1&t){var n=os();ts(0,"div",32),ts(1,"button",33),us("click",function(){return $e(n),fs(2).showCite()}),ns(2,"span",34),es(),ns(3,"h2",35),es()}if(2&t){var i=fs(2);Ja("@titleHeader",i.showTitleHeader),yo(1),Ja("title","de"===i.translate.currentLang?"Metadaten":"Metadata"),yo(2),Ja("innerHtml","de"===i.translate.currentLang?i.selectedMediator.titleDe:i.selectedMediator.titleEn,_r)}}function PF(t,e){if(1&t&&(ts(0,"div",36),ts(1,"span",37),zs(2),es(),ts(3,"span",38),zs(4),es(),es()),2&t){var n=fs(2);yo(2),Bs("","de"===n.translate.currentLang?n.selectedMediation.demandDe:n.selectedMediation.demandEn,":\xa0"),yo(2),js("de"===n.translate.currentLang?n.selectedMediation.responseDe:n.selectedMediation.responseEn)}}function DF(t,e){if(1&t){var n=os();ts(0,"div",39),ts(1,"button",40),us("click",function(){return $e(n),fs(2).scrollUp()}),ns(2,"span",41),es(),es()}2&t&&Ja("@titleHeader",fs(2).showTitleHeader)}function OF(t,e){if(1&t){var n=os();ts(0,"div",42),ts(1,"cm-info-container",43),us("citeClick",function(){return $e(n),fs(2).showCite()})("moreClick",function(){return $e(n),fs(2).toggleInformationPanel()})("sectionChange",function(t){return $e(n),fs(2).sectionChange(t)})("showTitleHeader",function(t){return $e(n),fs(2).showTitleHeader=t}),es(),es()}if(2&t){var i=fs(2);yo(1),Ja("lang",i.translate.currentLang)("title","de"===i.translate.currentLang?i.selectedMediator.titleDe:i.selectedMediator.titleEn)("subTitle","de"===i.translate.currentLang?i.selectedMediator.medium.titleDe.toUpperCase():i.selectedMediator.medium.titleEn.toUpperCase())("hideSubTitle","0"===i.selectedMediator.id)("state",i.sidepanelState)("abstract","de"===i.translate.currentLang?i.selectedMediator.abstractDe:i.selectedMediator.abstractEn)("content","de"===i.translate.currentLang?i.information.contentDe:i.information.contentEn)("media",i.information.media)("readMoreText","de"===i.translate.currentLang?"WEITERLESEN":"READ MORE")("hideReadMoreText","0"===i.selectedMediator.id)}}function AF(t,e){if(1&t&&(ts(0,"div",46),ts(1,"div",47),ts(2,"h1",48),zs(3),es(),ns(4,"cm-information",49),ts(5,"button",50),zs(6,"START"),es(),es(),es()),2&t){var n=fs(3);yo(3),js("de"===n.translate.currentLang?n.page.titleDe:n.page.titleEn),yo(1),Ja("content","de"===n.translate.currentLang?n.page.abstractDe:n.page.abstractEn)("lang",n.translate.currentLang)}}function RF(t,e){if(1&t){var n=os();ts(0,"div",46),ts(1,"div",51),ts(2,"button",33),us("click",function(){return $e(n),fs(3).showCite()}),ns(3,"span",34),es(),ts(4,"h2",48),zs(5),es(),ns(6,"cm-information",49),es(),es()}if(2&t){var i=fs(3);yo(2),Ja("title","de"===i.translate.currentLang?"Metadaten":"Metadata"),yo(3),js("de"===i.translate.currentLang?i.selectedMediator.titleDe:i.selectedMediator.titleEn),yo(1),Ja("content","de"===i.translate.currentLang?i.selectedMediator.abstractDe:i.selectedMediator.abstractEn)("lang",i.translate.currentLang)}}function NF(t,e){if(1&t&&(Ka(0,AF,7,3,"div",44),Ka(1,RF,7,4,"ng-template",null,45,Bl)),2&t){var n=Za(2);Ja("ngIf",!fs(2).selectedMediator)("ngIfElse",n)}}function FF(t,e){if(1&t){var n=os();ts(0,"cm-sidepanel",26),us("controlClick",function(){return $e(n),fs().toggleInformationPanel()}),Ka(1,IF,4,3,"div",27),Ka(2,PF,5,2,"div",28),Ka(3,DF,3,1,"div",29),Ka(4,OF,2,10,"div",30),Ka(5,NF,3,2,"ng-template",null,31,Bl),es()}if(2&t){var i=Za(6),r=fs();Ls("is-full","full"===r.sidepanelState),Ja("@sidenav",r.sidepanelState)("state",r.sidepanelState)("showControl",r.selectedMediator&&"0"!==r.selectedMediator.id),yo(1),Ja("ngIf","full"===r.sidepanelState&&r.selectedMediator),yo(1),Ja("ngIf",r.selectedMediation),yo(1),Ja("ngIf","full"===r.sidepanelState),yo(1),Ja("ngIf",r.selectedMediator&&"0"!==r.selectedMediator.id)("ngIfElse",i)}}var YF=function(t){return{"at-god":t}};function zF(t,e){if(1&t&&ns(0,"cm-info-box-mobile",52),2&t){var n=fs();Ja("isOpen",!0)("ngClass",sl(3,YF,n.atGod))("@infoBox",n.mediationState)}}function jF(t,e){if(1&t){var n=os();ts(0,"div"),ts(1,"cm-mediations",53),us("height",function(t){return $e(n),fs().mediationsHeight=t})("state",function(t){return $e(n),fs().mediationState=t})("focusedMediation",function(t){return $e(n),fs().focusedMediation=t}),es(),es()}if(2&t){var i=fs();yo(1),Ja("@mediationsPanel",i.sidepanelState)("mediations",i.mediations)("selectedMediation",i.selectedMediation||i.focusedMediation)("selectedMediator",i.selectedMediator||i.focusedMediator)("sidepanelState",i.sidepanelState)}}function BF(t,e){if(1&t){var n=os();ts(0,"cm-mediations-mobile",53),us("height",function(t){return $e(n),fs().mediationsHeight=t})("state",function(t){return $e(n),fs().mediationState=t})("focusedMediation",function(t){return $e(n),fs().focusedMediation=t}),es()}if(2&t){var i=fs();Ja("mediations",i.mediations)("selectedMediation",i.selectedMediation||i.focusedMediation)("selectedMediator",i.selectedMediator||i.focusedMediator)("sidepanelState",i.sidepanelState)}}function HF(t,e){1&t&&ns(0,"div",54)}function UF(t,e){if(1&t){var n=os();ts(0,"cm-start-selector",55),us("focusedMediation",function(t){return $e(n),fs().focusedMediation=t})("focusedMediator",function(t){return $e(n),fs().focusedMediator=t}),es()}if(2&t){var i=fs();Ja("mediators",i.mediators.slice(1,16))("mediations",i.mediations)("overlayBottomSize",i.isMobile?i.mobileOverlayHeight:i.mediationsHeight)("overlayRightSize",i.isMobile?"0px":i.sidepanelWidth)("lang",i.translate.currentLang)("selectedMediationId",i.focusedMediation?i.focusedMediation.id:null)}}function VF(t,e){if(1&t&&ns(0,"cm-god-selector",56),2&t){var n=fs();Ja("isMobile",n.isMobile)("lang",n.translate.currentLang)("sidepanelStateForLinks",n.sidepanelStateForLinksInGodSelector)("overlayBottomSize",n.isMobile?n.mobileOverlayHeight:n.mediationsHeight)("overlayRightSize",n.isMobile?"0px":n.sidepanelWidth)("mediators",n.mediators.slice(1,16))}}function qF(t,e){if(1&t&&ns(0,"cm-start-selector-mobile",61),2&t){var n=fs(2);Ja("mediators",n.mediators.slice(1,16))("lang",n.translate.currentLang)}}function GF(t,e){if(1&t&&ns(0,"cm-info-box-mobile",62),2&t){var n=fs(2);Ja("ngClass",sl(1,YF,n.atGod))}}function WF(t,e){if(1&t&&(ts(0,"div",36),ts(1,"span",37),zs(2),es(),ts(3,"span",38),zs(4),es(),es()),2&t){var n=fs(3);yo(2),Bs("","de"===n.translate.currentLang?n.selectedMediation.demandDe:n.selectedMediation.demandEn,":\xa0"),yo(2),js("de"===n.translate.currentLang?n.selectedMediation.responseDe:n.selectedMediation.responseEn)}}function XF(t,e){if(1&t&&(ts(0,"span",72),zs(1),es()),2&t){var n=fs(4);yo(1),js("de"===n.translate.currentLang?n.selectedMediator.medium.titleDe.toUpperCase():n.selectedMediator.medium.titleEn.toUpperCase())}}var KF=function(t){return{"info-heading-mobile-ispage":t}};function ZF(t,e){if(1&t&&(ts(0,"div",70),Ka(1,XF,2,1,"span",71),ns(2,"h1",35),es()),2&t){var n=fs(3);Ja("ngClass",sl(3,KF,n.isPage)),yo(1),Ja("ngIf","0"!==n.selectedMediator.id),yo(1),Ja("innerHtml","de"===n.translate.currentLang?n.selectedMediator.titleDe:n.selectedMediator.titleEn,_r)}}function QF(t,e){if(1&t&&(ts(0,"div",73),ts(1,"h1",74),zs(2),es(),es()),2&t){var n=fs(3);yo(2),js("de"===n.translate.currentLang?n.page.titleDe:n.page.titleEn)}}function JF(t,e){1&t&&(ts(0,"button",75),zs(1),dl(2,"uppercase"),dl(3,"translate"),es()),2&t&&(yo(1),js(fl(2,1,fl(3,3,"info.start"))))}function $F(t,e){if(1&t){var n=os();ts(0,"button",76),us("click",function(){return $e(n),fs(3).mobileShowMore()}),zs(1),dl(2,"uppercase"),dl(3,"translate"),es()}2&t&&(yo(1),js(fl(2,1,fl(3,3,"info.read-more"))))}function tY(t,e){if(1&t&&(ts(0,"div",63),Ka(1,WF,5,2,"div",28),ts(2,"div",64),Ka(3,ZF,3,5,"div",65),Ka(4,QF,3,1,"div",66),ts(5,"div",67),Ka(6,JF,4,5,"button",68),Ka(7,$F,4,5,"button",69),es(),es(),es()),2&t){var n=fs(2);yo(1),Ja("ngIf",n.selectedMediation),yo(2),Ja("ngIf",n.selectedMediator),yo(1),Ja("ngIf",!n.selectedMediator),yo(2),Ja("ngIf",!n.selectedMediator),yo(1),Ja("ngIf",n.selectedMediator)}}var eY=function(t){return{"at-start":t}};function nY(t,e){if(1&t&&(ts(0,"div",57),Ka(1,qF,1,2,"cm-start-selector-mobile",58),Ka(2,GF,1,3,"cm-info-box-mobile",59),Ka(3,tY,8,5,"div",60),es()),2&t){var n=fs();Ja("ngClass",sl(4,eY,!n.selectedMediator)),yo(1),Ja("ngIf",!n.selectedMediator),yo(1),Ja("ngIf",n.selectedMediator),yo(1),Ja("ngIf",n.isMobile)}}function iY(t,e){if(1&t){var n=os();ts(0,"cm-info-container-mobile",77),us("citeClick",function(){return $e(n),fs().showCite()})("sectionChange",function(t){return $e(n),fs().sectionChange(t)})("showShort",function(){return $e(n),fs().mobileShowShort()})("galleryClosed",function(t){return $e(n),fs().galleryClosed(t)})("galleryOpened",function(t){return $e(n),fs().galleryOpened(t)}),es()}if(2&t){var i=fs();Ja("lang",i.translate.currentLang)("title","de"===i.translate.currentLang?i.selectedMediator.titleDe:i.selectedMediator.titleEn)("subTitle","de"===i.translate.currentLang?i.selectedMediator.medium.titleDe.toUpperCase():i.selectedMediator.medium.titleEn.toUpperCase())("hideSubTitle","0"===i.selectedMediator.id)("content","de"===i.translate.currentLang?i.information.contentDe:i.information.contentEn)("media",i.information.media)("showHeader",i.showTitleHeaderMobile)}}var rY,oY,aY,sY,uY,lY,cY,hY,dY={full:"70%",short:"470px"},fY=((cY=function(){function t(e,n,i,r,o,a,s,u,l,c,h,d){var f,p=this;if(_(this,t),this.translate=e,this.elementRef=n,this.route=i,this.mediaObserver=r,this.dialog=o,this.router=a,this.app=s,this.meta=u,this.title=l,this.document=c,this.platformId=h,this.request=d,this.isStartPage=!0,this.previousMediator=null,this.showTitleHeader=!1,this.showTitleHeaderMobile=!1,this.galleryIsOpen=!1,this.skipFragmentUpdate=!1,this.mediationsHeight="220px",this.mobileOverlayHeight="150px",this.atGod=!1,this.sidepanelState="short",this.sidepanelStateForLinksInGodSelector="short",this.mediationState="closed",this.isMobile=!0,this.isBrowser=!1,this.mapAttribIsOpen=!1,Hh(this.platformId))this.mediaSubscription=this.mediaObserver.media$.subscribe(function(t){"xs"===t.mqAlias||"sm"===t.mqAlias?p.isMobile=!0:(p.isMobile=!1,p.mediationState="open")});else{var m=!1;(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(f=this.request.headers["user-agent"])||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(f.substr(0,4)))&&(m=!0),this.isMobile=m}Hh(this.platformId)&&(this.isBrowser=!0)}return x(t,[{key:"clickout",value:function(t){this.mapAttrib.nativeElement.contains(t.target)||(this.mapAttribIsOpen=!1)}},{key:"ngOnInit",value:function(){var t=this;"undefined"!=typeof window&&window.isSafari&&(this.elementRef.nativeElement.style.webkitTransform="translate3d(0,0,0)"),"full"===this.route.snapshot.queryParams.info&&(this.sidepanelState="full"),this.sidepanelWidth=dY[this.sidepanelState],this.queryParamsSubscription=this.route.queryParams.subscribe(function(e){e.info&&(t.previousMediator&&"0"===t.previousMediator.id&&!t.isMobile?(t.sidepanelState="short","full"===e.info&&(t.godToFulltimer=setTimeout(function(){t.sidepanelState="full",t.sidepanelWidth=dY[t.sidepanelState]},4e3))):t.sidepanelState=e.info,t.sidepanelWidth=dY[t.sidepanelState],t.isMobile&&"full"===t.sidepanelState&&setTimeout(function(){t.infoContainerMobile&&t.infoContainerMobile.scrollToReference("top")})),"short"===t.sidepanelState&&(t.app.removeHeader=!1,t.app.showHeader=!0,t.showTitleHeaderMobile=!1),setTimeout(function(){return t.updateSiteMetaAndTitle()}),t.adjustTimelineForEdge()}),this.dataSubscription=this.route.data.subscribe(function(e){t.resetAnimations(),t.showTitleHeader=!1,t.mediations=e.mediations,t.selectedMediation=e.selectedMediation,t.mediators=e.mediators,t.visibleMediator=null,t.selectedMediator=e.selectedMediator?e.selectedMediator:null,t.selectedMediation!==t.previousMediation&&(t.previousMediator=null,clearTimeout(t.godToFulltimer)),t.atGod=!1,t.selectedMediator?(t.isStartPage=!1,"0"===t.selectedMediator.id?(t.sidepanelStateForLinksInGodSelector=t.sidepanelState,t.sidepanelState="short",t.router.navigate([],{queryParams:{info:t.sidepanelState},queryParamsHandling:"merge",replaceUrl:!0}),t.previousMediator?t.timer=setTimeout(function(){t.atGod=!0},4e3):t.atGod=!0):(t.atGod=!1,t.selectedMediation!==t.previousMediation?setTimeout(function(){t.visibleMediator=t.selectedMediator},0):setTimeout(function(){t.visibleMediator=t.selectedMediator},2e3)),t.information=t.selectedMediator.information,setTimeout(function(){var e=t.route.snapshot.fragment;e=e||"top";var n=t.isMobile?t.infoContainerMobile:t.infoContainer;n&&n.scrollToReference(e),t.route.snapshot.queryParams.lang&&t.route.snapshot.queryParams.info||t.router.navigate(["."],{relativeTo:t.route,queryParams:{lang:t.translate.currentLang,info:t.sidepanelState},queryParamsHandling:"merge",fragment:e,replaceUrl:!0})})):(t.isStartPage=!0,setTimeout(function(){t.sidepanelState="short",t.sidepanelWidth=dY[t.sidepanelState]}),t.page=e.pages.find(function(t){return"Topology"===t.titleEn})),t.map&&t.adjustMap(),t.previousMediator=t.selectedMediator,t.previousMediation=t.selectedMediation,t.updateSiteMetaAndTitle()})}},{key:"ngAfterViewInit",value:function(){var t=this;this.route.fragment.subscribe(function(e){if(t.skipFragmentUpdate)t.skipFragmentUpdate=!1;else{e=e||"top";var n=t.isMobile?t.infoContainerMobile:t.infoContainer;n&&n.scrollToReference(e,100)}}),this.adjustMap()}},{key:"updateSiteMetaAndTitle",value:function(){var t,e,n,i,r,o="https://campusmedius.net/topology";this.selectedMediator?(t="de"===this.translate.currentLang?this.selectedMediator.titleDe:this.selectedMediator.titleEn,e="de"===this.translate.currentLang?this.selectedMediator.keywordsDe:this.selectedMediator.keywordsEn,n="de"===this.translate.currentLang?this.selectedMediator.abstractDe:this.selectedMediator.abstractEn,i=(o+="/mediations/"+this.selectedMediation.id+"/mediators/"+this.selectedMediator.id)+"?info=full&lang="+("de"===this.translate.currentLang?"en":"de"),o+="?info=full&lang="+this.translate.currentLang,r="de"===this.translate.currentLang?this.selectedMediator.medium.titleDe:this.selectedMediator.medium.titleEn):(t="de"===this.translate.currentLang?this.page.titleDe:this.page.titleEn,e="de"===this.translate.currentLang?this.page.keywordsDe:this.page.keywordsEn,n="de"===this.translate.currentLang?this.page.abstractDe:this.page.abstractEn,i=o+"?lang="+("de"===this.translate.currentLang?"en":"de"),o+="?lang="+this.translate.currentLang),e=e.sort(function(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())});var a,s="de"===this.translate.currentLang?"https://campusmedius.net/assets/screenshot_de.png":"https://campusmedius.net/assets/screenshot_en.png",u="de"===this.translate.currentLang?"Wenn nicht anders angegeben, sind die Inhalte der Website unter Creative Commons CC BY 4.0 frei verf\xfcgbar. Diese Lizenz gestattet die uneingeschr\xe4nkte Nutzung und Verbreitung des entsprechenden Materials unter der Bedingung, dass die UrheberInnen, bei denen alle Rechte verbleiben, und die Quelle eindeutig genannt werden. Die Referenz sollte in der Form erfolgen, wie sie in den Metadaten empfohlen wird, die \xfcber das Zitatsymbol neben dem Titel der jeweiligen Seite abgerufen werden k\xf6nnen. Die offene Creative-Commons-Lizenz gilt allerdings nicht f\xfcr die Werke (Texte, Bilder, Ton- und Filmaufnahmen), die in Campus Medius zitiert werden: F\xfcr deren Urheberrechte m\xfcssen in jedem Fall die angef\xfchrten Quellen konsultiert werden!":"Unless stated otherwise, the website's content is available open access under Creative Commons CC BY 4.0. This license permits unrestricted use and distribution of the respective material, provided that the creator(s), who retain copyright, and the source are properly credited. The reference should be made in the form suggested in the metadata that can be accessed via the quote icon next to each page title. However, the open Creative Commons license does not apply to the works (texts, images, audio, video) cited in Campus Medius: for their copyright details, the sources given in the notes and captions must be consulted in each case!";a="de"===this.translate.currentLang?[{"@context":"https://schema.org","@type":"Organization",name:"\xd6sterreichische Akademie der Wissenschaften (\xd6AW)",url:"https://www.oeaw.ac.at/"},{"@context":"https://schema.org","@type":"Organization",name:"\xd6sterreichischer Wissenschaftsfonds (FWF)",url:"https://fwf.ac.at/"},{"@context":"https://schema.org","@type":"Organization",name:"Universit\xe4t Wien",url:"https://www.univie.ac.at/"},{"@context":"https://schema.org","@type":"Organization",name:"Stadt Wien",url:"https://www.wien.gv.at/kultur/abteilung/"}]:[{"@context":"https://schema.org","@type":"Organization",name:"Austrian Academy of Sciences (\xd6AW)",url:"https://www.oeaw.ac.at/en/austrian-academy-of-sciences"},{"@context":"https://schema.org","@type":"Organization",name:"Austrian Science Fund (FWF)",url:"https://fwf.ac.at/en/"},{"@context":"https://schema.org","@type":"Organization",name:"University of Vienna",url:"https://www.univie.ac.at/en/"},{"@context":"https://schema.org","@type":"Organization",name:"City of Vienna",url:"https://www.wien.gv.at/kultur/abteilung/"}];var l=(t=t.replace(/<[^>]*>/g,"").replace(/"/g,""))+" in Campus Medius";n=n.replace(/<[^>]*>/g,""),this.title.setTitle(t),this.document.documentElement.lang=this.translate.currentLang,this.meta.updateTag({name:"keywords",content:e.join(",")}),this.meta.updateTag({name:"description",content:n,lang:this.translate.currentLang}),this.document.querySelector("link[rel=canonical]").setAttribute("href",o);var c=this.document.querySelector("link[rel=alternate]");c.setAttribute("href",i),c.setAttribute("hreflang",this.translate.currentLang),this.meta.updateTag({name:"og:title",content:l}),this.meta.updateTag({name:"og:description",content:n}),this.meta.updateTag({name:"og:type",content:"website"}),this.meta.updateTag({name:"og:url",content:o}),this.meta.updateTag({name:"og:image",content:s}),this.meta.updateTag({name:"og:site_name",content:"Campus Medius"}),this.meta.updateTag({name:"twitter:card",content:"summary"}),this.document.getElementById("jsonld").text=this.selectedMediator?"en"===this.translate.currentLang&&"0"!==this.selectedMediator.id?JSON.stringify({"@context":"https://schema.org/","@type":"ScholarlyArticle",name:l,headline:t,abstract:n,inLanguage:this.translate.currentLang,image:s,datePublished:this.selectedMediator.created.toISOString(),dateModified:this.selectedMediator.updated.toISOString(),keywords:e.join(","),url:o,author:{"@context":"https://schema.org/","@type":"Person",name:"Simon Ganahl"},translator:{"@context":"https://schema.org/","@type":"Person",name:"Maria Slater"},funder:a,about:{"@type":"Thing",name:r+": "+t},copyrightNotice:u,isPartOf:{"@context":"https://schema.org","@type":"WebSite",url:"https://campusmedius.net",author:[{"@context":"https://schema.org/","@type":"Person",name:"Simon Ganahl"},{"@context":"https://schema.org/","@type":"Person",name:"Susanne Kiesenhofer"},{"@context":"https://schema.org/","@type":"Person",name:"Andreas Krimbacher"}]}},null,2):JSON.stringify({"@context":"https://schema.org/","@type":"ScholarlyArticle",name:l,headline:t,abstract:n,inLanguage:this.translate.currentLang,image:s,datePublished:this.selectedMediator.created.toISOString(),dateModified:this.selectedMediator.updated.toISOString(),keywords:e.join(","),url:o,author:{"@context":"https://schema.org/","@type":"Person",name:"Simon Ganahl"},funder:a,about:{"@type":"Thing",name:r+": "+t},copyrightNotice:u,isPartOf:{"@context":"https://schema.org","@type":"WebSite",url:"https://campusmedius.net",author:[{"@context":"https://schema.org/","@type":"Person",name:"Simon Ganahl"},{"@context":"https://schema.org/","@type":"Person",name:"Susanne Kiesenhofer"},{"@context":"https://schema.org/","@type":"Person",name:"Andreas Krimbacher"}]}},null,2):""}},{key:"resetAnimations",value:function(){clearTimeout(this.timer);var t=this.infoBox;t&&t.stopAnimation(),this.map&&this.map.stopAnimation()}},{key:"adjustTimelineForEdge",value:function(){var t=this;Hh(this.platformId)&&document.isEdge&&setTimeout(function(){var e=document.getElementsByTagName("cm-mediations")[0];e&&("full"===t.sidepanelState?"25%"!==e.style.width&&setTimeout(function(){e.style.width="25%"},300):""!==e.style.width&&(e.style.width=""))})}},{key:"adjustMap",value:function(){var t=this;if(this.selectedMediator){var e=this.infoBox;if(this.map.setPerspective(this.selectedMediation),this.previousMediator&&this.previousMediator!==this.selectedMediator){var n=!1;this.previousMediator.relationsTo.forEach(function(i){i.targetId===t.selectedMediator.id&&(n=!0,e.navigateToMediator(t.selectedMediator,i,"forward"),t.map.doNavigation(t.selectedMediation,i.source,t.selectedMediator))}),n||"2"!==this.selectedMediation.id||this.selectedMediator.relationsTo.forEach(function(i){i.sourceId===t.selectedMediator.id&&(n=!0,e.navigateToMediator(t.selectedMediator,i,"backward"),t.map.doNavigation(t.selectedMediation,i.source,t.selectedMediator))}),n||this.previousMediation.id!==this.selectedMediation.id?n||(this.map.showMediator(this.selectedMediation,this.selectedMediator),e.setSpaceTime(this.selectedMediator,0,0)):("1"===this.selectedMediation.id&&(e.setSpaceTime(this.selectedMediator,null,null),this.map.flyToSovereignSign(this.selectedMediation,this.previousMediator,this.selectedMediator)),"2"===this.selectedMediation.id&&(e.navigateToMediator(this.selectedMediator,null,this.selectedMediator.id<this.previousMediator.id?"backward":"forward"),this.map.doNavigation(this.selectedMediation,this.previousMediator,this.selectedMediator)))}else this.map.showMediator(this.selectedMediation,this.selectedMediator),e.setSpaceTime(this.selectedMediator,0,0)}}},{key:"toggleInformationPanel",value:function(){this.router.navigate([],"full"===this.sidepanelState?{queryParams:{info:"short"},queryParamsHandling:"merge"}:{queryParams:{info:"full"},queryParamsHandling:"merge"})}},{key:"showCite",value:function(){this.dialog.open(wO,{width:"800px",maxHeight:"90vh",data:{data:this.selectedMediator,type:"mediator",mediationId:this.selectedMediation.id,isMobile:this.isMobile},autoFocus:!1})}},{key:"scrollUp",value:function(){this.router.navigate([],{queryParamsHandling:"merge",fragment:"top"})}},{key:"sectionChange",value:function(t){"full"===this.sidepanelState&&t!==this.route.snapshot.fragment&&(this.skipFragmentUpdate=!0,this.router.navigate([],{fragment:t,queryParams:{},queryParamsHandling:"merge",replaceUrl:!0}))}},{key:"mobileShowMore",value:function(){window.skipSectionChange+=1,this.router.navigate([],{queryParams:{info:"full"},queryParamsHandling:"merge"}),setTimeout(function(){window.skipSectionChange-=1},2e3)}},{key:"mobileShowShort",value:function(){"short"!==this.sidepanelState&&(this.sidepanelState="short",this.router.navigate([],{queryParams:{info:this.sidepanelState},queryParamsHandling:"merge"}))}},{key:"onMobileScroll",value:function(){var t=this;if(!this.galleryIsOpen&&!window.skipSectionChange){var e=this.elementRef.nativeElement.scrollTop,n=this.elementRef.nativeElement.clientHeight;e<170&&this.mobileShowShort(),e<n+150?this.showTitleHeaderMobile&&(this.app.removeHeader=!1,setTimeout(function(){t.showTitleHeaderMobile=!1,t.app.showHeader=!0})):this.showTitleHeaderMobile||(this.showTitleHeaderMobile=!0,this.app.showHeader=!1,setTimeout(function(){t.app.removeHeader=!0},300)),this.infoContainerMobile&&this.infoContainerMobile.checkCurrentSection(e-n)}}},{key:"galleryClosed",value:function(){this.galleryIsOpen=!1,this.showTitleHeaderMobile||(this.app.removeHeader=!1)}},{key:"galleryOpened",value:function(){this.galleryIsOpen=!0,this.app.removeHeader=!0}},{key:"ngOnDestroy",value:function(){this.dataSubscription.unsubscribe(),this.queryParamsSubscription.unsubscribe(),Hh(this.platformId)&&this.mediaSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||cY)(Qa(vx),Qa(hu),Qa(mv),Qa(lL),Qa(mM),Qa(H_),Qa(VC),Qa(Yd),Qa(Hd),Qa(Gc),Qa(Xl),Qa(qC,8))},cY.\u0275cmp=oe({type:cY,selectors:[["cm-topology"]],viewQuery:function(t,e){var n;1&t&&(Dl(cN,!0),Dl(pN,!0),Dl(BO,!0),Dl(GO,!0),Pl(_F,!0)),2&t&&(Il(n=Fl())&&(e.map=n.first),Il(n=Fl())&&(e.infoBox=n.first),Il(n=Fl())&&(e.infoContainer=n.first),Il(n=Fl())&&(e.infoContainerMobile=n.first),Il(n=Fl())&&(e.mapAttrib=n.first))},hostAttrs:[1,"scroll-container"],hostBindings:function(t,e){1&t&&us("click",function(t){return e.clickout(t)},!1,Cr)("scroll",function(){return e.onMobileScroll()})},decls:15,vars:12,consts:[[1,"map-control"],["mapattrib",""],["class","map-attrib",3,"ngClass",4,"ngIf"],[3,"selectedMediation","selectedMediator","isMobile",4,"ngIf"],[3,"is-full","state","showControl","controlClick",4,"ngIf"],["class","cm-info-box-desktop",3,"isOpen","ngClass",4,"ngIf"],[4,"ngIf","ngIfElse"],["mobileMeditations",""],["class","start-selector-background",4,"ngIf"],[3,"mediators","mediations","overlayBottomSize","overlayRightSize","lang","selectedMediationId","focusedMediation","focusedMediator",4,"ngIf"],[3,"isMobile","lang","sidepanelStateForLinks","overlayBottomSize","overlayRightSize","mediators",4,"ngIf"],["class","mobile-short-info-container",3,"ngClass",4,"ngIf"],["class","mobile-info",3,"lang","title","subTitle","hideSubTitle","content","media","showHeader","citeClick","sectionChange","showShort","galleryClosed","galleryOpened",4,"ngIf"],[1,"map-attrib",3,"ngClass"],["mat-mini-fab","","color","primary",1,"cm-circle-copyright",3,"click"],["class","map-attrib-inner",4,"ngIf"],[1,"map-attrib-inner"],["href","https://www.freytagberndt.com","target","_blank",4,"ngIf","ngIfElse"],[4,"ngIf"],["worldAttrib",""],["href","https://www.freytagberndt.com","target","_blank"],["href","https://data.wien.gv.at","target","_blank"],["href","http://data.onb.ac.at/rec/AC04728187","target","_blank"],[3,"selectedMediation","selectedMediator","isMobile"],[3,"mediator","mediation","lang",4,"ngIf"],[3,"mediator","mediation","lang"],[3,"state","showControl","controlClick"],["class","title-header","fxLayout","row","fxLayoutAlign"," center",4,"ngIf"],["class","mediation-info",4,"ngIf"],["class","up-header",4,"ngIf"],["class","info-container",4,"ngIf","ngIfElse"],["startPage",""],["fxLayout","row","fxLayoutAlign"," center",1,"title-header"],["mat-icon-button","",1,"cite-button",3,"title","click"],[1,"cm-square-quote-alt"],[3,"innerHtml"],[1,"mediation-info"],[1,"demand"],[1,"response"],[1,"up-header"],["mat-icon-button","",1,"back-to-top",3,"click"],[1,"cm-back-to-top"],[1,"info-container"],[3,"lang","title","subTitle","hideSubTitle","state","abstract","content","media","readMoreText","hideReadMoreText","citeClick","moreClick","sectionChange","showTitleHeader"],["class","start-container",4,"ngIf","ngIfElse"],["godInfo",""],[1,"start-container"],[1,"info-content"],[1,"start-info-heading"],[3,"content","lang"],["mat-flat-button","","color","warn","routerLink","/topology/mediations/1/mediators/0","queryParamsHandling","merge","routerLinkActive","active",1,"btn-read-more"],[1,"info-content","god-info-content"],[1,"cm-info-box-desktop",3,"isOpen","ngClass"],[3,"mediations","selectedMediation","selectedMediator","sidepanelState","height","state","focusedMediation"],[1,"start-selector-background"],[3,"mediators","mediations","overlayBottomSize","overlayRightSize","lang","selectedMediationId","focusedMediation","focusedMediator"],[3,"isMobile","lang","sidepanelStateForLinks","overlayBottomSize","overlayRightSize","mediators"],[1,"mobile-short-info-container",3,"ngClass"],[3,"mediators","lang",4,"ngIf"],[3,"ngClass",4,"ngIf"],["class","mobile-short-info",4,"ngIf"],[3,"mediators","lang"],[3,"ngClass"],[1,"mobile-short-info"],[1,"info"],["class","info-heading",3,"ngClass",4,"ngIf"],["class","mobile-abstract",4,"ngIf"],[1,"intro"],["mat-flat-button","","routerLink","/topology/mediations/1/mediators/0","queryParamsHandling","merge","routerLinkActive","active","class","btn-read-more","color","warn",4,"ngIf"],["mat-flat-button","","class","btn-read-more","color","warn",3,"click",4,"ngIf"],[1,"info-heading",3,"ngClass"],["class","medium-info",4,"ngIf"],[1,"medium-info"],[1,"mobile-abstract"],[1,"start-info-heading-mobile"],["mat-flat-button","","routerLink","/topology/mediations/1/mediators/0","queryParamsHandling","merge","routerLinkActive","active","color","warn",1,"btn-read-more"],["mat-flat-button","","color","warn",1,"btn-read-more",3,"click"],[1,"mobile-info",3,"lang","title","subTitle","hideSubTitle","content","media","showHeader","citeClick","sectionChange","showShort","galleryClosed","galleryOpened"]],template:function(t,e){if(1&t&&(ts(0,"div",0,1),Ka(2,SF,3,4,"div",2),es(),Ka(3,LF,2,6,"cm-map",3),Ka(4,CF,2,4,"cm-map",3),Ka(5,FF,7,10,"cm-sidepanel",4),Ka(6,zF,1,5,"cm-info-box-mobile",5),Ka(7,jF,2,5,"div",6),Ka(8,BF,1,4,"ng-template",null,7,Bl),Ka(10,HF,1,0,"div",8),Ka(11,UF,1,6,"cm-start-selector",9),Ka(12,VF,1,6,"cm-god-selector",10),Ka(13,nY,4,6,"div",11),Ka(14,iY,1,7,"cm-info-container-mobile",12)),2&t){var n=Za(9);yo(2),Ja("ngIf",!e.isStartPage),yo(1),Ja("ngIf",!e.isMobile&&e.selectedMediator),yo(1),Ja("ngIf",e.isMobile&&e.selectedMediator),yo(1),Ja("ngIf",!e.isMobile),yo(1),Ja("ngIf",!e.isMobile&&e.selectedMediator),yo(1),Ja("ngIf",!e.isMobile)("ngIfElse",n),yo(3),Ja("ngIf",!e.selectedMediator),yo(1),Ja("ngIf",!e.isMobile&&!e.selectedMediator),yo(1),Ja("ngIf",e.atGod),yo(1),Ja("ngIf",e.isMobile),yo(1),Ja("ngIf",e.isMobile&&"full"===e.sidepanelState)}},directives:[Lh,kh,kL,iC,cN,SN,jC,lT,HT,BO,ZD,U_,Z_,pN,YN,QN,rF,yF,vF,GO],pipes:[_x,zh],styles:["[_nghost-%COMP%]{display:block;height:calc(var(--vh, 1vh) * 100);position:relative;overflow:hidden}@media screen and (max-width:959px){[_nghost-%COMP%]{overflow-x:hidden;overflow-y:auto;width:100%;position:fixed}}cm-sidepanel[_ngcontent-%COMP%]{width:470px}cm-sidepanel.is-full[_ngcontent-%COMP%]{width:70%}.info-container[_ngcontent-%COMP%]{color:#333;height:100%;padding-top:3.3rem}.start-container[_ngcontent-%COMP%]{color:#333;height:100%;display:flex;align-items:center}.start-container[_ngcontent-%COMP%]   .info-content[_ngcontent-%COMP%]{padding-bottom:0}.start-info-heading[_ngcontent-%COMP%]{margin-bottom:50px}.start-info-heading[_ngcontent-%COMP%], .start-info-heading-mobile[_ngcontent-%COMP%]{font-family:Source Sans Pro Bold;font-size:1.5rem}.info-content[_ngcontent-%COMP%]{padding-bottom:120px;width:70%;max-width:900px;margin-left:auto;margin-right:auto}.god-info-content[_ngcontent-%COMP%]{margin-top:-20px}.god-info-content[_ngcontent-%COMP%]   .cite-button[_ngcontent-%COMP%]{position:relative;top:35px;left:-50px}.god-info-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0}.col[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{height:100%}.ispage[_ngcontent-%COMP%]{margin-top:3.3rem}cm-map[_ngcontent-%COMP%]{width:calc(100% + 300px);height:calc(100% - 3.3rem + 300px);position:fixed}@media screen and (max-width:959px){cm-map[_ngcontent-%COMP%]{display:block;width:100%;height:calc(100% - 2.5rem - 210px + 60px);top:2.5rem;left:0}}.map-container[_ngcontent-%COMP%]{padding:0;z-index:10}.padding-bottom[_ngcontent-%COMP%]{color:#fff}.start-selector-background[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:470px;background-image:url(topology.8bb26fdc6578af280e0b.jpg);background-position:50%;background-size:cover;filter:blur(4px);background-color:rgba(90,90,90,.9)}@media screen and (max-width:959px){.start-selector-background[_ngcontent-%COMP%]{height:100%;width:100%;filter:blur(2px)}}.mediation-info[_ngcontent-%COMP%]{font-family:Source Sans Pro;font-size:.8rem;color:#8c8c8c;position:absolute;right:2px;height:3.3rem;display:flex;align-items:center}.mediation-info[_ngcontent-%COMP%]   .response[_ngcontent-%COMP%]{font-family:Source Sans Pro Semibold}@media screen and (max-width:959px){.mediation-info[_ngcontent-%COMP%]{justify-content:center}}@media screen and (min-width:959px){.mediation-info[_ngcontent-%COMP%]   .demand[_ngcontent-%COMP%]{width:220px;text-align:right}.mediation-info[_ngcontent-%COMP%]   .response[_ngcontent-%COMP%]{width:240px}}.cm-info-box-desktop[_ngcontent-%COMP%]{position:absolute;left:24px;bottom:240px}cm-mediations-mobile[_ngcontent-%COMP%]{z-index:11}cm-god-selector[_ngcontent-%COMP%]{z-index:7}.map-control[_ngcontent-%COMP%]{position:fixed;z-index:8;top:calc(3.3rem + 24px);left:24px}@media screen and (max-width:959px){.map-control[_ngcontent-%COMP%]{top:calc(2.5rem + 55px);left:14px}}.map-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;min-width:20px;margin-bottom:2px;width:30px;padding:0;height:30px;line-height:30px;background:hsla(0,0%,54.9%,.9)}.map-control[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#a67481}.info-heading[_ngcontent-%COMP%]{margin-bottom:50px}.info-heading[_ngcontent-%COMP%]   .medium-info[_ngcontent-%COMP%]{color:#8c8c8c;font-size:.9rem;font-family:Source Sans Pro Semibold}.info-heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 40px;font-family:Source Sans Pro Bold;font-size:1.5rem}cm-start-selector-mobile[_ngcontent-%COMP%]{flex-grow:1}.mobile-short-info-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;flex-direction:column;width:100%;margin-top:85px;z-index:10;position:fixed;bottom:0;overflow-y:auto}.mobile-short-info-container.at-start[_ngcontent-%COMP%]{height:calc(100% - 2.5rem - 40px)}.mobile-short-info-container[_ngcontent-%COMP%]   cm-info-box-mobile[_ngcontent-%COMP%]{margin-left:15px;margin-bottom:15px;display:block}.mobile-short-info-container[_ngcontent-%COMP%]   cm-start-selector[_ngcontent-%COMP%]{flex:1;padding-top:40px}cm-info-box-mobile[_ngcontent-%COMP%]{z-index:8}.mobile-short-info[_ngcontent-%COMP%]{z-index:11;background:#fff;box-sizing:border-box;overflow:hidden;box-shadow:0 -3px 5px rgba(57,63,72,.3);-moz-box-shadow:0 -3px 5px rgba(57,63,72,.3);-webkit-box-shadow:0 -3px 5px rgba(57,63,72,.3)}.mobile-short-info[_ngcontent-%COMP%]   .btn-read-more[_ngcontent-%COMP%]{width:100%}.mobile-short-info[_ngcontent-%COMP%]   .info-heading[_ngcontent-%COMP%]{margin-bottom:0}.mobile-short-info[_ngcontent-%COMP%]   .info-heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:15px}.mobile-short-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-bottom:15px;padding-left:15px;padding-right:15px}.mobile-short-info[_ngcontent-%COMP%]   .event-nav-wrapper[_ngcontent-%COMP%]{width:100%;text-align:center}.mobile-short-info[_ngcontent-%COMP%]   .btn-read-more[_ngcontent-%COMP%]{margin-top:0!important}.mobile-short-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{-webkit-margin-after:15px;margin-block-end:15px;-webkit-margin-before:15px;margin-block-start:15px}.mobile-short-info[_ngcontent-%COMP%]   .mediation-info[_ngcontent-%COMP%]{position:static;font-family:Source Sans Pro;color:#333;height:auto;line-height:.8rem;margin-top:15px;margin-bottom:15px}.mobile-short-info[_ngcontent-%COMP%]   cm-info-box-mobile[_ngcontent-%COMP%]{position:relative;left:15px;bottom:65px;z-index:1000000}.mobile-short-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{-webkit-margin-before:0;margin-block-start:0;-webkit-margin-after:0;margin-block-end:0;margin-bottom:18px}.mobile-short-info[_ngcontent-%COMP%]   .mobile-abstract[_ngcontent-%COMP%]{margin-top:18px}.mobile-info[_ngcontent-%COMP%]{z-index:15;width:100%}"],data:{animation:[Kd("sidenav",[$d("full",Jd({width:dY.full})),$d("short",Jd({width:dY.short})),tf("* <=> *",Zd("200ms ease-in"))]),Kd("mediationsPanel",[$d("full",Jd({width:"calc(100vw - "+dY.full+")"})),$d("short",Jd({width:"calc(100vw - "+dY.short+")"})),tf("* <=> *",Zd("200ms ease-in"))]),Kd("infoBox",[$d("open",Jd({bottom:"240px"})),$d("closed",Jd({bottom:"60px"})),tf("* <=> *",Zd("300ms ease-in"))]),Kd("mapTopOffset",[$d("open",Jd({top:"calc(-260px + 3.3rem)"})),$d("closed",Jd({top:"calc(-170px + 3.3rem)"})),tf("* <=> *",Zd("300ms ease-in"))]),Kd("mapLeftOffset",[$d("full",Jd({left:"calc(-35% - 150px)"})),$d("short",Jd({left:"-385px"})),tf("* <=> *",Zd("200ms ease-in"))]),Kd("titleHeader",[$d("false",Jd({opacity:0})),$d("true",Jd({opacity:1})),tf("false <=> true",Zd("300ms ease-in"))]),Kd("mapattribOpen",[$d("true",Jd({opacity:1})),$d("false",Jd({width:"0px",height:"0px",opacity:0})),tf("false => true",[Jd({display:"block"}),Zd("300ms ease-in")]),tf("true => false",[Zd("300ms ease-in")])])]}}),cY),pY=((lY=function(){function t(e){_(this,t),this.http=e}return x(t,[{key:"mediator",value:function(t){return this.mediators.pipe(W(function(e){return e.find(function(e){return e.id===t})}))}},{key:"requestMediators",value:function(){var t=this;return this.http.get("/api/topology/mediators/?format=json").pipe(W(function(e){return(e=e||[]).forEach(function(t){t.id=t.id+"",t.mediationId=Math.ceil(parseInt(t.id)/5)+"","0"===t.mediationId&&(t.mediationId="1"),t.relationsFrom.forEach(function(t){t.id+="",t.sourceId+="",t.source=null,t.targetId+="",t.target=null}),t.relationsTo.forEach(function(t){t.id+="",t.sourceId+="",t.source=null,t.targetId+="",t.target=null}),t.informationId||(t.informationId="15"),t.informationId=t.informationId+"",t.information=null,t.created=BC(t.created),t.updated=BC(t.updated),t.time=BC(t.time)}),t.setExaminingGazeDistanceAndTime(e),e}))}},{key:"setExaminingGazeDistanceAndTime",value:function(t){var e=t.find(function(t){return"6"===t.id}),n=t.find(function(t){return"7"===t.id}),i=t.find(function(t){return"8"===t.id}),r=t.find(function(t){return"9"===t.id}),o=t.find(function(t){return"10"===t.id});t=[e,n,i,r,o];for(var a=0,s=0;s<4;s++)t[s].distanceFromStart=a,a+=t[s].relationsTo[0].spaceDifference;t[4].distanceFromStart=a;for(var u=0,l=0;l<4;l++)t[l].timeAfterEnd=u,u-=t[l].relationsTo[0].timeDifference;t[4].timeAfterEnd=u}},{key:"mediators",get:function(){return this.cache$||(this.cache$=this.requestMediators().pipe(Vb(1))),this.cache$}}]),t}()).\u0275fac=function(t){return new(t||lY)(Ri($m))},lY.\u0275prov=Tt({token:lY,factory:lY.\u0275fac}),lY),mY=((uY=function(){function t(e){_(this,t),this.mediatorService=e}return x(t,[{key:"resolve",value:function(t){return this.mediatorService.mediators}}]),t}()).\u0275fac=function(t){return new(t||uY)(Ri(pY))},uY.\u0275prov=Tt({token:uY,factory:uY.\u0275fac}),uY),gY=((sY=function(){function t(e,n){_(this,t),this.mediatorService=e,this.informationService=n}return x(t,[{key:"resolve",value:function(t){var e=this,n=t.paramMap.get("mediatorId");return this.mediatorService.mediator(n).pipe(zg(function(t){return Db({mediators:e.mediatorService.mediators,information:e.informationService.information(t.informationId)}).pipe(W(function(e){return t.relationsFrom.forEach(function(t){t.source=e.mediators.find(function(e){return e.id===t.sourceId}),t.target=e.mediators.find(function(e){return e.id===t.targetId})}),t.relationsTo.forEach(function(t){t.source=e.mediators.find(function(e){return e.id===t.sourceId}),t.target=e.mediators.find(function(e){return e.id===t.targetId})}),t.information=e.information,t}))}))}}]),t}()).\u0275fac=function(t){return new(t||sY)(Ri(pY),Ri(wA))},sY.\u0275prov=Tt({token:sY,factory:sY.\u0275fac}),sY),yY=((aY=function(){function t(e){_(this,t),this.http=e}return x(t,[{key:"mediation",value:function(t){return this.mediations.pipe(W(function(e){return e.find(function(e){return e.id===t})}))}},{key:"requestMediations",value:function(){return this.http.get("/api/topology/mediations/?format=json").pipe(W(function(t){return(t=t||[]).forEach(function(t){t.id=t.id+"",t.relations.forEach(function(t){t.id+="",t.sourceId+="",t.source=null,t.targetId+="",t.target=null})}),t}))}},{key:"mediations",get:function(){return this.cache$||(this.cache$=this.requestMediations().pipe(Vb(1))),this.cache$}}]),t}()).\u0275fac=function(t){return new(t||aY)(Ri($m))},aY.\u0275prov=Tt({token:aY,factory:aY.\u0275fac}),aY),vY=((oY=function(){function t(e){_(this,t),this.mediationService=e}return x(t,[{key:"resolve",value:function(t){return this.mediationService.mediations}}]),t}()).\u0275fac=function(t){return new(t||oY)(Ri(yY))},oY.\u0275prov=Tt({token:oY,factory:oY.\u0275fac}),oY),_Y=((rY=function(){function t(e,n){_(this,t),this.mediatorService=e,this.mediationService=n}return x(t,[{key:"resolve",value:function(t){var e=this,n=t.paramMap.get("mediationId");return this.mediationService.mediation(n).pipe(zg(function(t){return Db({mediators:e.mediatorService.mediators}).pipe(W(function(e){return t.relations.forEach(function(t){t.source=e.mediators.find(function(e){return e.id===t.sourceId}),t.target=e.mediators.find(function(e){return e.id===t.targetId})}),t}))}))}}]),t}()).\u0275fac=function(t){return new(t||rY)(Ri(pY),Ri(yY))},rY.\u0275prov=Tt({token:rY,factory:rY.\u0275fac}),rY),bY=[{path:"",component:fY,resolve:{mediators:mY,mediations:vY,pages:MA},data:{reuse:!0}},{path:"mediations/:mediationId/mediators/:mediatorId",component:fY,resolve:{mediations:vY,selectedMediation:_Y,mediators:mY,selectedMediator:gY},data:{reuse:!1}}],xY=((hY=function t(){_(this,t)}).\u0275mod=ce({type:hY}),hY.\u0275inj=Ct({factory:function(t){return new(t||hY)},providers:[pY,mY,gY,yY,vY,_Y],imports:[[Bh,NA,bA,SA,ub.forChild(bY)]]}),hY),wY=[{path:"",component:oO,resolve:{pages:MA}},{path:"overview",component:oA,resolve:{pages:MA}},{path:"about",redirectTo:"overview"},{path:"team",component:iA,resolve:{pages:MA}},{path:"disclosure",component:LA,resolve:{pages:MA}},{path:"book",component:rA,resolve:{pages:MA}},{path:"topography",loadChildren:function(){return rN}},{path:"topology",loadChildren:function(){return xY}},{path:"**",redirectTo:""}],kY=y(1),MY=y(2),SY=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"i18n",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".json";_(this,t),this.transferState=e,this.prefix=n,this.suffix=i}return x(t,[{key:"getTranslation",value:function(t){var e=MY.join(__dirname,"../browser/assets/",this.prefix,"".concat(t).concat(this.suffix)),n=JSON.parse(Object(kY.readFileSync)(e,"utf8"));return this.transferState.set("transfer-translate-"+t,n),km(n)}}]),t}(),EY=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/assets/i18n/",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".json";_(this,t),this.http=e,this.prefix=n,this.suffix=i}return x(t,[{key:"getTranslation",value:function(t){return this.http.get("".concat(this.prefix).concat(t).concat(this.suffix))}}]),t}(),LY=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"i18n",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".json";_(this,t),this.transferState=e,this.http=n,this.prefix=i,this.suffix=r}return x(t,[{key:"getTranslation",value:function(t){var e=this.transferState.get("transfer-translate-"+t,null);return e?km(e):new EY(this.http,"./assets/i18n/",".json").getTranslation(t)}}]),t}();function TY(t,e,n){return Hh(n)?new LY(e,t):new SY(e)}var CY,IY,PY,DY=((CY=function(t){d(n,t);var e=p(n);function n(){return _(this,n),e.apply(this,arguments)}return x(n,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig||t.data.reuse}}]),n}(C_)).\u0275fac=function(t){return OY(t||CY)},CY.\u0275prov=Tt({token:CY,factory:CY.\u0275fac}),CY),OY=ci(DY),AY=((IY=function(t){d(n,t);var e=p(n);function n(){var t;return _(this,n),(t=e.apply(this,arguments)).overrides={pinch:{enable:!1},rotate:{enable:!1}},t}return n}(Sd)).\u0275fac=function(t){return RY(t||IY)},IY.\u0275prov=Tt({token:IY,factory:IY.\u0275fac}),IY),RY=ci(AY),NY=((PY=function t(){_(this,t)}).\u0275mod=ce({type:PY,bootstrap:[VC]}),PY.\u0275inj=Ct({factory:function(t){return new(t||PY)},providers:[{provide:C_,useClass:DY},{provide:Md,useClass:AY}],imports:[[Bh,Rd.withServerTransition({appId:"serverApp"}),wm,pg,Cg,Wd,NA.forRoot(),bx.forRoot({loader:{provide:Wb,useFactory:TY,deps:[$m,Vd,Xl]}}),ub.forRoot(wY,{useHash:!1,anchorScrolling:"enabled",relativeLinkResolution:"legacy"})]]}),PY);(function(){if(Mc)throw new Error("Cannot enable prod mode after platform setup.");kc=!1})(),document.addEventListener("DOMContentLoaded",function(){Od().bootstrapModule(NY).catch(function(t){return console.log(t)})})},zx6S:function(t,e,n){!function(t){"use strict";var e={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,i){var r=e.words[i];return 1===i.length?n?r[0]:r[1]:t+" "+e.correctGrammaticalCase(t,r)}};t.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mesec",MM:e.translate,y:"godinu",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n("wd/R"))}},[[0,0]]])}();
//# sourceMappingURL=main-es5.3ef8c4a9e9b5da215907.js.map